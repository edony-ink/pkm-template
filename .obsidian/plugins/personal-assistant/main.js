/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

"use strict";var aR=Object.create;var Mu=Object.defineProperty;var sR=Object.getOwnPropertyDescriptor;var uR=Object.getOwnPropertyNames;var cR=Object.getPrototypeOf,fR=Object.prototype.hasOwnProperty;var Up=t=>{throw TypeError(t)};var hR=(t,e,r)=>e in t?Mu(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var Tu=(t,e)=>()=>(t&&(e=t(t=0)),e);var ae=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),t8=(t,e)=>{for(var r in e)Mu(t,r,{get:e[r],enumerable:!0})},Yp=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of uR(e))!fR.call(t,i)&&i!==r&&Mu(t,i,{get:()=>e[i],enumerable:!(n=sR(e,i))||n.enumerable});return t};var qt=(t,e,r)=>(r=t!=null?aR(cR(t)):{},Yp(e||!t||!t.__esModule?Mu(r,"default",{value:t,enumerable:!0}):r,t)),dR=t=>Yp(Mu({},"__esModule",{value:!0}),t);var Le=(t,e,r)=>hR(t,typeof e!="symbol"?e+"":e,r),Gp=(t,e,r)=>e.has(t)||Up("Cannot "+r);var fr=(t,e,r)=>(Gp(t,e,"read from private field"),r?r.call(t):e.get(t)),Y1=(t,e,r)=>e.has(t)?Up("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),Xn=(t,e,r,n)=>(Gp(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r);var n8=ae((r8,T0)=>{(function(t,e){typeof r8=="object"&&typeof T0!="undefined"?T0.exports=e():typeof define=="function"&&define.amd?define(e):t.moment=e()})(r8,function(){"use strict";var t;function e(){return t.apply(null,arguments)}function r(d){t=d}function n(d){return d instanceof Array||Object.prototype.toString.call(d)==="[object Array]"}function i(d){return d!=null&&Object.prototype.toString.call(d)==="[object Object]"}function l(d,_){return Object.prototype.hasOwnProperty.call(d,_)}function o(d){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(d).length===0;var _;for(_ in d)if(l(d,_))return!1;return!0}function a(d){return d===void 0}function s(d){return typeof d=="number"||Object.prototype.toString.call(d)==="[object Number]"}function u(d){return d instanceof Date||Object.prototype.toString.call(d)==="[object Date]"}function c(d,_){var L=[],z,Y=d.length;for(z=0;z<Y;++z)L.push(_(d[z],z));return L}function f(d,_){for(var L in _)l(_,L)&&(d[L]=_[L]);return l(_,"toString")&&(d.toString=_.toString),l(_,"valueOf")&&(d.valueOf=_.valueOf),d}function h(d,_,L,z){return wo(d,_,L,z,!0).utc()}function g(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function p(d){return d._pf==null&&(d._pf=g()),d._pf}var w;Array.prototype.some?w=Array.prototype.some:w=function(d){var _=Object(this),L=_.length>>>0,z;for(z=0;z<L;z++)if(z in _&&d.call(this,_[z],z,_))return!0;return!1};function b(d){if(d._isValid==null){var _=p(d),L=w.call(_.parsedDateParts,function(Y){return Y!=null}),z=!isNaN(d._d.getTime())&&_.overflow<0&&!_.empty&&!_.invalidEra&&!_.invalidMonth&&!_.invalidWeekday&&!_.weekdayMismatch&&!_.nullInput&&!_.invalidFormat&&!_.userInvalidated&&(!_.meridiem||_.meridiem&&L);if(d._strict&&(z=z&&_.charsLeftOver===0&&_.unusedTokens.length===0&&_.bigHour===void 0),Object.isFrozen==null||!Object.isFrozen(d))d._isValid=z;else return z}return d._isValid}function v(d){var _=h(NaN);return d!=null?f(p(_),d):p(_).userInvalidated=!0,_}var S=e.momentProperties=[],P=!1;function Z(d,_){var L,z,Y,re=S.length;if(a(_._isAMomentObject)||(d._isAMomentObject=_._isAMomentObject),a(_._i)||(d._i=_._i),a(_._f)||(d._f=_._f),a(_._l)||(d._l=_._l),a(_._strict)||(d._strict=_._strict),a(_._tzm)||(d._tzm=_._tzm),a(_._isUTC)||(d._isUTC=_._isUTC),a(_._offset)||(d._offset=_._offset),a(_._pf)||(d._pf=p(_)),a(_._locale)||(d._locale=_._locale),re>0)for(L=0;L<re;L++)z=S[L],Y=_[z],a(Y)||(d[z]=Y);return d}function y(d){Z(this,d),this._d=new Date(d._d!=null?d._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),P===!1&&(P=!0,e.updateOffset(this),P=!1)}function W(d){return d instanceof y||d!=null&&d._isAMomentObject!=null}function X(d){e.suppressDeprecationWarnings===!1&&typeof console!="undefined"&&console.warn&&console.warn("Deprecation warning: "+d)}function x(d,_){var L=!0;return f(function(){if(e.deprecationHandler!=null&&e.deprecationHandler(null,d),L){var z=[],Y,re,fe,Fe=arguments.length;for(re=0;re<Fe;re++){if(Y="",typeof arguments[re]=="object"){Y+=`
[`+re+"] ";for(fe in arguments[0])l(arguments[0],fe)&&(Y+=fe+": "+arguments[0][fe]+", ");Y=Y.slice(0,-2)}else Y=arguments[re];z.push(Y)}X(d+`
Arguments: `+Array.prototype.slice.call(z).join("")+`
`+new Error().stack),L=!1}return _.apply(this,arguments)},_)}var le={};function oe(d,_){e.deprecationHandler!=null&&e.deprecationHandler(d,_),le[d]||(X(_),le[d]=!0)}e.suppressDeprecationWarnings=!1,e.deprecationHandler=null;function $(d){return typeof Function!="undefined"&&d instanceof Function||Object.prototype.toString.call(d)==="[object Function]"}function ee(d){var _,L;for(L in d)l(d,L)&&(_=d[L],$(_)?this[L]=_:this["_"+L]=_);this._config=d,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function ce(d,_){var L=f({},d),z;for(z in _)l(_,z)&&(i(d[z])&&i(_[z])?(L[z]={},f(L[z],d[z]),f(L[z],_[z])):_[z]!=null?L[z]=_[z]:delete L[z]);for(z in d)l(d,z)&&!l(_,z)&&i(d[z])&&(L[z]=f({},L[z]));return L}function Te(d){d!=null&&this.set(d)}var Pe;Object.keys?Pe=Object.keys:Pe=function(d){var _,L=[];for(_ in d)l(d,_)&&L.push(_);return L};var pe={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function et(d,_,L){var z=this._calendar[d]||this._calendar.sameElse;return $(z)?z.call(_,L):z}function we(d,_,L){var z=""+Math.abs(d),Y=_-z.length,re=d>=0;return(re?L?"+":"":"-")+Math.pow(10,Math.max(0,Y)).toString().substr(1)+z}var ye=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Dt=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Rt={},ke={};function ue(d,_,L,z){var Y=z;typeof z=="string"&&(Y=function(){return this[z]()}),d&&(ke[d]=Y),_&&(ke[_[0]]=function(){return we(Y.apply(this,arguments),_[1],_[2])}),L&&(ke[L]=function(){return this.localeData().ordinal(Y.apply(this,arguments),d)})}function Jt(d){return d.match(/\[[\s\S]/)?d.replace(/^\[|\]$/g,""):d.replace(/\\/g,"")}function jt(d){var _=d.match(ye),L,z;for(L=0,z=_.length;L<z;L++)ke[_[L]]?_[L]=ke[_[L]]:_[L]=Jt(_[L]);return function(Y){var re="",fe;for(fe=0;fe<z;fe++)re+=$(_[fe])?_[fe].call(Y,d):_[fe];return re}}function gr(d,_){return d.isValid()?(_=tn(_,d.localeData()),Rt[_]=Rt[_]||jt(_),Rt[_](d)):d.localeData().invalidDate()}function tn(d,_){var L=5;function z(Y){return _.longDateFormat(Y)||Y}for(Dt.lastIndex=0;L>=0&&Dt.test(d);)d=d.replace(Dt,z),Dt.lastIndex=0,L-=1;return d}var Ur={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function mi(d){var _=this._longDateFormat[d],L=this._longDateFormat[d.toUpperCase()];return _||!L?_:(this._longDateFormat[d]=L.match(ye).map(function(z){return z==="MMMM"||z==="MM"||z==="DD"||z==="dddd"?z.slice(1):z}).join(""),this._longDateFormat[d])}var gi="Invalid date";function el(){return this._invalidDate}var uo="%d",_i=/\d{1,2}/;function pi(d){return this._ordinal.replace("%d",d)}var ve={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function la(d,_,L,z){var Y=this._relativeTime[L];return $(Y)?Y(d,_,L,z):Y.replace(/%d/i,d)}function co(d,_){var L=this._relativeTime[d>0?"future":"past"];return $(L)?L(_):L.replace(/%s/i,_)}var Un={};function ar(d,_){var L=d.toLowerCase();Un[L]=Un[L+"s"]=Un[_]=d}function Bt(d){return typeof d=="string"?Un[d]||Un[d.toLowerCase()]:void 0}function rn(d){var _={},L,z;for(z in d)l(d,z)&&(L=Bt(z),L&&(_[L]=d[z]));return _}var c1={};function sr(d,_){c1[d]=_}function js(d){var _=[],L;for(L in d)l(d,L)&&_.push({unit:L,priority:c1[L]});return _.sort(function(z,Y){return z.priority-Y.priority}),_}function tl(d){return d%4===0&&d%100!==0||d%400===0}function kn(d){return d<0?Math.ceil(d)||0:Math.floor(d)}function lt(d){var _=+d,L=0;return _!==0&&isFinite(_)&&(L=kn(_)),L}function rl(d,_){return function(L){return L!=null?(nu(this,d,L),e.updateOffset(this,_),this):qs(this,d)}}function qs(d,_){return d.isValid()?d._d["get"+(d._isUTC?"UTC":"")+_]():NaN}function nu(d,_,L){d.isValid()&&!isNaN(L)&&(_==="FullYear"&&tl(d.year())&&d.month()===1&&d.date()===29?(L=lt(L),d._d["set"+(d._isUTC?"UTC":"")+_](L,d.month(),aa(L,d.month()))):d._d["set"+(d._isUTC?"UTC":"")+_](L))}function F5(d){return d=Bt(d),$(this[d])?this[d]():this}function j5(d,_){if(typeof d=="object"){d=rn(d);var L=js(d),z,Y=L.length;for(z=0;z<Y;z++)this[L[z].unit](d[L[z].unit])}else if(d=Bt(d),$(this[d]))return this[d](_);return this}var Ws=/\d/,Zr=/\d\d/,Us=/\d{3}/,nl=/\d{4}/,oa=/[+-]?\d{6}/,gt=/\d\d?/,O1=/\d\d\d\d?/,iu=/\d\d\d\d\d\d?/,il=/\d{1,3}/,lu=/\d{1,4}/,fo=/[+-]?\d{1,6}/,ll=/\d+/,Ys=/[+-]?\d+/,Qf=/Z|[+-]\d\d:?\d\d/gi,Gs=/Z|[+-]\d\d(?::?\d\d)?/gi,xf=/[+-]?\d+(\.\d{1,3})?/,ho=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,mo;mo={};function Me(d,_,L){mo[d]=$(_)?_:function(z,Y){return z&&L?L:_}}function $f(d,_){return l(mo,d)?mo[d](_._strict,_._locale):new RegExp(Ci(d))}function Ci(d){return Yr(d.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(_,L,z,Y,re){return L||z||Y||re}))}function Yr(d){return d.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var ou={};function Mt(d,_){var L,z=_,Y;for(typeof d=="string"&&(d=[d]),s(_)&&(z=function(re,fe){fe[_]=lt(re)}),Y=d.length,L=0;L<Y;L++)ou[d[L]]=z}function Yn(d,_){Mt(d,function(L,z,Y,re){Y._w=Y._w||{},_(L,Y._w,Y,re)})}function V1(d,_,L){_!=null&&l(ou,d)&&ou[d](_,L._a,L,d)}var xt=0,Gn=1,Mr=2,ur=3,nn=4,f1=5,h1=6,q5=7,W5=8;function U5(d,_){return(d%_+_)%_}var $t;Array.prototype.indexOf?$t=Array.prototype.indexOf:$t=function(d){var _;for(_=0;_<this.length;++_)if(this[_]===d)return _;return-1};function aa(d,_){if(isNaN(d)||isNaN(_))return NaN;var L=U5(_,12);return d+=(_-L)/12,L===1?tl(d)?29:28:31-L%7%2}ue("M",["MM",2],"Mo",function(){return this.month()+1}),ue("MMM",0,0,function(d){return this.localeData().monthsShort(this,d)}),ue("MMMM",0,0,function(d){return this.localeData().months(this,d)}),ar("month","M"),sr("month",8),Me("M",gt),Me("MM",gt,Zr),Me("MMM",function(d,_){return _.monthsShortRegex(d)}),Me("MMMM",function(d,_){return _.monthsRegex(d)}),Mt(["M","MM"],function(d,_){_[Gn]=lt(d)-1}),Mt(["MMM","MMMM"],function(d,_,L,z){var Y=L._locale.monthsParse(d,z,L._strict);Y!=null?_[Gn]=Y:p(L).invalidMonth=d});var au="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Js="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Y5=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,eh=ho,th=ho;function rh(d,_){return d?n(this._months)?this._months[d.month()]:this._months[(this._months.isFormat||Y5).test(_)?"format":"standalone"][d.month()]:n(this._months)?this._months:this._months.standalone}function G5(d,_){return d?n(this._monthsShort)?this._monthsShort[d.month()]:this._monthsShort[Y5.test(_)?"format":"standalone"][d.month()]:n(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function go(d,_,L){var z,Y,re,fe=d.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],z=0;z<12;++z)re=h([2e3,z]),this._shortMonthsParse[z]=this.monthsShort(re,"").toLocaleLowerCase(),this._longMonthsParse[z]=this.months(re,"").toLocaleLowerCase();return L?_==="MMM"?(Y=$t.call(this._shortMonthsParse,fe),Y!==-1?Y:null):(Y=$t.call(this._longMonthsParse,fe),Y!==-1?Y:null):_==="MMM"?(Y=$t.call(this._shortMonthsParse,fe),Y!==-1?Y:(Y=$t.call(this._longMonthsParse,fe),Y!==-1?Y:null)):(Y=$t.call(this._longMonthsParse,fe),Y!==-1?Y:(Y=$t.call(this._shortMonthsParse,fe),Y!==-1?Y:null))}function nh(d,_,L){var z,Y,re;if(this._monthsParseExact)return go.call(this,d,_,L);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),z=0;z<12;z++){if(Y=h([2e3,z]),L&&!this._longMonthsParse[z]&&(this._longMonthsParse[z]=new RegExp("^"+this.months(Y,"").replace(".","")+"$","i"),this._shortMonthsParse[z]=new RegExp("^"+this.monthsShort(Y,"").replace(".","")+"$","i")),!L&&!this._monthsParse[z]&&(re="^"+this.months(Y,"")+"|^"+this.monthsShort(Y,""),this._monthsParse[z]=new RegExp(re.replace(".",""),"i")),L&&_==="MMMM"&&this._longMonthsParse[z].test(d))return z;if(L&&_==="MMM"&&this._shortMonthsParse[z].test(d))return z;if(!L&&this._monthsParse[z].test(d))return z}}function sa(d,_){var L;if(!d.isValid())return d;if(typeof _=="string"){if(/^\d+$/.test(_))_=lt(_);else if(_=d.localeData().monthsParse(_),!s(_))return d}return L=Math.min(d.date(),aa(d.year(),_)),d._d["set"+(d._isUTC?"UTC":"")+"Month"](_,L),d}function _o(d){return d!=null?(sa(this,d),e.updateOffset(this,!0),this):qs(this,"Month")}function Ks(){return aa(this.year(),this.month())}function yn(d){return this._monthsParseExact?(l(this,"_monthsRegex")||Xs.call(this),d?this._monthsShortStrictRegex:this._monthsShortRegex):(l(this,"_monthsShortRegex")||(this._monthsShortRegex=eh),this._monthsShortStrictRegex&&d?this._monthsShortStrictRegex:this._monthsShortRegex)}function J5(d){return this._monthsParseExact?(l(this,"_monthsRegex")||Xs.call(this),d?this._monthsStrictRegex:this._monthsRegex):(l(this,"_monthsRegex")||(this._monthsRegex=th),this._monthsStrictRegex&&d?this._monthsStrictRegex:this._monthsRegex)}function Xs(){function d(fe,Fe){return Fe.length-fe.length}var _=[],L=[],z=[],Y,re;for(Y=0;Y<12;Y++)re=h([2e3,Y]),_.push(this.monthsShort(re,"")),L.push(this.months(re,"")),z.push(this.months(re,"")),z.push(this.monthsShort(re,""));for(_.sort(d),L.sort(d),z.sort(d),Y=0;Y<12;Y++)_[Y]=Yr(_[Y]),L[Y]=Yr(L[Y]);for(Y=0;Y<24;Y++)z[Y]=Yr(z[Y]);this._monthsRegex=new RegExp("^("+z.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+L.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+_.join("|")+")","i")}ue("Y",0,0,function(){var d=this.year();return d<=9999?we(d,4):"+"+d}),ue(0,["YY",2],0,function(){return this.year()%100}),ue(0,["YYYY",4],0,"year"),ue(0,["YYYYY",5],0,"year"),ue(0,["YYYYYY",6,!0],0,"year"),ar("year","y"),sr("year",1),Me("Y",Ys),Me("YY",gt,Zr),Me("YYYY",lu,nl),Me("YYYYY",fo,oa),Me("YYYYYY",fo,oa),Mt(["YYYYY","YYYYYY"],xt),Mt("YYYY",function(d,_){_[xt]=d.length===2?e.parseTwoDigitYear(d):lt(d)}),Mt("YY",function(d,_){_[xt]=e.parseTwoDigitYear(d)}),Mt("Y",function(d,_){_[xt]=parseInt(d,10)});function po(d){return tl(d)?366:365}e.parseTwoDigitYear=function(d){return lt(d)+(lt(d)>68?1900:2e3)};var ua=rl("FullYear",!0);function Qs(){return tl(this.year())}function K5(d,_,L,z,Y,re,fe){var Fe;return d<100&&d>=0?(Fe=new Date(d+400,_,L,z,Y,re,fe),isFinite(Fe.getFullYear())&&Fe.setFullYear(d)):Fe=new Date(d,_,L,z,Y,re,fe),Fe}function ca(d){var _,L;return d<100&&d>=0?(L=Array.prototype.slice.call(arguments),L[0]=d+400,_=new Date(Date.UTC.apply(null,L)),isFinite(_.getUTCFullYear())&&_.setUTCFullYear(d)):_=new Date(Date.UTC.apply(null,arguments)),_}function xs(d,_,L){var z=7+_-L,Y=(7+ca(d,0,z).getUTCDay()-_)%7;return-Y+z-1}function $s(d,_,L,z,Y){var re=(7+L-z)%7,fe=xs(d,z,Y),Fe=1+7*(_-1)+re+fe,at,Zt;return Fe<=0?(at=d-1,Zt=po(at)+Fe):Fe>po(d)?(at=d+1,Zt=Fe-po(d)):(at=d,Zt=Fe),{year:at,dayOfYear:Zt}}function Z1(d,_,L){var z=xs(d.year(),_,L),Y=Math.floor((d.dayOfYear()-z-1)/7)+1,re,fe;return Y<1?(fe=d.year()-1,re=Y+I1(fe,_,L)):Y>I1(d.year(),_,L)?(re=Y-I1(d.year(),_,L),fe=d.year()+1):(fe=d.year(),re=Y),{week:re,year:fe}}function I1(d,_,L){var z=xs(d,_,L),Y=xs(d+1,_,L);return(po(d)-z+Y)/7}ue("w",["ww",2],"wo","week"),ue("W",["WW",2],"Wo","isoWeek"),ar("week","w"),ar("isoWeek","W"),sr("week",5),sr("isoWeek",5),Me("w",gt),Me("ww",gt,Zr),Me("W",gt),Me("WW",gt,Zr),Yn(["w","ww","W","WW"],function(d,_,L,z){_[z.substr(0,1)]=lt(d)});function ih(d){return Z1(d,this._week.dow,this._week.doy).week}var lh={dow:0,doy:6};function X5(){return this._week.dow}function Q5(){return this._week.doy}function oh(d){var _=this.localeData().week(this);return d==null?_:this.add((d-_)*7,"d")}function x5(d){var _=Z1(this,1,4).week;return d==null?_:this.add((d-_)*7,"d")}ue("d",0,"do","day"),ue("dd",0,0,function(d){return this.localeData().weekdaysMin(this,d)}),ue("ddd",0,0,function(d){return this.localeData().weekdaysShort(this,d)}),ue("dddd",0,0,function(d){return this.localeData().weekdays(this,d)}),ue("e",0,0,"weekday"),ue("E",0,0,"isoWeekday"),ar("day","d"),ar("weekday","e"),ar("isoWeekday","E"),sr("day",11),sr("weekday",11),sr("isoWeekday",11),Me("d",gt),Me("e",gt),Me("E",gt),Me("dd",function(d,_){return _.weekdaysMinRegex(d)}),Me("ddd",function(d,_){return _.weekdaysShortRegex(d)}),Me("dddd",function(d,_){return _.weekdaysRegex(d)}),Yn(["dd","ddd","dddd"],function(d,_,L,z){var Y=L._locale.weekdaysParse(d,z,L._strict);Y!=null?_.d=Y:p(L).invalidWeekday=d}),Yn(["d","e","E"],function(d,_,L,z){_[z]=lt(d)});function su(d,_){return typeof d!="string"?d:isNaN(d)?(d=_.weekdaysParse(d),typeof d=="number"?d:null):parseInt(d,10)}function bi(d,_){return typeof d=="string"?_.weekdaysParse(d)%7||7:isNaN(d)?null:d}function D1(d,_){return d.slice(_,7).concat(d.slice(0,_))}var $5="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),e3="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),t3="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),e0=ho,fa=ho,t0=ho;function r0(d,_){var L=n(this._weekdays)?this._weekdays:this._weekdays[d&&d!==!0&&this._weekdays.isFormat.test(_)?"format":"standalone"];return d===!0?D1(L,this._week.dow):d?L[d.day()]:L}function ah(d){return d===!0?D1(this._weekdaysShort,this._week.dow):d?this._weekdaysShort[d.day()]:this._weekdaysShort}function sh(d){return d===!0?D1(this._weekdaysMin,this._week.dow):d?this._weekdaysMin[d.day()]:this._weekdaysMin}function uh(d,_,L){var z,Y,re,fe=d.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],z=0;z<7;++z)re=h([2e3,1]).day(z),this._minWeekdaysParse[z]=this.weekdaysMin(re,"").toLocaleLowerCase(),this._shortWeekdaysParse[z]=this.weekdaysShort(re,"").toLocaleLowerCase(),this._weekdaysParse[z]=this.weekdays(re,"").toLocaleLowerCase();return L?_==="dddd"?(Y=$t.call(this._weekdaysParse,fe),Y!==-1?Y:null):_==="ddd"?(Y=$t.call(this._shortWeekdaysParse,fe),Y!==-1?Y:null):(Y=$t.call(this._minWeekdaysParse,fe),Y!==-1?Y:null):_==="dddd"?(Y=$t.call(this._weekdaysParse,fe),Y!==-1||(Y=$t.call(this._shortWeekdaysParse,fe),Y!==-1)?Y:(Y=$t.call(this._minWeekdaysParse,fe),Y!==-1?Y:null)):_==="ddd"?(Y=$t.call(this._shortWeekdaysParse,fe),Y!==-1||(Y=$t.call(this._weekdaysParse,fe),Y!==-1)?Y:(Y=$t.call(this._minWeekdaysParse,fe),Y!==-1?Y:null)):(Y=$t.call(this._minWeekdaysParse,fe),Y!==-1||(Y=$t.call(this._weekdaysParse,fe),Y!==-1)?Y:(Y=$t.call(this._shortWeekdaysParse,fe),Y!==-1?Y:null))}function ch(d,_,L){var z,Y,re;if(this._weekdaysParseExact)return uh.call(this,d,_,L);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),z=0;z<7;z++){if(Y=h([2e3,1]).day(z),L&&!this._fullWeekdaysParse[z]&&(this._fullWeekdaysParse[z]=new RegExp("^"+this.weekdays(Y,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[z]=new RegExp("^"+this.weekdaysShort(Y,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[z]=new RegExp("^"+this.weekdaysMin(Y,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[z]||(re="^"+this.weekdays(Y,"")+"|^"+this.weekdaysShort(Y,"")+"|^"+this.weekdaysMin(Y,""),this._weekdaysParse[z]=new RegExp(re.replace(".",""),"i")),L&&_==="dddd"&&this._fullWeekdaysParse[z].test(d))return z;if(L&&_==="ddd"&&this._shortWeekdaysParse[z].test(d))return z;if(L&&_==="dd"&&this._minWeekdaysParse[z].test(d))return z;if(!L&&this._weekdaysParse[z].test(d))return z}}function fh(d){if(!this.isValid())return d!=null?this:NaN;var _=this._isUTC?this._d.getUTCDay():this._d.getDay();return d!=null?(d=su(d,this.localeData()),this.add(d-_,"d")):_}function hh(d){if(!this.isValid())return d!=null?this:NaN;var _=(this.day()+7-this.localeData()._week.dow)%7;return d==null?_:this.add(d-_,"d")}function r3(d){if(!this.isValid())return d!=null?this:NaN;if(d!=null){var _=bi(d,this.localeData());return this.day(this.day()%7?_:_-7)}else return this.day()||7}function dh(d){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||d1.call(this),d?this._weekdaysStrictRegex:this._weekdaysRegex):(l(this,"_weekdaysRegex")||(this._weekdaysRegex=e0),this._weekdaysStrictRegex&&d?this._weekdaysStrictRegex:this._weekdaysRegex)}function mh(d){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||d1.call(this),d?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(l(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=fa),this._weekdaysShortStrictRegex&&d?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function gh(d){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||d1.call(this),d?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(l(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=t0),this._weekdaysMinStrictRegex&&d?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function d1(){function d(on,bl){return bl.length-on.length}var _=[],L=[],z=[],Y=[],re,fe,Fe,at,Zt;for(re=0;re<7;re++)fe=h([2e3,1]).day(re),Fe=Yr(this.weekdaysMin(fe,"")),at=Yr(this.weekdaysShort(fe,"")),Zt=Yr(this.weekdays(fe,"")),_.push(Fe),L.push(at),z.push(Zt),Y.push(Fe),Y.push(at),Y.push(Zt);_.sort(d),L.sort(d),z.sort(d),Y.sort(d),this._weekdaysRegex=new RegExp("^("+Y.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+z.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+L.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+_.join("|")+")","i")}function n0(){return this.hours()%12||12}function _h(){return this.hours()||24}ue("H",["HH",2],0,"hour"),ue("h",["hh",2],0,n0),ue("k",["kk",2],0,_h),ue("hmm",0,0,function(){return""+n0.apply(this)+we(this.minutes(),2)}),ue("hmmss",0,0,function(){return""+n0.apply(this)+we(this.minutes(),2)+we(this.seconds(),2)}),ue("Hmm",0,0,function(){return""+this.hours()+we(this.minutes(),2)}),ue("Hmmss",0,0,function(){return""+this.hours()+we(this.minutes(),2)+we(this.seconds(),2)});function uu(d,_){ue(d,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),_)})}uu("a",!0),uu("A",!1),ar("hour","h"),sr("hour",13);function ol(d,_){return _._meridiemParse}Me("a",ol),Me("A",ol),Me("H",gt),Me("h",gt),Me("k",gt),Me("HH",gt,Zr),Me("hh",gt,Zr),Me("kk",gt,Zr),Me("hmm",O1),Me("hmmss",iu),Me("Hmm",O1),Me("Hmmss",iu),Mt(["H","HH"],ur),Mt(["k","kk"],function(d,_,L){var z=lt(d);_[ur]=z===24?0:z}),Mt(["a","A"],function(d,_,L){L._isPm=L._locale.isPM(d),L._meridiem=d}),Mt(["h","hh"],function(d,_,L){_[ur]=lt(d),p(L).bigHour=!0}),Mt("hmm",function(d,_,L){var z=d.length-2;_[ur]=lt(d.substr(0,z)),_[nn]=lt(d.substr(z)),p(L).bigHour=!0}),Mt("hmmss",function(d,_,L){var z=d.length-4,Y=d.length-2;_[ur]=lt(d.substr(0,z)),_[nn]=lt(d.substr(z,2)),_[f1]=lt(d.substr(Y)),p(L).bigHour=!0}),Mt("Hmm",function(d,_,L){var z=d.length-2;_[ur]=lt(d.substr(0,z)),_[nn]=lt(d.substr(z))}),Mt("Hmmss",function(d,_,L){var z=d.length-4,Y=d.length-2;_[ur]=lt(d.substr(0,z)),_[nn]=lt(d.substr(z,2)),_[f1]=lt(d.substr(Y))});function Co(d){return(d+"").toLowerCase().charAt(0)==="p"}var i0=/[ap]\.?m?\.?/i,n3=rl("Hours",!0);function ph(d,_,L){return d>11?L?"pm":"PM":L?"am":"AM"}var l0={calendar:pe,longDateFormat:Ur,invalidDate:gi,ordinal:uo,dayOfMonthOrdinalParse:_i,relativeTime:ve,months:au,monthsShort:Js,week:lh,weekdays:$5,weekdaysMin:t3,weekdaysShort:e3,meridiemParse:i0},Ot={},al={},ha;function Ch(d,_){var L,z=Math.min(d.length,_.length);for(L=0;L<z;L+=1)if(d[L]!==_[L])return L;return z}function i3(d){return d&&d.toLowerCase().replace("_","-")}function bh(d){for(var _=0,L,z,Y,re;_<d.length;){for(re=i3(d[_]).split("-"),L=re.length,z=i3(d[_+1]),z=z?z.split("-"):null;L>0;){if(Y=o0(re.slice(0,L).join("-")),Y)return Y;if(z&&z.length>=L&&Ch(re,z)>=L-1)break;L--}_++}return ha}function m1(d){return d.match("^[^/\\\\]*$")!=null}function o0(d){var _=null,L;if(Ot[d]===void 0&&typeof T0!="undefined"&&T0&&T0.exports&&m1(d))try{_=ha._abbr,L=require,L("./locale/"+d),vi(_)}catch(z){Ot[d]=null}return Ot[d]}function vi(d,_){var L;return d&&(a(_)?L=Jn(d):L=cu(d,_),L?ha=L:typeof console!="undefined"&&console.warn&&console.warn("Locale "+d+" not found. Did you forget to load it?")),ha._abbr}function cu(d,_){if(_!==null){var L,z=l0;if(_.abbr=d,Ot[d]!=null)oe("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),z=Ot[d]._config;else if(_.parentLocale!=null)if(Ot[_.parentLocale]!=null)z=Ot[_.parentLocale]._config;else if(L=o0(_.parentLocale),L!=null)z=L._config;else return al[_.parentLocale]||(al[_.parentLocale]=[]),al[_.parentLocale].push({name:d,config:_}),null;return Ot[d]=new Te(ce(z,_)),al[d]&&al[d].forEach(function(Y){cu(Y.name,Y.config)}),vi(d),Ot[d]}else return delete Ot[d],null}function a0(d,_){if(_!=null){var L,z,Y=l0;Ot[d]!=null&&Ot[d].parentLocale!=null?Ot[d].set(ce(Ot[d]._config,_)):(z=o0(d),z!=null&&(Y=z._config),_=ce(Y,_),z==null&&(_.abbr=d),L=new Te(_),L.parentLocale=Ot[d],Ot[d]=L),vi(d)}else Ot[d]!=null&&(Ot[d].parentLocale!=null?(Ot[d]=Ot[d].parentLocale,d===vi()&&vi(d)):Ot[d]!=null&&delete Ot[d]);return Ot[d]}function Jn(d){var _;if(d&&d._locale&&d._locale._abbr&&(d=d._locale._abbr),!d)return ha;if(!n(d)){if(_=o0(d),_)return _;d=[d]}return bh(d)}function N1(){return Pe(Ot)}function F1(d){var _,L=d._a;return L&&p(d).overflow===-2&&(_=L[Gn]<0||L[Gn]>11?Gn:L[Mr]<1||L[Mr]>aa(L[xt],L[Gn])?Mr:L[ur]<0||L[ur]>24||L[ur]===24&&(L[nn]!==0||L[f1]!==0||L[h1]!==0)?ur:L[nn]<0||L[nn]>59?nn:L[f1]<0||L[f1]>59?f1:L[h1]<0||L[h1]>999?h1:-1,p(d)._overflowDayOfYear&&(_<xt||_>Mr)&&(_=Mr),p(d)._overflowWeeks&&_===-1&&(_=q5),p(d)._overflowWeekday&&_===-1&&(_=W5),p(d).overflow=_),d}var vh=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,l3=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,wh=/Z|[+-]\d\d(?::?\d\d)?/,s0=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],u0=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],kh=/^\/?Date\((-?\d+)/i,o3=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,a3={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function fu(d){var _,L,z=d._i,Y=vh.exec(z)||l3.exec(z),re,fe,Fe,at,Zt=s0.length,on=u0.length;if(Y){for(p(d).iso=!0,_=0,L=Zt;_<L;_++)if(s0[_][1].exec(Y[1])){fe=s0[_][0],re=s0[_][2]!==!1;break}if(fe==null){d._isValid=!1;return}if(Y[3]){for(_=0,L=on;_<L;_++)if(u0[_][1].exec(Y[3])){Fe=(Y[2]||" ")+u0[_][0];break}if(Fe==null){d._isValid=!1;return}}if(!re&&Fe!=null){d._isValid=!1;return}if(Y[4])if(wh.exec(Y[4]))at="Z";else{d._isValid=!1;return}d._f=fe+(Fe||"")+(at||""),du(d)}else d._isValid=!1}function bo(d,_,L,z,Y,re){var fe=[hu(d),Js.indexOf(_),parseInt(L,10),parseInt(z,10),parseInt(Y,10)];return re&&fe.push(parseInt(re,10)),fe}function hu(d){var _=parseInt(d,10);return _<=49?2e3+_:_<=999?1900+_:_}function s3(d){return d.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function yh(d,_,L){if(d){var z=e3.indexOf(d),Y=new Date(_[0],_[1],_[2]).getDay();if(z!==Y)return p(L).weekdayMismatch=!0,L._isValid=!1,!1}return!0}function c0(d,_,L){if(d)return a3[d];if(_)return 0;var z=parseInt(L,10),Y=z%100,re=(z-Y)/100;return re*60+Y}function u3(d){var _=o3.exec(s3(d._i)),L;if(_){if(L=bo(_[4],_[3],_[2],_[5],_[6],_[7]),!yh(_[1],L,d))return;d._a=L,d._tzm=c0(_[8],_[9],_[10]),d._d=ca.apply(null,d._a),d._d.setUTCMinutes(d._d.getUTCMinutes()-d._tzm),p(d).rfc2822=!0}else d._isValid=!1}function Lh(d){var _=kh.exec(d._i);if(_!==null){d._d=new Date(+_[1]);return}if(fu(d),d._isValid===!1)delete d._isValid;else return;if(u3(d),d._isValid===!1)delete d._isValid;else return;d._strict?d._isValid=!1:e.createFromInputFallback(d)}e.createFromInputFallback=x("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(d){d._d=new Date(d._i+(d._useUTC?" UTC":""))});function sl(d,_,L){return d!=null?d:_!=null?_:L}function Eh(d){var _=new Date(e.now());return d._useUTC?[_.getUTCFullYear(),_.getUTCMonth(),_.getUTCDate()]:[_.getFullYear(),_.getMonth(),_.getDate()]}function vo(d){var _,L,z=[],Y,re,fe;if(!d._d){for(Y=Eh(d),d._w&&d._a[Mr]==null&&d._a[Gn]==null&&da(d),d._dayOfYear!=null&&(fe=sl(d._a[xt],Y[xt]),(d._dayOfYear>po(fe)||d._dayOfYear===0)&&(p(d)._overflowDayOfYear=!0),L=ca(fe,0,d._dayOfYear),d._a[Gn]=L.getUTCMonth(),d._a[Mr]=L.getUTCDate()),_=0;_<3&&d._a[_]==null;++_)d._a[_]=z[_]=Y[_];for(;_<7;_++)d._a[_]=z[_]=d._a[_]==null?_===2?1:0:d._a[_];d._a[ur]===24&&d._a[nn]===0&&d._a[f1]===0&&d._a[h1]===0&&(d._nextDay=!0,d._a[ur]=0),d._d=(d._useUTC?ca:K5).apply(null,z),re=d._useUTC?d._d.getUTCDay():d._d.getDay(),d._tzm!=null&&d._d.setUTCMinutes(d._d.getUTCMinutes()-d._tzm),d._nextDay&&(d._a[ur]=24),d._w&&typeof d._w.d!="undefined"&&d._w.d!==re&&(p(d).weekdayMismatch=!0)}}function da(d){var _,L,z,Y,re,fe,Fe,at,Zt;_=d._w,_.GG!=null||_.W!=null||_.E!=null?(re=1,fe=4,L=sl(_.GG,d._a[xt],Z1(Tt(),1,4).year),z=sl(_.W,1),Y=sl(_.E,1),(Y<1||Y>7)&&(at=!0)):(re=d._locale._week.dow,fe=d._locale._week.doy,Zt=Z1(Tt(),re,fe),L=sl(_.gg,d._a[xt],Zt.year),z=sl(_.w,Zt.week),_.d!=null?(Y=_.d,(Y<0||Y>6)&&(at=!0)):_.e!=null?(Y=_.e+re,(_.e<0||_.e>6)&&(at=!0)):Y=re),z<1||z>I1(L,re,fe)?p(d)._overflowWeeks=!0:at!=null?p(d)._overflowWeekday=!0:(Fe=$s(L,z,Y,re,fe),d._a[xt]=Fe.year,d._dayOfYear=Fe.dayOfYear)}e.ISO_8601=function(){},e.RFC_2822=function(){};function du(d){if(d._f===e.ISO_8601){fu(d);return}if(d._f===e.RFC_2822){u3(d);return}d._a=[],p(d).empty=!0;var _=""+d._i,L,z,Y,re,fe,Fe=_.length,at=0,Zt,on;for(Y=tn(d._f,d._locale).match(ye)||[],on=Y.length,L=0;L<on;L++)re=Y[L],z=(_.match($f(re,d))||[])[0],z&&(fe=_.substr(0,_.indexOf(z)),fe.length>0&&p(d).unusedInput.push(fe),_=_.slice(_.indexOf(z)+z.length),at+=z.length),ke[re]?(z?p(d).empty=!1:p(d).unusedTokens.push(re),V1(re,z,d)):d._strict&&!z&&p(d).unusedTokens.push(re);p(d).charsLeftOver=Fe-at,_.length>0&&p(d).unusedInput.push(_),d._a[ur]<=12&&p(d).bigHour===!0&&d._a[ur]>0&&(p(d).bigHour=void 0),p(d).parsedDateParts=d._a.slice(0),p(d).meridiem=d._meridiem,d._a[ur]=Sh(d._locale,d._a[ur],d._meridiem),Zt=p(d).era,Zt!==null&&(d._a[xt]=d._locale.erasConvertYear(Zt,d._a[xt])),vo(d),F1(d)}function Sh(d,_,L){var z;return L==null?_:d.meridiemHour!=null?d.meridiemHour(_,L):(d.isPM!=null&&(z=d.isPM(L),z&&_<12&&(_+=12),!z&&_===12&&(_=0)),_)}function mu(d){var _,L,z,Y,re,fe,Fe=!1,at=d._f.length;if(at===0){p(d).invalidFormat=!0,d._d=new Date(NaN);return}for(Y=0;Y<at;Y++)re=0,fe=!1,_=Z({},d),d._useUTC!=null&&(_._useUTC=d._useUTC),_._f=d._f[Y],du(_),b(_)&&(fe=!0),re+=p(_).charsLeftOver,re+=p(_).unusedTokens.length*10,p(_).score=re,Fe?re<z&&(z=re,L=_):(z==null||re<z||fe)&&(z=re,L=_,fe&&(Fe=!0));f(d,L||_)}function c3(d){if(!d._d){var _=rn(d._i),L=_.day===void 0?_.date:_.day;d._a=c([_.year,_.month,L,_.hour,_.minute,_.second,_.millisecond],function(z){return z&&parseInt(z,10)}),vo(d)}}function f0(d){var _=new y(F1(h0(d)));return _._nextDay&&(_.add(1,"d"),_._nextDay=void 0),_}function h0(d){var _=d._i,L=d._f;return d._locale=d._locale||Jn(d._l),_===null||L===void 0&&_===""?v({nullInput:!0}):(typeof _=="string"&&(d._i=_=d._locale.preparse(_)),W(_)?new y(F1(_)):(u(_)?d._d=_:n(L)?mu(d):L?du(d):ul(d),b(d)||(d._d=null),d))}function ul(d){var _=d._i;a(_)?d._d=new Date(e.now()):u(_)?d._d=new Date(_.valueOf()):typeof _=="string"?Lh(d):n(_)?(d._a=c(_.slice(0),function(L){return parseInt(L,10)}),vo(d)):i(_)?c3(d):s(_)?d._d=new Date(_):e.createFromInputFallback(d)}function wo(d,_,L,z,Y){var re={};return(_===!0||_===!1)&&(z=_,_=void 0),(L===!0||L===!1)&&(z=L,L=void 0),(i(d)&&o(d)||n(d)&&d.length===0)&&(d=void 0),re._isAMomentObject=!0,re._useUTC=re._isUTC=Y,re._l=L,re._i=d,re._f=_,re._strict=z,f0(re)}function Tt(d,_,L,z){return wo(d,_,L,z,!1)}var f3=x("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var d=Tt.apply(null,arguments);return this.isValid()&&d.isValid()?d<this?this:d:v()}),Mh=x("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var d=Tt.apply(null,arguments);return this.isValid()&&d.isValid()?d>this?this:d:v()});function d0(d,_){var L,z;if(_.length===1&&n(_[0])&&(_=_[0]),!_.length)return Tt();for(L=_[0],z=1;z<_.length;++z)(!_[z].isValid()||_[z][d](L))&&(L=_[z]);return L}function Th(){var d=[].slice.call(arguments,0);return d0("isBefore",d)}function h3(){var d=[].slice.call(arguments,0);return d0("isAfter",d)}var m0=function(){return Date.now?Date.now():+new Date},cl=["year","quarter","month","week","day","hour","minute","second","millisecond"];function d3(d){var _,L=!1,z,Y=cl.length;for(_ in d)if(l(d,_)&&!($t.call(cl,_)!==-1&&(d[_]==null||!isNaN(d[_]))))return!1;for(z=0;z<Y;++z)if(d[cl[z]]){if(L)return!1;parseFloat(d[cl[z]])!==lt(d[cl[z]])&&(L=!0)}return!0}function m3(){return this._isValid}function zh(){return Gr(NaN)}function g0(d){var _=rn(d),L=_.year||0,z=_.quarter||0,Y=_.month||0,re=_.week||_.isoWeek||0,fe=_.day||0,Fe=_.hour||0,at=_.minute||0,Zt=_.second||0,on=_.millisecond||0;this._isValid=d3(_),this._milliseconds=+on+Zt*1e3+at*6e4+Fe*1e3*60*60,this._days=+fe+re*7,this._months=+Y+z*3+L*12,this._data={},this._locale=Jn(),this._bubble()}function ko(d){return d instanceof g0}function gu(d){return d<0?Math.round(-1*d)*-1:Math.round(d)}function _u(d,_,L){var z=Math.min(d.length,_.length),Y=Math.abs(d.length-_.length),re=0,fe;for(fe=0;fe<z;fe++)(L&&d[fe]!==_[fe]||!L&&lt(d[fe])!==lt(_[fe]))&&re++;return re+Y}function g3(d,_){ue(d,0,0,function(){var L=this.utcOffset(),z="+";return L<0&&(L=-L,z="-"),z+we(~~(L/60),2)+_+we(~~L%60,2)})}g3("Z",":"),g3("ZZ",""),Me("Z",Gs),Me("ZZ",Gs),Mt(["Z","ZZ"],function(d,_,L){L._useUTC=!0,L._tzm=pu(Gs,d)});var Hh=/([\+\-]|\d\d)/gi;function pu(d,_){var L=(_||"").match(d),z,Y,re;return L===null?null:(z=L[L.length-1]||[],Y=(z+"").match(Hh)||["-",0,0],re=+(Y[1]*60)+lt(Y[2]),re===0?0:Y[0]==="+"?re:-re)}function Cu(d,_){var L,z;return _._isUTC?(L=_.clone(),z=(W(d)||u(d)?d.valueOf():Tt(d).valueOf())-L.valueOf(),L._d.setTime(L._d.valueOf()+z),e.updateOffset(L,!1),L):Tt(d).local()}function _0(d){return-Math.round(d._d.getTimezoneOffset())}e.updateOffset=function(){};function j1(d,_,L){var z=this._offset||0,Y;if(!this.isValid())return d!=null?this:NaN;if(d!=null){if(typeof d=="string"){if(d=pu(Gs,d),d===null)return this}else Math.abs(d)<16&&!L&&(d=d*60);return!this._isUTC&&_&&(Y=_0(this)),this._offset=d,this._isUTC=!0,Y!=null&&this.add(Y,"m"),z!==d&&(!_||this._changeInProgress?v3(this,Gr(d-z,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,e.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?z:_0(this)}function p0(d,_){return d!=null?(typeof d!="string"&&(d=-d),this.utcOffset(d,_),this):-this.utcOffset()}function ma(d){return this.utcOffset(0,d)}function _3(d){return this._isUTC&&(this.utcOffset(0,d),this._isUTC=!1,d&&this.subtract(_0(this),"m")),this}function C0(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var d=pu(Qf,this._i);d!=null?this.utcOffset(d):this.utcOffset(0,!0)}return this}function fl(d){return this.isValid()?(d=d?Tt(d).utcOffset():0,(this.utcOffset()-d)%60===0):!1}function yo(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Kn(){if(!a(this._isDSTShifted))return this._isDSTShifted;var d={},_;return Z(d,this),d=h0(d),d._a?(_=d._isUTC?h(d._a):Tt(d._a),this._isDSTShifted=this.isValid()&&_u(d._a,_.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function bu(){return this.isValid()?!this._isUTC:!1}function Ph(){return this.isValid()?this._isUTC:!1}function hl(){return this.isValid()?this._isUTC&&this._offset===0:!1}var p3=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Ah=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Gr(d,_){var L=d,z=null,Y,re,fe;return ko(d)?L={ms:d._milliseconds,d:d._days,M:d._months}:s(d)||!isNaN(+d)?(L={},_?L[_]=+d:L.milliseconds=+d):(z=p3.exec(d))?(Y=z[1]==="-"?-1:1,L={y:0,d:lt(z[Mr])*Y,h:lt(z[ur])*Y,m:lt(z[nn])*Y,s:lt(z[f1])*Y,ms:lt(gu(z[h1]*1e3))*Y}):(z=Ah.exec(d))?(Y=z[1]==="-"?-1:1,L={y:dl(z[2],Y),M:dl(z[3],Y),w:dl(z[4],Y),d:dl(z[5],Y),h:dl(z[6],Y),m:dl(z[7],Y),s:dl(z[8],Y)}):L==null?L={}:typeof L=="object"&&("from"in L||"to"in L)&&(fe=Rh(Tt(L.from),Tt(L.to)),L={},L.ms=fe.milliseconds,L.M=fe.months),re=new g0(L),ko(d)&&l(d,"_locale")&&(re._locale=d._locale),ko(d)&&l(d,"_isValid")&&(re._isValid=d._isValid),re}Gr.fn=g0.prototype,Gr.invalid=zh;function dl(d,_){var L=d&&parseFloat(d.replace(",","."));return(isNaN(L)?0:L)*_}function C3(d,_){var L={};return L.months=_.month()-d.month()+(_.year()-d.year())*12,d.clone().add(L.months,"M").isAfter(_)&&--L.months,L.milliseconds=+_-+d.clone().add(L.months,"M"),L}function Rh(d,_){var L;return d.isValid()&&_.isValid()?(_=Cu(_,d),d.isBefore(_)?L=C3(d,_):(L=C3(_,d),L.milliseconds=-L.milliseconds,L.months=-L.months),L):{milliseconds:0,months:0}}function b3(d,_){return function(L,z){var Y,re;return z!==null&&!isNaN(+z)&&(oe(_,"moment()."+_+"(period, number) is deprecated. Please use moment()."+_+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),re=L,L=z,z=re),Y=Gr(L,z),v3(this,Y,d),this}}function v3(d,_,L,z){var Y=_._milliseconds,re=gu(_._days),fe=gu(_._months);d.isValid()&&(z=z==null?!0:z,fe&&sa(d,qs(d,"Month")+fe*L),re&&nu(d,"Date",qs(d,"Date")+re*L),Y&&d._d.setTime(d._d.valueOf()+Y*L),z&&e.updateOffset(d,re||fe))}var Bh=b3(1,"add"),Oh=b3(-1,"subtract");function w3(d){return typeof d=="string"||d instanceof String}function Vh(d){return W(d)||u(d)||w3(d)||s(d)||Ih(d)||Zh(d)||d===null||d===void 0}function Zh(d){var _=i(d)&&!o(d),L=!1,z=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],Y,re,fe=z.length;for(Y=0;Y<fe;Y+=1)re=z[Y],L=L||l(d,re);return _&&L}function Ih(d){var _=n(d),L=!1;return _&&(L=d.filter(function(z){return!s(z)&&w3(d)}).length===0),_&&L}function Dh(d){var _=i(d)&&!o(d),L=!1,z=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],Y,re;for(Y=0;Y<z.length;Y+=1)re=z[Y],L=L||l(d,re);return _&&L}function Nh(d,_){var L=d.diff(_,"days",!0);return L<-6?"sameElse":L<-1?"lastWeek":L<0?"lastDay":L<1?"sameDay":L<2?"nextDay":L<7?"nextWeek":"sameElse"}function k3(d,_){arguments.length===1&&(arguments[0]?Vh(arguments[0])?(d=arguments[0],_=void 0):Dh(arguments[0])&&(_=arguments[0],d=void 0):(d=void 0,_=void 0));var L=d||Tt(),z=Cu(L,this).startOf("day"),Y=e.calendarFormat(this,z)||"sameElse",re=_&&($(_[Y])?_[Y].call(this,L):_[Y]);return this.format(re||this.localeData().calendar(Y,this,Tt(L)))}function Fh(){return new y(this)}function jh(d,_){var L=W(d)?d:Tt(d);return this.isValid()&&L.isValid()?(_=Bt(_)||"millisecond",_==="millisecond"?this.valueOf()>L.valueOf():L.valueOf()<this.clone().startOf(_).valueOf()):!1}function Tr(d,_){var L=W(d)?d:Tt(d);return this.isValid()&&L.isValid()?(_=Bt(_)||"millisecond",_==="millisecond"?this.valueOf()<L.valueOf():this.clone().endOf(_).valueOf()<L.valueOf()):!1}function ga(d,_,L,z){var Y=W(d)?d:Tt(d),re=W(_)?_:Tt(_);return this.isValid()&&Y.isValid()&&re.isValid()?(z=z||"()",(z[0]==="("?this.isAfter(Y,L):!this.isBefore(Y,L))&&(z[1]===")"?this.isBefore(re,L):!this.isAfter(re,L))):!1}function y3(d,_){var L=W(d)?d:Tt(d),z;return this.isValid()&&L.isValid()?(_=Bt(_)||"millisecond",_==="millisecond"?this.valueOf()===L.valueOf():(z=L.valueOf(),this.clone().startOf(_).valueOf()<=z&&z<=this.clone().endOf(_).valueOf())):!1}function vu(d,_){return this.isSame(d,_)||this.isAfter(d,_)}function wi(d,_){return this.isSame(d,_)||this.isBefore(d,_)}function ki(d,_,L){var z,Y,re;if(!this.isValid())return NaN;if(z=Cu(d,this),!z.isValid())return NaN;switch(Y=(z.utcOffset()-this.utcOffset())*6e4,_=Bt(_),_){case"year":re=Jr(this,z)/12;break;case"month":re=Jr(this,z);break;case"quarter":re=Jr(this,z)/3;break;case"second":re=(this-z)/1e3;break;case"minute":re=(this-z)/6e4;break;case"hour":re=(this-z)/36e5;break;case"day":re=(this-z-Y)/864e5;break;case"week":re=(this-z-Y)/6048e5;break;default:re=this-z}return L?re:kn(re)}function Jr(d,_){if(d.date()<_.date())return-Jr(_,d);var L=(_.year()-d.year())*12+(_.month()-d.month()),z=d.clone().add(L,"months"),Y,re;return _-z<0?(Y=d.clone().add(L-1,"months"),re=(_-z)/(z-Y)):(Y=d.clone().add(L+1,"months"),re=(_-z)/(Y-z)),-(L+re)||0}e.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",e.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function _a(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function L3(d){if(!this.isValid())return null;var _=d!==!0,L=_?this.clone().utc():this;return L.year()<0||L.year()>9999?gr(L,_?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):$(Date.prototype.toISOString)?_?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",gr(L,"Z")):gr(L,_?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function ml(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var d="moment",_="",L,z,Y,re;return this.isLocal()||(d=this.utcOffset()===0?"moment.utc":"moment.parseZone",_="Z"),L="["+d+'("]',z=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",Y="-MM-DD[T]HH:mm:ss.SSS",re=_+'[")]',this.format(L+z+Y+re)}function E3(d){d||(d=this.isUtc()?e.defaultFormatUtc:e.defaultFormat);var _=gr(this,d);return this.localeData().postformat(_)}function S3(d,_){return this.isValid()&&(W(d)&&d.isValid()||Tt(d).isValid())?Gr({to:this,from:d}).locale(this.locale()).humanize(!_):this.localeData().invalidDate()}function b0(d){return this.from(Tt(),d)}function M3(d,_){return this.isValid()&&(W(d)&&d.isValid()||Tt(d).isValid())?Gr({from:this,to:d}).locale(this.locale()).humanize(!_):this.localeData().invalidDate()}function T3(d){return this.to(Tt(),d)}function wu(d){var _;return d===void 0?this._locale._abbr:(_=Jn(d),_!=null&&(this._locale=_),this)}var pa=x("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(d){return d===void 0?this.localeData():this.locale(d)});function ku(){return this._locale}var Ca=1e3,Lo=60*Ca,v0=60*Lo,z3=(365*400+97)*24*v0;function Eo(d,_){return(d%_+_)%_}function H3(d,_,L){return d<100&&d>=0?new Date(d+400,_,L)-z3:new Date(d,_,L).valueOf()}function ba(d,_,L){return d<100&&d>=0?Date.UTC(d+400,_,L)-z3:Date.UTC(d,_,L)}function qh(d){var _,L;if(d=Bt(d),d===void 0||d==="millisecond"||!this.isValid())return this;switch(L=this._isUTC?ba:H3,d){case"year":_=L(this.year(),0,1);break;case"quarter":_=L(this.year(),this.month()-this.month()%3,1);break;case"month":_=L(this.year(),this.month(),1);break;case"week":_=L(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":_=L(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":_=L(this.year(),this.month(),this.date());break;case"hour":_=this._d.valueOf(),_-=Eo(_+(this._isUTC?0:this.utcOffset()*Lo),v0);break;case"minute":_=this._d.valueOf(),_-=Eo(_,Lo);break;case"second":_=this._d.valueOf(),_-=Eo(_,Ca);break}return this._d.setTime(_),e.updateOffset(this,!0),this}function P3(d){var _,L;if(d=Bt(d),d===void 0||d==="millisecond"||!this.isValid())return this;switch(L=this._isUTC?ba:H3,d){case"year":_=L(this.year()+1,0,1)-1;break;case"quarter":_=L(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":_=L(this.year(),this.month()+1,1)-1;break;case"week":_=L(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":_=L(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":_=L(this.year(),this.month(),this.date()+1)-1;break;case"hour":_=this._d.valueOf(),_+=v0-Eo(_+(this._isUTC?0:this.utcOffset()*Lo),v0)-1;break;case"minute":_=this._d.valueOf(),_+=Lo-Eo(_,Lo)-1;break;case"second":_=this._d.valueOf(),_+=Ca-Eo(_,Ca)-1;break}return this._d.setTime(_),e.updateOffset(this,!0),this}function A3(){return this._d.valueOf()-(this._offset||0)*6e4}function yu(){return Math.floor(this.valueOf()/1e3)}function Lu(){return new Date(this.valueOf())}function w0(){var d=this;return[d.year(),d.month(),d.date(),d.hour(),d.minute(),d.second(),d.millisecond()]}function yi(){var d=this;return{years:d.year(),months:d.month(),date:d.date(),hours:d.hours(),minutes:d.minutes(),seconds:d.seconds(),milliseconds:d.milliseconds()}}function k0(){return this.isValid()?this.toISOString():null}function Wh(){return b(this)}function Uh(){return f({},p(this))}function y0(){return p(this).overflow}function R3(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}ue("N",0,0,"eraAbbr"),ue("NN",0,0,"eraAbbr"),ue("NNN",0,0,"eraAbbr"),ue("NNNN",0,0,"eraName"),ue("NNNNN",0,0,"eraNarrow"),ue("y",["y",1],"yo","eraYear"),ue("y",["yy",2],0,"eraYear"),ue("y",["yyy",3],0,"eraYear"),ue("y",["yyyy",4],0,"eraYear"),Me("N",Li),Me("NN",Li),Me("NNN",Li),Me("NNNN",O3),Me("NNNNN",m),Mt(["N","NN","NNN","NNNN","NNNNN"],function(d,_,L,z){var Y=L._locale.erasParse(d,z,L._strict);Y?p(L).era=Y:p(L).invalidEra=d}),Me("y",ll),Me("yy",ll),Me("yyy",ll),Me("yyyy",ll),Me("yo",C),Mt(["y","yy","yyy","yyyy"],xt),Mt(["yo"],function(d,_,L,z){var Y;L._locale._eraYearOrdinalRegex&&(Y=d.match(L._locale._eraYearOrdinalRegex)),L._locale.eraYearOrdinalParse?_[xt]=L._locale.eraYearOrdinalParse(d,Y):_[xt]=parseInt(d,10)});function Yh(d,_){var L,z,Y,re=this._eras||Jn("en")._eras;for(L=0,z=re.length;L<z;++L){switch(typeof re[L].since){case"string":Y=e(re[L].since).startOf("day"),re[L].since=Y.valueOf();break}switch(typeof re[L].until){case"undefined":re[L].until=1/0;break;case"string":Y=e(re[L].until).startOf("day").valueOf(),re[L].until=Y.valueOf();break}}return re}function B3(d,_,L){var z,Y,re=this.eras(),fe,Fe,at;for(d=d.toUpperCase(),z=0,Y=re.length;z<Y;++z)if(fe=re[z].name.toUpperCase(),Fe=re[z].abbr.toUpperCase(),at=re[z].narrow.toUpperCase(),L)switch(_){case"N":case"NN":case"NNN":if(Fe===d)return re[z];break;case"NNNN":if(fe===d)return re[z];break;case"NNNNN":if(at===d)return re[z];break}else if([fe,Fe,at].indexOf(d)>=0)return re[z]}function Gh(d,_){var L=d.since<=d.until?1:-1;return _===void 0?e(d.since).year():e(d.since).year()+(_-d.offset)*L}function Jh(){var d,_,L,z=this.localeData().eras();for(d=0,_=z.length;d<_;++d)if(L=this.clone().startOf("day").valueOf(),z[d].since<=L&&L<=z[d].until||z[d].until<=L&&L<=z[d].since)return z[d].name;return""}function Kh(){var d,_,L,z=this.localeData().eras();for(d=0,_=z.length;d<_;++d)if(L=this.clone().startOf("day").valueOf(),z[d].since<=L&&L<=z[d].until||z[d].until<=L&&L<=z[d].since)return z[d].narrow;return""}function Xh(){var d,_,L,z=this.localeData().eras();for(d=0,_=z.length;d<_;++d)if(L=this.clone().startOf("day").valueOf(),z[d].since<=L&&L<=z[d].until||z[d].until<=L&&L<=z[d].since)return z[d].abbr;return""}function Qh(){var d,_,L,z,Y=this.localeData().eras();for(d=0,_=Y.length;d<_;++d)if(L=Y[d].since<=Y[d].until?1:-1,z=this.clone().startOf("day").valueOf(),Y[d].since<=z&&z<=Y[d].until||Y[d].until<=z&&z<=Y[d].since)return(this.year()-e(Y[d].since).year())*L+Y[d].offset;return this.year()}function xh(d){return l(this,"_erasNameRegex")||T.call(this),d?this._erasNameRegex:this._erasRegex}function L0(d){return l(this,"_erasAbbrRegex")||T.call(this),d?this._erasAbbrRegex:this._erasRegex}function Eu(d){return l(this,"_erasNarrowRegex")||T.call(this),d?this._erasNarrowRegex:this._erasRegex}function Li(d,_){return _.erasAbbrRegex(d)}function O3(d,_){return _.erasNameRegex(d)}function m(d,_){return _.erasNarrowRegex(d)}function C(d,_){return _._eraYearOrdinalRegex||ll}function T(){var d=[],_=[],L=[],z=[],Y,re,fe=this.eras();for(Y=0,re=fe.length;Y<re;++Y)_.push(Yr(fe[Y].name)),d.push(Yr(fe[Y].abbr)),L.push(Yr(fe[Y].narrow)),z.push(Yr(fe[Y].name)),z.push(Yr(fe[Y].abbr)),z.push(Yr(fe[Y].narrow));this._erasRegex=new RegExp("^("+z.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+_.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+d.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+L.join("|")+")","i")}ue(0,["gg",2],0,function(){return this.weekYear()%100}),ue(0,["GG",2],0,function(){return this.isoWeekYear()%100});function Q(d,_){ue(0,[d,d.length],0,_)}Q("gggg","weekYear"),Q("ggggg","weekYear"),Q("GGGG","isoWeekYear"),Q("GGGGG","isoWeekYear"),ar("weekYear","gg"),ar("isoWeekYear","GG"),sr("weekYear",1),sr("isoWeekYear",1),Me("G",Ys),Me("g",Ys),Me("GG",gt,Zr),Me("gg",gt,Zr),Me("GGGG",lu,nl),Me("gggg",lu,nl),Me("GGGGG",fo,oa),Me("ggggg",fo,oa),Yn(["gggg","ggggg","GGGG","GGGGG"],function(d,_,L,z){_[z.substr(0,2)]=lt(d)}),Yn(["gg","GG"],function(d,_,L,z){_[z]=e.parseTwoDigitYear(d)});function ie(d){return Xe.call(this,d,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function se(d){return Xe.call(this,d,this.isoWeek(),this.isoWeekday(),1,4)}function de(){return I1(this.year(),1,4)}function Se(){return I1(this.isoWeekYear(),1,4)}function We(){var d=this.localeData()._week;return I1(this.year(),d.dow,d.doy)}function De(){var d=this.localeData()._week;return I1(this.weekYear(),d.dow,d.doy)}function Xe(d,_,L,z,Y){var re;return d==null?Z1(this,z,Y).year:(re=I1(d,z,Y),_>re&&(_=re),ot.call(this,d,_,L,z,Y))}function ot(d,_,L,z,Y){var re=$s(d,_,L,z,Y),fe=ca(re.year,0,re.dayOfYear);return this.year(fe.getUTCFullYear()),this.month(fe.getUTCMonth()),this.date(fe.getUTCDate()),this}ue("Q",0,"Qo","quarter"),ar("quarter","Q"),sr("quarter",7),Me("Q",Ws),Mt("Q",function(d,_){_[Gn]=(lt(d)-1)*3});function Ht(d){return d==null?Math.ceil((this.month()+1)/3):this.month((d-1)*3+this.month()%3)}ue("D",["DD",2],"Do","date"),ar("date","D"),sr("date",9),Me("D",gt),Me("DD",gt,Zr),Me("Do",function(d,_){return d?_._dayOfMonthOrdinalParse||_._ordinalParse:_._dayOfMonthOrdinalParseLenient}),Mt(["D","DD"],Mr),Mt("Do",function(d,_){_[Mr]=lt(d.match(gt)[0])});var Ln=rl("Date",!0);ue("DDD",["DDDD",3],"DDDo","dayOfYear"),ar("dayOfYear","DDD"),sr("dayOfYear",4),Me("DDD",il),Me("DDDD",Us),Mt(["DDD","DDDD"],function(d,_,L){L._dayOfYear=lt(d)});function So(d){var _=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return d==null?_:this.add(d-_,"d")}ue("m",["mm",2],0,"minute"),ar("minute","m"),sr("minute",14),Me("m",gt),Me("mm",gt,Zr),Mt(["m","mm"],nn);var Ei=rl("Minutes",!1);ue("s",["ss",2],0,"second"),ar("second","s"),sr("second",15),Me("s",gt),Me("ss",gt,Zr),Mt(["s","ss"],f1);var q1=rl("Seconds",!1);ue("S",0,0,function(){return~~(this.millisecond()/100)}),ue(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),ue(0,["SSS",3],0,"millisecond"),ue(0,["SSSS",4],0,function(){return this.millisecond()*10}),ue(0,["SSSSS",5],0,function(){return this.millisecond()*100}),ue(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3}),ue(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4}),ue(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5}),ue(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6}),ar("millisecond","ms"),sr("millisecond",16),Me("S",il,Ws),Me("SS",il,Zr),Me("SSS",il,Us);var er,Ir;for(er="SSSS";er.length<=9;er+="S")Me(er,ll);function En(d,_){_[h1]=lt(("0."+d)*1e3)}for(er="S";er.length<=9;er+="S")Mt(er,En);Ir=rl("Milliseconds",!1),ue("z",0,0,"zoneAbbr"),ue("zz",0,0,"zoneName");function W1(){return this._isUTC?"UTC":""}function je(){return this._isUTC?"Coordinated Universal Time":""}var he=y.prototype;he.add=Bh,he.calendar=k3,he.clone=Fh,he.diff=ki,he.endOf=P3,he.format=E3,he.from=S3,he.fromNow=b0,he.to=M3,he.toNow=T3,he.get=F5,he.invalidAt=y0,he.isAfter=jh,he.isBefore=Tr,he.isBetween=ga,he.isSame=y3,he.isSameOrAfter=vu,he.isSameOrBefore=wi,he.isValid=Wh,he.lang=pa,he.locale=wu,he.localeData=ku,he.max=Mh,he.min=f3,he.parsingFlags=Uh,he.set=j5,he.startOf=qh,he.subtract=Oh,he.toArray=w0,he.toObject=yi,he.toDate=Lu,he.toISOString=L3,he.inspect=ml,typeof Symbol!="undefined"&&Symbol.for!=null&&(he[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),he.toJSON=k0,he.toString=_a,he.unix=yu,he.valueOf=A3,he.creationData=R3,he.eraName=Jh,he.eraNarrow=Kh,he.eraAbbr=Xh,he.eraYear=Qh,he.year=ua,he.isLeapYear=Qs,he.weekYear=ie,he.isoWeekYear=se,he.quarter=he.quarters=Ht,he.month=_o,he.daysInMonth=Ks,he.week=he.weeks=oh,he.isoWeek=he.isoWeeks=x5,he.weeksInYear=We,he.weeksInWeekYear=De,he.isoWeeksInYear=de,he.isoWeeksInISOWeekYear=Se,he.date=Ln,he.day=he.days=fh,he.weekday=hh,he.isoWeekday=r3,he.dayOfYear=So,he.hour=he.hours=n3,he.minute=he.minutes=Ei,he.second=he.seconds=q1,he.millisecond=he.milliseconds=Ir,he.utcOffset=j1,he.utc=ma,he.local=_3,he.parseZone=C0,he.hasAlignedHourOffset=fl,he.isDST=yo,he.isLocal=bu,he.isUtcOffset=Ph,he.isUtc=hl,he.isUTC=hl,he.zoneAbbr=W1,he.zoneName=je,he.dates=x("dates accessor is deprecated. Use date instead.",Ln),he.months=x("months accessor is deprecated. Use month instead",_o),he.years=x("years accessor is deprecated. Use year instead",ua),he.zone=x("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",p0),he.isDSTShifted=x("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Kn);function Vt(d){return Tt(d*1e3)}function ln(){return Tt.apply(null,arguments).parseZone()}function gl(d){return d}var ct=Te.prototype;ct.calendar=et,ct.longDateFormat=mi,ct.invalidDate=el,ct.ordinal=pi,ct.preparse=gl,ct.postformat=gl,ct.relativeTime=la,ct.pastFuture=co,ct.set=ee,ct.eras=Yh,ct.erasParse=B3,ct.erasConvertYear=Gh,ct.erasAbbrRegex=L0,ct.erasNameRegex=xh,ct.erasNarrowRegex=Eu,ct.months=rh,ct.monthsShort=G5,ct.monthsParse=nh,ct.monthsRegex=J5,ct.monthsShortRegex=yn,ct.week=ih,ct.firstDayOfYear=Q5,ct.firstDayOfWeek=X5,ct.weekdays=r0,ct.weekdaysMin=sh,ct.weekdaysShort=ah,ct.weekdaysParse=ch,ct.weekdaysRegex=dh,ct.weekdaysShortRegex=mh,ct.weekdaysMinRegex=gh,ct.isPM=Co,ct.meridiem=ph;function U1(d,_,L,z){var Y=Jn(),re=h().set(z,_);return Y[L](re,d)}function va(d,_,L){if(s(d)&&(_=d,d=void 0),d=d||"",_!=null)return U1(d,_,L,"month");var z,Y=[];for(z=0;z<12;z++)Y[z]=U1(d,z,L,"month");return Y}function E0(d,_,L,z){typeof d=="boolean"?(s(_)&&(L=_,_=void 0),_=_||""):(_=d,L=_,d=!1,s(_)&&(L=_,_=void 0),_=_||"");var Y=Jn(),re=d?Y._week.dow:0,fe,Fe=[];if(L!=null)return U1(_,(L+re)%7,z,"day");for(fe=0;fe<7;fe++)Fe[fe]=U1(_,(fe+re)%7,z,"day");return Fe}function Su(d,_){return va(d,_,"months")}function MA(d,_){return va(d,_,"monthsShort")}function TA(d,_,L){return E0(d,_,L,"weekdays")}function zA(d,_,L){return E0(d,_,L,"weekdaysShort")}function HA(d,_,L){return E0(d,_,L,"weekdaysMin")}vi("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(d){var _=d%10,L=lt(d%100/10)===1?"th":_===1?"st":_===2?"nd":_===3?"rd":"th";return d+L}}),e.lang=x("moment.lang is deprecated. Use moment.locale instead.",vi),e.langData=x("moment.langData is deprecated. Use moment.localeData instead.",Jn);var _l=Math.abs;function PA(){var d=this._data;return this._milliseconds=_l(this._milliseconds),this._days=_l(this._days),this._months=_l(this._months),d.milliseconds=_l(d.milliseconds),d.seconds=_l(d.seconds),d.minutes=_l(d.minutes),d.hours=_l(d.hours),d.months=_l(d.months),d.years=_l(d.years),this}function jp(d,_,L,z){var Y=Gr(_,L);return d._milliseconds+=z*Y._milliseconds,d._days+=z*Y._days,d._months+=z*Y._months,d._bubble()}function AA(d,_){return jp(this,d,_,1)}function RA(d,_){return jp(this,d,_,-1)}function qp(d){return d<0?Math.floor(d):Math.ceil(d)}function BA(){var d=this._milliseconds,_=this._days,L=this._months,z=this._data,Y,re,fe,Fe,at;return d>=0&&_>=0&&L>=0||d<=0&&_<=0&&L<=0||(d+=qp($h(L)+_)*864e5,_=0,L=0),z.milliseconds=d%1e3,Y=kn(d/1e3),z.seconds=Y%60,re=kn(Y/60),z.minutes=re%60,fe=kn(re/60),z.hours=fe%24,_+=kn(fe/24),at=kn(Wp(_)),L+=at,_-=qp($h(at)),Fe=kn(L/12),L%=12,z.days=_,z.months=L,z.years=Fe,this}function Wp(d){return d*4800/146097}function $h(d){return d*146097/4800}function OA(d){if(!this.isValid())return NaN;var _,L,z=this._milliseconds;if(d=Bt(d),d==="month"||d==="quarter"||d==="year")switch(_=this._days+z/864e5,L=this._months+Wp(_),d){case"month":return L;case"quarter":return L/3;case"year":return L/12}else switch(_=this._days+Math.round($h(this._months)),d){case"week":return _/7+z/6048e5;case"day":return _+z/864e5;case"hour":return _*24+z/36e5;case"minute":return _*1440+z/6e4;case"second":return _*86400+z/1e3;case"millisecond":return Math.floor(_*864e5)+z;default:throw new Error("Unknown unit "+d)}}function VA(){return this.isValid()?this._milliseconds+this._days*864e5+this._months%12*2592e6+lt(this._months/12)*31536e6:NaN}function pl(d){return function(){return this.as(d)}}var ZA=pl("ms"),IA=pl("s"),DA=pl("m"),NA=pl("h"),FA=pl("d"),jA=pl("w"),qA=pl("M"),WA=pl("Q"),UA=pl("y");function YA(){return Gr(this)}function GA(d){return d=Bt(d),this.isValid()?this[d+"s"]():NaN}function wa(d){return function(){return this.isValid()?this._data[d]:NaN}}var JA=wa("milliseconds"),KA=wa("seconds"),XA=wa("minutes"),QA=wa("hours"),xA=wa("days"),$A=wa("months"),eR=wa("years");function tR(){return kn(this.days()/7)}var Cl=Math.round,S0={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function rR(d,_,L,z,Y){return Y.relativeTime(_||1,!!L,d,z)}function nR(d,_,L,z){var Y=Gr(d).abs(),re=Cl(Y.as("s")),fe=Cl(Y.as("m")),Fe=Cl(Y.as("h")),at=Cl(Y.as("d")),Zt=Cl(Y.as("M")),on=Cl(Y.as("w")),bl=Cl(Y.as("y")),Mo=re<=L.ss&&["s",re]||re<L.s&&["ss",re]||fe<=1&&["m"]||fe<L.m&&["mm",fe]||Fe<=1&&["h"]||Fe<L.h&&["hh",Fe]||at<=1&&["d"]||at<L.d&&["dd",at];return L.w!=null&&(Mo=Mo||on<=1&&["w"]||on<L.w&&["ww",on]),Mo=Mo||Zt<=1&&["M"]||Zt<L.M&&["MM",Zt]||bl<=1&&["y"]||["yy",bl],Mo[2]=_,Mo[3]=+d>0,Mo[4]=z,rR.apply(null,Mo)}function iR(d){return d===void 0?Cl:typeof d=="function"?(Cl=d,!0):!1}function lR(d,_){return S0[d]===void 0?!1:_===void 0?S0[d]:(S0[d]=_,d==="s"&&(S0.ss=_-1),!0)}function oR(d,_){if(!this.isValid())return this.localeData().invalidDate();var L=!1,z=S0,Y,re;return typeof d=="object"&&(_=d,d=!1),typeof d=="boolean"&&(L=d),typeof _=="object"&&(z=Object.assign({},S0,_),_.s!=null&&_.ss==null&&(z.ss=_.s-1)),Y=this.localeData(),re=nR(this,!L,z,Y),L&&(re=Y.pastFuture(+this,re)),Y.postformat(re)}var e8=Math.abs;function M0(d){return(d>0)-(d<0)||+d}function V3(){if(!this.isValid())return this.localeData().invalidDate();var d=e8(this._milliseconds)/1e3,_=e8(this._days),L=e8(this._months),z,Y,re,fe,Fe=this.asSeconds(),at,Zt,on,bl;return Fe?(z=kn(d/60),Y=kn(z/60),d%=60,z%=60,re=kn(L/12),L%=12,fe=d?d.toFixed(3).replace(/\.?0+$/,""):"",at=Fe<0?"-":"",Zt=M0(this._months)!==M0(Fe)?"-":"",on=M0(this._days)!==M0(Fe)?"-":"",bl=M0(this._milliseconds)!==M0(Fe)?"-":"",at+"P"+(re?Zt+re+"Y":"")+(L?Zt+L+"M":"")+(_?on+_+"D":"")+(Y||z||d?"T":"")+(Y?bl+Y+"H":"")+(z?bl+z+"M":"")+(d?bl+fe+"S":"")):"P0D"}var bt=g0.prototype;bt.isValid=m3,bt.abs=PA,bt.add=AA,bt.subtract=RA,bt.as=OA,bt.asMilliseconds=ZA,bt.asSeconds=IA,bt.asMinutes=DA,bt.asHours=NA,bt.asDays=FA,bt.asWeeks=jA,bt.asMonths=qA,bt.asQuarters=WA,bt.asYears=UA,bt.valueOf=VA,bt._bubble=BA,bt.clone=YA,bt.get=GA,bt.milliseconds=JA,bt.seconds=KA,bt.minutes=XA,bt.hours=QA,bt.days=xA,bt.weeks=tR,bt.months=$A,bt.years=eR,bt.humanize=oR,bt.toISOString=V3,bt.toString=V3,bt.toJSON=V3,bt.locale=wu,bt.localeData=ku,bt.toIsoString=x("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",V3),bt.lang=pa,ue("X",0,0,"unix"),ue("x",0,0,"valueOf"),Me("x",Ys),Me("X",xf),Mt("X",function(d,_,L){L._d=new Date(parseFloat(d)*1e3)}),Mt("x",function(d,_,L){L._d=new Date(lt(d))});return e.version="2.29.4",r(Tt),e.fn=he,e.min=Th,e.max=h3,e.now=m0,e.utc=h,e.unix=Vt,e.months=Su,e.isDate=u,e.locale=vi,e.invalid=v,e.duration=Gr,e.isMoment=W,e.weekdays=TA,e.parseZone=ln,e.localeData=Jn,e.isDuration=ko,e.monthsShort=MA,e.weekdaysMin=HA,e.defineLocale=cu,e.updateLocale=a0,e.locales=N1,e.weekdaysShort=zA,e.normalizeUnits=Bt,e.relativeTimeRounding=iR,e.relativeTimeThreshold=lR,e.calendarFormat=Nh,e.prototype=he,e.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},e})});var xp=ae((Z3,Qp)=>{(function(t,e){typeof Z3=="object"&&typeof Qp!="undefined"?e(Z3):typeof define=="function"&&define.amd?define(["exports"],e):(t=typeof globalThis!="undefined"?globalThis:t||self,e(t.WebStreamsPolyfill={}))})(Z3,function(t){"use strict";function e(){}function r(m){return typeof m=="object"&&m!==null||typeof m=="function"}let n=e;function i(m,C){try{Object.defineProperty(m,"name",{value:C,configurable:!0})}catch(T){}}let l=Promise,o=Promise.prototype.then,a=Promise.reject.bind(l);function s(m){return new l(m)}function u(m){return s(C=>C(m))}function c(m){return a(m)}function f(m,C,T){return o.call(m,C,T)}function h(m,C,T){f(f(m,C,T),void 0,n)}function g(m,C){h(m,C)}function p(m,C){h(m,void 0,C)}function w(m,C,T){return f(m,C,T)}function b(m){f(m,void 0,n)}let v=m=>{if(typeof queueMicrotask=="function")v=queueMicrotask;else{let C=u(void 0);v=T=>f(C,T)}return v(m)};function S(m,C,T){if(typeof m!="function")throw new TypeError("Argument is not a function");return Function.prototype.apply.call(m,C,T)}function P(m,C,T){try{return u(S(m,C,T))}catch(Q){return c(Q)}}let Z=16384;class y{constructor(){this._cursor=0,this._size=0,this._front={_elements:[],_next:void 0},this._back=this._front,this._cursor=0,this._size=0}get length(){return this._size}push(C){let T=this._back,Q=T;T._elements.length===Z-1&&(Q={_elements:[],_next:void 0}),T._elements.push(C),Q!==T&&(this._back=Q,T._next=Q),++this._size}shift(){let C=this._front,T=C,Q=this._cursor,ie=Q+1,se=C._elements,de=se[Q];return ie===Z&&(T=C._next,ie=0),--this._size,this._cursor=ie,C!==T&&(this._front=T),se[Q]=void 0,de}forEach(C){let T=this._cursor,Q=this._front,ie=Q._elements;for(;(T!==ie.length||Q._next!==void 0)&&!(T===ie.length&&(Q=Q._next,ie=Q._elements,T=0,ie.length===0));)C(ie[T]),++T}peek(){let C=this._front,T=this._cursor;return C._elements[T]}}let W=Symbol("[[AbortSteps]]"),X=Symbol("[[ErrorSteps]]"),x=Symbol("[[CancelSteps]]"),le=Symbol("[[PullSteps]]"),oe=Symbol("[[ReleaseSteps]]");function $(m,C){m._ownerReadableStream=C,C._reader=m,C._state==="readable"?Pe(m):C._state==="closed"?et(m):pe(m,C._storedError)}function ee(m,C){let T=m._ownerReadableStream;return Jr(T,C)}function ce(m){let C=m._ownerReadableStream;C._state==="readable"?we(m,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):ye(m,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")),C._readableStreamController[oe](),C._reader=void 0,m._ownerReadableStream=void 0}function Te(m){return new TypeError("Cannot "+m+" a stream using a released reader")}function Pe(m){m._closedPromise=s((C,T)=>{m._closedPromise_resolve=C,m._closedPromise_reject=T})}function pe(m,C){Pe(m),we(m,C)}function et(m){Pe(m),Dt(m)}function we(m,C){m._closedPromise_reject!==void 0&&(b(m._closedPromise),m._closedPromise_reject(C),m._closedPromise_resolve=void 0,m._closedPromise_reject=void 0)}function ye(m,C){pe(m,C)}function Dt(m){m._closedPromise_resolve!==void 0&&(m._closedPromise_resolve(void 0),m._closedPromise_resolve=void 0,m._closedPromise_reject=void 0)}let Rt=Number.isFinite||function(m){return typeof m=="number"&&isFinite(m)},ke=Math.trunc||function(m){return m<0?Math.ceil(m):Math.floor(m)};function ue(m){return typeof m=="object"||typeof m=="function"}function Jt(m,C){if(m!==void 0&&!ue(m))throw new TypeError(`${C} is not an object.`)}function jt(m,C){if(typeof m!="function")throw new TypeError(`${C} is not a function.`)}function gr(m){return typeof m=="object"&&m!==null||typeof m=="function"}function tn(m,C){if(!gr(m))throw new TypeError(`${C} is not an object.`)}function Ur(m,C,T){if(m===void 0)throw new TypeError(`Parameter ${C} is required in '${T}'.`)}function mi(m,C,T){if(m===void 0)throw new TypeError(`${C} is required in '${T}'.`)}function gi(m){return Number(m)}function el(m){return m===0?0:m}function uo(m){return el(ke(m))}function _i(m,C){let Q=Number.MAX_SAFE_INTEGER,ie=Number(m);if(ie=el(ie),!Rt(ie))throw new TypeError(`${C} is not a finite number`);if(ie=uo(ie),ie<0||ie>Q)throw new TypeError(`${C} is outside the accepted range of 0 to ${Q}, inclusive`);return!Rt(ie)||ie===0?0:ie}function pi(m,C){if(!wi(m))throw new TypeError(`${C} is not a ReadableStream.`)}function ve(m){return new Bt(m)}function la(m,C){m._reader._readRequests.push(C)}function co(m,C,T){let ie=m._reader._readRequests.shift();T?ie._closeSteps():ie._chunkSteps(C)}function Un(m){return m._reader._readRequests.length}function ar(m){let C=m._reader;return!(C===void 0||!rn(C))}class Bt{constructor(C){if(Ur(C,1,"ReadableStreamDefaultReader"),pi(C,"First parameter"),ki(C))throw new TypeError("This stream has already been locked for exclusive reading by another reader");$(this,C),this._readRequests=new y}get closed(){return rn(this)?this._closedPromise:c(tl("closed"))}cancel(C=void 0){return rn(this)?this._ownerReadableStream===void 0?c(Te("cancel")):ee(this,C):c(tl("cancel"))}read(){if(!rn(this))return c(tl("read"));if(this._ownerReadableStream===void 0)return c(Te("read from"));let C,T,Q=s((se,de)=>{C=se,T=de});return c1(this,{_chunkSteps:se=>C({value:se,done:!1}),_closeSteps:()=>C({value:void 0,done:!0}),_errorSteps:se=>T(se)}),Q}releaseLock(){if(!rn(this))throw tl("releaseLock");this._ownerReadableStream!==void 0&&sr(this)}}Object.defineProperties(Bt.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),i(Bt.prototype.cancel,"cancel"),i(Bt.prototype.read,"read"),i(Bt.prototype.releaseLock,"releaseLock"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(Bt.prototype,Symbol.toStringTag,{value:"ReadableStreamDefaultReader",configurable:!0});function rn(m){return!r(m)||!Object.prototype.hasOwnProperty.call(m,"_readRequests")?!1:m instanceof Bt}function c1(m,C){let T=m._ownerReadableStream;T._disturbed=!0,T._state==="closed"?C._closeSteps():T._state==="errored"?C._errorSteps(T._storedError):T._readableStreamController[le](C)}function sr(m){ce(m);let C=new TypeError("Reader was released");js(m,C)}function js(m,C){let T=m._readRequests;m._readRequests=new y,T.forEach(Q=>{Q._errorSteps(C)})}function tl(m){return new TypeError(`ReadableStreamDefaultReader.prototype.${m} can only be used on a ReadableStreamDefaultReader`)}let kn=Object.getPrototypeOf(Object.getPrototypeOf(async function*(){}).prototype);class lt{constructor(C,T){this._ongoingPromise=void 0,this._isFinished=!1,this._reader=C,this._preventCancel=T}next(){let C=()=>this._nextSteps();return this._ongoingPromise=this._ongoingPromise?w(this._ongoingPromise,C,C):C(),this._ongoingPromise}return(C){let T=()=>this._returnSteps(C);return this._ongoingPromise?w(this._ongoingPromise,T,T):T()}_nextSteps(){if(this._isFinished)return Promise.resolve({value:void 0,done:!0});let C=this._reader,T,Q,ie=s((de,Se)=>{T=de,Q=Se});return c1(C,{_chunkSteps:de=>{this._ongoingPromise=void 0,v(()=>T({value:de,done:!1}))},_closeSteps:()=>{this._ongoingPromise=void 0,this._isFinished=!0,ce(C),T({value:void 0,done:!0})},_errorSteps:de=>{this._ongoingPromise=void 0,this._isFinished=!0,ce(C),Q(de)}}),ie}_returnSteps(C){if(this._isFinished)return Promise.resolve({value:C,done:!0});this._isFinished=!0;let T=this._reader;if(!this._preventCancel){let Q=ee(T,C);return ce(T),w(Q,()=>({value:C,done:!0}))}return ce(T),u({value:C,done:!0})}}let rl={next(){return nu(this)?this._asyncIteratorImpl.next():c(F5("next"))},return(m){return nu(this)?this._asyncIteratorImpl.return(m):c(F5("return"))}};Object.setPrototypeOf(rl,kn);function qs(m,C){let T=ve(m),Q=new lt(T,C),ie=Object.create(rl);return ie._asyncIteratorImpl=Q,ie}function nu(m){if(!r(m)||!Object.prototype.hasOwnProperty.call(m,"_asyncIteratorImpl"))return!1;try{return m._asyncIteratorImpl instanceof lt}catch(C){return!1}}function F5(m){return new TypeError(`ReadableStreamAsyncIterator.${m} can only be used on a ReadableSteamAsyncIterator`)}let j5=Number.isNaN||function(m){return m!==m};var Ws,Zr,Us;function nl(m){return m.slice()}function oa(m,C,T,Q,ie){new Uint8Array(m).set(new Uint8Array(T,Q,ie),C)}let gt=m=>(typeof m.transfer=="function"?gt=C=>C.transfer():typeof structuredClone=="function"?gt=C=>structuredClone(C,{transfer:[C]}):gt=C=>C,gt(m)),O1=m=>(typeof m.detached=="boolean"?O1=C=>C.detached:O1=C=>C.byteLength===0,O1(m));function iu(m,C,T){if(m.slice)return m.slice(C,T);let Q=T-C,ie=new ArrayBuffer(Q);return oa(ie,0,m,C,Q),ie}function il(m,C){let T=m[C];if(T!=null){if(typeof T!="function")throw new TypeError(`${String(C)} is not a function`);return T}}function lu(m){let C={[Symbol.iterator]:()=>m.iterator},T=async function*(){return yield*C}(),Q=T.next;return{iterator:T,nextMethod:Q,done:!1}}let fo=(Us=(Ws=Symbol.asyncIterator)!==null&&Ws!==void 0?Ws:(Zr=Symbol.for)===null||Zr===void 0?void 0:Zr.call(Symbol,"Symbol.asyncIterator"))!==null&&Us!==void 0?Us:"@@asyncIterator";function ll(m,C="sync",T){if(T===void 0)if(C==="async"){if(T=il(m,fo),T===void 0){let se=il(m,Symbol.iterator),de=ll(m,"sync",se);return lu(de)}}else T=il(m,Symbol.iterator);if(T===void 0)throw new TypeError("The object is not iterable");let Q=S(T,m,[]);if(!r(Q))throw new TypeError("The iterator method must return an object");let ie=Q.next;return{iterator:Q,nextMethod:ie,done:!1}}function Ys(m){let C=S(m.nextMethod,m.iterator,[]);if(!r(C))throw new TypeError("The iterator.next() method must return an object");return C}function Qf(m){return!!m.done}function Gs(m){return m.value}function xf(m){return!(typeof m!="number"||j5(m)||m<0)}function ho(m){let C=iu(m.buffer,m.byteOffset,m.byteOffset+m.byteLength);return new Uint8Array(C)}function mo(m){let C=m._queue.shift();return m._queueTotalSize-=C.size,m._queueTotalSize<0&&(m._queueTotalSize=0),C.value}function Me(m,C,T){if(!xf(T)||T===1/0)throw new RangeError("Size must be a finite, non-NaN, non-negative number.");m._queue.push({value:C,size:T}),m._queueTotalSize+=T}function $f(m){return m._queue.peek().value}function Ci(m){m._queue=new y,m._queueTotalSize=0}function Yr(m){return m===DataView}function ou(m){return Yr(m.constructor)}function Mt(m){return Yr(m)?1:m.BYTES_PER_ELEMENT}class Yn{constructor(){throw new TypeError("Illegal constructor")}get view(){if(!Gn(this))throw $s("view");return this._view}respond(C){if(!Gn(this))throw $s("respond");if(Ur(C,1,"respond"),C=_i(C,"First parameter"),this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");if(O1(this._view.buffer))throw new TypeError("The BYOB request's buffer has been detached and so cannot be used as a response");ua(this._associatedReadableByteStreamController,C)}respondWithNewView(C){if(!Gn(this))throw $s("respondWithNewView");if(Ur(C,1,"respondWithNewView"),!ArrayBuffer.isView(C))throw new TypeError("You can only respond with array buffer views");if(this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");if(O1(C.buffer))throw new TypeError("The given view's buffer has been detached and so cannot be used as a response");Qs(this._associatedReadableByteStreamController,C)}}Object.defineProperties(Yn.prototype,{respond:{enumerable:!0},respondWithNewView:{enumerable:!0},view:{enumerable:!0}}),i(Yn.prototype.respond,"respond"),i(Yn.prototype.respondWithNewView,"respondWithNewView"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(Yn.prototype,Symbol.toStringTag,{value:"ReadableStreamBYOBRequest",configurable:!0});class V1{constructor(){throw new TypeError("Illegal constructor")}get byobRequest(){if(!xt(this))throw Z1("byobRequest");return Xs(this)}get desiredSize(){if(!xt(this))throw Z1("desiredSize");return po(this)}close(){if(!xt(this))throw Z1("close");if(this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");let C=this._controlledReadableByteStream._state;if(C!=="readable")throw new TypeError(`The stream (in ${C} state) is not in the readable state and cannot be closed`);_o(this)}enqueue(C){if(!xt(this))throw Z1("enqueue");if(Ur(C,1,"enqueue"),!ArrayBuffer.isView(C))throw new TypeError("chunk must be an array buffer view");if(C.byteLength===0)throw new TypeError("chunk must have non-zero byteLength");if(C.buffer.byteLength===0)throw new TypeError("chunk's buffer must have non-zero byteLength");if(this._closeRequested)throw new TypeError("stream is closed or draining");let T=this._controlledReadableByteStream._state;if(T!=="readable")throw new TypeError(`The stream (in ${T} state) is not in the readable state and cannot be enqueued to`);Ks(this,C)}error(C=void 0){if(!xt(this))throw Z1("error");yn(this,C)}[x](C){ur(this),Ci(this);let T=this._cancelAlgorithm(C);return sa(this),T}[le](C){let T=this._controlledReadableByteStream;if(this._queueTotalSize>0){J5(this,C);return}let Q=this._autoAllocateChunkSize;if(Q!==void 0){let ie;try{ie=new ArrayBuffer(Q)}catch(de){C._errorSteps(de);return}let se={buffer:ie,bufferByteLength:Q,byteOffset:0,byteLength:Q,bytesFilled:0,minimumFill:1,elementSize:1,viewConstructor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(se)}la(T,C),Mr(this)}[oe](){if(this._pendingPullIntos.length>0){let C=this._pendingPullIntos.peek();C.readerType="none",this._pendingPullIntos=new y,this._pendingPullIntos.push(C)}}}Object.defineProperties(V1.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},byobRequest:{enumerable:!0},desiredSize:{enumerable:!0}}),i(V1.prototype.close,"close"),i(V1.prototype.enqueue,"enqueue"),i(V1.prototype.error,"error"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(V1.prototype,Symbol.toStringTag,{value:"ReadableByteStreamController",configurable:!0});function xt(m){return!r(m)||!Object.prototype.hasOwnProperty.call(m,"_controlledReadableByteStream")?!1:m instanceof V1}function Gn(m){return!r(m)||!Object.prototype.hasOwnProperty.call(m,"_associatedReadableByteStreamController")?!1:m instanceof Yn}function Mr(m){if(!nh(m))return;if(m._pulling){m._pullAgain=!0;return}m._pulling=!0;let T=m._pullAlgorithm();h(T,()=>(m._pulling=!1,m._pullAgain&&(m._pullAgain=!1,Mr(m)),null),Q=>(yn(m,Q),null))}function ur(m){au(m),m._pendingPullIntos=new y}function nn(m,C){let T=!1;m._state==="closed"&&(T=!0);let Q=f1(C);C.readerType==="default"?co(m,Q,T):oh(m,Q,T)}function f1(m){let C=m.bytesFilled,T=m.elementSize;return new m.viewConstructor(m.buffer,m.byteOffset,C/T)}function h1(m,C,T,Q){m._queue.push({buffer:C,byteOffset:T,byteLength:Q}),m._queueTotalSize+=Q}function q5(m,C,T,Q){let ie;try{ie=iu(C,T,T+Q)}catch(se){throw yn(m,se),se}h1(m,ie,0,Q)}function W5(m,C){C.bytesFilled>0&&q5(m,C.buffer,C.byteOffset,C.bytesFilled),go(m)}function U5(m,C){let T=Math.min(m._queueTotalSize,C.byteLength-C.bytesFilled),Q=C.bytesFilled+T,ie=T,se=!1,de=Q%C.elementSize,Se=Q-de;Se>=C.minimumFill&&(ie=Se-C.bytesFilled,se=!0);let We=m._queue;for(;ie>0;){let De=We.peek(),Xe=Math.min(ie,De.byteLength),ot=C.byteOffset+C.bytesFilled;oa(C.buffer,ot,De.buffer,De.byteOffset,Xe),De.byteLength===Xe?We.shift():(De.byteOffset+=Xe,De.byteLength-=Xe),m._queueTotalSize-=Xe,$t(m,Xe,C),ie-=Xe}return se}function $t(m,C,T){T.bytesFilled+=C}function aa(m){m._queueTotalSize===0&&m._closeRequested?(sa(m),_a(m._controlledReadableByteStream)):Mr(m)}function au(m){m._byobRequest!==null&&(m._byobRequest._associatedReadableByteStreamController=void 0,m._byobRequest._view=null,m._byobRequest=null)}function Js(m){for(;m._pendingPullIntos.length>0;){if(m._queueTotalSize===0)return;let C=m._pendingPullIntos.peek();U5(m,C)&&(go(m),nn(m._controlledReadableByteStream,C))}}function Y5(m){let C=m._controlledReadableByteStream._reader;for(;C._readRequests.length>0;){if(m._queueTotalSize===0)return;let T=C._readRequests.shift();J5(m,T)}}function eh(m,C,T,Q){let ie=m._controlledReadableByteStream,se=C.constructor,de=Mt(se),{byteOffset:Se,byteLength:We}=C,De=T*de,Xe;try{Xe=gt(C.buffer)}catch(Ht){Q._errorSteps(Ht);return}let ot={buffer:Xe,bufferByteLength:Xe.byteLength,byteOffset:Se,byteLength:We,bytesFilled:0,minimumFill:De,elementSize:de,viewConstructor:se,readerType:"byob"};if(m._pendingPullIntos.length>0){m._pendingPullIntos.push(ot),Q5(ie,Q);return}if(ie._state==="closed"){let Ht=new se(ot.buffer,ot.byteOffset,0);Q._closeSteps(Ht);return}if(m._queueTotalSize>0){if(U5(m,ot)){let Ht=f1(ot);aa(m),Q._chunkSteps(Ht);return}if(m._closeRequested){let Ht=new TypeError("Insufficient bytes to fill elements in the given buffer");yn(m,Ht),Q._errorSteps(Ht);return}}m._pendingPullIntos.push(ot),Q5(ie,Q),Mr(m)}function th(m,C){C.readerType==="none"&&go(m);let T=m._controlledReadableByteStream;if(su(T))for(;x5(T)>0;){let Q=go(m);nn(T,Q)}}function rh(m,C,T){if($t(m,C,T),T.readerType==="none"){W5(m,T),Js(m);return}if(T.bytesFilled<T.minimumFill)return;go(m);let Q=T.bytesFilled%T.elementSize;if(Q>0){let ie=T.byteOffset+T.bytesFilled;q5(m,T.buffer,ie-Q,Q)}T.bytesFilled-=Q,nn(m._controlledReadableByteStream,T),Js(m)}function G5(m,C){let T=m._pendingPullIntos.peek();au(m),m._controlledReadableByteStream._state==="closed"?th(m,T):rh(m,C,T),Mr(m)}function go(m){return m._pendingPullIntos.shift()}function nh(m){let C=m._controlledReadableByteStream;return C._state!=="readable"||m._closeRequested||!m._started?!1:!!(ar(C)&&Un(C)>0||su(C)&&x5(C)>0||po(m)>0)}function sa(m){m._pullAlgorithm=void 0,m._cancelAlgorithm=void 0}function _o(m){let C=m._controlledReadableByteStream;if(!(m._closeRequested||C._state!=="readable")){if(m._queueTotalSize>0){m._closeRequested=!0;return}if(m._pendingPullIntos.length>0){let T=m._pendingPullIntos.peek();if(T.bytesFilled%T.elementSize!==0){let Q=new TypeError("Insufficient bytes to fill elements in the given buffer");throw yn(m,Q),Q}}sa(m),_a(C)}}function Ks(m,C){let T=m._controlledReadableByteStream;if(m._closeRequested||T._state!=="readable")return;let{buffer:Q,byteOffset:ie,byteLength:se}=C;if(O1(Q))throw new TypeError("chunk's buffer is detached and so cannot be enqueued");let de=gt(Q);if(m._pendingPullIntos.length>0){let Se=m._pendingPullIntos.peek();if(O1(Se.buffer))throw new TypeError("The BYOB request's buffer has been detached and so cannot be filled with an enqueued chunk");au(m),Se.buffer=gt(Se.buffer),Se.readerType==="none"&&W5(m,Se)}if(ar(T))if(Y5(m),Un(T)===0)h1(m,de,ie,se);else{m._pendingPullIntos.length>0&&go(m);let Se=new Uint8Array(de,ie,se);co(T,Se,!1)}else su(T)?(h1(m,de,ie,se),Js(m)):h1(m,de,ie,se);Mr(m)}function yn(m,C){let T=m._controlledReadableByteStream;T._state==="readable"&&(ur(m),Ci(m),sa(m),L3(T,C))}function J5(m,C){let T=m._queue.shift();m._queueTotalSize-=T.byteLength,aa(m);let Q=new Uint8Array(T.buffer,T.byteOffset,T.byteLength);C._chunkSteps(Q)}function Xs(m){if(m._byobRequest===null&&m._pendingPullIntos.length>0){let C=m._pendingPullIntos.peek(),T=new Uint8Array(C.buffer,C.byteOffset+C.bytesFilled,C.byteLength-C.bytesFilled),Q=Object.create(Yn.prototype);xs(Q,m,T),m._byobRequest=Q}return m._byobRequest}function po(m){let C=m._controlledReadableByteStream._state;return C==="errored"?null:C==="closed"?0:m._strategyHWM-m._queueTotalSize}function ua(m,C){let T=m._pendingPullIntos.peek();if(m._controlledReadableByteStream._state==="closed"){if(C!==0)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream")}else{if(C===0)throw new TypeError("bytesWritten must be greater than 0 when calling respond() on a readable stream");if(T.bytesFilled+C>T.byteLength)throw new RangeError("bytesWritten out of range")}T.buffer=gt(T.buffer),G5(m,C)}function Qs(m,C){let T=m._pendingPullIntos.peek();if(m._controlledReadableByteStream._state==="closed"){if(C.byteLength!==0)throw new TypeError("The view's length must be 0 when calling respondWithNewView() on a closed stream")}else if(C.byteLength===0)throw new TypeError("The view's length must be greater than 0 when calling respondWithNewView() on a readable stream");if(T.byteOffset+T.bytesFilled!==C.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(T.bufferByteLength!==C.buffer.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");if(T.bytesFilled+C.byteLength>T.byteLength)throw new RangeError("The region specified by view is larger than byobRequest");let ie=C.byteLength;T.buffer=gt(C.buffer),G5(m,ie)}function K5(m,C,T,Q,ie,se,de){C._controlledReadableByteStream=m,C._pullAgain=!1,C._pulling=!1,C._byobRequest=null,C._queue=C._queueTotalSize=void 0,Ci(C),C._closeRequested=!1,C._started=!1,C._strategyHWM=se,C._pullAlgorithm=Q,C._cancelAlgorithm=ie,C._autoAllocateChunkSize=de,C._pendingPullIntos=new y,m._readableStreamController=C;let Se=T();h(u(Se),()=>(C._started=!0,Mr(C),null),We=>(yn(C,We),null))}function ca(m,C,T){let Q=Object.create(V1.prototype),ie,se,de;C.start!==void 0?ie=()=>C.start(Q):ie=()=>{},C.pull!==void 0?se=()=>C.pull(Q):se=()=>u(void 0),C.cancel!==void 0?de=We=>C.cancel(We):de=()=>u(void 0);let Se=C.autoAllocateChunkSize;if(Se===0)throw new TypeError("autoAllocateChunkSize must be greater than 0");K5(m,Q,ie,se,de,T,Se)}function xs(m,C,T){m._associatedReadableByteStreamController=C,m._view=T}function $s(m){return new TypeError(`ReadableStreamBYOBRequest.prototype.${m} can only be used on a ReadableStreamBYOBRequest`)}function Z1(m){return new TypeError(`ReadableByteStreamController.prototype.${m} can only be used on a ReadableByteStreamController`)}function I1(m,C){Jt(m,C);let T=m==null?void 0:m.mode;return{mode:T===void 0?void 0:ih(T,`${C} has member 'mode' that`)}}function ih(m,C){if(m=`${m}`,m!=="byob")throw new TypeError(`${C} '${m}' is not a valid enumeration value for ReadableStreamReaderMode`);return m}function lh(m,C){var T;Jt(m,C);let Q=(T=m==null?void 0:m.min)!==null&&T!==void 0?T:1;return{min:_i(Q,`${C} has member 'min' that`)}}function X5(m){return new bi(m)}function Q5(m,C){m._reader._readIntoRequests.push(C)}function oh(m,C,T){let ie=m._reader._readIntoRequests.shift();T?ie._closeSteps(C):ie._chunkSteps(C)}function x5(m){return m._reader._readIntoRequests.length}function su(m){let C=m._reader;return!(C===void 0||!D1(C))}class bi{constructor(C){if(Ur(C,1,"ReadableStreamBYOBReader"),pi(C,"First parameter"),ki(C))throw new TypeError("This stream has already been locked for exclusive reading by another reader");if(!xt(C._readableStreamController))throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");$(this,C),this._readIntoRequests=new y}get closed(){return D1(this)?this._closedPromise:c(e0("closed"))}cancel(C=void 0){return D1(this)?this._ownerReadableStream===void 0?c(Te("cancel")):ee(this,C):c(e0("cancel"))}read(C,T={}){if(!D1(this))return c(e0("read"));if(!ArrayBuffer.isView(C))return c(new TypeError("view must be an array buffer view"));if(C.byteLength===0)return c(new TypeError("view must have non-zero byteLength"));if(C.buffer.byteLength===0)return c(new TypeError("view's buffer must have non-zero byteLength"));if(O1(C.buffer))return c(new TypeError("view's buffer has been detached"));let Q;try{Q=lh(T,"options")}catch(De){return c(De)}let ie=Q.min;if(ie===0)return c(new TypeError("options.min must be greater than 0"));if(ou(C)){if(ie>C.byteLength)return c(new RangeError("options.min must be less than or equal to view's byteLength"))}else if(ie>C.length)return c(new RangeError("options.min must be less than or equal to view's length"));if(this._ownerReadableStream===void 0)return c(Te("read from"));let se,de,Se=s((De,Xe)=>{se=De,de=Xe});return $5(this,C,ie,{_chunkSteps:De=>se({value:De,done:!1}),_closeSteps:De=>se({value:De,done:!0}),_errorSteps:De=>de(De)}),Se}releaseLock(){if(!D1(this))throw e0("releaseLock");this._ownerReadableStream!==void 0&&e3(this)}}Object.defineProperties(bi.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),i(bi.prototype.cancel,"cancel"),i(bi.prototype.read,"read"),i(bi.prototype.releaseLock,"releaseLock"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(bi.prototype,Symbol.toStringTag,{value:"ReadableStreamBYOBReader",configurable:!0});function D1(m){return!r(m)||!Object.prototype.hasOwnProperty.call(m,"_readIntoRequests")?!1:m instanceof bi}function $5(m,C,T,Q){let ie=m._ownerReadableStream;ie._disturbed=!0,ie._state==="errored"?Q._errorSteps(ie._storedError):eh(ie._readableStreamController,C,T,Q)}function e3(m){ce(m);let C=new TypeError("Reader was released");t3(m,C)}function t3(m,C){let T=m._readIntoRequests;m._readIntoRequests=new y,T.forEach(Q=>{Q._errorSteps(C)})}function e0(m){return new TypeError(`ReadableStreamBYOBReader.prototype.${m} can only be used on a ReadableStreamBYOBReader`)}function fa(m,C){let{highWaterMark:T}=m;if(T===void 0)return C;if(j5(T)||T<0)throw new RangeError("Invalid highWaterMark");return T}function t0(m){let{size:C}=m;return C||(()=>1)}function r0(m,C){Jt(m,C);let T=m==null?void 0:m.highWaterMark,Q=m==null?void 0:m.size;return{highWaterMark:T===void 0?void 0:gi(T),size:Q===void 0?void 0:ah(Q,`${C} has member 'size' that`)}}function ah(m,C){return jt(m,C),T=>gi(m(T))}function sh(m,C){Jt(m,C);let T=m==null?void 0:m.abort,Q=m==null?void 0:m.close,ie=m==null?void 0:m.start,se=m==null?void 0:m.type,de=m==null?void 0:m.write;return{abort:T===void 0?void 0:uh(T,m,`${C} has member 'abort' that`),close:Q===void 0?void 0:ch(Q,m,`${C} has member 'close' that`),start:ie===void 0?void 0:fh(ie,m,`${C} has member 'start' that`),write:de===void 0?void 0:hh(de,m,`${C} has member 'write' that`),type:se}}function uh(m,C,T){return jt(m,T),Q=>P(m,C,[Q])}function ch(m,C,T){return jt(m,T),()=>P(m,C,[])}function fh(m,C,T){return jt(m,T),Q=>S(m,C,[Q])}function hh(m,C,T){return jt(m,T),(Q,ie)=>P(m,C,[Q,ie])}function r3(m,C){if(!ol(m))throw new TypeError(`${C} is not a WritableStream.`)}function dh(m){if(typeof m!="object"||m===null)return!1;try{return typeof m.aborted=="boolean"}catch(C){return!1}}let mh=typeof AbortController=="function";function gh(){if(mh)return new AbortController}class d1{constructor(C={},T={}){C===void 0?C=null:tn(C,"First parameter");let Q=r0(T,"Second parameter"),ie=sh(C,"First parameter");if(uu(this),ie.type!==void 0)throw new RangeError("Invalid type is specified");let de=t0(Q),Se=fa(Q,1);yh(this,ie,Se,de)}get locked(){if(!ol(this))throw f0("locked");return Co(this)}abort(C=void 0){return ol(this)?Co(this)?c(new TypeError("Cannot abort a stream that already has a writer")):i0(this,C):c(f0("abort"))}close(){return ol(this)?Co(this)?c(new TypeError("Cannot close a stream that already has a writer")):m1(this)?c(new TypeError("Cannot close an already-closing stream")):n3(this):c(f0("close"))}getWriter(){if(!ol(this))throw f0("getWriter");return n0(this)}}Object.defineProperties(d1.prototype,{abort:{enumerable:!0},close:{enumerable:!0},getWriter:{enumerable:!0},locked:{enumerable:!0}}),i(d1.prototype.abort,"abort"),i(d1.prototype.close,"close"),i(d1.prototype.getWriter,"getWriter"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(d1.prototype,Symbol.toStringTag,{value:"WritableStream",configurable:!0});function n0(m){return new N1(m)}function _h(m,C,T,Q,ie=1,se=()=>1){let de=Object.create(d1.prototype);uu(de);let Se=Object.create(bo.prototype);return s3(de,Se,m,C,T,Q,ie,se),de}function uu(m){m._state="writable",m._storedError=void 0,m._writer=void 0,m._writableStreamController=void 0,m._writeRequests=new y,m._inFlightWriteRequest=void 0,m._closeRequest=void 0,m._inFlightCloseRequest=void 0,m._pendingAbortRequest=void 0,m._backpressure=!1}function ol(m){return!r(m)||!Object.prototype.hasOwnProperty.call(m,"_writableStreamController")?!1:m instanceof d1}function Co(m){return m._writer!==void 0}function i0(m,C){var T;if(m._state==="closed"||m._state==="errored")return u(void 0);m._writableStreamController._abortReason=C,(T=m._writableStreamController._abortController)===null||T===void 0||T.abort(C);let Q=m._state;if(Q==="closed"||Q==="errored")return u(void 0);if(m._pendingAbortRequest!==void 0)return m._pendingAbortRequest._promise;let ie=!1;Q==="erroring"&&(ie=!0,C=void 0);let se=s((de,Se)=>{m._pendingAbortRequest={_promise:void 0,_resolve:de,_reject:Se,_reason:C,_wasAlreadyErroring:ie}});return m._pendingAbortRequest._promise=se,ie||Ot(m,C),se}function n3(m){let C=m._state;if(C==="closed"||C==="errored")return c(new TypeError(`The stream (in ${C} state) is not in the writable state and cannot be closed`));let T=s((ie,se)=>{let de={_resolve:ie,_reject:se};m._closeRequest=de}),Q=m._writer;return Q!==void 0&&m._backpressure&&C==="writable"&&ko(Q),u3(m._writableStreamController),T}function ph(m){return s((T,Q)=>{let ie={_resolve:T,_reject:Q};m._writeRequests.push(ie)})}function l0(m,C){if(m._state==="writable"){Ot(m,C);return}al(m)}function Ot(m,C){let T=m._writableStreamController;m._state="erroring",m._storedError=C;let Q=m._writer;Q!==void 0&&u0(Q,C),!o0(m)&&T._started&&al(m)}function al(m){m._state="errored",m._writableStreamController[X]();let C=m._storedError;if(m._writeRequests.forEach(ie=>{ie._reject(C)}),m._writeRequests=new y,m._pendingAbortRequest===void 0){a0(m);return}let T=m._pendingAbortRequest;if(m._pendingAbortRequest=void 0,T._wasAlreadyErroring){T._reject(C),a0(m);return}let Q=m._writableStreamController[W](T._reason);h(Q,()=>(T._resolve(),a0(m),null),ie=>(T._reject(ie),a0(m),null))}function ha(m){m._inFlightWriteRequest._resolve(void 0),m._inFlightWriteRequest=void 0}function Ch(m,C){m._inFlightWriteRequest._reject(C),m._inFlightWriteRequest=void 0,l0(m,C)}function i3(m){m._inFlightCloseRequest._resolve(void 0),m._inFlightCloseRequest=void 0,m._state==="erroring"&&(m._storedError=void 0,m._pendingAbortRequest!==void 0&&(m._pendingAbortRequest._resolve(),m._pendingAbortRequest=void 0)),m._state="closed";let T=m._writer;T!==void 0&&h3(T)}function bh(m,C){m._inFlightCloseRequest._reject(C),m._inFlightCloseRequest=void 0,m._pendingAbortRequest!==void 0&&(m._pendingAbortRequest._reject(C),m._pendingAbortRequest=void 0),l0(m,C)}function m1(m){return!(m._closeRequest===void 0&&m._inFlightCloseRequest===void 0)}function o0(m){return!(m._inFlightWriteRequest===void 0&&m._inFlightCloseRequest===void 0)}function vi(m){m._inFlightCloseRequest=m._closeRequest,m._closeRequest=void 0}function cu(m){m._inFlightWriteRequest=m._writeRequests.shift()}function a0(m){m._closeRequest!==void 0&&(m._closeRequest._reject(m._storedError),m._closeRequest=void 0);let C=m._writer;C!==void 0&&d0(C,m._storedError)}function Jn(m,C){let T=m._writer;T!==void 0&&C!==m._backpressure&&(C?zh(T):ko(T)),m._backpressure=C}class N1{constructor(C){if(Ur(C,1,"WritableStreamDefaultWriter"),r3(C,"First parameter"),Co(C))throw new TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=C,C._writer=this;let T=C._state;if(T==="writable")!m1(C)&&C._backpressure?m0(this):d3(this),Tt(this);else if(T==="erroring")cl(this,C._storedError),Tt(this);else if(T==="closed")d3(this),Mh(this);else{let Q=C._storedError;cl(this,Q),f3(this,Q)}}get closed(){return F1(this)?this._closedPromise:c(ul("closed"))}get desiredSize(){if(!F1(this))throw ul("desiredSize");if(this._ownerWritableStream===void 0)throw wo("desiredSize");return kh(this)}get ready(){return F1(this)?this._readyPromise:c(ul("ready"))}abort(C=void 0){return F1(this)?this._ownerWritableStream===void 0?c(wo("abort")):vh(this,C):c(ul("abort"))}close(){if(!F1(this))return c(ul("close"));let C=this._ownerWritableStream;return C===void 0?c(wo("close")):m1(C)?c(new TypeError("Cannot close an already-closing stream")):l3(this)}releaseLock(){if(!F1(this))throw ul("releaseLock");this._ownerWritableStream!==void 0&&o3(this)}write(C=void 0){return F1(this)?this._ownerWritableStream===void 0?c(wo("write to")):a3(this,C):c(ul("write"))}}Object.defineProperties(N1.prototype,{abort:{enumerable:!0},close:{enumerable:!0},releaseLock:{enumerable:!0},write:{enumerable:!0},closed:{enumerable:!0},desiredSize:{enumerable:!0},ready:{enumerable:!0}}),i(N1.prototype.abort,"abort"),i(N1.prototype.close,"close"),i(N1.prototype.releaseLock,"releaseLock"),i(N1.prototype.write,"write"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(N1.prototype,Symbol.toStringTag,{value:"WritableStreamDefaultWriter",configurable:!0});function F1(m){return!r(m)||!Object.prototype.hasOwnProperty.call(m,"_ownerWritableStream")?!1:m instanceof N1}function vh(m,C){let T=m._ownerWritableStream;return i0(T,C)}function l3(m){let C=m._ownerWritableStream;return n3(C)}function wh(m){let C=m._ownerWritableStream,T=C._state;return m1(C)||T==="closed"?u(void 0):T==="errored"?c(C._storedError):l3(m)}function s0(m,C){m._closedPromiseState==="pending"?d0(m,C):Th(m,C)}function u0(m,C){m._readyPromiseState==="pending"?m3(m,C):g0(m,C)}function kh(m){let C=m._ownerWritableStream,T=C._state;return T==="errored"||T==="erroring"?null:T==="closed"?0:sl(C._writableStreamController)}function o3(m){let C=m._ownerWritableStream,T=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");u0(m,T),s0(m,T),C._writer=void 0,m._ownerWritableStream=void 0}function a3(m,C){let T=m._ownerWritableStream,Q=T._writableStreamController,ie=Lh(Q,C);if(T!==m._ownerWritableStream)return c(wo("write to"));let se=T._state;if(se==="errored")return c(T._storedError);if(m1(T)||se==="closed")return c(new TypeError("The stream is closing or closed and cannot be written to"));if(se==="erroring")return c(T._storedError);let de=ph(T);return Eh(Q,C,ie),de}let fu={};class bo{constructor(){throw new TypeError("Illegal constructor")}get abortReason(){if(!hu(this))throw h0("abortReason");return this._abortReason}get signal(){if(!hu(this))throw h0("signal");if(this._abortController===void 0)throw new TypeError("WritableStreamDefaultController.prototype.signal is not supported");return this._abortController.signal}error(C=void 0){if(!hu(this))throw h0("error");this._controlledWritableStream._state==="writable"&&c3(this,C)}[W](C){let T=this._abortAlgorithm(C);return c0(this),T}[X](){Ci(this)}}Object.defineProperties(bo.prototype,{abortReason:{enumerable:!0},signal:{enumerable:!0},error:{enumerable:!0}}),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(bo.prototype,Symbol.toStringTag,{value:"WritableStreamDefaultController",configurable:!0});function hu(m){return!r(m)||!Object.prototype.hasOwnProperty.call(m,"_controlledWritableStream")?!1:m instanceof bo}function s3(m,C,T,Q,ie,se,de,Se){C._controlledWritableStream=m,m._writableStreamController=C,C._queue=void 0,C._queueTotalSize=void 0,Ci(C),C._abortReason=void 0,C._abortController=gh(),C._started=!1,C._strategySizeAlgorithm=Se,C._strategyHWM=de,C._writeAlgorithm=Q,C._closeAlgorithm=ie,C._abortAlgorithm=se;let We=mu(C);Jn(m,We);let De=T(),Xe=u(De);h(Xe,()=>(C._started=!0,vo(C),null),ot=>(C._started=!0,l0(m,ot),null))}function yh(m,C,T,Q){let ie=Object.create(bo.prototype),se,de,Se,We;C.start!==void 0?se=()=>C.start(ie):se=()=>{},C.write!==void 0?de=De=>C.write(De,ie):de=()=>u(void 0),C.close!==void 0?Se=()=>C.close():Se=()=>u(void 0),C.abort!==void 0?We=De=>C.abort(De):We=()=>u(void 0),s3(m,ie,se,de,Se,We,T,Q)}function c0(m){m._writeAlgorithm=void 0,m._closeAlgorithm=void 0,m._abortAlgorithm=void 0,m._strategySizeAlgorithm=void 0}function u3(m){Me(m,fu,0),vo(m)}function Lh(m,C){try{return m._strategySizeAlgorithm(C)}catch(T){return da(m,T),1}}function sl(m){return m._strategyHWM-m._queueTotalSize}function Eh(m,C,T){try{Me(m,C,T)}catch(ie){da(m,ie);return}let Q=m._controlledWritableStream;if(!m1(Q)&&Q._state==="writable"){let ie=mu(m);Jn(Q,ie)}vo(m)}function vo(m){let C=m._controlledWritableStream;if(!m._started||C._inFlightWriteRequest!==void 0)return;if(C._state==="erroring"){al(C);return}if(m._queue.length===0)return;let Q=$f(m);Q===fu?du(m):Sh(m,Q)}function da(m,C){m._controlledWritableStream._state==="writable"&&c3(m,C)}function du(m){let C=m._controlledWritableStream;vi(C),mo(m);let T=m._closeAlgorithm();c0(m),h(T,()=>(i3(C),null),Q=>(bh(C,Q),null))}function Sh(m,C){let T=m._controlledWritableStream;cu(T);let Q=m._writeAlgorithm(C);h(Q,()=>{ha(T);let ie=T._state;if(mo(m),!m1(T)&&ie==="writable"){let se=mu(m);Jn(T,se)}return vo(m),null},ie=>(T._state==="writable"&&c0(m),Ch(T,ie),null))}function mu(m){return sl(m)<=0}function c3(m,C){let T=m._controlledWritableStream;c0(m),Ot(T,C)}function f0(m){return new TypeError(`WritableStream.prototype.${m} can only be used on a WritableStream`)}function h0(m){return new TypeError(`WritableStreamDefaultController.prototype.${m} can only be used on a WritableStreamDefaultController`)}function ul(m){return new TypeError(`WritableStreamDefaultWriter.prototype.${m} can only be used on a WritableStreamDefaultWriter`)}function wo(m){return new TypeError("Cannot "+m+" a stream using a released writer")}function Tt(m){m._closedPromise=s((C,T)=>{m._closedPromise_resolve=C,m._closedPromise_reject=T,m._closedPromiseState="pending"})}function f3(m,C){Tt(m),d0(m,C)}function Mh(m){Tt(m),h3(m)}function d0(m,C){m._closedPromise_reject!==void 0&&(b(m._closedPromise),m._closedPromise_reject(C),m._closedPromise_resolve=void 0,m._closedPromise_reject=void 0,m._closedPromiseState="rejected")}function Th(m,C){f3(m,C)}function h3(m){m._closedPromise_resolve!==void 0&&(m._closedPromise_resolve(void 0),m._closedPromise_resolve=void 0,m._closedPromise_reject=void 0,m._closedPromiseState="resolved")}function m0(m){m._readyPromise=s((C,T)=>{m._readyPromise_resolve=C,m._readyPromise_reject=T}),m._readyPromiseState="pending"}function cl(m,C){m0(m),m3(m,C)}function d3(m){m0(m),ko(m)}function m3(m,C){m._readyPromise_reject!==void 0&&(b(m._readyPromise),m._readyPromise_reject(C),m._readyPromise_resolve=void 0,m._readyPromise_reject=void 0,m._readyPromiseState="rejected")}function zh(m){m0(m)}function g0(m,C){cl(m,C)}function ko(m){m._readyPromise_resolve!==void 0&&(m._readyPromise_resolve(void 0),m._readyPromise_resolve=void 0,m._readyPromise_reject=void 0,m._readyPromiseState="fulfilled")}function gu(){if(typeof globalThis!="undefined")return globalThis;if(typeof self!="undefined")return self;if(typeof global!="undefined")return global}let _u=gu();function g3(m){if(!(typeof m=="function"||typeof m=="object")||m.name!=="DOMException")return!1;try{return new m,!0}catch(C){return!1}}function Hh(){let m=_u==null?void 0:_u.DOMException;return g3(m)?m:void 0}function pu(){let m=function(T,Q){this.message=T||"",this.name=Q||"Error",Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)};return i(m,"DOMException"),m.prototype=Object.create(Error.prototype),Object.defineProperty(m.prototype,"constructor",{value:m,writable:!0,configurable:!0}),m}let Cu=Hh()||pu();function _0(m,C,T,Q,ie,se){let de=ve(m),Se=n0(C);m._disturbed=!0;let We=!1,De=u(void 0);return s((Xe,ot)=>{let Ht;if(se!==void 0){if(Ht=()=>{let je=se.reason!==void 0?se.reason:new Cu("Aborted","AbortError"),he=[];Q||he.push(()=>C._state==="writable"?i0(C,je):u(void 0)),ie||he.push(()=>m._state==="readable"?Jr(m,je):u(void 0)),Ir(()=>Promise.all(he.map(Vt=>Vt())),!0,je)},se.aborted){Ht();return}se.addEventListener("abort",Ht)}function Ln(){return s((je,he)=>{function Vt(ln){ln?je():f(So(),Vt,he)}Vt(!1)})}function So(){return We?u(!0):f(Se._readyPromise,()=>s((je,he)=>{c1(de,{_chunkSteps:Vt=>{De=f(a3(Se,Vt),void 0,e),je(!1)},_closeSteps:()=>je(!0),_errorSteps:he})}))}if(q1(m,de._closedPromise,je=>(Q?En(!0,je):Ir(()=>i0(C,je),!0,je),null)),q1(C,Se._closedPromise,je=>(ie?En(!0,je):Ir(()=>Jr(m,je),!0,je),null)),er(m,de._closedPromise,()=>(T?En():Ir(()=>wh(Se)),null)),m1(C)||C._state==="closed"){let je=new TypeError("the destination writable stream closed before all data could be piped to it");ie?En(!0,je):Ir(()=>Jr(m,je),!0,je)}b(Ln());function Ei(){let je=De;return f(De,()=>je!==De?Ei():void 0)}function q1(je,he,Vt){je._state==="errored"?Vt(je._storedError):p(he,Vt)}function er(je,he,Vt){je._state==="closed"?Vt():g(he,Vt)}function Ir(je,he,Vt){if(We)return;We=!0,C._state==="writable"&&!m1(C)?g(Ei(),ln):ln();function ln(){return h(je(),()=>W1(he,Vt),gl=>W1(!0,gl)),null}}function En(je,he){We||(We=!0,C._state==="writable"&&!m1(C)?g(Ei(),()=>W1(je,he)):W1(je,he))}function W1(je,he){return o3(Se),ce(de),se!==void 0&&se.removeEventListener("abort",Ht),je?ot(he):Xe(void 0),null}})}class j1{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!p0(this))throw Gr("desiredSize");return bu(this)}close(){if(!p0(this))throw Gr("close");if(!hl(this))throw new TypeError("The stream is not in a state that permits close");fl(this)}enqueue(C=void 0){if(!p0(this))throw Gr("enqueue");if(!hl(this))throw new TypeError("The stream is not in a state that permits enqueue");return yo(this,C)}error(C=void 0){if(!p0(this))throw Gr("error");Kn(this,C)}[x](C){Ci(this);let T=this._cancelAlgorithm(C);return C0(this),T}[le](C){let T=this._controlledReadableStream;if(this._queue.length>0){let Q=mo(this);this._closeRequested&&this._queue.length===0?(C0(this),_a(T)):ma(this),C._chunkSteps(Q)}else la(T,C),ma(this)}[oe](){}}Object.defineProperties(j1.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},desiredSize:{enumerable:!0}}),i(j1.prototype.close,"close"),i(j1.prototype.enqueue,"enqueue"),i(j1.prototype.error,"error"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(j1.prototype,Symbol.toStringTag,{value:"ReadableStreamDefaultController",configurable:!0});function p0(m){return!r(m)||!Object.prototype.hasOwnProperty.call(m,"_controlledReadableStream")?!1:m instanceof j1}function ma(m){if(!_3(m))return;if(m._pulling){m._pullAgain=!0;return}m._pulling=!0;let T=m._pullAlgorithm();h(T,()=>(m._pulling=!1,m._pullAgain&&(m._pullAgain=!1,ma(m)),null),Q=>(Kn(m,Q),null))}function _3(m){let C=m._controlledReadableStream;return!hl(m)||!m._started?!1:!!(ki(C)&&Un(C)>0||bu(m)>0)}function C0(m){m._pullAlgorithm=void 0,m._cancelAlgorithm=void 0,m._strategySizeAlgorithm=void 0}function fl(m){if(!hl(m))return;let C=m._controlledReadableStream;m._closeRequested=!0,m._queue.length===0&&(C0(m),_a(C))}function yo(m,C){if(!hl(m))return;let T=m._controlledReadableStream;if(ki(T)&&Un(T)>0)co(T,C,!1);else{let Q;try{Q=m._strategySizeAlgorithm(C)}catch(ie){throw Kn(m,ie),ie}try{Me(m,C,Q)}catch(ie){throw Kn(m,ie),ie}}ma(m)}function Kn(m,C){let T=m._controlledReadableStream;T._state==="readable"&&(Ci(m),C0(m),L3(T,C))}function bu(m){let C=m._controlledReadableStream._state;return C==="errored"?null:C==="closed"?0:m._strategyHWM-m._queueTotalSize}function Ph(m){return!_3(m)}function hl(m){let C=m._controlledReadableStream._state;return!m._closeRequested&&C==="readable"}function p3(m,C,T,Q,ie,se,de){C._controlledReadableStream=m,C._queue=void 0,C._queueTotalSize=void 0,Ci(C),C._started=!1,C._closeRequested=!1,C._pullAgain=!1,C._pulling=!1,C._strategySizeAlgorithm=de,C._strategyHWM=se,C._pullAlgorithm=Q,C._cancelAlgorithm=ie,m._readableStreamController=C;let Se=T();h(u(Se),()=>(C._started=!0,ma(C),null),We=>(Kn(C,We),null))}function Ah(m,C,T,Q){let ie=Object.create(j1.prototype),se,de,Se;C.start!==void 0?se=()=>C.start(ie):se=()=>{},C.pull!==void 0?de=()=>C.pull(ie):de=()=>u(void 0),C.cancel!==void 0?Se=We=>C.cancel(We):Se=()=>u(void 0),p3(m,ie,se,de,Se,T,Q)}function Gr(m){return new TypeError(`ReadableStreamDefaultController.prototype.${m} can only be used on a ReadableStreamDefaultController`)}function dl(m,C){return xt(m._readableStreamController)?Rh(m):C3(m)}function C3(m,C){let T=ve(m),Q=!1,ie=!1,se=!1,de=!1,Se,We,De,Xe,ot,Ht=s(er=>{ot=er});function Ln(){return Q?(ie=!0,u(void 0)):(Q=!0,c1(T,{_chunkSteps:Ir=>{v(()=>{ie=!1;let En=Ir,W1=Ir;se||yo(De._readableStreamController,En),de||yo(Xe._readableStreamController,W1),Q=!1,ie&&Ln()})},_closeSteps:()=>{Q=!1,se||fl(De._readableStreamController),de||fl(Xe._readableStreamController),(!se||!de)&&ot(void 0)},_errorSteps:()=>{Q=!1}}),u(void 0))}function So(er){if(se=!0,Se=er,de){let Ir=nl([Se,We]),En=Jr(m,Ir);ot(En)}return Ht}function Ei(er){if(de=!0,We=er,se){let Ir=nl([Se,We]),En=Jr(m,Ir);ot(En)}return Ht}function q1(){}return De=ga(q1,Ln,So),Xe=ga(q1,Ln,Ei),p(T._closedPromise,er=>(Kn(De._readableStreamController,er),Kn(Xe._readableStreamController,er),(!se||!de)&&ot(void 0),null)),[De,Xe]}function Rh(m){let C=ve(m),T=!1,Q=!1,ie=!1,se=!1,de=!1,Se,We,De,Xe,ot,Ht=s(je=>{ot=je});function Ln(je){p(je._closedPromise,he=>(je!==C||(yn(De._readableStreamController,he),yn(Xe._readableStreamController,he),(!se||!de)&&ot(void 0)),null))}function So(){D1(C)&&(ce(C),C=ve(m),Ln(C)),c1(C,{_chunkSteps:he=>{v(()=>{Q=!1,ie=!1;let Vt=he,ln=he;if(!se&&!de)try{ln=ho(he)}catch(gl){yn(De._readableStreamController,gl),yn(Xe._readableStreamController,gl),ot(Jr(m,gl));return}se||Ks(De._readableStreamController,Vt),de||Ks(Xe._readableStreamController,ln),T=!1,Q?q1():ie&&er()})},_closeSteps:()=>{T=!1,se||_o(De._readableStreamController),de||_o(Xe._readableStreamController),De._readableStreamController._pendingPullIntos.length>0&&ua(De._readableStreamController,0),Xe._readableStreamController._pendingPullIntos.length>0&&ua(Xe._readableStreamController,0),(!se||!de)&&ot(void 0)},_errorSteps:()=>{T=!1}})}function Ei(je,he){rn(C)&&(ce(C),C=X5(m),Ln(C));let Vt=he?Xe:De,ln=he?De:Xe;$5(C,je,1,{_chunkSteps:ct=>{v(()=>{Q=!1,ie=!1;let U1=he?de:se;if(he?se:de)U1||Qs(Vt._readableStreamController,ct);else{let E0;try{E0=ho(ct)}catch(Su){yn(Vt._readableStreamController,Su),yn(ln._readableStreamController,Su),ot(Jr(m,Su));return}U1||Qs(Vt._readableStreamController,ct),Ks(ln._readableStreamController,E0)}T=!1,Q?q1():ie&&er()})},_closeSteps:ct=>{T=!1;let U1=he?de:se,va=he?se:de;U1||_o(Vt._readableStreamController),va||_o(ln._readableStreamController),ct!==void 0&&(U1||Qs(Vt._readableStreamController,ct),!va&&ln._readableStreamController._pendingPullIntos.length>0&&ua(ln._readableStreamController,0)),(!U1||!va)&&ot(void 0)},_errorSteps:()=>{T=!1}})}function q1(){if(T)return Q=!0,u(void 0);T=!0;let je=Xs(De._readableStreamController);return je===null?So():Ei(je._view,!1),u(void 0)}function er(){if(T)return ie=!0,u(void 0);T=!0;let je=Xs(Xe._readableStreamController);return je===null?So():Ei(je._view,!0),u(void 0)}function Ir(je){if(se=!0,Se=je,de){let he=nl([Se,We]),Vt=Jr(m,he);ot(Vt)}return Ht}function En(je){if(de=!0,We=je,se){let he=nl([Se,We]),Vt=Jr(m,he);ot(Vt)}return Ht}function W1(){}return De=y3(W1,q1,Ir),Xe=y3(W1,er,En),Ln(C),[De,Xe]}function b3(m){return r(m)&&typeof m.getReader!="undefined"}function v3(m){return b3(m)?Oh(m.getReader()):Bh(m)}function Bh(m){let C,T=ll(m,"async"),Q=e;function ie(){let de;try{de=Ys(T)}catch(We){return c(We)}let Se=u(de);return w(Se,We=>{if(!r(We))throw new TypeError("The promise returned by the iterator.next() method must fulfill with an object");if(Qf(We))fl(C._readableStreamController);else{let Xe=Gs(We);yo(C._readableStreamController,Xe)}})}function se(de){let Se=T.iterator,We;try{We=il(Se,"return")}catch(ot){return c(ot)}if(We===void 0)return u(void 0);let De;try{De=S(We,Se,[de])}catch(ot){return c(ot)}let Xe=u(De);return w(Xe,ot=>{if(!r(ot))throw new TypeError("The promise returned by the iterator.return() method must fulfill with an object")})}return C=ga(Q,ie,se,0),C}function Oh(m){let C,T=e;function Q(){let se;try{se=m.read()}catch(de){return c(de)}return w(se,de=>{if(!r(de))throw new TypeError("The promise returned by the reader.read() method must fulfill with an object");if(de.done)fl(C._readableStreamController);else{let Se=de.value;yo(C._readableStreamController,Se)}})}function ie(se){try{return u(m.cancel(se))}catch(de){return c(de)}}return C=ga(T,Q,ie,0),C}function w3(m,C){Jt(m,C);let T=m,Q=T==null?void 0:T.autoAllocateChunkSize,ie=T==null?void 0:T.cancel,se=T==null?void 0:T.pull,de=T==null?void 0:T.start,Se=T==null?void 0:T.type;return{autoAllocateChunkSize:Q===void 0?void 0:_i(Q,`${C} has member 'autoAllocateChunkSize' that`),cancel:ie===void 0?void 0:Vh(ie,T,`${C} has member 'cancel' that`),pull:se===void 0?void 0:Zh(se,T,`${C} has member 'pull' that`),start:de===void 0?void 0:Ih(de,T,`${C} has member 'start' that`),type:Se===void 0?void 0:Dh(Se,`${C} has member 'type' that`)}}function Vh(m,C,T){return jt(m,T),Q=>P(m,C,[Q])}function Zh(m,C,T){return jt(m,T),Q=>P(m,C,[Q])}function Ih(m,C,T){return jt(m,T),Q=>S(m,C,[Q])}function Dh(m,C){if(m=`${m}`,m!=="bytes")throw new TypeError(`${C} '${m}' is not a valid enumeration value for ReadableStreamType`);return m}function Nh(m,C){return Jt(m,C),{preventCancel:!!(m==null?void 0:m.preventCancel)}}function k3(m,C){Jt(m,C);let T=m==null?void 0:m.preventAbort,Q=m==null?void 0:m.preventCancel,ie=m==null?void 0:m.preventClose,se=m==null?void 0:m.signal;return se!==void 0&&Fh(se,`${C} has member 'signal' that`),{preventAbort:!!T,preventCancel:!!Q,preventClose:!!ie,signal:se}}function Fh(m,C){if(!dh(m))throw new TypeError(`${C} is not an AbortSignal.`)}function jh(m,C){Jt(m,C);let T=m==null?void 0:m.readable;mi(T,"readable","ReadableWritablePair"),pi(T,`${C} has member 'readable' that`);let Q=m==null?void 0:m.writable;return mi(Q,"writable","ReadableWritablePair"),r3(Q,`${C} has member 'writable' that`),{readable:T,writable:Q}}class Tr{constructor(C={},T={}){C===void 0?C=null:tn(C,"First parameter");let Q=r0(T,"Second parameter"),ie=w3(C,"First parameter");if(vu(this),ie.type==="bytes"){if(Q.size!==void 0)throw new RangeError("The strategy for a byte stream cannot have a size function");let se=fa(Q,0);ca(this,ie,se)}else{let se=t0(Q),de=fa(Q,1);Ah(this,ie,de,se)}}get locked(){if(!wi(this))throw ml("locked");return ki(this)}cancel(C=void 0){return wi(this)?ki(this)?c(new TypeError("Cannot cancel a stream that already has a reader")):Jr(this,C):c(ml("cancel"))}getReader(C=void 0){if(!wi(this))throw ml("getReader");return I1(C,"First parameter").mode===void 0?ve(this):X5(this)}pipeThrough(C,T={}){if(!wi(this))throw ml("pipeThrough");Ur(C,1,"pipeThrough");let Q=jh(C,"First parameter"),ie=k3(T,"Second parameter");if(ki(this))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(Co(Q.writable))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");let se=_0(this,Q.writable,ie.preventClose,ie.preventAbort,ie.preventCancel,ie.signal);return b(se),Q.readable}pipeTo(C,T={}){if(!wi(this))return c(ml("pipeTo"));if(C===void 0)return c("Parameter 1 is required in 'pipeTo'.");if(!ol(C))return c(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));let Q;try{Q=k3(T,"Second parameter")}catch(ie){return c(ie)}return ki(this)?c(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):Co(C)?c(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):_0(this,C,Q.preventClose,Q.preventAbort,Q.preventCancel,Q.signal)}tee(){if(!wi(this))throw ml("tee");let C=dl(this);return nl(C)}values(C=void 0){if(!wi(this))throw ml("values");let T=Nh(C,"First parameter");return qs(this,T.preventCancel)}[fo](C){return this.values(C)}static from(C){return v3(C)}}Object.defineProperties(Tr,{from:{enumerable:!0}}),Object.defineProperties(Tr.prototype,{cancel:{enumerable:!0},getReader:{enumerable:!0},pipeThrough:{enumerable:!0},pipeTo:{enumerable:!0},tee:{enumerable:!0},values:{enumerable:!0},locked:{enumerable:!0}}),i(Tr.from,"from"),i(Tr.prototype.cancel,"cancel"),i(Tr.prototype.getReader,"getReader"),i(Tr.prototype.pipeThrough,"pipeThrough"),i(Tr.prototype.pipeTo,"pipeTo"),i(Tr.prototype.tee,"tee"),i(Tr.prototype.values,"values"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(Tr.prototype,Symbol.toStringTag,{value:"ReadableStream",configurable:!0}),Object.defineProperty(Tr.prototype,fo,{value:Tr.prototype.values,writable:!0,configurable:!0});function ga(m,C,T,Q=1,ie=()=>1){let se=Object.create(Tr.prototype);vu(se);let de=Object.create(j1.prototype);return p3(se,de,m,C,T,Q,ie),se}function y3(m,C,T){let Q=Object.create(Tr.prototype);vu(Q);let ie=Object.create(V1.prototype);return K5(Q,ie,m,C,T,0,void 0),Q}function vu(m){m._state="readable",m._reader=void 0,m._storedError=void 0,m._disturbed=!1}function wi(m){return!r(m)||!Object.prototype.hasOwnProperty.call(m,"_readableStreamController")?!1:m instanceof Tr}function ki(m){return m._reader!==void 0}function Jr(m,C){if(m._disturbed=!0,m._state==="closed")return u(void 0);if(m._state==="errored")return c(m._storedError);_a(m);let T=m._reader;if(T!==void 0&&D1(T)){let ie=T._readIntoRequests;T._readIntoRequests=new y,ie.forEach(se=>{se._closeSteps(void 0)})}let Q=m._readableStreamController[x](C);return w(Q,e)}function _a(m){m._state="closed";let C=m._reader;if(C!==void 0&&(Dt(C),rn(C))){let T=C._readRequests;C._readRequests=new y,T.forEach(Q=>{Q._closeSteps()})}}function L3(m,C){m._state="errored",m._storedError=C;let T=m._reader;T!==void 0&&(we(T,C),rn(T)?js(T,C):t3(T,C))}function ml(m){return new TypeError(`ReadableStream.prototype.${m} can only be used on a ReadableStream`)}function E3(m,C){Jt(m,C);let T=m==null?void 0:m.highWaterMark;return mi(T,"highWaterMark","QueuingStrategyInit"),{highWaterMark:gi(T)}}let S3=m=>m.byteLength;i(S3,"size");class b0{constructor(C){Ur(C,1,"ByteLengthQueuingStrategy"),C=E3(C,"First parameter"),this._byteLengthQueuingStrategyHighWaterMark=C.highWaterMark}get highWaterMark(){if(!T3(this))throw M3("highWaterMark");return this._byteLengthQueuingStrategyHighWaterMark}get size(){if(!T3(this))throw M3("size");return S3}}Object.defineProperties(b0.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(b0.prototype,Symbol.toStringTag,{value:"ByteLengthQueuingStrategy",configurable:!0});function M3(m){return new TypeError(`ByteLengthQueuingStrategy.prototype.${m} can only be used on a ByteLengthQueuingStrategy`)}function T3(m){return!r(m)||!Object.prototype.hasOwnProperty.call(m,"_byteLengthQueuingStrategyHighWaterMark")?!1:m instanceof b0}let wu=()=>1;i(wu,"size");class pa{constructor(C){Ur(C,1,"CountQueuingStrategy"),C=E3(C,"First parameter"),this._countQueuingStrategyHighWaterMark=C.highWaterMark}get highWaterMark(){if(!Ca(this))throw ku("highWaterMark");return this._countQueuingStrategyHighWaterMark}get size(){if(!Ca(this))throw ku("size");return wu}}Object.defineProperties(pa.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(pa.prototype,Symbol.toStringTag,{value:"CountQueuingStrategy",configurable:!0});function ku(m){return new TypeError(`CountQueuingStrategy.prototype.${m} can only be used on a CountQueuingStrategy`)}function Ca(m){return!r(m)||!Object.prototype.hasOwnProperty.call(m,"_countQueuingStrategyHighWaterMark")?!1:m instanceof pa}function Lo(m,C){Jt(m,C);let T=m==null?void 0:m.cancel,Q=m==null?void 0:m.flush,ie=m==null?void 0:m.readableType,se=m==null?void 0:m.start,de=m==null?void 0:m.transform,Se=m==null?void 0:m.writableType;return{cancel:T===void 0?void 0:H3(T,m,`${C} has member 'cancel' that`),flush:Q===void 0?void 0:v0(Q,m,`${C} has member 'flush' that`),readableType:ie,start:se===void 0?void 0:z3(se,m,`${C} has member 'start' that`),transform:de===void 0?void 0:Eo(de,m,`${C} has member 'transform' that`),writableType:Se}}function v0(m,C,T){return jt(m,T),Q=>P(m,C,[Q])}function z3(m,C,T){return jt(m,T),Q=>S(m,C,[Q])}function Eo(m,C,T){return jt(m,T),(Q,ie)=>P(m,C,[Q,ie])}function H3(m,C,T){return jt(m,T),Q=>P(m,C,[Q])}class ba{constructor(C={},T={},Q={}){C===void 0&&(C=null);let ie=r0(T,"Second parameter"),se=r0(Q,"Third parameter"),de=Lo(C,"First parameter");if(de.readableType!==void 0)throw new RangeError("Invalid readableType specified");if(de.writableType!==void 0)throw new RangeError("Invalid writableType specified");let Se=fa(se,0),We=t0(se),De=fa(ie,1),Xe=t0(ie),ot,Ht=s(Ln=>{ot=Ln});qh(this,Ht,De,Xe,Se,We),Uh(this,de),de.start!==void 0?ot(de.start(this._transformStreamController)):ot(void 0)}get readable(){if(!P3(this))throw O3("readable");return this._readable}get writable(){if(!P3(this))throw O3("writable");return this._writable}}Object.defineProperties(ba.prototype,{readable:{enumerable:!0},writable:{enumerable:!0}}),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(ba.prototype,Symbol.toStringTag,{value:"TransformStream",configurable:!0});function qh(m,C,T,Q,ie,se){function de(){return C}function Se(Ht){return Jh(m,Ht)}function We(Ht){return Kh(m,Ht)}function De(){return Xh(m)}m._writable=_h(de,Se,De,We,T,Q);function Xe(){return Qh(m)}function ot(Ht){return xh(m,Ht)}m._readable=ga(de,Xe,ot,ie,se),m._backpressure=void 0,m._backpressureChangePromise=void 0,m._backpressureChangePromise_resolve=void 0,w0(m,!0),m._transformStreamController=void 0}function P3(m){return!r(m)||!Object.prototype.hasOwnProperty.call(m,"_transformStreamController")?!1:m instanceof ba}function A3(m,C){Kn(m._readable._readableStreamController,C),yu(m,C)}function yu(m,C){y0(m._transformStreamController),da(m._writable._writableStreamController,C),Lu(m)}function Lu(m){m._backpressure&&w0(m,!1)}function w0(m,C){m._backpressureChangePromise!==void 0&&m._backpressureChangePromise_resolve(),m._backpressureChangePromise=s(T=>{m._backpressureChangePromise_resolve=T}),m._backpressure=C}class yi{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!k0(this))throw L0("desiredSize");let C=this._controlledTransformStream._readable._readableStreamController;return bu(C)}enqueue(C=void 0){if(!k0(this))throw L0("enqueue");R3(this,C)}error(C=void 0){if(!k0(this))throw L0("error");Yh(this,C)}terminate(){if(!k0(this))throw L0("terminate");Gh(this)}}Object.defineProperties(yi.prototype,{enqueue:{enumerable:!0},error:{enumerable:!0},terminate:{enumerable:!0},desiredSize:{enumerable:!0}}),i(yi.prototype.enqueue,"enqueue"),i(yi.prototype.error,"error"),i(yi.prototype.terminate,"terminate"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(yi.prototype,Symbol.toStringTag,{value:"TransformStreamDefaultController",configurable:!0});function k0(m){return!r(m)||!Object.prototype.hasOwnProperty.call(m,"_controlledTransformStream")?!1:m instanceof yi}function Wh(m,C,T,Q,ie){C._controlledTransformStream=m,m._transformStreamController=C,C._transformAlgorithm=T,C._flushAlgorithm=Q,C._cancelAlgorithm=ie,C._finishPromise=void 0,C._finishPromise_resolve=void 0,C._finishPromise_reject=void 0}function Uh(m,C){let T=Object.create(yi.prototype),Q,ie,se;C.transform!==void 0?Q=de=>C.transform(de,T):Q=de=>{try{return R3(T,de),u(void 0)}catch(Se){return c(Se)}},C.flush!==void 0?ie=()=>C.flush(T):ie=()=>u(void 0),C.cancel!==void 0?se=de=>C.cancel(de):se=()=>u(void 0),Wh(m,T,Q,ie,se)}function y0(m){m._transformAlgorithm=void 0,m._flushAlgorithm=void 0,m._cancelAlgorithm=void 0}function R3(m,C){let T=m._controlledTransformStream,Q=T._readable._readableStreamController;if(!hl(Q))throw new TypeError("Readable side is not in a state that permits enqueue");try{yo(Q,C)}catch(se){throw yu(T,se),T._readable._storedError}Ph(Q)!==T._backpressure&&w0(T,!0)}function Yh(m,C){A3(m._controlledTransformStream,C)}function B3(m,C){let T=m._transformAlgorithm(C);return w(T,void 0,Q=>{throw A3(m._controlledTransformStream,Q),Q})}function Gh(m){let C=m._controlledTransformStream,T=C._readable._readableStreamController;fl(T);let Q=new TypeError("TransformStream terminated");yu(C,Q)}function Jh(m,C){let T=m._transformStreamController;if(m._backpressure){let Q=m._backpressureChangePromise;return w(Q,()=>{let ie=m._writable;if(ie._state==="erroring")throw ie._storedError;return B3(T,C)})}return B3(T,C)}function Kh(m,C){let T=m._transformStreamController;if(T._finishPromise!==void 0)return T._finishPromise;let Q=m._readable;T._finishPromise=s((se,de)=>{T._finishPromise_resolve=se,T._finishPromise_reject=de});let ie=T._cancelAlgorithm(C);return y0(T),h(ie,()=>(Q._state==="errored"?Li(T,Q._storedError):(Kn(Q._readableStreamController,C),Eu(T)),null),se=>(Kn(Q._readableStreamController,se),Li(T,se),null)),T._finishPromise}function Xh(m){let C=m._transformStreamController;if(C._finishPromise!==void 0)return C._finishPromise;let T=m._readable;C._finishPromise=s((ie,se)=>{C._finishPromise_resolve=ie,C._finishPromise_reject=se});let Q=C._flushAlgorithm();return y0(C),h(Q,()=>(T._state==="errored"?Li(C,T._storedError):(fl(T._readableStreamController),Eu(C)),null),ie=>(Kn(T._readableStreamController,ie),Li(C,ie),null)),C._finishPromise}function Qh(m){return w0(m,!1),m._backpressureChangePromise}function xh(m,C){let T=m._transformStreamController;if(T._finishPromise!==void 0)return T._finishPromise;let Q=m._writable;T._finishPromise=s((se,de)=>{T._finishPromise_resolve=se,T._finishPromise_reject=de});let ie=T._cancelAlgorithm(C);return y0(T),h(ie,()=>(Q._state==="errored"?Li(T,Q._storedError):(da(Q._writableStreamController,C),Lu(m),Eu(T)),null),se=>(da(Q._writableStreamController,se),Lu(m),Li(T,se),null)),T._finishPromise}function L0(m){return new TypeError(`TransformStreamDefaultController.prototype.${m} can only be used on a TransformStreamDefaultController`)}function Eu(m){m._finishPromise_resolve!==void 0&&(m._finishPromise_resolve(),m._finishPromise_resolve=void 0,m._finishPromise_reject=void 0)}function Li(m,C){m._finishPromise_reject!==void 0&&(b(m._finishPromise),m._finishPromise_reject(C),m._finishPromise_resolve=void 0,m._finishPromise_reject=void 0)}function O3(m){return new TypeError(`TransformStream.prototype.${m} can only be used on a TransformStream`)}t.ByteLengthQueuingStrategy=b0,t.CountQueuingStrategy=pa,t.ReadableByteStreamController=V1,t.ReadableStream=Tr,t.ReadableStreamBYOBReader=bi,t.ReadableStreamBYOBRequest=Yn,t.ReadableStreamDefaultController=j1,t.ReadableStreamDefaultReader=Bt,t.TransformStream=ba,t.TransformStreamDefaultController=yi,t.WritableStream=d1,t.WritableStreamDefaultController=bo,t.WritableStreamDefaultWriter=N1})});var $p=ae(()=>{if(!globalThis.ReadableStream)try{let t=require("node:process"),{emitWarning:e}=t;try{t.emitWarning=()=>{},Object.assign(globalThis,require("node:stream/web")),t.emitWarning=e}catch(r){throw t.emitWarning=e,r}}catch(t){Object.assign(globalThis,xp())}try{let{Blob:t}=require("buffer");t&&!t.prototype.stream&&(t.prototype.stream=function(r){let n=0,i=this;return new ReadableStream({type:"bytes",async pull(l){let a=await i.slice(n,Math.min(i.size,n+65536)).arrayBuffer();n+=a.byteLength,l.enqueue(new Uint8Array(a)),n===i.size&&l.close()}})})}catch(t){}});async function*l8(t,e=!0){for(let r of t)if("stream"in r)yield*r.stream();else if(ArrayBuffer.isView(r))if(e){let n=r.byteOffset,i=r.byteOffset+r.byteLength;for(;n!==i;){let l=Math.min(i-n,eC),o=r.buffer.slice(n,n+l);n+=o.byteLength,yield new Uint8Array(o)}}else yield r;else{let n=0,i=r;for(;n!==i.size;){let o=await i.slice(n,Math.min(i.size,n+eC)).arrayBuffer();n+=o.byteLength,yield new Uint8Array(o)}}}var xee,eC,vl,zu,z0,I3,ka,tC,_R,wl,Hu=Tu(()=>{xee=qt($p(),1);eC=65536;tC=(ka=class{constructor(e=[],r={}){Y1(this,vl,[]);Y1(this,zu,"");Y1(this,z0,0);Y1(this,I3,"transparent");if(typeof e!="object"||e===null)throw new TypeError("Failed to construct 'Blob': The provided value cannot be converted to a sequence.");if(typeof e[Symbol.iterator]!="function")throw new TypeError("Failed to construct 'Blob': The object must have a callable @@iterator property.");if(typeof r!="object"&&typeof r!="function")throw new TypeError("Failed to construct 'Blob': parameter 2 cannot convert to dictionary.");r===null&&(r={});let n=new TextEncoder;for(let l of e){let o;ArrayBuffer.isView(l)?o=new Uint8Array(l.buffer.slice(l.byteOffset,l.byteOffset+l.byteLength)):l instanceof ArrayBuffer?o=new Uint8Array(l.slice(0)):l instanceof ka?o=l:o=n.encode(`${l}`),Xn(this,z0,fr(this,z0)+(ArrayBuffer.isView(o)?o.byteLength:o.size)),fr(this,vl).push(o)}Xn(this,I3,`${r.endings===void 0?"transparent":r.endings}`);let i=r.type===void 0?"":String(r.type);Xn(this,zu,/^[\x20-\x7E]*$/.test(i)?i:"")}get size(){return fr(this,z0)}get type(){return fr(this,zu)}async text(){let e=new TextDecoder,r="";for await(let n of l8(fr(this,vl),!1))r+=e.decode(n,{stream:!0});return r+=e.decode(),r}async arrayBuffer(){let e=new Uint8Array(this.size),r=0;for await(let n of l8(fr(this,vl),!1))e.set(n,r),r+=n.length;return e.buffer}stream(){let e=l8(fr(this,vl),!0);return new globalThis.ReadableStream({type:"bytes",async pull(r){let n=await e.next();n.done?r.close():r.enqueue(n.value)},async cancel(){await e.return()}})}slice(e=0,r=this.size,n=""){let{size:i}=this,l=e<0?Math.max(i+e,0):Math.min(e,i),o=r<0?Math.max(i+r,0):Math.min(r,i),a=Math.max(o-l,0),s=fr(this,vl),u=[],c=0;for(let h of s){if(c>=a)break;let g=ArrayBuffer.isView(h)?h.byteLength:h.size;if(l&&g<=l)l-=g,o-=g;else{let p;ArrayBuffer.isView(h)?(p=h.subarray(l,Math.min(g,o)),c+=p.byteLength):(p=h.slice(l,Math.min(g,o)),c+=p.size),o-=g,u.push(p),l=0}}let f=new ka([],{type:String(n).toLowerCase()});return Xn(f,z0,a),Xn(f,vl,u),f}get[Symbol.toStringTag](){return"Blob"}static[Symbol.hasInstance](e){return e&&typeof e=="object"&&typeof e.constructor=="function"&&(typeof e.stream=="function"||typeof e.arrayBuffer=="function")&&/^(Blob|File)$/.test(e[Symbol.toStringTag])}},vl=new WeakMap,zu=new WeakMap,z0=new WeakMap,I3=new WeakMap,ka);Object.defineProperties(tC.prototype,{size:{enumerable:!0},type:{enumerable:!0},slice:{enumerable:!0}});_R=tC,wl=_R});var Pu,Au,rC,pR,CR,H0,o8=Tu(()=>{Hu();pR=(rC=class extends wl{constructor(r,n,i={}){if(arguments.length<2)throw new TypeError(`Failed to construct 'File': 2 arguments required, but only ${arguments.length} present.`);super(r,i);Y1(this,Pu,0);Y1(this,Au,"");i===null&&(i={});let l=i.lastModified===void 0?Date.now():Number(i.lastModified);Number.isNaN(l)||Xn(this,Pu,l),Xn(this,Au,String(n))}get name(){return fr(this,Au)}get lastModified(){return fr(this,Pu)}get[Symbol.toStringTag](){return"File"}static[Symbol.hasInstance](r){return!!r&&r instanceof wl&&/^(File)$/.test(r[Symbol.toStringTag])}},Pu=new WeakMap,Au=new WeakMap,rC),CR=pR,H0=CR});function oC(t,e=wl){var r=`${nC()}${nC()}`.replace(/\./g,"").slice(-28).padStart(32,"-"),n=[],i=`--${r}\r
Content-Disposition: form-data; name="`;return t.forEach((l,o)=>typeof l=="string"?n.push(i+a8(o)+`"\r
\r
${l.replace(/\r(?!\n)|(?<!\r)\n/g,`\r
`)}\r
`):n.push(i+a8(o)+`"; filename="${a8(l.name,1)}"\r
Content-Type: ${l.type||"application/octet-stream"}\r
\r
`,l,`\r
`)),n.push(`--${r}--`),new e(n,{type:"multipart/form-data; boundary="+r})}var Ru,bR,vR,nC,wR,iC,a8,ya,g1,lC,La,D3=Tu(()=>{Hu();o8();({toStringTag:Ru,iterator:bR,hasInstance:vR}=Symbol),nC=Math.random,wR="append,set,get,getAll,delete,keys,values,entries,forEach,constructor".split(","),iC=(t,e,r)=>(t+="",/^(Blob|File)$/.test(e&&e[Ru])?[(r=r!==void 0?r+"":e[Ru]=="File"?e.name:"blob",t),e.name!==r||e[Ru]=="blob"?new H0([e],r,e):e]:[t,e+""]),a8=(t,e)=>(e?t:t.replace(/\r?\n|\r/g,`\r
`)).replace(/\n/g,"%0A").replace(/\r/g,"%0D").replace(/"/g,"%22"),ya=(t,e,r)=>{if(e.length<r)throw new TypeError(`Failed to execute '${t}' on 'FormData': ${r} arguments required, but only ${e.length} present.`)},La=(lC=class{constructor(...e){Y1(this,g1,[]);if(e.length)throw new TypeError("Failed to construct 'FormData': parameter 1 is not of type 'HTMLFormElement'.")}get[Ru](){return"FormData"}[bR](){return this.entries()}static[vR](e){return e&&typeof e=="object"&&e[Ru]==="FormData"&&!wR.some(r=>typeof e[r]!="function")}append(...e){ya("append",arguments,2),fr(this,g1).push(iC(...e))}delete(e){ya("delete",arguments,1),e+="",Xn(this,g1,fr(this,g1).filter(([r])=>r!==e))}get(e){ya("get",arguments,1),e+="";for(var r=fr(this,g1),n=r.length,i=0;i<n;i++)if(r[i][0]===e)return r[i][1];return null}getAll(e,r){return ya("getAll",arguments,1),r=[],e+="",fr(this,g1).forEach(n=>n[0]===e&&r.push(n[1])),r}has(e){return ya("has",arguments,1),e+="",fr(this,g1).some(r=>r[0]===e)}forEach(e,r){ya("forEach",arguments,1);for(var[n,i]of this)e.call(r,i,n,this)}set(...e){ya("set",arguments,2);var r=[],n=!0;e=iC(...e),fr(this,g1).forEach(i=>{i[0]===e[0]?n&&(n=!r.push(e)):r.push(i)}),n&&r.push(e),Xn(this,g1,r)}*entries(){yield*fr(this,g1)}*keys(){for(var[e]of this)yield e}*values(){for(var[,e]of this)yield e}},g1=new WeakMap,lC)});var fC=ae((mte,cC)=>{if(!globalThis.DOMException)try{let{MessageChannel:t}=require("worker_threads"),e=new t().port1,r=new ArrayBuffer;e.postMessage(r,[r,r])}catch(t){t.constructor.name==="DOMException"&&(globalThis.DOMException=t.constructor)}cC.exports=globalThis.DOMException});var F3,kR,pte,u8=Tu(()=>{F3=require("node:fs"),kR=qt(fC(),1);o8();Hu();({stat:pte}=F3.promises)});var dC={};t8(dC,{toFormData:()=>zR});function TR(t){let e=t.match(/\bfilename=("(.*?)"|([^()<>@,;:\\"/[\]?={}\s\t]+))($|;\s)/i);if(!e)return;let r=e[2]||e[3]||"",n=r.slice(r.lastIndexOf("\\")+1);return n=n.replace(/%22/g,'"'),n=n.replace(/&#(\d{4});/g,(i,l)=>String.fromCharCode(l)),n}async function zR(t,e){if(!/multipart/i.test(e))throw new TypeError("Failed to fetch");let r=e.match(/boundary=(?:"([^"]+)"|([^;]+))/i);if(!r)throw new TypeError("no or bad content-type header, no multipart boundary");let n=new c8(r[1]||r[2]),i,l,o,a,s,u,c=[],f=new La,h=v=>{o+=b.decode(v,{stream:!0})},g=v=>{c.push(v)},p=()=>{let v=new H0(c,u,{type:s});f.append(a,v)},w=()=>{f.append(a,o)},b=new TextDecoder("utf-8");b.decode(),n.onPartBegin=function(){n.onPartData=h,n.onPartEnd=w,i="",l="",o="",a="",s="",u=null,c.length=0},n.onHeaderField=function(v){i+=b.decode(v,{stream:!0})},n.onHeaderValue=function(v){l+=b.decode(v,{stream:!0})},n.onHeaderEnd=function(){if(l+=b.decode(),i=i.toLowerCase(),i==="content-disposition"){let v=l.match(/\bname=("([^"]*)"|([^()<>@,;:\\"/[\]?={}\s\t]+))/i);v&&(a=v[2]||v[3]||""),u=TR(l),u&&(n.onPartData=g,n.onPartEnd=p)}else i==="content-type"&&(s=l);l="",i=""};for await(let v of t)n.write(v);return n.end(),f}var Si,Wt,hC,To,j3,q3,yR,Ou,LR,ER,SR,MR,Ea,c8,mC=Tu(()=>{u8();D3();Si=0,Wt={START_BOUNDARY:Si++,HEADER_FIELD_START:Si++,HEADER_FIELD:Si++,HEADER_VALUE_START:Si++,HEADER_VALUE:Si++,HEADER_VALUE_ALMOST_DONE:Si++,HEADERS_ALMOST_DONE:Si++,PART_DATA_START:Si++,PART_DATA:Si++,END:Si++},hC=1,To={PART_BOUNDARY:hC,LAST_BOUNDARY:hC*=2},j3=10,q3=13,yR=32,Ou=45,LR=58,ER=97,SR=122,MR=t=>t|32,Ea=()=>{},c8=class{constructor(e){this.index=0,this.flags=0,this.onHeaderEnd=Ea,this.onHeaderField=Ea,this.onHeadersEnd=Ea,this.onHeaderValue=Ea,this.onPartBegin=Ea,this.onPartData=Ea,this.onPartEnd=Ea,this.boundaryChars={},e=`\r
--`+e;let r=new Uint8Array(e.length);for(let n=0;n<e.length;n++)r[n]=e.charCodeAt(n),this.boundaryChars[r[n]]=!0;this.boundary=r,this.lookbehind=new Uint8Array(this.boundary.length+8),this.state=Wt.START_BOUNDARY}write(e){let r=0,n=e.length,i=this.index,{lookbehind:l,boundary:o,boundaryChars:a,index:s,state:u,flags:c}=this,f=this.boundary.length,h=f-1,g=e.length,p,w,b=Z=>{this[Z+"Mark"]=r},v=Z=>{delete this[Z+"Mark"]},S=(Z,y,W,X)=>{(y===void 0||y!==W)&&this[Z](X&&X.subarray(y,W))},P=(Z,y)=>{let W=Z+"Mark";W in this&&(y?(S(Z,this[W],r,e),delete this[W]):(S(Z,this[W],e.length,e),this[W]=0))};for(r=0;r<n;r++)switch(p=e[r],u){case Wt.START_BOUNDARY:if(s===o.length-2){if(p===Ou)c|=To.LAST_BOUNDARY;else if(p!==q3)return;s++;break}else if(s-1===o.length-2){if(c&To.LAST_BOUNDARY&&p===Ou)u=Wt.END,c=0;else if(!(c&To.LAST_BOUNDARY)&&p===j3)s=0,S("onPartBegin"),u=Wt.HEADER_FIELD_START;else return;break}p!==o[s+2]&&(s=-2),p===o[s+2]&&s++;break;case Wt.HEADER_FIELD_START:u=Wt.HEADER_FIELD,b("onHeaderField"),s=0;case Wt.HEADER_FIELD:if(p===q3){v("onHeaderField"),u=Wt.HEADERS_ALMOST_DONE;break}if(s++,p===Ou)break;if(p===LR){if(s===1)return;P("onHeaderField",!0),u=Wt.HEADER_VALUE_START;break}if(w=MR(p),w<ER||w>SR)return;break;case Wt.HEADER_VALUE_START:if(p===yR)break;b("onHeaderValue"),u=Wt.HEADER_VALUE;case Wt.HEADER_VALUE:p===q3&&(P("onHeaderValue",!0),S("onHeaderEnd"),u=Wt.HEADER_VALUE_ALMOST_DONE);break;case Wt.HEADER_VALUE_ALMOST_DONE:if(p!==j3)return;u=Wt.HEADER_FIELD_START;break;case Wt.HEADERS_ALMOST_DONE:if(p!==j3)return;S("onHeadersEnd"),u=Wt.PART_DATA_START;break;case Wt.PART_DATA_START:u=Wt.PART_DATA,b("onPartData");case Wt.PART_DATA:if(i=s,s===0){for(r+=h;r<g&&!(e[r]in a);)r+=f;r-=h,p=e[r]}if(s<o.length)o[s]===p?(s===0&&P("onPartData",!0),s++):s=0;else if(s===o.length)s++,p===q3?c|=To.PART_BOUNDARY:p===Ou?c|=To.LAST_BOUNDARY:s=0;else if(s-1===o.length)if(c&To.PART_BOUNDARY){if(s=0,p===j3){c&=~To.PART_BOUNDARY,S("onPartEnd"),S("onPartBegin"),u=Wt.HEADER_FIELD_START;break}}else c&To.LAST_BOUNDARY&&p===Ou?(S("onPartEnd"),u=Wt.END,c=0):s=0;if(s>0)l[s-1]=p;else if(i>0){let Z=new Uint8Array(l.buffer,l.byteOffset,l.byteLength);S("onPartData",0,i,Z),i=0,b("onPartData"),r--}break;case Wt.END:break;default:throw new Error(`Unexpected state entered: ${u}`)}P("onHeaderField"),P("onHeaderValue"),P("onPartData"),this.index=s,this.state=u,this.flags=c}end(){if(this.state===Wt.HEADER_FIELD_START&&this.index===0||this.state===Wt.PART_DATA&&this.index===this.boundary.length)this.onPartEnd();else if(this.state!==Wt.END)throw new Error("MultipartParser.end(): stream ended unexpectedly")}}});var yw=ae((Jue,kw)=>{"use strict";kw.exports=function(t,e){if(typeof t!="string")throw new TypeError("Expected a string");return e=typeof e=="undefined"?"_":e,t.replace(/([a-z\d])([A-Z])/g,"$1"+e+"$2").replace(/([A-Z]+)([A-Z][a-z\d]+)/g,"$1"+e+"$2").toLowerCase()}});var Hw=ae((Kue,Dd)=>{"use strict";var HI=/[\p{Lu}]/u,PI=/[\p{Ll}]/u,Lw=/^[\p{Lu}](?![\p{Lu}])/gu,Mw=/([\p{Alpha}\p{N}_]|$)/u,Tw=/[_.\- ]+/,AI=new RegExp("^"+Tw.source),Ew=new RegExp(Tw.source+Mw.source,"gu"),Sw=new RegExp("\\d+"+Mw.source,"gu"),RI=(t,e,r)=>{let n=!1,i=!1,l=!1;for(let o=0;o<t.length;o++){let a=t[o];n&&HI.test(a)?(t=t.slice(0,o)+"-"+t.slice(o),n=!1,l=i,i=!0,o++):i&&l&&PI.test(a)?(t=t.slice(0,o-1)+"-"+t.slice(o-1),l=i,i=!1,n=!0):(n=e(a)===a&&r(a)!==a,l=i,i=r(a)===a&&e(a)!==a)}return t},BI=(t,e)=>(Lw.lastIndex=0,t.replace(Lw,r=>e(r))),OI=(t,e)=>(Ew.lastIndex=0,Sw.lastIndex=0,t.replace(Ew,(r,n)=>e(n)).replace(Sw,r=>e(r))),zw=(t,e)=>{if(!(typeof t=="string"||Array.isArray(t)))throw new TypeError("Expected the input to be `string | string[]`");if(e={pascalCase:!1,preserveConsecutiveUppercase:!1,...e},Array.isArray(t)?t=t.map(l=>l.trim()).filter(l=>l.length).join("-"):t=t.trim(),t.length===0)return"";let r=e.locale===!1?l=>l.toLowerCase():l=>l.toLocaleLowerCase(e.locale),n=e.locale===!1?l=>l.toUpperCase():l=>l.toLocaleUpperCase(e.locale);return t.length===1?e.pascalCase?n(t):r(t):(t!==r(t)&&(t=RI(t,r,n)),t=t.replace(AI,""),e.preserveConsecutiveUppercase?t=BI(t,r):t=r(t),e.pascalCase&&(t=n(t.charAt(0))+t.slice(1)),OI(t,n))};Dd.exports=zw;Dd.exports.default=zw});var Nw=ae((z9e,Dw)=>{function v1(t,e){typeof e=="boolean"&&(e={forever:e}),this._originalTimeouts=JSON.parse(JSON.stringify(t)),this._timeouts=t,this._options=e||{},this._maxRetryTime=e&&e.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._timer=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}Dw.exports=v1;v1.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts.slice(0)};v1.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timer&&clearTimeout(this._timer),this._timeouts=[],this._cachedTimeouts=null};v1.prototype.retry=function(t){if(this._timeout&&clearTimeout(this._timeout),!t)return!1;var e=new Date().getTime();if(t&&e-this._operationStart>=this._maxRetryTime)return this._errors.push(t),this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(t);var r=this._timeouts.shift();if(r===void 0)if(this._cachedTimeouts)this._errors.splice(0,this._errors.length-1),r=this._cachedTimeouts.slice(-1);else return!1;var n=this;return this._timer=setTimeout(function(){n._attempts++,n._operationTimeoutCb&&(n._timeout=setTimeout(function(){n._operationTimeoutCb(n._attempts)},n._operationTimeout),n._options.unref&&n._timeout.unref()),n._fn(n._attempts)},r),this._options.unref&&this._timer.unref(),!0};v1.prototype.attempt=function(t,e){this._fn=t,e&&(e.timeout&&(this._operationTimeout=e.timeout),e.cb&&(this._operationTimeoutCb=e.cb));var r=this;this._operationTimeoutCb&&(this._timeout=setTimeout(function(){r._operationTimeoutCb()},r._operationTimeout)),this._operationStart=new Date().getTime(),this._fn(this._attempts)};v1.prototype.try=function(t){console.log("Using RetryOperation.try() is deprecated"),this.attempt(t)};v1.prototype.start=function(t){console.log("Using RetryOperation.start() is deprecated"),this.attempt(t)};v1.prototype.start=v1.prototype.try;v1.prototype.errors=function(){return this._errors};v1.prototype.attempts=function(){return this._attempts};v1.prototype.mainError=function(){if(this._errors.length===0)return null;for(var t={},e=null,r=0,n=0;n<this._errors.length;n++){var i=this._errors[n],l=i.message,o=(t[l]||0)+1;t[l]=o,o>=r&&(e=i,r=o)}return e}});var Fw=ae(xa=>{var YI=Nw();xa.operation=function(t){var e=xa.timeouts(t);return new YI(e,{forever:t&&(t.forever||t.retries===1/0),unref:t&&t.unref,maxRetryTime:t&&t.maxRetryTime})};xa.timeouts=function(t){if(t instanceof Array)return[].concat(t);var e={retries:10,factor:2,minTimeout:1*1e3,maxTimeout:1/0,randomize:!1};for(var r in t)e[r]=t[r];if(e.minTimeout>e.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var n=[],i=0;i<e.retries;i++)n.push(this.createTimeout(i,e));return t&&t.forever&&!n.length&&n.push(this.createTimeout(i,e)),n.sort(function(l,o){return l-o}),n};xa.createTimeout=function(t,e){var r=e.randomize?Math.random()+1:1,n=Math.round(r*Math.max(e.minTimeout,1)*Math.pow(e.factor,t));return n=Math.min(n,e.maxTimeout),n};xa.wrap=function(t,e,r){if(e instanceof Array&&(r=e,e=null),!r){r=[];for(var n in t)typeof t[n]=="function"&&r.push(n)}for(var i=0;i<r.length;i++){var l=r[i],o=t[l];t[l]=function(s){var u=xa.operation(e),c=Array.prototype.slice.call(arguments,1),f=c.pop();c.push(function(h){u.retry(h)||(h&&(arguments[0]=u.mainError()),f.apply(this,arguments))}),u.attempt(function(){s.apply(t,c)})}.bind(t,o),t[l].options=e}}});var qw=ae((P9e,jw)=>{jw.exports=Fw()});var Hc=ae((A9e,zc)=>{"use strict";var GI=qw(),JI=["Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Network request failed"],Tc=class extends Error{constructor(e){super(),e instanceof Error?(this.originalError=e,{message:e}=e):(this.originalError=new Error(e),this.originalError.stack=this.stack),this.name="AbortError",this.message=e}},KI=(t,e,r)=>{let n=r.retries-(e-1);return t.attemptNumber=e,t.retriesLeft=n,t},XI=t=>JI.includes(t),Ww=(t,e)=>new Promise((r,n)=>{e={onFailedAttempt:()=>{},retries:10,...e};let i=GI.operation(e);i.attempt(async l=>{try{r(await t(l))}catch(o){if(!(o instanceof Error)){n(new TypeError(`Non-error was thrown: "${o}". You should only throw errors.`));return}if(o instanceof Tc)i.stop(),n(o.originalError);else if(o instanceof TypeError&&!XI(o.message))i.stop(),n(o);else{KI(o,l,e);try{await e.onFailedAttempt(o)}catch(a){n(a);return}i.retry(o)||n(i.mainError())}}})});zc.exports=Ww;zc.exports.default=Ww;zc.exports.AbortError=Tc});var Uw=ae(Pc=>{"use strict";Object.defineProperty(Pc,"__esModule",{value:!0});Pc.default=void 0;var R9e=Pc.default="ffffffff-ffff-ffff-ffff-ffffffffffff"});var Yw=ae(Ac=>{"use strict";Object.defineProperty(Ac,"__esModule",{value:!0});Ac.default=void 0;var O9e=Ac.default="00000000-0000-0000-0000-000000000000"});var Gw=ae(Rc=>{"use strict";Object.defineProperty(Rc,"__esModule",{value:!0});Rc.default=void 0;var Z9e=Rc.default=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-8][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/i});var c9=ae(Bc=>{"use strict";Object.defineProperty(Bc,"__esModule",{value:!0});Bc.default=void 0;var QI=xI(Gw());function xI(t){return t&&t.__esModule?t:{default:t}}function $I(t){return typeof t=="string"&&QI.default.test(t)}var D9e=Bc.default=$I});var f9=ae(Oc=>{"use strict";Object.defineProperty(Oc,"__esModule",{value:!0});Oc.default=void 0;var eD=tD(c9());function tD(t){return t&&t.__esModule?t:{default:t}}function rD(t){if(!(0,eD.default)(t))throw TypeError("Invalid UUID");let e,r=new Uint8Array(16);return r[0]=(e=parseInt(t.slice(0,8),16))>>>24,r[1]=e>>>16&255,r[2]=e>>>8&255,r[3]=e&255,r[4]=(e=parseInt(t.slice(9,13),16))>>>8,r[5]=e&255,r[6]=(e=parseInt(t.slice(14,18),16))>>>8,r[7]=e&255,r[8]=(e=parseInt(t.slice(19,23),16))>>>8,r[9]=e&255,r[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,r[11]=e/4294967296&255,r[12]=e>>>24&255,r[13]=e>>>16&255,r[14]=e>>>8&255,r[15]=e&255,r}var F9e=Oc.default=rD});var Ol=ae(h9=>{"use strict";Object.defineProperty(h9,"__esModule",{value:!0});h9.default=void 0;h9.unsafeStringify=Jw;var nD=iD(c9());function iD(t){return t&&t.__esModule?t:{default:t}}var Dr=[];for(let t=0;t<256;++t)Dr.push((t+256).toString(16).slice(1));function Jw(t,e=0){return(Dr[t[e+0]]+Dr[t[e+1]]+Dr[t[e+2]]+Dr[t[e+3]]+"-"+Dr[t[e+4]]+Dr[t[e+5]]+"-"+Dr[t[e+6]]+Dr[t[e+7]]+"-"+Dr[t[e+8]]+Dr[t[e+9]]+"-"+Dr[t[e+10]]+Dr[t[e+11]]+Dr[t[e+12]]+Dr[t[e+13]]+Dr[t[e+14]]+Dr[t[e+15]]).toLowerCase()}function lD(t,e=0){let r=Jw(t,e);if(!(0,nD.default)(r))throw TypeError("Stringified UUID is invalid");return r}var q9e=h9.default=lD});var Ic=ae(qd=>{"use strict";Object.defineProperty(qd,"__esModule",{value:!0});qd.default=sD;var oD=aD(require("node:crypto"));function aD(t){return t&&t.__esModule?t:{default:t}}var Zc=new Uint8Array(256),Vc=Zc.length;function sD(){return Vc>Zc.length-16&&(oD.default.randomFillSync(Zc),Vc=0),Zc.slice(Vc,Vc+=16)}});var Gd=ae(Nc=>{"use strict";Object.defineProperty(Nc,"__esModule",{value:!0});Nc.default=void 0;var uD=fD(Ic()),cD=Ol();function fD(t){return t&&t.__esModule?t:{default:t}}var Wd,Dc,Ud=0,Yd=0;function hD(t,e,r){let n=e&&r||0,i=e||new Array(16);t=t||{};let l=t.node,o=t.clockseq;if(t._v6||(l||(l=Wd),o==null&&(o=Dc)),l==null||o==null){let h=t.random||(t.rng||uD.default)();l==null&&(l=[h[0],h[1],h[2],h[3],h[4],h[5]],!Wd&&!t._v6&&(l[0]|=1,Wd=l)),o==null&&(o=(h[6]<<8|h[7])&16383,Dc===void 0&&!t._v6&&(Dc=o))}let a=t.msecs!==void 0?t.msecs:Date.now(),s=t.nsecs!==void 0?t.nsecs:Yd+1,u=a-Ud+(s-Yd)/1e4;if(u<0&&t.clockseq===void 0&&(o=o+1&16383),(u<0||a>Ud)&&t.nsecs===void 0&&(s=0),s>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");Ud=a,Yd=s,Dc=o,a+=122192928e5;let c=((a&268435455)*1e4+s)%4294967296;i[n++]=c>>>24&255,i[n++]=c>>>16&255,i[n++]=c>>>8&255,i[n++]=c&255;let f=a/4294967296*1e4&268435455;i[n++]=f>>>8&255,i[n++]=f&255,i[n++]=f>>>24&15|16,i[n++]=f>>>16&255,i[n++]=o>>>8|128,i[n++]=o&255;for(let h=0;h<6;++h)i[n+h]=l[h];return e||(0,cD.unsafeStringify)(i)}var Y9e=Nc.default=hD});var Kd=ae(Jd=>{"use strict";Object.defineProperty(Jd,"__esModule",{value:!0});Jd.default=_D;var dD=gD(f9()),mD=Ol();function gD(t){return t&&t.__esModule?t:{default:t}}function _D(t){let e=typeof t=="string"?(0,dD.default)(t):t,r=pD(e);return typeof t=="string"?(0,mD.unsafeStringify)(r):r}function pD(t,e=!1){return Uint8Array.of((t[6]&15)<<4|t[7]>>4&15,(t[7]&15)<<4|(t[4]&240)>>4,(t[4]&15)<<4|(t[5]&240)>>4,(t[5]&15)<<4|(t[0]&240)>>4,(t[0]&15)<<4|(t[1]&240)>>4,(t[1]&15)<<4|(t[2]&240)>>4,96|t[2]&15,t[3],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15])}});var Xd=ae($a=>{"use strict";Object.defineProperty($a,"__esModule",{value:!0});$a.URL=$a.DNS=void 0;$a.default=LD;var CD=Ol(),bD=vD(f9());function vD(t){return t&&t.__esModule?t:{default:t}}function wD(t){t=unescape(encodeURIComponent(t));let e=[];for(let r=0;r<t.length;++r)e.push(t.charCodeAt(r));return e}var kD=$a.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",yD=$a.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function LD(t,e,r){function n(i,l,o,a){var s;if(typeof i=="string"&&(i=wD(i)),typeof l=="string"&&(l=(0,bD.default)(l)),((s=l)===null||s===void 0?void 0:s.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let u=new Uint8Array(16+i.length);if(u.set(l),u.set(i,l.length),u=r(u),u[6]=u[6]&15|e,u[8]=u[8]&63|128,o){a=a||0;for(let c=0;c<16;++c)o[a+c]=u[c];return o}return(0,CD.unsafeStringify)(u)}try{n.name=t}catch(i){}return n.DNS=kD,n.URL=yD,n}});var Kw=ae(Fc=>{"use strict";Object.defineProperty(Fc,"__esModule",{value:!0});Fc.default=void 0;var ED=SD(require("node:crypto"));function SD(t){return t&&t.__esModule?t:{default:t}}function MD(t){return Array.isArray(t)?t=Buffer.from(t):typeof t=="string"&&(t=Buffer.from(t,"utf8")),ED.default.createHash("md5").update(t).digest()}var X9e=Fc.default=MD});var Qw=ae(jc=>{"use strict";Object.defineProperty(jc,"__esModule",{value:!0});jc.default=void 0;var TD=Xw(Xd()),zD=Xw(Kw());function Xw(t){return t&&t.__esModule?t:{default:t}}var HD=(0,TD.default)("v3",48,zD.default),x9e=jc.default=HD});var xw=ae(qc=>{"use strict";Object.defineProperty(qc,"__esModule",{value:!0});qc.default=void 0;var PD=AD(require("node:crypto"));function AD(t){return t&&t.__esModule?t:{default:t}}var e5e=qc.default={randomUUID:PD.default.randomUUID}});var tk=ae(Wc=>{"use strict";Object.defineProperty(Wc,"__esModule",{value:!0});Wc.default=void 0;var $w=ek(xw()),RD=ek(Ic()),BD=Ol();function ek(t){return t&&t.__esModule?t:{default:t}}function OD(t,e,r){if($w.default.randomUUID&&!e&&!t)return $w.default.randomUUID();t=t||{};let n=t.random||(t.rng||RD.default)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){r=r||0;for(let i=0;i<16;++i)e[r+i]=n[i];return e}return(0,BD.unsafeStringify)(n)}var r5e=Wc.default=OD});var rk=ae(Uc=>{"use strict";Object.defineProperty(Uc,"__esModule",{value:!0});Uc.default=void 0;var VD=ZD(require("node:crypto"));function ZD(t){return t&&t.__esModule?t:{default:t}}function ID(t){return Array.isArray(t)?t=Buffer.from(t):typeof t=="string"&&(t=Buffer.from(t,"utf8")),VD.default.createHash("sha1").update(t).digest()}var i5e=Uc.default=ID});var ik=ae(Yc=>{"use strict";Object.defineProperty(Yc,"__esModule",{value:!0});Yc.default=void 0;var DD=nk(Xd()),ND=nk(rk());function nk(t){return t&&t.__esModule?t:{default:t}}var FD=(0,DD.default)("v5",80,ND.default),o5e=Yc.default=FD});var ok=ae(Qd=>{"use strict";Object.defineProperty(Qd,"__esModule",{value:!0});Qd.default=UD;var jD=Ol(),qD=lk(Gd()),WD=lk(Kd());function lk(t){return t&&t.__esModule?t:{default:t}}function UD(t={},e,r=0){let n=(0,qD.default)({...t,_v6:!0},new Uint8Array(16));if(n=(0,WD.default)(n),e){for(let i=0;i<16;i++)e[r+i]=n[i];return e}return(0,jD.unsafeStringify)(n)}});var ak=ae(xd=>{"use strict";Object.defineProperty(xd,"__esModule",{value:!0});xd.default=KD;var YD=JD(f9()),GD=Ol();function JD(t){return t&&t.__esModule?t:{default:t}}function KD(t){let e=typeof t=="string"?(0,YD.default)(t):t,r=XD(e);return typeof t=="string"?(0,GD.unsafeStringify)(r):r}function XD(t){return Uint8Array.of((t[3]&15)<<4|t[4]>>4&15,(t[4]&15)<<4|(t[5]&240)>>4,(t[5]&15)<<4|t[6]&15,t[7],(t[1]&15)<<4|(t[2]&240)>>4,(t[2]&15)<<4|(t[3]&240)>>4,16|(t[0]&240)>>4,(t[0]&15)<<4|(t[1]&240)>>4,t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15])}});var ck=ae(Gc=>{"use strict";Object.defineProperty(Gc,"__esModule",{value:!0});Gc.default=void 0;var QD=$D(Ic()),xD=Ol();function $D(t){return t&&t.__esModule?t:{default:t}}var sk=null,uk=null,ti=0;function eN(t,e,r){t=t||{};let n=e&&r||0,i=e||new Uint8Array(16),l=t.random||(t.rng||QD.default)(),o=t.msecs!==void 0?t.msecs:Date.now(),a=t.seq!==void 0?t.seq:null,s=uk,u=sk;return o>ti&&t.msecs===void 0&&(ti=o,a!==null&&(s=null,u=null)),a!==null&&(a>2147483647&&(a=2147483647),s=a>>>19&4095,u=a&524287),(s===null||u===null)&&(s=l[6]&127,s=s<<8|l[7],u=l[8]&63,u=u<<8|l[9],u=u<<5|l[10]>>>3),o+1e4>ti&&a===null?++u>524287&&(u=0,++s>4095&&(s=0,ti++)):ti=o,uk=s,sk=u,i[n++]=ti/1099511627776&255,i[n++]=ti/4294967296&255,i[n++]=ti/16777216&255,i[n++]=ti/65536&255,i[n++]=ti/256&255,i[n++]=ti&255,i[n++]=s>>>4&15|112,i[n++]=s&255,i[n++]=u>>>13&63|128,i[n++]=u>>>5&255,i[n++]=u<<3&255|l[10]&7,i[n++]=l[11],i[n++]=l[12],i[n++]=l[13],i[n++]=l[14],i[n++]=l[15],e||(0,xD.unsafeStringify)(i)}var c5e=Gc.default=eN});var fk=ae(Jc=>{"use strict";Object.defineProperty(Jc,"__esModule",{value:!0});Jc.default=void 0;var tN=rN(c9());function rN(t){return t&&t.__esModule?t:{default:t}}function nN(t){if(!(0,tN.default)(t))throw TypeError("Invalid UUID");return parseInt(t.slice(14,15),16)}var h5e=Jc.default=nN});var hk=ae(Xr=>{"use strict";Object.defineProperty(Xr,"__esModule",{value:!0});Object.defineProperty(Xr,"MAX",{enumerable:!0,get:function(){return iN.default}});Object.defineProperty(Xr,"NIL",{enumerable:!0,get:function(){return lN.default}});Object.defineProperty(Xr,"parse",{enumerable:!0,get:function(){return oN.default}});Object.defineProperty(Xr,"stringify",{enumerable:!0,get:function(){return aN.default}});Object.defineProperty(Xr,"v1",{enumerable:!0,get:function(){return sN.default}});Object.defineProperty(Xr,"v1ToV6",{enumerable:!0,get:function(){return uN.default}});Object.defineProperty(Xr,"v3",{enumerable:!0,get:function(){return cN.default}});Object.defineProperty(Xr,"v4",{enumerable:!0,get:function(){return fN.default}});Object.defineProperty(Xr,"v5",{enumerable:!0,get:function(){return hN.default}});Object.defineProperty(Xr,"v6",{enumerable:!0,get:function(){return dN.default}});Object.defineProperty(Xr,"v6ToV1",{enumerable:!0,get:function(){return mN.default}});Object.defineProperty(Xr,"v7",{enumerable:!0,get:function(){return gN.default}});Object.defineProperty(Xr,"validate",{enumerable:!0,get:function(){return _N.default}});Object.defineProperty(Xr,"version",{enumerable:!0,get:function(){return pN.default}});var iN=An(Uw()),lN=An(Yw()),oN=An(f9()),aN=An(Ol()),sN=An(Gd()),uN=An(Kd()),cN=An(Qw()),fN=An(tk()),hN=An(ik()),dN=An(ok()),mN=An(ak()),gN=An(ck()),_N=An(c9()),pN=An(fk());function An(t){return t&&t.__esModule?t:{default:t}}});var mk=ae((M5e,$d)=>{"use strict";var CN=Object.prototype.hasOwnProperty,dn="~";function d9(){}Object.create&&(d9.prototype=Object.create(null),new d9().__proto__||(dn=!1));function bN(t,e,r){this.fn=t,this.context=e,this.once=r||!1}function dk(t,e,r,n,i){if(typeof r!="function")throw new TypeError("The listener must be a function");var l=new bN(r,n||t,i),o=dn?dn+e:e;return t._events[o]?t._events[o].fn?t._events[o]=[t._events[o],l]:t._events[o].push(l):(t._events[o]=l,t._eventsCount++),t}function Xc(t,e){--t._eventsCount===0?t._events=new d9:delete t._events[e]}function Qr(){this._events=new d9,this._eventsCount=0}Qr.prototype.eventNames=function(){var e=[],r,n;if(this._eventsCount===0)return e;for(n in r=this._events)CN.call(r,n)&&e.push(dn?n.slice(1):n);return Object.getOwnPropertySymbols?e.concat(Object.getOwnPropertySymbols(r)):e};Qr.prototype.listeners=function(e){var r=dn?dn+e:e,n=this._events[r];if(!n)return[];if(n.fn)return[n.fn];for(var i=0,l=n.length,o=new Array(l);i<l;i++)o[i]=n[i].fn;return o};Qr.prototype.listenerCount=function(e){var r=dn?dn+e:e,n=this._events[r];return n?n.fn?1:n.length:0};Qr.prototype.emit=function(e,r,n,i,l,o){var a=dn?dn+e:e;if(!this._events[a])return!1;var s=this._events[a],u=arguments.length,c,f;if(s.fn){switch(s.once&&this.removeListener(e,s.fn,void 0,!0),u){case 1:return s.fn.call(s.context),!0;case 2:return s.fn.call(s.context,r),!0;case 3:return s.fn.call(s.context,r,n),!0;case 4:return s.fn.call(s.context,r,n,i),!0;case 5:return s.fn.call(s.context,r,n,i,l),!0;case 6:return s.fn.call(s.context,r,n,i,l,o),!0}for(f=1,c=new Array(u-1);f<u;f++)c[f-1]=arguments[f];s.fn.apply(s.context,c)}else{var h=s.length,g;for(f=0;f<h;f++)switch(s[f].once&&this.removeListener(e,s[f].fn,void 0,!0),u){case 1:s[f].fn.call(s[f].context);break;case 2:s[f].fn.call(s[f].context,r);break;case 3:s[f].fn.call(s[f].context,r,n);break;case 4:s[f].fn.call(s[f].context,r,n,i);break;default:if(!c)for(g=1,c=new Array(u-1);g<u;g++)c[g-1]=arguments[g];s[f].fn.apply(s[f].context,c)}}return!0};Qr.prototype.on=function(e,r,n){return dk(this,e,r,n,!1)};Qr.prototype.once=function(e,r,n){return dk(this,e,r,n,!0)};Qr.prototype.removeListener=function(e,r,n,i){var l=dn?dn+e:e;if(!this._events[l])return this;if(!r)return Xc(this,l),this;var o=this._events[l];if(o.fn)o.fn===r&&(!i||o.once)&&(!n||o.context===n)&&Xc(this,l);else{for(var a=0,s=[],u=o.length;a<u;a++)(o[a].fn!==r||i&&!o[a].once||n&&o[a].context!==n)&&s.push(o[a]);s.length?this._events[l]=s.length===1?s[0]:s:Xc(this,l)}return this};Qr.prototype.removeAllListeners=function(e){var r;return e?(r=dn?dn+e:e,this._events[r]&&Xc(this,r)):(this._events=new d9,this._eventsCount=0),this};Qr.prototype.off=Qr.prototype.removeListener;Qr.prototype.addListener=Qr.prototype.on;Qr.prefixed=dn;Qr.EventEmitter=Qr;typeof $d!="undefined"&&($d.exports=Qr)});var _k=ae((T5e,gk)=>{"use strict";gk.exports=(t,e)=>(e=e||(()=>{}),t.then(r=>new Promise(n=>{n(e())}).then(()=>r),r=>new Promise(n=>{n(e())}).then(()=>{throw r})))});var Ck=ae((z5e,xc)=>{"use strict";var vN=_k(),Qc=class extends Error{constructor(e){super(e),this.name="TimeoutError"}},pk=(t,e,r)=>new Promise((n,i)=>{if(typeof e!="number"||e<0)throw new TypeError("Expected `milliseconds` to be a positive number");if(e===1/0){n(t);return}let l=setTimeout(()=>{if(typeof r=="function"){try{n(r())}catch(s){i(s)}return}let o=typeof r=="string"?r:`Promise timed out after ${e} milliseconds`,a=r instanceof Error?r:new Qc(o);typeof t.cancel=="function"&&t.cancel(),i(a)},e);vN(t.then(n,i),()=>{clearTimeout(l)})});xc.exports=pk;xc.exports.default=pk;xc.exports.TimeoutError=Qc});var bk=ae(e6=>{"use strict";Object.defineProperty(e6,"__esModule",{value:!0});function wN(t,e,r){let n=0,i=t.length;for(;i>0;){let l=i/2|0,o=n+l;r(t[o],e)<=0?(n=++o,i-=l+1):i=l}return n}e6.default=wN});var vk=ae(r6=>{"use strict";Object.defineProperty(r6,"__esModule",{value:!0});var kN=bk(),t6=class{constructor(){this._queue=[]}enqueue(e,r){r=Object.assign({priority:0},r);let n={priority:r.priority,run:e};if(this.size&&this._queue[this.size-1].priority>=r.priority){this._queue.push(n);return}let i=kN.default(this._queue,n,(l,o)=>o.priority-l.priority);this._queue.splice(i,0,n)}dequeue(){let e=this._queue.shift();return e==null?void 0:e.run}filter(e){return this._queue.filter(r=>r.priority===e.priority).map(r=>r.run)}get size(){return this._queue.length}};r6.default=t6});var e7=ae(i6=>{"use strict";Object.defineProperty(i6,"__esModule",{value:!0});var yN=mk(),wk=Ck(),LN=vk(),$c=()=>{},EN=new wk.TimeoutError,n6=class extends yN{constructor(e){var r,n,i,l;if(super(),this._intervalCount=0,this._intervalEnd=0,this._pendingCount=0,this._resolveEmpty=$c,this._resolveIdle=$c,e=Object.assign({carryoverConcurrencyCount:!1,intervalCap:1/0,interval:0,concurrency:1/0,autoStart:!0,queueClass:LN.default},e),!(typeof e.intervalCap=="number"&&e.intervalCap>=1))throw new TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${(n=(r=e.intervalCap)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:""}\` (${typeof e.intervalCap})`);if(e.interval===void 0||!(Number.isFinite(e.interval)&&e.interval>=0))throw new TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${(l=(i=e.interval)===null||i===void 0?void 0:i.toString())!==null&&l!==void 0?l:""}\` (${typeof e.interval})`);this._carryoverConcurrencyCount=e.carryoverConcurrencyCount,this._isIntervalIgnored=e.intervalCap===1/0||e.interval===0,this._intervalCap=e.intervalCap,this._interval=e.interval,this._queue=new e.queueClass,this._queueClass=e.queueClass,this.concurrency=e.concurrency,this._timeout=e.timeout,this._throwOnTimeout=e.throwOnTimeout===!0,this._isPaused=e.autoStart===!1}get _doesIntervalAllowAnother(){return this._isIntervalIgnored||this._intervalCount<this._intervalCap}get _doesConcurrentAllowAnother(){return this._pendingCount<this._concurrency}_next(){this._pendingCount--,this._tryToStartAnother(),this.emit("next")}_resolvePromises(){this._resolveEmpty(),this._resolveEmpty=$c,this._pendingCount===0&&(this._resolveIdle(),this._resolveIdle=$c,this.emit("idle"))}_onResumeInterval(){this._onInterval(),this._initializeIntervalIfNeeded(),this._timeoutId=void 0}_isIntervalPaused(){let e=Date.now();if(this._intervalId===void 0){let r=this._intervalEnd-e;if(r<0)this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0;else return this._timeoutId===void 0&&(this._timeoutId=setTimeout(()=>{this._onResumeInterval()},r)),!0}return!1}_tryToStartAnother(){if(this._queue.size===0)return this._intervalId&&clearInterval(this._intervalId),this._intervalId=void 0,this._resolvePromises(),!1;if(!this._isPaused){let e=!this._isIntervalPaused();if(this._doesIntervalAllowAnother&&this._doesConcurrentAllowAnother){let r=this._queue.dequeue();return r?(this.emit("active"),r(),e&&this._initializeIntervalIfNeeded(),!0):!1}}return!1}_initializeIntervalIfNeeded(){this._isIntervalIgnored||this._intervalId!==void 0||(this._intervalId=setInterval(()=>{this._onInterval()},this._interval),this._intervalEnd=Date.now()+this._interval)}_onInterval(){this._intervalCount===0&&this._pendingCount===0&&this._intervalId&&(clearInterval(this._intervalId),this._intervalId=void 0),this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0,this._processQueue()}_processQueue(){for(;this._tryToStartAnother(););}get concurrency(){return this._concurrency}set concurrency(e){if(!(typeof e=="number"&&e>=1))throw new TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${e}\` (${typeof e})`);this._concurrency=e,this._processQueue()}async add(e,r={}){return new Promise((n,i)=>{let l=async()=>{this._pendingCount++,this._intervalCount++;try{let o=this._timeout===void 0&&r.timeout===void 0?e():wk.default(Promise.resolve(e()),r.timeout===void 0?this._timeout:r.timeout,()=>{(r.throwOnTimeout===void 0?this._throwOnTimeout:r.throwOnTimeout)&&i(EN)});n(await o)}catch(o){i(o)}this._next()};this._queue.enqueue(l,r),this._tryToStartAnother(),this.emit("add")})}async addAll(e,r){return Promise.all(e.map(async n=>this.add(n,r)))}start(){return this._isPaused?(this._isPaused=!1,this._processQueue(),this):this}pause(){this._isPaused=!0}clear(){this._queue=new this._queueClass}async onEmpty(){if(this._queue.size!==0)return new Promise(e=>{let r=this._resolveEmpty;this._resolveEmpty=()=>{r(),e()}})}async onIdle(){if(!(this._pendingCount===0&&this._queue.size===0))return new Promise(e=>{let r=this._resolveIdle;this._resolveIdle=()=>{r(),e()}})}get size(){return this._queue.size}sizeBy(e){return this._queue.filter(e).length}get pending(){return this._pendingCount}get isPaused(){return this._isPaused}get timeout(){return this._timeout}set timeout(e){this._timeout=e}};i6.default=n6});var g9=ae((D5e,Lk)=>{var HN="2.0.0",PN=Number.MAX_SAFE_INTEGER||9007199254740991,AN=16,RN=250,BN=["major","premajor","minor","preminor","patch","prepatch","prerelease"];Lk.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:AN,MAX_SAFE_BUILD_LENGTH:RN,MAX_SAFE_INTEGER:PN,RELEASE_TYPES:BN,SEMVER_SPEC_VERSION:HN,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}});var _9=ae((N5e,Ek)=>{var ON=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};Ek.exports=ON});var r2=ae((Vl,Sk)=>{var{MAX_SAFE_COMPONENT_LENGTH:a6,MAX_SAFE_BUILD_LENGTH:VN,MAX_LENGTH:ZN}=g9(),IN=_9();Vl=Sk.exports={};var DN=Vl.re=[],NN=Vl.safeRe=[],Ae=Vl.src=[],Re=Vl.t={},FN=0,s6="[a-zA-Z0-9-]",jN=[["\\s",1],["\\d",ZN],[s6,VN]],qN=t=>{for(let[e,r]of jN)t=t.split(`${e}*`).join(`${e}{0,${r}}`).split(`${e}+`).join(`${e}{1,${r}}`);return t},rt=(t,e,r)=>{let n=qN(e),i=FN++;IN(t,i,e),Re[t]=i,Ae[i]=e,DN[i]=new RegExp(e,r?"g":void 0),NN[i]=new RegExp(n,r?"g":void 0)};rt("NUMERICIDENTIFIER","0|[1-9]\\d*");rt("NUMERICIDENTIFIERLOOSE","\\d+");rt("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${s6}*`);rt("MAINVERSION",`(${Ae[Re.NUMERICIDENTIFIER]})\\.(${Ae[Re.NUMERICIDENTIFIER]})\\.(${Ae[Re.NUMERICIDENTIFIER]})`);rt("MAINVERSIONLOOSE",`(${Ae[Re.NUMERICIDENTIFIERLOOSE]})\\.(${Ae[Re.NUMERICIDENTIFIERLOOSE]})\\.(${Ae[Re.NUMERICIDENTIFIERLOOSE]})`);rt("PRERELEASEIDENTIFIER",`(?:${Ae[Re.NUMERICIDENTIFIER]}|${Ae[Re.NONNUMERICIDENTIFIER]})`);rt("PRERELEASEIDENTIFIERLOOSE",`(?:${Ae[Re.NUMERICIDENTIFIERLOOSE]}|${Ae[Re.NONNUMERICIDENTIFIER]})`);rt("PRERELEASE",`(?:-(${Ae[Re.PRERELEASEIDENTIFIER]}(?:\\.${Ae[Re.PRERELEASEIDENTIFIER]})*))`);rt("PRERELEASELOOSE",`(?:-?(${Ae[Re.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${Ae[Re.PRERELEASEIDENTIFIERLOOSE]})*))`);rt("BUILDIDENTIFIER",`${s6}+`);rt("BUILD",`(?:\\+(${Ae[Re.BUILDIDENTIFIER]}(?:\\.${Ae[Re.BUILDIDENTIFIER]})*))`);rt("FULLPLAIN",`v?${Ae[Re.MAINVERSION]}${Ae[Re.PRERELEASE]}?${Ae[Re.BUILD]}?`);rt("FULL",`^${Ae[Re.FULLPLAIN]}$`);rt("LOOSEPLAIN",`[v=\\s]*${Ae[Re.MAINVERSIONLOOSE]}${Ae[Re.PRERELEASELOOSE]}?${Ae[Re.BUILD]}?`);rt("LOOSE",`^${Ae[Re.LOOSEPLAIN]}$`);rt("GTLT","((?:<|>)?=?)");rt("XRANGEIDENTIFIERLOOSE",`${Ae[Re.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);rt("XRANGEIDENTIFIER",`${Ae[Re.NUMERICIDENTIFIER]}|x|X|\\*`);rt("XRANGEPLAIN",`[v=\\s]*(${Ae[Re.XRANGEIDENTIFIER]})(?:\\.(${Ae[Re.XRANGEIDENTIFIER]})(?:\\.(${Ae[Re.XRANGEIDENTIFIER]})(?:${Ae[Re.PRERELEASE]})?${Ae[Re.BUILD]}?)?)?`);rt("XRANGEPLAINLOOSE",`[v=\\s]*(${Ae[Re.XRANGEIDENTIFIERLOOSE]})(?:\\.(${Ae[Re.XRANGEIDENTIFIERLOOSE]})(?:\\.(${Ae[Re.XRANGEIDENTIFIERLOOSE]})(?:${Ae[Re.PRERELEASELOOSE]})?${Ae[Re.BUILD]}?)?)?`);rt("XRANGE",`^${Ae[Re.GTLT]}\\s*${Ae[Re.XRANGEPLAIN]}$`);rt("XRANGELOOSE",`^${Ae[Re.GTLT]}\\s*${Ae[Re.XRANGEPLAINLOOSE]}$`);rt("COERCEPLAIN",`(^|[^\\d])(\\d{1,${a6}})(?:\\.(\\d{1,${a6}}))?(?:\\.(\\d{1,${a6}}))?`);rt("COERCE",`${Ae[Re.COERCEPLAIN]}(?:$|[^\\d])`);rt("COERCEFULL",Ae[Re.COERCEPLAIN]+`(?:${Ae[Re.PRERELEASE]})?(?:${Ae[Re.BUILD]})?(?:$|[^\\d])`);rt("COERCERTL",Ae[Re.COERCE],!0);rt("COERCERTLFULL",Ae[Re.COERCEFULL],!0);rt("LONETILDE","(?:~>?)");rt("TILDETRIM",`(\\s*)${Ae[Re.LONETILDE]}\\s+`,!0);Vl.tildeTrimReplace="$1~";rt("TILDE",`^${Ae[Re.LONETILDE]}${Ae[Re.XRANGEPLAIN]}$`);rt("TILDELOOSE",`^${Ae[Re.LONETILDE]}${Ae[Re.XRANGEPLAINLOOSE]}$`);rt("LONECARET","(?:\\^)");rt("CARETTRIM",`(\\s*)${Ae[Re.LONECARET]}\\s+`,!0);Vl.caretTrimReplace="$1^";rt("CARET",`^${Ae[Re.LONECARET]}${Ae[Re.XRANGEPLAIN]}$`);rt("CARETLOOSE",`^${Ae[Re.LONECARET]}${Ae[Re.XRANGEPLAINLOOSE]}$`);rt("COMPARATORLOOSE",`^${Ae[Re.GTLT]}\\s*(${Ae[Re.LOOSEPLAIN]})$|^$`);rt("COMPARATOR",`^${Ae[Re.GTLT]}\\s*(${Ae[Re.FULLPLAIN]})$|^$`);rt("COMPARATORTRIM",`(\\s*)${Ae[Re.GTLT]}\\s*(${Ae[Re.LOOSEPLAIN]}|${Ae[Re.XRANGEPLAIN]})`,!0);Vl.comparatorTrimReplace="$1$2$3";rt("HYPHENRANGE",`^\\s*(${Ae[Re.XRANGEPLAIN]})\\s+-\\s+(${Ae[Re.XRANGEPLAIN]})\\s*$`);rt("HYPHENRANGELOOSE",`^\\s*(${Ae[Re.XRANGEPLAINLOOSE]})\\s+-\\s+(${Ae[Re.XRANGEPLAINLOOSE]})\\s*$`);rt("STAR","(<|>)?=?\\s*\\*");rt("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");rt("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var n7=ae((F5e,Mk)=>{var WN=Object.freeze({loose:!0}),UN=Object.freeze({}),YN=t=>t?typeof t!="object"?WN:t:UN;Mk.exports=YN});var u6=ae((j5e,Hk)=>{var Tk=/^[0-9]+$/,zk=(t,e)=>{let r=Tk.test(t),n=Tk.test(e);return r&&n&&(t=+t,e=+e),t===e?0:r&&!n?-1:n&&!r?1:t<e?-1:1},GN=(t,e)=>zk(e,t);Hk.exports={compareIdentifiers:zk,rcompareIdentifiers:GN}});var xr=ae((q5e,Bk)=>{var i7=_9(),{MAX_LENGTH:Pk,MAX_SAFE_INTEGER:l7}=g9(),{safeRe:Ak,t:Rk}=r2(),JN=n7(),{compareIdentifiers:n2}=u6(),c6=class t{constructor(e,r){if(r=JN(r),e instanceof t){if(e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>Pk)throw new TypeError(`version is longer than ${Pk} characters`);i7("SemVer",e,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;let n=e.trim().match(r.loose?Ak[Rk.LOOSE]:Ak[Rk.FULL]);if(!n)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>l7||this.major<0)throw new TypeError("Invalid major version");if(this.minor>l7||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>l7||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){let l=+i;if(l>=0&&l<l7)return l}return i}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(i7("SemVer.compare",this.version,this.options,e),!(e instanceof t)){if(typeof e=="string"&&e===this.version)return 0;e=new t(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof t||(e=new t(e,this.options)),n2(this.major,e.major)||n2(this.minor,e.minor)||n2(this.patch,e.patch)}comparePre(e){if(e instanceof t||(e=new t(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let r=0;do{let n=this.prerelease[r],i=e.prerelease[r];if(i7("prerelease compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return n2(n,i)}while(++r)}compareBuild(e){e instanceof t||(e=new t(e,this.options));let r=0;do{let n=this.build[r],i=e.build[r];if(i7("build compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return n2(n,i)}while(++r)}inc(e,r,n){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r,n),this.inc("pre",r,n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r,n),this.inc("pre",r,n);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{let i=Number(n)?1:0;if(!r&&n===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[i];else{let l=this.prerelease.length;for(;--l>=0;)typeof this.prerelease[l]=="number"&&(this.prerelease[l]++,l=-2);if(l===-1){if(r===this.prerelease.join(".")&&n===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(i)}}if(r){let l=[r,i];n===!1&&(l=[r]),n2(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=l):this.prerelease=l}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};Bk.exports=c6});var ts=ae((W5e,Vk)=>{var Ok=xr(),KN=(t,e,r=!1)=>{if(t instanceof Ok)return t;try{return new Ok(t,e)}catch(n){if(!r)return null;throw n}};Vk.exports=KN});var Ik=ae((U5e,Zk)=>{var XN=ts(),QN=(t,e)=>{let r=XN(t,e);return r?r.version:null};Zk.exports=QN});var Nk=ae((Y5e,Dk)=>{var xN=ts(),$N=(t,e)=>{let r=xN(t.trim().replace(/^[=v]+/,""),e);return r?r.version:null};Dk.exports=$N});var qk=ae((G5e,jk)=>{var Fk=xr(),eF=(t,e,r,n,i)=>{typeof r=="string"&&(i=n,n=r,r=void 0);try{return new Fk(t instanceof Fk?t.version:t,r).inc(e,n,i).version}catch(l){return null}};jk.exports=eF});var Yk=ae((J5e,Uk)=>{var Wk=ts(),tF=(t,e)=>{let r=Wk(t,null,!0),n=Wk(e,null,!0),i=r.compare(n);if(i===0)return null;let l=i>0,o=l?r:n,a=l?n:r,s=!!o.prerelease.length;if(!!a.prerelease.length&&!s)return!a.patch&&!a.minor?"major":o.patch?"patch":o.minor?"minor":"major";let c=s?"pre":"";return r.major!==n.major?c+"major":r.minor!==n.minor?c+"minor":r.patch!==n.patch?c+"patch":"prerelease"};Uk.exports=tF});var Jk=ae((K5e,Gk)=>{var rF=xr(),nF=(t,e)=>new rF(t,e).major;Gk.exports=nF});var Xk=ae((X5e,Kk)=>{var iF=xr(),lF=(t,e)=>new iF(t,e).minor;Kk.exports=lF});var xk=ae((Q5e,Qk)=>{var oF=xr(),aF=(t,e)=>new oF(t,e).patch;Qk.exports=aF});var ey=ae((x5e,$k)=>{var sF=ts(),uF=(t,e)=>{let r=sF(t,e);return r&&r.prerelease.length?r.prerelease:null};$k.exports=uF});var w1=ae(($5e,ry)=>{var ty=xr(),cF=(t,e,r)=>new ty(t,r).compare(new ty(e,r));ry.exports=cF});var iy=ae((e3e,ny)=>{var fF=w1(),hF=(t,e,r)=>fF(e,t,r);ny.exports=hF});var oy=ae((t3e,ly)=>{var dF=w1(),mF=(t,e)=>dF(t,e,!0);ly.exports=mF});var o7=ae((r3e,sy)=>{var ay=xr(),gF=(t,e,r)=>{let n=new ay(t,r),i=new ay(e,r);return n.compare(i)||n.compareBuild(i)};sy.exports=gF});var cy=ae((n3e,uy)=>{var _F=o7(),pF=(t,e)=>t.sort((r,n)=>_F(r,n,e));uy.exports=pF});var hy=ae((i3e,fy)=>{var CF=o7(),bF=(t,e)=>t.sort((r,n)=>CF(n,r,e));fy.exports=bF});var p9=ae((l3e,dy)=>{var vF=w1(),wF=(t,e,r)=>vF(t,e,r)>0;dy.exports=wF});var a7=ae((o3e,my)=>{var kF=w1(),yF=(t,e,r)=>kF(t,e,r)<0;my.exports=yF});var f6=ae((a3e,gy)=>{var LF=w1(),EF=(t,e,r)=>LF(t,e,r)===0;gy.exports=EF});var h6=ae((s3e,_y)=>{var SF=w1(),MF=(t,e,r)=>SF(t,e,r)!==0;_y.exports=MF});var s7=ae((u3e,py)=>{var TF=w1(),zF=(t,e,r)=>TF(t,e,r)>=0;py.exports=zF});var u7=ae((c3e,Cy)=>{var HF=w1(),PF=(t,e,r)=>HF(t,e,r)<=0;Cy.exports=PF});var d6=ae((f3e,by)=>{var AF=f6(),RF=h6(),BF=p9(),OF=s7(),VF=a7(),ZF=u7(),IF=(t,e,r,n)=>{switch(e){case"===":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t===r;case"!==":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t!==r;case"":case"=":case"==":return AF(t,r,n);case"!=":return RF(t,r,n);case">":return BF(t,r,n);case">=":return OF(t,r,n);case"<":return VF(t,r,n);case"<=":return ZF(t,r,n);default:throw new TypeError(`Invalid operator: ${e}`)}};by.exports=IF});var wy=ae((h3e,vy)=>{var DF=xr(),NF=ts(),{safeRe:c7,t:f7}=r2(),FF=(t,e)=>{if(t instanceof DF)return t;if(typeof t=="number"&&(t=String(t)),typeof t!="string")return null;e=e||{};let r=null;if(!e.rtl)r=t.match(e.includePrerelease?c7[f7.COERCEFULL]:c7[f7.COERCE]);else{let s=e.includePrerelease?c7[f7.COERCERTLFULL]:c7[f7.COERCERTL],u;for(;(u=s.exec(t))&&(!r||r.index+r[0].length!==t.length);)(!r||u.index+u[0].length!==r.index+r[0].length)&&(r=u),s.lastIndex=u.index+u[1].length+u[2].length;s.lastIndex=-1}if(r===null)return null;let n=r[2],i=r[3]||"0",l=r[4]||"0",o=e.includePrerelease&&r[5]?`-${r[5]}`:"",a=e.includePrerelease&&r[6]?`+${r[6]}`:"";return NF(`${n}.${i}.${l}${o}${a}`,e)};vy.exports=FF});var yy=ae((d3e,ky)=>{var m6=class{constructor(){this.max=1e3,this.map=new Map}get(e){let r=this.map.get(e);if(r!==void 0)return this.map.delete(e),this.map.set(e,r),r}delete(e){return this.map.delete(e)}set(e,r){if(!this.delete(e)&&r!==void 0){if(this.map.size>=this.max){let i=this.map.keys().next().value;this.delete(i)}this.map.set(e,r)}return this}};ky.exports=m6});var k1=ae((m3e,My)=>{var jF=/\s+/g,g6=class t{constructor(e,r){if(r=WF(r),e instanceof t)return e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease?e:new t(e.raw,r);if(e instanceof _6)return this.raw=e.value,this.set=[[e]],this.formatted=void 0,this;if(this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease,this.raw=e.trim().replace(jF," "),this.set=this.raw.split("||").map(n=>this.parseRange(n.trim())).filter(n=>n.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let n=this.set[0];if(this.set=this.set.filter(i=>!Ey(i[0])),this.set.length===0)this.set=[n];else if(this.set.length>1){for(let i of this.set)if(i.length===1&&QF(i[0])){this.set=[i];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let e=0;e<this.set.length;e++){e>0&&(this.formatted+="||");let r=this.set[e];for(let n=0;n<r.length;n++)n>0&&(this.formatted+=" "),this.formatted+=r[n].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(e){let n=((this.options.includePrerelease&&KF)|(this.options.loose&&XF))+":"+e,i=Ly.get(n);if(i)return i;let l=this.options.loose,o=l?Rn[mn.HYPHENRANGELOOSE]:Rn[mn.HYPHENRANGE];e=e.replace(o,aj(this.options.includePrerelease)),Kt("hyphen replace",e),e=e.replace(Rn[mn.COMPARATORTRIM],YF),Kt("comparator trim",e),e=e.replace(Rn[mn.TILDETRIM],GF),Kt("tilde trim",e),e=e.replace(Rn[mn.CARETTRIM],JF),Kt("caret trim",e);let a=e.split(" ").map(f=>xF(f,this.options)).join(" ").split(/\s+/).map(f=>oj(f,this.options));l&&(a=a.filter(f=>(Kt("loose invalid filter",f,this.options),!!f.match(Rn[mn.COMPARATORLOOSE])))),Kt("range list",a);let s=new Map,u=a.map(f=>new _6(f,this.options));for(let f of u){if(Ey(f))return[f];s.set(f.value,f)}s.size>1&&s.has("")&&s.delete("");let c=[...s.values()];return Ly.set(n,c),c}intersects(e,r){if(!(e instanceof t))throw new TypeError("a Range is required");return this.set.some(n=>Sy(n,r)&&e.set.some(i=>Sy(i,r)&&n.every(l=>i.every(o=>l.intersects(o,r)))))}test(e){if(!e)return!1;if(typeof e=="string")try{e=new UF(e,this.options)}catch(r){return!1}for(let r=0;r<this.set.length;r++)if(sj(this.set[r],e,this.options))return!0;return!1}};My.exports=g6;var qF=yy(),Ly=new qF,WF=n7(),_6=C9(),Kt=_9(),UF=xr(),{safeRe:Rn,t:mn,comparatorTrimReplace:YF,tildeTrimReplace:GF,caretTrimReplace:JF}=r2(),{FLAG_INCLUDE_PRERELEASE:KF,FLAG_LOOSE:XF}=g9(),Ey=t=>t.value==="<0.0.0-0",QF=t=>t.value==="",Sy=(t,e)=>{let r=!0,n=t.slice(),i=n.pop();for(;r&&n.length;)r=n.every(l=>i.intersects(l,e)),i=n.pop();return r},xF=(t,e)=>(Kt("comp",t,e),t=tj(t,e),Kt("caret",t),t=$F(t,e),Kt("tildes",t),t=nj(t,e),Kt("xrange",t),t=lj(t,e),Kt("stars",t),t),gn=t=>!t||t.toLowerCase()==="x"||t==="*",$F=(t,e)=>t.trim().split(/\s+/).map(r=>ej(r,e)).join(" "),ej=(t,e)=>{let r=e.loose?Rn[mn.TILDELOOSE]:Rn[mn.TILDE];return t.replace(r,(n,i,l,o,a)=>{Kt("tilde",t,n,i,l,o,a);let s;return gn(i)?s="":gn(l)?s=`>=${i}.0.0 <${+i+1}.0.0-0`:gn(o)?s=`>=${i}.${l}.0 <${i}.${+l+1}.0-0`:a?(Kt("replaceTilde pr",a),s=`>=${i}.${l}.${o}-${a} <${i}.${+l+1}.0-0`):s=`>=${i}.${l}.${o} <${i}.${+l+1}.0-0`,Kt("tilde return",s),s})},tj=(t,e)=>t.trim().split(/\s+/).map(r=>rj(r,e)).join(" "),rj=(t,e)=>{Kt("caret",t,e);let r=e.loose?Rn[mn.CARETLOOSE]:Rn[mn.CARET],n=e.includePrerelease?"-0":"";return t.replace(r,(i,l,o,a,s)=>{Kt("caret",t,i,l,o,a,s);let u;return gn(l)?u="":gn(o)?u=`>=${l}.0.0${n} <${+l+1}.0.0-0`:gn(a)?l==="0"?u=`>=${l}.${o}.0${n} <${l}.${+o+1}.0-0`:u=`>=${l}.${o}.0${n} <${+l+1}.0.0-0`:s?(Kt("replaceCaret pr",s),l==="0"?o==="0"?u=`>=${l}.${o}.${a}-${s} <${l}.${o}.${+a+1}-0`:u=`>=${l}.${o}.${a}-${s} <${l}.${+o+1}.0-0`:u=`>=${l}.${o}.${a}-${s} <${+l+1}.0.0-0`):(Kt("no pr"),l==="0"?o==="0"?u=`>=${l}.${o}.${a}${n} <${l}.${o}.${+a+1}-0`:u=`>=${l}.${o}.${a}${n} <${l}.${+o+1}.0-0`:u=`>=${l}.${o}.${a} <${+l+1}.0.0-0`),Kt("caret return",u),u})},nj=(t,e)=>(Kt("replaceXRanges",t,e),t.split(/\s+/).map(r=>ij(r,e)).join(" ")),ij=(t,e)=>{t=t.trim();let r=e.loose?Rn[mn.XRANGELOOSE]:Rn[mn.XRANGE];return t.replace(r,(n,i,l,o,a,s)=>{Kt("xRange",t,n,i,l,o,a,s);let u=gn(l),c=u||gn(o),f=c||gn(a),h=f;return i==="="&&h&&(i=""),s=e.includePrerelease?"-0":"",u?i===">"||i==="<"?n="<0.0.0-0":n="*":i&&h?(c&&(o=0),a=0,i===">"?(i=">=",c?(l=+l+1,o=0,a=0):(o=+o+1,a=0)):i==="<="&&(i="<",c?l=+l+1:o=+o+1),i==="<"&&(s="-0"),n=`${i+l}.${o}.${a}${s}`):c?n=`>=${l}.0.0${s} <${+l+1}.0.0-0`:f&&(n=`>=${l}.${o}.0${s} <${l}.${+o+1}.0-0`),Kt("xRange return",n),n})},lj=(t,e)=>(Kt("replaceStars",t,e),t.trim().replace(Rn[mn.STAR],"")),oj=(t,e)=>(Kt("replaceGTE0",t,e),t.trim().replace(Rn[e.includePrerelease?mn.GTE0PRE:mn.GTE0],"")),aj=t=>(e,r,n,i,l,o,a,s,u,c,f,h)=>(gn(n)?r="":gn(i)?r=`>=${n}.0.0${t?"-0":""}`:gn(l)?r=`>=${n}.${i}.0${t?"-0":""}`:o?r=`>=${r}`:r=`>=${r}${t?"-0":""}`,gn(u)?s="":gn(c)?s=`<${+u+1}.0.0-0`:gn(f)?s=`<${u}.${+c+1}.0-0`:h?s=`<=${u}.${c}.${f}-${h}`:t?s=`<${u}.${c}.${+f+1}-0`:s=`<=${s}`,`${r} ${s}`.trim()),sj=(t,e,r)=>{for(let n=0;n<t.length;n++)if(!t[n].test(e))return!1;if(e.prerelease.length&&!r.includePrerelease){for(let n=0;n<t.length;n++)if(Kt(t[n].semver),t[n].semver!==_6.ANY&&t[n].semver.prerelease.length>0){let i=t[n].semver;if(i.major===e.major&&i.minor===e.minor&&i.patch===e.patch)return!0}return!1}return!0}});var C9=ae((g3e,Ry)=>{var b9=Symbol("SemVer ANY"),b6=class t{static get ANY(){return b9}constructor(e,r){if(r=Ty(r),e instanceof t){if(e.loose===!!r.loose)return e;e=e.value}e=e.trim().split(/\s+/).join(" "),C6("comparator",e,r),this.options=r,this.loose=!!r.loose,this.parse(e),this.semver===b9?this.value="":this.value=this.operator+this.semver.version,C6("comp",this)}parse(e){let r=this.options.loose?zy[Hy.COMPARATORLOOSE]:zy[Hy.COMPARATOR],n=e.match(r);if(!n)throw new TypeError(`Invalid comparator: ${e}`);this.operator=n[1]!==void 0?n[1]:"",this.operator==="="&&(this.operator=""),n[2]?this.semver=new Py(n[2],this.options.loose):this.semver=b9}toString(){return this.value}test(e){if(C6("Comparator.test",e,this.options.loose),this.semver===b9||e===b9)return!0;if(typeof e=="string")try{e=new Py(e,this.options)}catch(r){return!1}return p6(e,this.operator,this.semver,this.options)}intersects(e,r){if(!(e instanceof t))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new Ay(e.value,r).test(this.value):e.operator===""?e.value===""?!0:new Ay(this.value,r).test(e.semver):(r=Ty(r),r.includePrerelease&&(this.value==="<0.0.0-0"||e.value==="<0.0.0-0")||!r.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&e.operator.startsWith(">")||this.operator.startsWith("<")&&e.operator.startsWith("<")||this.semver.version===e.semver.version&&this.operator.includes("=")&&e.operator.includes("=")||p6(this.semver,"<",e.semver,r)&&this.operator.startsWith(">")&&e.operator.startsWith("<")||p6(this.semver,">",e.semver,r)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))}};Ry.exports=b6;var Ty=n7(),{safeRe:zy,t:Hy}=r2(),p6=d6(),C6=_9(),Py=xr(),Ay=k1()});var v9=ae((_3e,By)=>{var uj=k1(),cj=(t,e,r)=>{try{e=new uj(e,r)}catch(n){return!1}return e.test(t)};By.exports=cj});var Vy=ae((p3e,Oy)=>{var fj=k1(),hj=(t,e)=>new fj(t,e).set.map(r=>r.map(n=>n.value).join(" ").trim().split(" "));Oy.exports=hj});var Iy=ae((C3e,Zy)=>{var dj=xr(),mj=k1(),gj=(t,e,r)=>{let n=null,i=null,l=null;try{l=new mj(e,r)}catch(o){return null}return t.forEach(o=>{l.test(o)&&(!n||i.compare(o)===-1)&&(n=o,i=new dj(n,r))}),n};Zy.exports=gj});var Ny=ae((b3e,Dy)=>{var _j=xr(),pj=k1(),Cj=(t,e,r)=>{let n=null,i=null,l=null;try{l=new pj(e,r)}catch(o){return null}return t.forEach(o=>{l.test(o)&&(!n||i.compare(o)===1)&&(n=o,i=new _j(n,r))}),n};Dy.exports=Cj});var qy=ae((v3e,jy)=>{var v6=xr(),bj=k1(),Fy=p9(),vj=(t,e)=>{t=new bj(t,e);let r=new v6("0.0.0");if(t.test(r)||(r=new v6("0.0.0-0"),t.test(r)))return r;r=null;for(let n=0;n<t.set.length;++n){let i=t.set[n],l=null;i.forEach(o=>{let a=new v6(o.semver.version);switch(o.operator){case">":a.prerelease.length===0?a.patch++:a.prerelease.push(0),a.raw=a.format();case"":case">=":(!l||Fy(a,l))&&(l=a);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${o.operator}`)}}),l&&(!r||Fy(r,l))&&(r=l)}return r&&t.test(r)?r:null};jy.exports=vj});var Uy=ae((w3e,Wy)=>{var wj=k1(),kj=(t,e)=>{try{return new wj(t,e).range||"*"}catch(r){return null}};Wy.exports=kj});var h7=ae((k3e,Ky)=>{var yj=xr(),Jy=C9(),{ANY:Lj}=Jy,Ej=k1(),Sj=v9(),Yy=p9(),Gy=a7(),Mj=u7(),Tj=s7(),zj=(t,e,r,n)=>{t=new yj(t,n),e=new Ej(e,n);let i,l,o,a,s;switch(r){case">":i=Yy,l=Mj,o=Gy,a=">",s=">=";break;case"<":i=Gy,l=Tj,o=Yy,a="<",s="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(Sj(t,e,n))return!1;for(let u=0;u<e.set.length;++u){let c=e.set[u],f=null,h=null;if(c.forEach(g=>{g.semver===Lj&&(g=new Jy(">=0.0.0")),f=f||g,h=h||g,i(g.semver,f.semver,n)?f=g:o(g.semver,h.semver,n)&&(h=g)}),f.operator===a||f.operator===s||(!h.operator||h.operator===a)&&l(t,h.semver))return!1;if(h.operator===s&&o(t,h.semver))return!1}return!0};Ky.exports=zj});var Qy=ae((y3e,Xy)=>{var Hj=h7(),Pj=(t,e,r)=>Hj(t,e,">",r);Xy.exports=Pj});var $y=ae((L3e,xy)=>{var Aj=h7(),Rj=(t,e,r)=>Aj(t,e,"<",r);xy.exports=Rj});var rL=ae((E3e,tL)=>{var eL=k1(),Bj=(t,e,r)=>(t=new eL(t,r),e=new eL(e,r),t.intersects(e,r));tL.exports=Bj});var iL=ae((S3e,nL)=>{var Oj=v9(),Vj=w1();nL.exports=(t,e,r)=>{let n=[],i=null,l=null,o=t.sort((c,f)=>Vj(c,f,r));for(let c of o)Oj(c,e,r)?(l=c,i||(i=c)):(l&&n.push([i,l]),l=null,i=null);i&&n.push([i,null]);let a=[];for(let[c,f]of n)c===f?a.push(c):!f&&c===o[0]?a.push("*"):f?c===o[0]?a.push(`<=${f}`):a.push(`${c} - ${f}`):a.push(`>=${c}`);let s=a.join(" || "),u=typeof e.raw=="string"?e.raw:String(e);return s.length<u.length?s:e}});var cL=ae((M3e,uL)=>{var lL=k1(),k6=C9(),{ANY:w6}=k6,w9=v9(),y6=w1(),Zj=(t,e,r={})=>{if(t===e)return!0;t=new lL(t,r),e=new lL(e,r);let n=!1;e:for(let i of t.set){for(let l of e.set){let o=Dj(i,l,r);if(n=n||o!==null,o)continue e}if(n)return!1}return!0},Ij=[new k6(">=0.0.0-0")],oL=[new k6(">=0.0.0")],Dj=(t,e,r)=>{if(t===e)return!0;if(t.length===1&&t[0].semver===w6){if(e.length===1&&e[0].semver===w6)return!0;r.includePrerelease?t=Ij:t=oL}if(e.length===1&&e[0].semver===w6){if(r.includePrerelease)return!0;e=oL}let n=new Set,i,l;for(let g of t)g.operator===">"||g.operator===">="?i=aL(i,g,r):g.operator==="<"||g.operator==="<="?l=sL(l,g,r):n.add(g.semver);if(n.size>1)return null;let o;if(i&&l){if(o=y6(i.semver,l.semver,r),o>0)return null;if(o===0&&(i.operator!==">="||l.operator!=="<="))return null}for(let g of n){if(i&&!w9(g,String(i),r)||l&&!w9(g,String(l),r))return null;for(let p of e)if(!w9(g,String(p),r))return!1;return!0}let a,s,u,c,f=l&&!r.includePrerelease&&l.semver.prerelease.length?l.semver:!1,h=i&&!r.includePrerelease&&i.semver.prerelease.length?i.semver:!1;f&&f.prerelease.length===1&&l.operator==="<"&&f.prerelease[0]===0&&(f=!1);for(let g of e){if(c=c||g.operator===">"||g.operator===">=",u=u||g.operator==="<"||g.operator==="<=",i){if(h&&g.semver.prerelease&&g.semver.prerelease.length&&g.semver.major===h.major&&g.semver.minor===h.minor&&g.semver.patch===h.patch&&(h=!1),g.operator===">"||g.operator===">="){if(a=aL(i,g,r),a===g&&a!==i)return!1}else if(i.operator===">="&&!w9(i.semver,String(g),r))return!1}if(l){if(f&&g.semver.prerelease&&g.semver.prerelease.length&&g.semver.major===f.major&&g.semver.minor===f.minor&&g.semver.patch===f.patch&&(f=!1),g.operator==="<"||g.operator==="<="){if(s=sL(l,g,r),s===g&&s!==l)return!1}else if(l.operator==="<="&&!w9(l.semver,String(g),r))return!1}if(!g.operator&&(l||i)&&o!==0)return!1}return!(i&&u&&!l&&o!==0||l&&c&&!i&&o!==0||h||f)},aL=(t,e,r)=>{if(!t)return e;let n=y6(t.semver,e.semver,r);return n>0?t:n<0||e.operator===">"&&t.operator===">="?e:t},sL=(t,e,r)=>{if(!t)return e;let n=y6(t.semver,e.semver,r);return n<0?t:n>0||e.operator==="<"&&t.operator==="<="?e:t};uL.exports=Zj});var d7=ae((T3e,dL)=>{var L6=r2(),fL=g9(),Nj=xr(),hL=u6(),Fj=ts(),jj=Ik(),qj=Nk(),Wj=qk(),Uj=Yk(),Yj=Jk(),Gj=Xk(),Jj=xk(),Kj=ey(),Xj=w1(),Qj=iy(),xj=oy(),$j=o7(),eq=cy(),tq=hy(),rq=p9(),nq=a7(),iq=f6(),lq=h6(),oq=s7(),aq=u7(),sq=d6(),uq=wy(),cq=C9(),fq=k1(),hq=v9(),dq=Vy(),mq=Iy(),gq=Ny(),_q=qy(),pq=Uy(),Cq=h7(),bq=Qy(),vq=$y(),wq=rL(),kq=iL(),yq=cL();dL.exports={parse:Fj,valid:jj,clean:qj,inc:Wj,diff:Uj,major:Yj,minor:Gj,patch:Jj,prerelease:Kj,compare:Xj,rcompare:Qj,compareLoose:xj,compareBuild:$j,sort:eq,rsort:tq,gt:rq,lt:nq,eq:iq,neq:lq,gte:oq,lte:aq,cmp:sq,coerce:uq,Comparator:cq,Range:fq,satisfies:hq,toComparators:dq,maxSatisfying:mq,minSatisfying:gq,minVersion:_q,validRange:pq,outside:Cq,gtr:bq,ltr:vq,intersects:wq,simplifyRange:kq,subset:yq,SemVer:Nj,re:L6.re,src:L6.src,tokens:L6.t,SEMVER_SPEC_VERSION:fL.SEMVER_SPEC_VERSION,RELEASE_TYPES:fL.RELEASE_TYPES,compareIdentifiers:hL.compareIdentifiers,rcompareIdentifiers:hL.rcompareIdentifiers}});var PL=ae((Mce,HL)=>{"use strict";var TL=(t=0)=>e=>`\x1B[${38+t};5;${e}m`,zL=(t=0)=>(e,r,n)=>`\x1B[${38+t};2;${e};${r};${n}m`;function iW(){let t=new Map,e={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],overline:[53,55],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};e.color.gray=e.color.blackBright,e.bgColor.bgGray=e.bgColor.bgBlackBright,e.color.grey=e.color.blackBright,e.bgColor.bgGrey=e.bgColor.bgBlackBright;for(let[r,n]of Object.entries(e)){for(let[i,l]of Object.entries(n))e[i]={open:`\x1B[${l[0]}m`,close:`\x1B[${l[1]}m`},n[i]=e[i],t.set(l[0],l[1]);Object.defineProperty(e,r,{value:n,enumerable:!1})}return Object.defineProperty(e,"codes",{value:t,enumerable:!1}),e.color.close="\x1B[39m",e.bgColor.close="\x1B[49m",e.color.ansi256=TL(),e.color.ansi16m=zL(),e.bgColor.ansi256=TL(10),e.bgColor.ansi16m=zL(10),Object.defineProperties(e,{rgbToAnsi256:{value:(r,n,i)=>r===n&&n===i?r<8?16:r>248?231:Math.round((r-8)/247*24)+232:16+36*Math.round(r/255*5)+6*Math.round(n/255*5)+Math.round(i/255*5),enumerable:!1},hexToRgb:{value:r=>{let n=/(?<colorString>[a-f\d]{6}|[a-f\d]{3})/i.exec(r.toString(16));if(!n)return[0,0,0];let{colorString:i}=n.groups;i.length===3&&(i=i.split("").map(o=>o+o).join(""));let l=Number.parseInt(i,16);return[l>>16&255,l>>8&255,l&255]},enumerable:!1},hexToAnsi256:{value:r=>e.rgbToAnsi256(...e.hexToRgb(r)),enumerable:!1}}),e}Object.defineProperty(HL,"exports",{enumerable:!0,get:iW})});var xL=ae(q7=>{"use strict";q7.byteLength=LW;q7.toByteArray=SW;q7.fromByteArray=zW;var Vi=[],T1=[],yW=typeof Uint8Array!="undefined"?Uint8Array:Array,um="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(hs=0,XL=um.length;hs<XL;++hs)Vi[hs]=um[hs],T1[um.charCodeAt(hs)]=hs;var hs,XL;T1[45]=62;T1[95]=63;function QL(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");r===-1&&(r=e);var n=r===e?0:4-r%4;return[r,n]}function LW(t){var e=QL(t),r=e[0],n=e[1];return(r+n)*3/4-n}function EW(t,e,r){return(e+r)*3/4-r}function SW(t){var e,r=QL(t),n=r[0],i=r[1],l=new yW(EW(t,n,i)),o=0,a=i>0?n-4:n,s;for(s=0;s<a;s+=4)e=T1[t.charCodeAt(s)]<<18|T1[t.charCodeAt(s+1)]<<12|T1[t.charCodeAt(s+2)]<<6|T1[t.charCodeAt(s+3)],l[o++]=e>>16&255,l[o++]=e>>8&255,l[o++]=e&255;return i===2&&(e=T1[t.charCodeAt(s)]<<2|T1[t.charCodeAt(s+1)]>>4,l[o++]=e&255),i===1&&(e=T1[t.charCodeAt(s)]<<10|T1[t.charCodeAt(s+1)]<<4|T1[t.charCodeAt(s+2)]>>2,l[o++]=e>>8&255,l[o++]=e&255),l}function MW(t){return Vi[t>>18&63]+Vi[t>>12&63]+Vi[t>>6&63]+Vi[t&63]}function TW(t,e,r){for(var n,i=[],l=e;l<r;l+=3)n=(t[l]<<16&16711680)+(t[l+1]<<8&65280)+(t[l+2]&255),i.push(MW(n));return i.join("")}function zW(t){for(var e,r=t.length,n=r%3,i=[],l=16383,o=0,a=r-n;o<a;o+=l)i.push(TW(t,o,o+l>a?a:o+l));return n===1?(e=t[r-1],i.push(Vi[e>>2]+Vi[e<<4&63]+"==")):n===2&&(e=(t[r-2]<<8)+t[r-1],i.push(Vi[e>>10]+Vi[e>>4&63]+Vi[e<<2&63]+"=")),i.join("")}});var B9=ae((Qfe,dm)=>{"use strict";typeof process=="undefined"||!process.version||process.version.indexOf("v0.")===0||process.version.indexOf("v1.")===0&&process.version.indexOf("v1.8.")!==0?dm.exports={nextTick:FW}:dm.exports=process;function FW(t,e,r,n){if(typeof t!="function")throw new TypeError('"callback" argument must be a function');var i=arguments.length,l,o;switch(i){case 0:case 1:return process.nextTick(t);case 2:return process.nextTick(function(){t.call(null,e)});case 3:return process.nextTick(function(){t.call(null,e,r)});case 4:return process.nextTick(function(){t.call(null,e,r,n)});default:for(l=new Array(i-1),o=0;o<l.length;)l[o++]=arguments[o];return process.nextTick(function(){t.apply(null,l)})}}});var iE=ae((xfe,nE)=>{var jW={}.toString;nE.exports=Array.isArray||function(t){return jW.call(t)=="[object Array]"}});var mm=ae(($fe,lE)=>{lE.exports=require("stream")});var K7=ae((gm,aE)=>{var J7=require("buffer"),ql=J7.Buffer;function oE(t,e){for(var r in t)e[r]=t[r]}ql.from&&ql.alloc&&ql.allocUnsafe&&ql.allocUnsafeSlow?aE.exports=J7:(oE(J7,gm),gm.Buffer=h2);function h2(t,e,r){return ql(t,e,r)}oE(ql,h2);h2.from=function(t,e,r){if(typeof t=="number")throw new TypeError("Argument must not be a number");return ql(t,e,r)};h2.alloc=function(t,e,r){if(typeof t!="number")throw new TypeError("Argument must be a number");var n=ql(t);return e!==void 0?typeof r=="string"?n.fill(e,r):n.fill(e):n.fill(0),n};h2.allocUnsafe=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return ql(t)};h2.allocUnsafeSlow=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return J7.SlowBuffer(t)}});var d2=ae($r=>{function qW(t){return Array.isArray?Array.isArray(t):X7(t)==="[object Array]"}$r.isArray=qW;function WW(t){return typeof t=="boolean"}$r.isBoolean=WW;function UW(t){return t===null}$r.isNull=UW;function YW(t){return t==null}$r.isNullOrUndefined=YW;function GW(t){return typeof t=="number"}$r.isNumber=GW;function JW(t){return typeof t=="string"}$r.isString=JW;function KW(t){return typeof t=="symbol"}$r.isSymbol=KW;function XW(t){return t===void 0}$r.isUndefined=XW;function QW(t){return X7(t)==="[object RegExp]"}$r.isRegExp=QW;function xW(t){return typeof t=="object"&&t!==null}$r.isObject=xW;function $W(t){return X7(t)==="[object Date]"}$r.isDate=$W;function eU(t){return X7(t)==="[object Error]"||t instanceof Error}$r.isError=eU;function tU(t){return typeof t=="function"}$r.isFunction=tU;function rU(t){return t===null||typeof t=="boolean"||typeof t=="number"||typeof t=="string"||typeof t=="symbol"||typeof t=="undefined"}$r.isPrimitive=rU;$r.isBuffer=require("buffer").Buffer.isBuffer;function X7(t){return Object.prototype.toString.call(t)}});var m2=ae((the,_m)=>{typeof Object.create=="function"?_m.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:_m.exports=function(e,r){if(r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e}}});var uE=ae((rhe,pm)=>{"use strict";function nU(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var sE=K7().Buffer,O9=require("util");function iU(t,e,r){t.copy(e,r)}pm.exports=function(){function t(){nU(this,t),this.head=null,this.tail=null,this.length=0}return t.prototype.push=function(r){var n={data:r,next:null};this.length>0?this.tail.next=n:this.head=n,this.tail=n,++this.length},t.prototype.unshift=function(r){var n={data:r,next:this.head};this.length===0&&(this.tail=n),this.head=n,++this.length},t.prototype.shift=function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}},t.prototype.clear=function(){this.head=this.tail=null,this.length=0},t.prototype.join=function(r){if(this.length===0)return"";for(var n=this.head,i=""+n.data;n=n.next;)i+=r+n.data;return i},t.prototype.concat=function(r){if(this.length===0)return sE.alloc(0);for(var n=sE.allocUnsafe(r>>>0),i=this.head,l=0;i;)iU(i.data,n,l),l+=i.data.length,i=i.next;return n},t}();O9&&O9.inspect&&O9.inspect.custom&&(pm.exports.prototype[O9.inspect.custom]=function(){var t=O9.inspect({length:this.length});return this.constructor.name+" "+t})});var Cm=ae((nhe,cE)=>{"use strict";var Q7=B9();function lU(t,e){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,Q7.nextTick(x7,this,t)):Q7.nextTick(x7,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(l){!e&&l?r._writableState?r._writableState.errorEmitted||(r._writableState.errorEmitted=!0,Q7.nextTick(x7,r,l)):Q7.nextTick(x7,r,l):e&&e(l)}),this)}function oU(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function x7(t,e){t.emit("error",e)}cE.exports={destroy:lU,undestroy:oU}});var hE=ae((ihe,fE)=>{fE.exports=aU;function aU(t,e){if(bm("noDeprecation"))return t;var r=!1;function n(){if(!r){if(bm("throwDeprecation"))throw new Error(e);bm("traceDeprecation")?console.trace(e):console.warn(e),r=!0}return t.apply(this,arguments)}return n}function bm(t){try{if(!global.localStorage)return!1}catch(r){return!1}var e=global.localStorage[t];return e==null?!1:String(e).toLowerCase()==="true"}});var wm=ae((lhe,vE)=>{"use strict";var ds=B9();vE.exports=Cr;function mE(t){var e=this;this.next=null,this.entry=null,this.finish=function(){EU(e,t)}}var sU=!process.browser&&["v0.10","v0.9."].indexOf(process.version.slice(0,5))>-1?setImmediate:ds.nextTick,g2;Cr.WritableState=Z9;var gE=Object.create(d2());gE.inherits=m2();var uU={deprecate:hE()},_E=mm(),e4=K7().Buffer,cU=(typeof global!="undefined"?global:typeof window!="undefined"?window:typeof self!="undefined"?self:{}).Uint8Array||function(){};function fU(t){return e4.from(t)}function hU(t){return e4.isBuffer(t)||t instanceof cU}var pE=Cm();gE.inherits(Cr,_E);function dU(){}function Z9(t,e){g2=g2||ms(),t=t||{};var r=e instanceof g2;this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var n=t.highWaterMark,i=t.writableHighWaterMark,l=this.objectMode?16:16*1024;n||n===0?this.highWaterMark=n:r&&(i||i===0)?this.highWaterMark=i:this.highWaterMark=l,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var o=t.decodeStrings===!1;this.decodeStrings=!o,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(a){vU(e,a)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new mE(this)}Z9.prototype.getBuffer=function(){for(var e=this.bufferedRequest,r=[];e;)r.push(e),e=e.next;return r};(function(){try{Object.defineProperty(Z9.prototype,"buffer",{get:uU.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(t){}})();var $7;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?($7=Function.prototype[Symbol.hasInstance],Object.defineProperty(Cr,Symbol.hasInstance,{value:function(t){return $7.call(this,t)?!0:this!==Cr?!1:t&&t._writableState instanceof Z9}})):$7=function(t){return t instanceof this};function Cr(t){if(g2=g2||ms(),!$7.call(Cr,this)&&!(this instanceof g2))return new Cr(t);this._writableState=new Z9(t,this),this.writable=!0,t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final)),_E.call(this)}Cr.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function mU(t,e){var r=new Error("write after end");t.emit("error",r),ds.nextTick(e,r)}function gU(t,e,r,n){var i=!0,l=!1;return r===null?l=new TypeError("May not write null values to stream"):typeof r!="string"&&r!==void 0&&!e.objectMode&&(l=new TypeError("Invalid non-string/buffer chunk")),l&&(t.emit("error",l),ds.nextTick(n,l),i=!1),i}Cr.prototype.write=function(t,e,r){var n=this._writableState,i=!1,l=!n.objectMode&&hU(t);return l&&!e4.isBuffer(t)&&(t=fU(t)),typeof e=="function"&&(r=e,e=null),l?e="buffer":e||(e=n.defaultEncoding),typeof r!="function"&&(r=dU),n.ended?mU(this,r):(l||gU(this,n,t,r))&&(n.pendingcb++,i=pU(this,n,l,t,e,r)),i};Cr.prototype.cork=function(){var t=this._writableState;t.corked++};Cr.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,!t.writing&&!t.corked&&!t.bufferProcessing&&t.bufferedRequest&&CE(this,t))};Cr.prototype.setDefaultEncoding=function(e){if(typeof e=="string"&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this};function _U(t,e,r){return!t.objectMode&&t.decodeStrings!==!1&&typeof e=="string"&&(e=e4.from(e,r)),e}Object.defineProperty(Cr.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function pU(t,e,r,n,i,l){if(!r){var o=_U(e,n,i);n!==o&&(r=!0,i="buffer",n=o)}var a=e.objectMode?1:n.length;e.length+=a;var s=e.length<e.highWaterMark;if(s||(e.needDrain=!0),e.writing||e.corked){var u=e.lastBufferedRequest;e.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:l,next:null},u?u.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else vm(t,e,!1,a,n,i,l);return s}function vm(t,e,r,n,i,l,o){e.writelen=n,e.writecb=o,e.writing=!0,e.sync=!0,r?t._writev(i,e.onwrite):t._write(i,l,e.onwrite),e.sync=!1}function CU(t,e,r,n,i){--e.pendingcb,r?(ds.nextTick(i,n),ds.nextTick(V9,t,e),t._writableState.errorEmitted=!0,t.emit("error",n)):(i(n),t._writableState.errorEmitted=!0,t.emit("error",n),V9(t,e))}function bU(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}function vU(t,e){var r=t._writableState,n=r.sync,i=r.writecb;if(bU(r),e)CU(t,r,n,e,i);else{var l=bE(r);!l&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&CE(t,r),n?sU(dE,t,r,l,i):dE(t,r,l,i)}}function dE(t,e,r,n){r||wU(t,e),e.pendingcb--,n(),V9(t,e)}function wU(t,e){e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}function CE(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var n=e.bufferedRequestCount,i=new Array(n),l=e.corkedRequestsFree;l.entry=r;for(var o=0,a=!0;r;)i[o]=r,r.isBuf||(a=!1),r=r.next,o+=1;i.allBuffers=a,vm(t,e,!0,e.length,i,"",l.finish),e.pendingcb++,e.lastBufferedRequest=null,l.next?(e.corkedRequestsFree=l.next,l.next=null):e.corkedRequestsFree=new mE(e),e.bufferedRequestCount=0}else{for(;r;){var s=r.chunk,u=r.encoding,c=r.callback,f=e.objectMode?1:s.length;if(vm(t,e,!1,f,s,u,c),r=r.next,e.bufferedRequestCount--,e.writing)break}r===null&&(e.lastBufferedRequest=null)}e.bufferedRequest=r,e.bufferProcessing=!1}Cr.prototype._write=function(t,e,r){r(new Error("_write() is not implemented"))};Cr.prototype._writev=null;Cr.prototype.end=function(t,e,r){var n=this._writableState;typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null),t!=null&&this.write(t,e),n.corked&&(n.corked=1,this.uncork()),n.ending||LU(this,n,r)};function bE(t){return t.ending&&t.length===0&&t.bufferedRequest===null&&!t.finished&&!t.writing}function kU(t,e){t._final(function(r){e.pendingcb--,r&&t.emit("error",r),e.prefinished=!0,t.emit("prefinish"),V9(t,e)})}function yU(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"?(e.pendingcb++,e.finalCalled=!0,ds.nextTick(kU,t,e)):(e.prefinished=!0,t.emit("prefinish")))}function V9(t,e){var r=bE(e);return r&&(yU(t,e),e.pendingcb===0&&(e.finished=!0,t.emit("finish"))),r}function LU(t,e,r){e.ending=!0,V9(t,e),r&&(e.finished?ds.nextTick(r):t.once("finish",r)),e.ended=!0,t.writable=!1}function EU(t,e,r){var n=t.entry;for(t.entry=null;n;){var i=n.callback;e.pendingcb--,i(r),n=n.next}e.corkedRequestsFree.next=t}Object.defineProperty(Cr.prototype,"destroyed",{get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}});Cr.prototype.destroy=pE.destroy;Cr.prototype._undestroy=pE.undestroy;Cr.prototype._destroy=function(t,e){this.end(),e(t)}});var ms=ae((ohe,LE)=>{"use strict";var wE=B9(),SU=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};LE.exports=Wl;var kE=Object.create(d2());kE.inherits=m2();var yE=Lm(),ym=wm();kE.inherits(Wl,yE);for(km=SU(ym.prototype),t4=0;t4<km.length;t4++)r4=km[t4],Wl.prototype[r4]||(Wl.prototype[r4]=ym.prototype[r4]);var km,r4,t4;function Wl(t){if(!(this instanceof Wl))return new Wl(t);yE.call(this,t),ym.call(this,t),t&&t.readable===!1&&(this.readable=!1),t&&t.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,t&&t.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",MU)}Object.defineProperty(Wl.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function MU(){this.allowHalfOpen||this._writableState.ended||wE.nextTick(TU,this)}function TU(t){t.end()}Object.defineProperty(Wl.prototype,"destroyed",{get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(t){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=t,this._writableState.destroyed=t)}});Wl.prototype._destroy=function(t,e){this.push(null),this.end(),wE.nextTick(e,t)}});var Lm=ae((she,VE)=>{"use strict";var p2=B9();VE.exports=Xt;var zU=iE(),I9;Xt.ReadableState=PE;var ahe=require("events").EventEmitter,TE=function(t,e){return t.listeners(e).length},zm=mm(),D9=K7().Buffer,HU=(typeof global!="undefined"?global:typeof window!="undefined"?window:typeof self!="undefined"?self:{}).Uint8Array||function(){};function PU(t){return D9.from(t)}function AU(t){return D9.isBuffer(t)||t instanceof HU}var zE=Object.create(d2());zE.inherits=m2();var Em=require("util"),St=void 0;Em&&Em.debuglog?St=Em.debuglog("stream"):St=function(){};var RU=uE(),HE=Cm(),_2;zE.inherits(Xt,zm);var Sm=["error","close","destroy","pause","resume"];function BU(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):zU(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]}function PE(t,e){I9=I9||ms(),t=t||{};var r=e instanceof I9;this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var n=t.highWaterMark,i=t.readableHighWaterMark,l=this.objectMode?16:16*1024;n||n===0?this.highWaterMark=n:r&&(i||i===0)?this.highWaterMark=i:this.highWaterMark=l,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new RU,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(_2||(_2=require("string_decoder/").StringDecoder),this.decoder=new _2(t.encoding),this.encoding=t.encoding)}function Xt(t){if(I9=I9||ms(),!(this instanceof Xt))return new Xt(t);this._readableState=new PE(t,this),this.readable=!0,t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy)),zm.call(this)}Object.defineProperty(Xt.prototype,"destroyed",{get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}});Xt.prototype.destroy=HE.destroy;Xt.prototype._undestroy=HE.undestroy;Xt.prototype._destroy=function(t,e){this.push(null),e(t)};Xt.prototype.push=function(t,e){var r=this._readableState,n;return r.objectMode?n=!0:typeof t=="string"&&(e=e||r.defaultEncoding,e!==r.encoding&&(t=D9.from(t,e),e=""),n=!0),AE(this,t,e,!1,n)};Xt.prototype.unshift=function(t){return AE(this,t,null,!0,!1)};function AE(t,e,r,n,i){var l=t._readableState;if(e===null)l.reading=!1,IU(t,l);else{var o;i||(o=OU(l,e)),o?t.emit("error",o):l.objectMode||e&&e.length>0?(typeof e!="string"&&!l.objectMode&&Object.getPrototypeOf(e)!==D9.prototype&&(e=PU(e)),n?l.endEmitted?t.emit("error",new Error("stream.unshift() after end event")):Mm(t,l,e,!0):l.ended?t.emit("error",new Error("stream.push() after EOF")):(l.reading=!1,l.decoder&&!r?(e=l.decoder.write(e),l.objectMode||e.length!==0?Mm(t,l,e,!1):RE(t,l)):Mm(t,l,e,!1))):n||(l.reading=!1)}return VU(l)}function Mm(t,e,r,n){e.flowing&&e.length===0&&!e.sync?(t.emit("data",r),t.read(0)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&n4(t)),RE(t,e)}function OU(t,e){var r;return!AU(e)&&typeof e!="string"&&e!==void 0&&!t.objectMode&&(r=new TypeError("Invalid non-string/buffer chunk")),r}function VU(t){return!t.ended&&(t.needReadable||t.length<t.highWaterMark||t.length===0)}Xt.prototype.isPaused=function(){return this._readableState.flowing===!1};Xt.prototype.setEncoding=function(t){return _2||(_2=require("string_decoder/").StringDecoder),this._readableState.decoder=new _2(t),this._readableState.encoding=t,this};var EE=8388608;function ZU(t){return t>=EE?t=EE:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}function SE(t,e){return t<=0||e.length===0&&e.ended?0:e.objectMode?1:t!==t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=ZU(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}Xt.prototype.read=function(t){St("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(t!==0&&(e.emittedReadable=!1),t===0&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return St("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?Tm(this):n4(this),null;if(t=SE(t,e),t===0&&e.ended)return e.length===0&&Tm(this),null;var n=e.needReadable;St("need readable",n),(e.length===0||e.length-t<e.highWaterMark)&&(n=!0,St("length less than watermark",n)),e.ended||e.reading?(n=!1,St("reading or ended",n)):n&&(St("do read"),e.reading=!0,e.sync=!0,e.length===0&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=SE(r,e)));var i;return t>0?i=BE(t,e):i=null,i===null?(e.needReadable=!0,t=0):e.length-=t,e.length===0&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&Tm(this)),i!==null&&this.emit("data",i),i};function IU(t,e){if(!e.ended){if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,n4(t)}}function n4(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(St("emitReadable",e.flowing),e.emittedReadable=!0,e.sync?p2.nextTick(ME,t):ME(t))}function ME(t){St("emit readable"),t.emit("readable"),Hm(t)}function RE(t,e){e.readingMore||(e.readingMore=!0,p2.nextTick(DU,t,e))}function DU(t,e){for(var r=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(St("maybeReadMore read 0"),t.read(0),r!==e.length);)r=e.length;e.readingMore=!1}Xt.prototype._read=function(t){this.emit("error",new Error("_read() is not implemented"))};Xt.prototype.pipe=function(t,e){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=t;break;case 1:n.pipes=[n.pipes,t];break;default:n.pipes.push(t);break}n.pipesCount+=1,St("pipe count=%d opts=%j",n.pipesCount,e);var i=(!e||e.end!==!1)&&t!==process.stdout&&t!==process.stderr,l=i?a:b;n.endEmitted?p2.nextTick(l):r.once("end",l),t.on("unpipe",o);function o(v,S){St("onunpipe"),v===r&&S&&S.hasUnpiped===!1&&(S.hasUnpiped=!0,c())}function a(){St("onend"),t.end()}var s=NU(r);t.on("drain",s);var u=!1;function c(){St("cleanup"),t.removeListener("close",p),t.removeListener("finish",w),t.removeListener("drain",s),t.removeListener("error",g),t.removeListener("unpipe",o),r.removeListener("end",a),r.removeListener("end",b),r.removeListener("data",h),u=!0,n.awaitDrain&&(!t._writableState||t._writableState.needDrain)&&s()}var f=!1;r.on("data",h);function h(v){St("ondata"),f=!1;var S=t.write(v);S===!1&&!f&&((n.pipesCount===1&&n.pipes===t||n.pipesCount>1&&OE(n.pipes,t)!==-1)&&!u&&(St("false write response, pause",n.awaitDrain),n.awaitDrain++,f=!0),r.pause())}function g(v){St("onerror",v),b(),t.removeListener("error",g),TE(t,"error")===0&&t.emit("error",v)}BU(t,"error",g);function p(){t.removeListener("finish",w),b()}t.once("close",p);function w(){St("onfinish"),t.removeListener("close",p),b()}t.once("finish",w);function b(){St("unpipe"),r.unpipe(t)}return t.emit("pipe",r),n.flowing||(St("pipe resume"),r.resume()),t};function NU(t){return function(){var e=t._readableState;St("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,e.awaitDrain===0&&TE(t,"data")&&(e.flowing=!0,Hm(t))}}Xt.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(e.pipesCount===0)return this;if(e.pipesCount===1)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r),this);if(!t){var n=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var l=0;l<i;l++)n[l].emit("unpipe",this,{hasUnpiped:!1});return this}var o=OE(e.pipes,t);return o===-1?this:(e.pipes.splice(o,1),e.pipesCount-=1,e.pipesCount===1&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r),this)};Xt.prototype.on=function(t,e){var r=zm.prototype.on.call(this,t,e);if(t==="data")this._readableState.flowing!==!1&&this.resume();else if(t==="readable"){var n=this._readableState;!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&n4(this):p2.nextTick(FU,this))}return r};Xt.prototype.addListener=Xt.prototype.on;function FU(t){St("readable nexttick read 0"),t.read(0)}Xt.prototype.resume=function(){var t=this._readableState;return t.flowing||(St("resume"),t.flowing=!0,jU(this,t)),this};function jU(t,e){e.resumeScheduled||(e.resumeScheduled=!0,p2.nextTick(qU,t,e))}function qU(t,e){e.reading||(St("resume read 0"),t.read(0)),e.resumeScheduled=!1,e.awaitDrain=0,t.emit("resume"),Hm(t),e.flowing&&!e.reading&&t.read(0)}Xt.prototype.pause=function(){return St("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(St("pause"),this._readableState.flowing=!1,this.emit("pause")),this};function Hm(t){var e=t._readableState;for(St("flow",e.flowing);e.flowing&&t.read()!==null;);}Xt.prototype.wrap=function(t){var e=this,r=this._readableState,n=!1;t.on("end",function(){if(St("wrapped end"),r.decoder&&!r.ended){var o=r.decoder.end();o&&o.length&&e.push(o)}e.push(null)}),t.on("data",function(o){if(St("wrapped data"),r.decoder&&(o=r.decoder.write(o)),!(r.objectMode&&o==null)&&!(!r.objectMode&&(!o||!o.length))){var a=e.push(o);a||(n=!0,t.pause())}});for(var i in t)this[i]===void 0&&typeof t[i]=="function"&&(this[i]=function(o){return function(){return t[o].apply(t,arguments)}}(i));for(var l=0;l<Sm.length;l++)t.on(Sm[l],this.emit.bind(this,Sm[l]));return this._read=function(o){St("wrapped _read",o),n&&(n=!1,t.resume())},this};Object.defineProperty(Xt.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}});Xt._fromList=BE;function BE(t,e){if(e.length===0)return null;var r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(e.decoder?r=e.buffer.join(""):e.buffer.length===1?r=e.buffer.head.data:r=e.buffer.concat(e.length),e.buffer.clear()):r=WU(t,e.buffer,e.decoder),r}function WU(t,e,r){var n;return t<e.head.data.length?(n=e.head.data.slice(0,t),e.head.data=e.head.data.slice(t)):t===e.head.data.length?n=e.shift():n=r?UU(t,e):YU(t,e),n}function UU(t,e){var r=e.head,n=1,i=r.data;for(t-=i.length;r=r.next;){var l=r.data,o=t>l.length?l.length:t;if(o===l.length?i+=l:i+=l.slice(0,t),t-=o,t===0){o===l.length?(++n,r.next?e.head=r.next:e.head=e.tail=null):(e.head=r,r.data=l.slice(o));break}++n}return e.length-=n,i}function YU(t,e){var r=D9.allocUnsafe(t),n=e.head,i=1;for(n.data.copy(r),t-=n.data.length;n=n.next;){var l=n.data,o=t>l.length?l.length:t;if(l.copy(r,r.length-t,0,o),t-=o,t===0){o===l.length?(++i,n.next?e.head=n.next:e.head=e.tail=null):(e.head=n,n.data=l.slice(o));break}++i}return e.length-=i,r}function Tm(t){var e=t._readableState;if(e.length>0)throw new Error('"endReadable()" called on non-empty stream');e.endEmitted||(e.ended=!0,p2.nextTick(GU,e,t))}function GU(t,e){!t.endEmitted&&t.length===0&&(t.endEmitted=!0,e.readable=!1,e.emit("end"))}function OE(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}});var Pm=ae((uhe,DE)=>{"use strict";DE.exports=Ul;var i4=ms(),IE=Object.create(d2());IE.inherits=m2();IE.inherits(Ul,i4);function JU(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(!n)return this.emit("error",new Error("write callback called multiple times"));r.writechunk=null,r.writecb=null,e!=null&&this.push(e),n(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function Ul(t){if(!(this instanceof Ul))return new Ul(t);i4.call(this,t),this._transformState={afterTransform:JU.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",KU)}function KU(){var t=this;typeof this._flush=="function"?this._flush(function(e,r){ZE(t,e,r)}):ZE(this,null,null)}Ul.prototype.push=function(t,e){return this._transformState.needTransform=!1,i4.prototype.push.call(this,t,e)};Ul.prototype._transform=function(t,e,r){throw new Error("_transform() is not implemented")};Ul.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}};Ul.prototype._read=function(t){var e=this._transformState;e.writechunk!==null&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};Ul.prototype._destroy=function(t,e){var r=this;i4.prototype._destroy.call(this,t,function(n){e(n),r.emit("close")})};function ZE(t,e,r){if(e)return t.emit("error",e);if(r!=null&&t.push(r),t._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(t._transformState.transforming)throw new Error("Calling transform done when still transforming");return t.push(null)}});var qE=ae((che,jE)=>{"use strict";jE.exports=N9;var NE=Pm(),FE=Object.create(d2());FE.inherits=m2();FE.inherits(N9,NE);function N9(t){if(!(this instanceof N9))return new N9(t);NE.call(this,t)}N9.prototype._transform=function(t,e,r){r(null,t)}});var Am=ae((Fr,l4)=>{var Zi=require("stream");process.env.READABLE_STREAM==="disable"&&Zi?(l4.exports=Zi,Fr=l4.exports=Zi.Readable,Fr.Readable=Zi.Readable,Fr.Writable=Zi.Writable,Fr.Duplex=Zi.Duplex,Fr.Transform=Zi.Transform,Fr.PassThrough=Zi.PassThrough,Fr.Stream=Zi):(Fr=l4.exports=Lm(),Fr.Stream=Zi||Fr,Fr.Readable=Fr,Fr.Writable=wm(),Fr.Duplex=ms(),Fr.Transform=Pm(),Fr.PassThrough=qE())});var Yl=ae(l1=>{"use strict";l1.base64=!0;l1.array=!0;l1.string=!0;l1.arraybuffer=typeof ArrayBuffer!="undefined"&&typeof Uint8Array!="undefined";l1.nodebuffer=typeof Buffer!="undefined";l1.uint8array=typeof Uint8Array!="undefined";if(typeof ArrayBuffer=="undefined")l1.blob=!1;else{Rm=new ArrayBuffer(0);try{l1.blob=new Blob([Rm],{type:"application/zip"}).size===0}catch(t){try{WE=self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder,Bm=new WE,Bm.append(Rm),l1.blob=Bm.getBlob("application/zip").size===0}catch(e){l1.blob=!1}}}var Rm,WE,Bm;try{l1.nodestream=!!Am().Readable}catch(t){l1.nodestream=!1}});var Vm=ae(Om=>{"use strict";var XU=nr(),QU=Yl(),Ii="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";Om.encode=function(t){for(var e=[],r,n,i,l,o,a,s,u=0,c=t.length,f=c,h=XU.getTypeOf(t)!=="string";u<t.length;)f=c-u,h?(r=t[u++],n=u<c?t[u++]:0,i=u<c?t[u++]:0):(r=t.charCodeAt(u++),n=u<c?t.charCodeAt(u++):0,i=u<c?t.charCodeAt(u++):0),l=r>>2,o=(r&3)<<4|n>>4,a=f>1?(n&15)<<2|i>>6:64,s=f>2?i&63:64,e.push(Ii.charAt(l)+Ii.charAt(o)+Ii.charAt(a)+Ii.charAt(s));return e.join("")};Om.decode=function(t){var e,r,n,i,l,o,a,s=0,u=0,c="data:";if(t.substr(0,c.length)===c)throw new Error("Invalid base64 input, it looks like a data url.");t=t.replace(/[^A-Za-z0-9+/=]/g,"");var f=t.length*3/4;if(t.charAt(t.length-1)===Ii.charAt(64)&&f--,t.charAt(t.length-2)===Ii.charAt(64)&&f--,f%1!==0)throw new Error("Invalid base64 input, bad content length.");var h;for(QU.uint8array?h=new Uint8Array(f|0):h=new Array(f|0);s<t.length;)i=Ii.indexOf(t.charAt(s++)),l=Ii.indexOf(t.charAt(s++)),o=Ii.indexOf(t.charAt(s++)),a=Ii.indexOf(t.charAt(s++)),e=i<<2|l>>4,r=(l&15)<<4|o>>2,n=(o&3)<<6|a,h[u++]=e,o!==64&&(h[u++]=r),a!==64&&(h[u++]=n);return h}});var F9=ae((dhe,UE)=>{"use strict";UE.exports={isNode:typeof Buffer!="undefined",newBufferFrom:function(t,e){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(t,e);if(typeof t=="number")throw new Error('The "data" argument must not be a number');return new Buffer(t,e)},allocBuffer:function(t){if(Buffer.alloc)return Buffer.alloc(t);var e=new Buffer(t);return e.fill(0),e},isBuffer:function(t){return Buffer.isBuffer(t)},isStream:function(t){return t&&typeof t.on=="function"&&typeof t.pause=="function"&&typeof t.resume=="function"}}});var KE=ae((mhe,JE)=>{"use strict";var YE=global.MutationObserver||global.WebKitMutationObserver,C2;process.browser?YE?(Zm=0,GE=new YE(j9),Im=global.document.createTextNode(""),GE.observe(Im,{characterData:!0}),C2=function(){Im.data=Zm=++Zm%2}):!global.setImmediate&&typeof global.MessageChannel!="undefined"?(Dm=new global.MessageChannel,Dm.port1.onmessage=j9,C2=function(){Dm.port2.postMessage(0)}):"document"in global&&"onreadystatechange"in global.document.createElement("script")?C2=function(){var t=global.document.createElement("script");t.onreadystatechange=function(){j9(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},global.document.documentElement.appendChild(t)}:C2=function(){setTimeout(j9,0)}:C2=function(){process.nextTick(j9)};var Zm,GE,Im,Dm,Nm,q9=[];function j9(){Nm=!0;for(var t,e,r=q9.length;r;){for(e=q9,q9=[],t=-1;++t<r;)e[t]();r=q9.length}Nm=!1}JE.exports=xU;function xU(t){q9.push(t)===1&&!Nm&&C2()}});var rS=ae((ghe,tS)=>{"use strict";var XE=KE();function b2(){}var en={},QE=["REJECTED"],Fm=["FULFILLED"],xE=["PENDING"];process.browser||(W9=["UNHANDLED"]);var W9;tS.exports=Zo;function Zo(t){if(typeof t!="function")throw new TypeError("resolver must be a function");this.state=xE,this.queue=[],this.outcome=void 0,process.browser||(this.handled=W9),t!==b2&&$E(this,t)}Zo.prototype.finally=function(t){if(typeof t!="function")return this;var e=this.constructor;return this.then(r,n);function r(i){function l(){return i}return e.resolve(t()).then(l)}function n(i){function l(){throw i}return e.resolve(t()).then(l)}};Zo.prototype.catch=function(t){return this.then(null,t)};Zo.prototype.then=function(t,e){if(typeof t!="function"&&this.state===Fm||typeof e!="function"&&this.state===QE)return this;var r=new this.constructor(b2);if(process.browser||this.handled===W9&&(this.handled=null),this.state!==xE){var n=this.state===Fm?t:e;jm(r,n,this.outcome)}else this.queue.push(new U9(r,t,e));return r};function U9(t,e,r){this.promise=t,typeof e=="function"&&(this.onFulfilled=e,this.callFulfilled=this.otherCallFulfilled),typeof r=="function"&&(this.onRejected=r,this.callRejected=this.otherCallRejected)}U9.prototype.callFulfilled=function(t){en.resolve(this.promise,t)};U9.prototype.otherCallFulfilled=function(t){jm(this.promise,this.onFulfilled,t)};U9.prototype.callRejected=function(t){en.reject(this.promise,t)};U9.prototype.otherCallRejected=function(t){jm(this.promise,this.onRejected,t)};function jm(t,e,r){XE(function(){var n;try{n=e(r)}catch(i){return en.reject(t,i)}n===t?en.reject(t,new TypeError("Cannot resolve promise with itself")):en.resolve(t,n)})}en.resolve=function(t,e){var r=eS($U,e);if(r.status==="error")return en.reject(t,r.value);var n=r.value;if(n)$E(t,n);else{t.state=Fm,t.outcome=e;for(var i=-1,l=t.queue.length;++i<l;)t.queue[i].callFulfilled(e)}return t};en.reject=function(t,e){t.state=QE,t.outcome=e,process.browser||t.handled===W9&&XE(function(){t.handled===W9&&process.emit("unhandledRejection",e,t)});for(var r=-1,n=t.queue.length;++r<n;)t.queue[r].callRejected(e);return t};function $U(t){var e=t&&t.then;if(t&&(typeof t=="object"||typeof t=="function")&&typeof e=="function")return function(){e.apply(t,arguments)}}function $E(t,e){var r=!1;function n(a){r||(r=!0,en.reject(t,a))}function i(a){r||(r=!0,en.resolve(t,a))}function l(){e(i,n)}var o=eS(l);o.status==="error"&&n(o.value)}function eS(t,e){var r={};try{r.value=t(e),r.status="success"}catch(n){r.status="error",r.value=n}return r}Zo.resolve=eY;function eY(t){return t instanceof this?t:en.resolve(new this(b2),t)}Zo.reject=tY;function tY(t){var e=new this(b2);return en.reject(e,t)}Zo.all=rY;function rY(t){var e=this;if(Object.prototype.toString.call(t)!=="[object Array]")return this.reject(new TypeError("must be an array"));var r=t.length,n=!1;if(!r)return this.resolve([]);for(var i=new Array(r),l=0,o=-1,a=new this(b2);++o<r;)s(t[o],o);return a;function s(u,c){e.resolve(u).then(f,function(h){n||(n=!0,en.reject(a,h))});function f(h){i[c]=h,++l===r&&!n&&(n=!0,en.resolve(a,i))}}}Zo.race=nY;function nY(t){var e=this;if(Object.prototype.toString.call(t)!=="[object Array]")return this.reject(new TypeError("must be an array"));var r=t.length,n=!1;if(!r)return this.resolve([]);for(var i=-1,l=new this(b2);++i<r;)o(t[i]);return l;function o(a){e.resolve(a).then(function(s){n||(n=!0,en.resolve(l,s))},function(s){n||(n=!0,en.reject(l,s))})}}});var v2=ae((_he,nS)=>{"use strict";var qm=null;typeof Promise!="undefined"?qm=Promise:qm=rS();nS.exports={Promise:qm}});var lS=ae(iS=>{(function(t,e){"use strict";if(t.setImmediate)return;var r=1,n={},i=!1,l=t.document,o;function a(S){typeof S!="function"&&(S=new Function(""+S));for(var P=new Array(arguments.length-1),Z=0;Z<P.length;Z++)P[Z]=arguments[Z+1];var y={callback:S,args:P};return n[r]=y,o(r),r++}function s(S){delete n[S]}function u(S){var P=S.callback,Z=S.args;switch(Z.length){case 0:P();break;case 1:P(Z[0]);break;case 2:P(Z[0],Z[1]);break;case 3:P(Z[0],Z[1],Z[2]);break;default:P.apply(e,Z);break}}function c(S){if(i)setTimeout(c,0,S);else{var P=n[S];if(P){i=!0;try{u(P)}finally{s(S),i=!1}}}}function f(){o=function(S){process.nextTick(function(){c(S)})}}function h(){if(t.postMessage&&!t.importScripts){var S=!0,P=t.onmessage;return t.onmessage=function(){S=!1},t.postMessage("","*"),t.onmessage=P,S}}function g(){var S="setImmediate$"+Math.random()+"$",P=function(Z){Z.source===t&&typeof Z.data=="string"&&Z.data.indexOf(S)===0&&c(+Z.data.slice(S.length))};t.addEventListener?t.addEventListener("message",P,!1):t.attachEvent("onmessage",P),o=function(Z){t.postMessage(S+Z,"*")}}function p(){var S=new MessageChannel;S.port1.onmessage=function(P){var Z=P.data;c(Z)},o=function(P){S.port2.postMessage(P)}}function w(){var S=l.documentElement;o=function(P){var Z=l.createElement("script");Z.onreadystatechange=function(){c(P),Z.onreadystatechange=null,S.removeChild(Z),Z=null},S.appendChild(Z)}}function b(){o=function(S){setTimeout(c,0,S)}}var v=Object.getPrototypeOf&&Object.getPrototypeOf(t);v=v&&v.setTimeout?v:t,{}.toString.call(t.process)==="[object process]"?f():h()?g():t.MessageChannel?p():l&&"onreadystatechange"in l.createElement("script")?w():b(),v.setImmediate=a,v.clearImmediate=s})(typeof self=="undefined"?typeof global=="undefined"?iS:global:self)});var nr=ae(br=>{"use strict";var Io=Yl(),iY=Vm(),w2=F9(),Wm=v2();lS();function lY(t){var e=null;return Io.uint8array?e=new Uint8Array(t.length):e=new Array(t.length),a4(t,e)}br.newBlob=function(t,e){br.checkSupport("blob");try{return new Blob([t],{type:e})}catch(i){try{var r=self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder,n=new r;return n.append(t),n.getBlob(e)}catch(l){throw new Error("Bug : can't construct the Blob.")}}};function Y9(t){return t}function a4(t,e){for(var r=0;r<t.length;++r)e[r]=t.charCodeAt(r)&255;return e}var o4={stringifyByChunk:function(t,e,r){var n=[],i=0,l=t.length;if(l<=r)return String.fromCharCode.apply(null,t);for(;i<l;)e==="array"||e==="nodebuffer"?n.push(String.fromCharCode.apply(null,t.slice(i,Math.min(i+r,l)))):n.push(String.fromCharCode.apply(null,t.subarray(i,Math.min(i+r,l)))),i+=r;return n.join("")},stringifyByChar:function(t){for(var e="",r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},applyCanBeUsed:{uint8array:function(){try{return Io.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch(t){return!1}}(),nodebuffer:function(){try{return Io.nodebuffer&&String.fromCharCode.apply(null,w2.allocBuffer(1)).length===1}catch(t){return!1}}()}};function G9(t){var e=65536,r=br.getTypeOf(t),n=!0;if(r==="uint8array"?n=o4.applyCanBeUsed.uint8array:r==="nodebuffer"&&(n=o4.applyCanBeUsed.nodebuffer),n)for(;e>1;)try{return o4.stringifyByChunk(t,r,e)}catch(i){e=Math.floor(e/2)}return o4.stringifyByChar(t)}br.applyFromCharCode=G9;function s4(t,e){for(var r=0;r<t.length;r++)e[r]=t[r];return e}var Do={};Do.string={string:Y9,array:function(t){return a4(t,new Array(t.length))},arraybuffer:function(t){return Do.string.uint8array(t).buffer},uint8array:function(t){return a4(t,new Uint8Array(t.length))},nodebuffer:function(t){return a4(t,w2.allocBuffer(t.length))}};Do.array={string:G9,array:Y9,arraybuffer:function(t){return new Uint8Array(t).buffer},uint8array:function(t){return new Uint8Array(t)},nodebuffer:function(t){return w2.newBufferFrom(t)}};Do.arraybuffer={string:function(t){return G9(new Uint8Array(t))},array:function(t){return s4(new Uint8Array(t),new Array(t.byteLength))},arraybuffer:Y9,uint8array:function(t){return new Uint8Array(t)},nodebuffer:function(t){return w2.newBufferFrom(new Uint8Array(t))}};Do.uint8array={string:G9,array:function(t){return s4(t,new Array(t.length))},arraybuffer:function(t){return t.buffer},uint8array:Y9,nodebuffer:function(t){return w2.newBufferFrom(t)}};Do.nodebuffer={string:G9,array:function(t){return s4(t,new Array(t.length))},arraybuffer:function(t){return Do.nodebuffer.uint8array(t).buffer},uint8array:function(t){return s4(t,new Uint8Array(t.length))},nodebuffer:Y9};br.transformTo=function(t,e){if(e||(e=""),!t)return e;br.checkSupport(t);var r=br.getTypeOf(e),n=Do[r][t](e);return n};br.resolve=function(t){for(var e=t.split("/"),r=[],n=0;n<e.length;n++){var i=e[n];i==="."||i===""&&n!==0&&n!==e.length-1||(i===".."?r.pop():r.push(i))}return r.join("/")};br.getTypeOf=function(t){if(typeof t=="string")return"string";if(Object.prototype.toString.call(t)==="[object Array]")return"array";if(Io.nodebuffer&&w2.isBuffer(t))return"nodebuffer";if(Io.uint8array&&t instanceof Uint8Array)return"uint8array";if(Io.arraybuffer&&t instanceof ArrayBuffer)return"arraybuffer"};br.checkSupport=function(t){var e=Io[t.toLowerCase()];if(!e)throw new Error(t+" is not supported by this platform")};br.MAX_VALUE_16BITS=65535;br.MAX_VALUE_32BITS=-1;br.pretty=function(t){var e="",r,n;for(n=0;n<(t||"").length;n++)r=t.charCodeAt(n),e+="\\x"+(r<16?"0":"")+r.toString(16).toUpperCase();return e};br.delay=function(t,e,r){setImmediate(function(){t.apply(r||null,e||[])})};br.inherits=function(t,e){var r=function(){};r.prototype=e.prototype,t.prototype=new r};br.extend=function(){var t={},e,r;for(e=0;e<arguments.length;e++)for(r in arguments[e])Object.prototype.hasOwnProperty.call(arguments[e],r)&&typeof t[r]=="undefined"&&(t[r]=arguments[e][r]);return t};br.prepareContent=function(t,e,r,n,i){var l=Wm.Promise.resolve(e).then(function(o){var a=Io.blob&&(o instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(o))!==-1);return a&&typeof FileReader!="undefined"?new Wm.Promise(function(s,u){var c=new FileReader;c.onload=function(f){s(f.target.result)},c.onerror=function(f){u(f.target.error)},c.readAsArrayBuffer(o)}):o});return l.then(function(o){var a=br.getTypeOf(o);return a?(a==="arraybuffer"?o=br.transformTo("uint8array",o):a==="string"&&(i?o=iY.decode(o):r&&n!==!0&&(o=lY(o))),o):Wm.Promise.reject(new Error("Can't read the data of '"+t+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}});var o1=ae((bhe,aS)=>{"use strict";function oS(t){this.name=t||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}oS.prototype={push:function(t){this.emit("data",t)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(t){this.emit("error",t)}return!0},error:function(t){return this.isFinished?!1:(this.isPaused?this.generatedError=t:(this.isFinished=!0,this.emit("error",t),this.previous&&this.previous.error(t),this.cleanUp()),!0)},on:function(t,e){return this._listeners[t].push(e),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(t,e){if(this._listeners[t])for(var r=0;r<this._listeners[t].length;r++)this._listeners[t][r].call(this,e)},pipe:function(t){return t.registerPrevious(this)},registerPrevious:function(t){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=t.streamInfo,this.mergeStreamInfo(),this.previous=t;var e=this;return t.on("data",function(r){e.processChunk(r)}),t.on("end",function(){e.end()}),t.on("error",function(r){e.error(r)}),this},pause:function(){return this.isPaused||this.isFinished?!1:(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;this.isPaused=!1;var t=!1;return this.generatedError&&(this.error(this.generatedError),t=!0),this.previous&&this.previous.resume(),!t},flush:function(){},processChunk:function(t){this.push(t)},withStreamInfo:function(t,e){return this.extraStreamInfo[t]=e,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var t in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,t)&&(this.streamInfo[t]=this.extraStreamInfo[t])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var t="Worker "+this.name;return this.previous?this.previous+" -> "+t:t}};aS.exports=oS});var y2=ae(No=>{"use strict";var k2=nr(),gs=Yl(),oY=F9(),u4=o1(),J9=new Array(256);for(Gl=0;Gl<256;Gl++)J9[Gl]=Gl>=252?6:Gl>=248?5:Gl>=240?4:Gl>=224?3:Gl>=192?2:1;var Gl;J9[254]=J9[254]=1;var aY=function(t){var e,r,n,i,l,o=t.length,a=0;for(i=0;i<o;i++)r=t.charCodeAt(i),(r&64512)===55296&&i+1<o&&(n=t.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),a+=r<128?1:r<2048?2:r<65536?3:4;for(gs.uint8array?e=new Uint8Array(a):e=new Array(a),l=0,i=0;l<a;i++)r=t.charCodeAt(i),(r&64512)===55296&&i+1<o&&(n=t.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),r<128?e[l++]=r:r<2048?(e[l++]=192|r>>>6,e[l++]=128|r&63):r<65536?(e[l++]=224|r>>>12,e[l++]=128|r>>>6&63,e[l++]=128|r&63):(e[l++]=240|r>>>18,e[l++]=128|r>>>12&63,e[l++]=128|r>>>6&63,e[l++]=128|r&63);return e},sY=function(t,e){var r;for(e=e||t.length,e>t.length&&(e=t.length),r=e-1;r>=0&&(t[r]&192)===128;)r--;return r<0||r===0?e:r+J9[t[r]]>e?r:e},uY=function(t){var e,r,n,i,l=t.length,o=new Array(l*2);for(r=0,e=0;e<l;){if(n=t[e++],n<128){o[r++]=n;continue}if(i=J9[n],i>4){o[r++]=65533,e+=i-1;continue}for(n&=i===2?31:i===3?15:7;i>1&&e<l;)n=n<<6|t[e++]&63,i--;if(i>1){o[r++]=65533;continue}n<65536?o[r++]=n:(n-=65536,o[r++]=55296|n>>10&1023,o[r++]=56320|n&1023)}return o.length!==r&&(o.subarray?o=o.subarray(0,r):o.length=r),k2.applyFromCharCode(o)};No.utf8encode=function(e){return gs.nodebuffer?oY.newBufferFrom(e,"utf-8"):aY(e)};No.utf8decode=function(e){return gs.nodebuffer?k2.transformTo("nodebuffer",e).toString("utf-8"):(e=k2.transformTo(gs.uint8array?"uint8array":"array",e),uY(e))};function c4(){u4.call(this,"utf-8 decode"),this.leftOver=null}k2.inherits(c4,u4);c4.prototype.processChunk=function(t){var e=k2.transformTo(gs.uint8array?"uint8array":"array",t.data);if(this.leftOver&&this.leftOver.length){if(gs.uint8array){var r=e;e=new Uint8Array(r.length+this.leftOver.length),e.set(this.leftOver,0),e.set(r,this.leftOver.length)}else e=this.leftOver.concat(e);this.leftOver=null}var n=sY(e),i=e;n!==e.length&&(gs.uint8array?(i=e.subarray(0,n),this.leftOver=e.subarray(n,e.length)):(i=e.slice(0,n),this.leftOver=e.slice(n,e.length))),this.push({data:No.utf8decode(i),meta:t.meta})};c4.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:No.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)};No.Utf8DecodeWorker=c4;function Um(){u4.call(this,"utf-8 encode")}k2.inherits(Um,u4);Um.prototype.processChunk=function(t){this.push({data:No.utf8encode(t.data),meta:t.meta})};No.Utf8EncodeWorker=Um});var fS=ae((whe,cS)=>{"use strict";var sS=o1(),uS=nr();function Ym(t){sS.call(this,"ConvertWorker to "+t),this.destType=t}uS.inherits(Ym,sS);Ym.prototype.processChunk=function(t){this.push({data:uS.transformTo(this.destType,t.data),meta:t.meta})};cS.exports=Ym});var mS=ae((khe,dS)=>{"use strict";var hS=Am().Readable,cY=nr();cY.inherits(Gm,hS);function Gm(t,e,r){hS.call(this,e),this._helper=t;var n=this;t.on("data",function(i,l){n.push(i)||n._helper.pause(),r&&r(l)}).on("error",function(i){n.emit("error",i)}).on("end",function(){n.push(null)})}Gm.prototype._read=function(){this._helper.resume()};dS.exports=Gm});var Jm=ae((yhe,pS)=>{"use strict";var _s=nr(),fY=fS(),hY=o1(),dY=Vm(),mY=Yl(),gY=v2(),gS=null;if(mY.nodestream)try{gS=mS()}catch(t){}function _Y(t,e,r){switch(t){case"blob":return _s.newBlob(_s.transformTo("arraybuffer",e),r);case"base64":return dY.encode(e);default:return _s.transformTo(t,e)}}function pY(t,e){var r,n=0,i=null,l=0;for(r=0;r<e.length;r++)l+=e[r].length;switch(t){case"string":return e.join("");case"array":return Array.prototype.concat.apply([],e);case"uint8array":for(i=new Uint8Array(l),r=0;r<e.length;r++)i.set(e[r],n),n+=e[r].length;return i;case"nodebuffer":return Buffer.concat(e);default:throw new Error("concat : unsupported type '"+t+"'")}}function CY(t,e){return new gY.Promise(function(r,n){var i=[],l=t._internalType,o=t._outputType,a=t._mimeType;t.on("data",function(s,u){i.push(s),e&&e(u)}).on("error",function(s){i=[],n(s)}).on("end",function(){try{var s=_Y(o,pY(l,i),a);r(s)}catch(u){n(u)}i=[]}).resume()})}function _S(t,e,r){var n=e;switch(e){case"blob":case"arraybuffer":n="uint8array";break;case"base64":n="string";break}try{this._internalType=n,this._outputType=e,this._mimeType=r,_s.checkSupport(n),this._worker=t.pipe(new fY(n)),t.lock()}catch(i){this._worker=new hY("error"),this._worker.error(i)}}_S.prototype={accumulate:function(t){return CY(this,t)},on:function(t,e){var r=this;return t==="data"?this._worker.on(t,function(n){e.call(r,n.data,n.meta)}):this._worker.on(t,function(){_s.delay(e,arguments,r)}),this},resume:function(){return _s.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(t){if(_s.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new gS(this,{objectMode:this._outputType!=="nodebuffer"},t)}};pS.exports=_S});var Km=ae(li=>{"use strict";li.base64=!1;li.binary=!1;li.dir=!1;li.createFolders=!0;li.date=null;li.compression=null;li.compressionOptions=null;li.comment=null;li.unixPermissions=null;li.dosPermissions=null});var Xm=ae((Ehe,CS)=>{"use strict";var f4=nr(),h4=o1(),bY=16*1024;function L2(t){h4.call(this,"DataWorker");var e=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,t.then(function(r){e.dataIsReady=!0,e.data=r,e.max=r&&r.length||0,e.type=f4.getTypeOf(r),e.isPaused||e._tickAndRepeat()},function(r){e.error(r)})}f4.inherits(L2,h4);L2.prototype.cleanUp=function(){h4.prototype.cleanUp.call(this),this.data=null};L2.prototype.resume=function(){return h4.prototype.resume.call(this)?(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,f4.delay(this._tickAndRepeat,[],this)),!0):!1};L2.prototype._tickAndRepeat=function(){this._tickScheduled=!1,!(this.isPaused||this.isFinished)&&(this._tick(),this.isFinished||(f4.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))};L2.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var t=bY,e=null,r=Math.min(this.max,this.index+t);if(this.index>=this.max)return this.end();switch(this.type){case"string":e=this.data.substring(this.index,r);break;case"uint8array":e=this.data.subarray(this.index,r);break;case"array":case"nodebuffer":e=this.data.slice(this.index,r);break}return this.index=r,this.push({data:e,meta:{percent:this.max?this.index/this.max*100:0}})};CS.exports=L2});var d4=ae((She,vS)=>{"use strict";var vY=nr();function wY(){for(var t,e=[],r=0;r<256;r++){t=r;for(var n=0;n<8;n++)t=t&1?3988292384^t>>>1:t>>>1;e[r]=t}return e}var bS=wY();function kY(t,e,r,n){var i=bS,l=n+r;t=t^-1;for(var o=n;o<l;o++)t=t>>>8^i[(t^e[o])&255];return t^-1}function yY(t,e,r,n){var i=bS,l=n+r;t=t^-1;for(var o=n;o<l;o++)t=t>>>8^i[(t^e.charCodeAt(o))&255];return t^-1}vS.exports=function(e,r){if(typeof e=="undefined"||!e.length)return 0;var n=vY.getTypeOf(e)!=="string";return n?kY(r|0,e,e.length,0):yY(r|0,e,e.length,0)}});var xm=ae((Mhe,kS)=>{"use strict";var wS=o1(),LY=d4(),EY=nr();function Qm(){wS.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}EY.inherits(Qm,wS);Qm.prototype.processChunk=function(t){this.streamInfo.crc32=LY(t.data,this.streamInfo.crc32||0),this.push(t)};kS.exports=Qm});var LS=ae((The,yS)=>{"use strict";var SY=nr(),$m=o1();function eg(t){$m.call(this,"DataLengthProbe for "+t),this.propName=t,this.withStreamInfo(t,0)}SY.inherits(eg,$m);eg.prototype.processChunk=function(t){if(t){var e=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=e+t.data.length}$m.prototype.processChunk.call(this,t)};yS.exports=eg});var m4=ae((zhe,MS)=>{"use strict";var ES=v2(),SS=Xm(),MY=xm(),tg=LS();function rg(t,e,r,n,i){this.compressedSize=t,this.uncompressedSize=e,this.crc32=r,this.compression=n,this.compressedContent=i}rg.prototype={getContentWorker:function(){var t=new SS(ES.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new tg("data_length")),e=this;return t.on("end",function(){if(this.streamInfo.data_length!==e.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),t},getCompressedWorker:function(){return new SS(ES.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}};rg.createWorkerFrom=function(t,e,r){return t.pipe(new MY).pipe(new tg("uncompressedSize")).pipe(e.compressWorker(r)).pipe(new tg("compressedSize")).withStreamInfo("compression",e)};MS.exports=rg});var PS=ae((Hhe,HS)=>{"use strict";var TY=Jm(),zY=Xm(),ng=y2(),ig=m4(),TS=o1(),lg=function(t,e,r){this.name=t,this.dir=r.dir,this.date=r.date,this.comment=r.comment,this.unixPermissions=r.unixPermissions,this.dosPermissions=r.dosPermissions,this._data=e,this._dataBinary=r.binary,this.options={compression:r.compression,compressionOptions:r.compressionOptions}};lg.prototype={internalStream:function(t){var e=null,r="string";try{if(!t)throw new Error("No output type specified.");r=t.toLowerCase();var n=r==="string"||r==="text";(r==="binarystring"||r==="text")&&(r="string"),e=this._decompressWorker();var i=!this._dataBinary;i&&!n&&(e=e.pipe(new ng.Utf8EncodeWorker)),!i&&n&&(e=e.pipe(new ng.Utf8DecodeWorker))}catch(l){e=new TS("error"),e.error(l)}return new TY(e,r,"")},async:function(t,e){return this.internalStream(t).accumulate(e)},nodeStream:function(t,e){return this.internalStream(t||"nodebuffer").toNodejsStream(e)},_compressWorker:function(t,e){if(this._data instanceof ig&&this._data.compression.magic===t.magic)return this._data.getCompressedWorker();var r=this._decompressWorker();return this._dataBinary||(r=r.pipe(new ng.Utf8EncodeWorker)),ig.createWorkerFrom(r,t,e)},_decompressWorker:function(){return this._data instanceof ig?this._data.getContentWorker():this._data instanceof TS?this._data:new zY(this._data)}};var zS=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],HY=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")};for(g4=0;g4<zS.length;g4++)lg.prototype[zS[g4]]=HY;var g4;HS.exports=lg});var Jl=ae(Cn=>{"use strict";var PY=typeof Uint8Array!="undefined"&&typeof Uint16Array!="undefined"&&typeof Int32Array!="undefined";function AY(t,e){return Object.prototype.hasOwnProperty.call(t,e)}Cn.assign=function(t){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var r=e.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(var n in r)AY(r,n)&&(t[n]=r[n])}}return t};Cn.shrinkBuf=function(t,e){return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)};var RY={arraySet:function(t,e,r,n,i){if(e.subarray&&t.subarray){t.set(e.subarray(r,r+n),i);return}for(var l=0;l<n;l++)t[i+l]=e[r+l]},flattenChunks:function(t){var e,r,n,i,l,o;for(n=0,e=0,r=t.length;e<r;e++)n+=t[e].length;for(o=new Uint8Array(n),i=0,e=0,r=t.length;e<r;e++)l=t[e],o.set(l,i),i+=l.length;return o}},BY={arraySet:function(t,e,r,n,i){for(var l=0;l<n;l++)t[i+l]=e[r+l]},flattenChunks:function(t){return[].concat.apply([],t)}};Cn.setTyped=function(t){t?(Cn.Buf8=Uint8Array,Cn.Buf16=Uint16Array,Cn.Buf32=Int32Array,Cn.assign(Cn,RY)):(Cn.Buf8=Array,Cn.Buf16=Array,Cn.Buf32=Array,Cn.assign(Cn,BY))};Cn.setTyped(PY)});var eM=ae(M2=>{"use strict";var OY=Jl(),VY=4,AS=0,RS=1,ZY=2;function S2(t){for(var e=t.length;--e>=0;)t[e]=0}var IY=0,DS=1,DY=2,NY=3,FY=258,hg=29,e5=256,X9=e5+1+hg,E2=30,dg=19,NS=2*X9+1,ps=15,og=16,jY=7,mg=256,FS=16,jS=17,qS=18,cg=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],_4=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],qY=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],WS=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],WY=512,Kl=new Array((X9+2)*2);S2(Kl);var K9=new Array(E2*2);S2(K9);var Q9=new Array(WY);S2(Q9);var x9=new Array(FY-NY+1);S2(x9);var gg=new Array(hg);S2(gg);var p4=new Array(E2);S2(p4);function ag(t,e,r,n,i){this.static_tree=t,this.extra_bits=e,this.extra_base=r,this.elems=n,this.max_length=i,this.has_stree=t&&t.length}var US,YS,GS;function sg(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}function JS(t){return t<256?Q9[t]:Q9[256+(t>>>7)]}function $9(t,e){t.pending_buf[t.pending++]=e&255,t.pending_buf[t.pending++]=e>>>8&255}function In(t,e,r){t.bi_valid>og-r?(t.bi_buf|=e<<t.bi_valid&65535,$9(t,t.bi_buf),t.bi_buf=e>>og-t.bi_valid,t.bi_valid+=r-og):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=r)}function Di(t,e,r){In(t,r[e*2],r[e*2+1])}function KS(t,e){var r=0;do r|=t&1,t>>>=1,r<<=1;while(--e>0);return r>>>1}function UY(t){t.bi_valid===16?($9(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=t.bi_buf&255,t.bi_buf>>=8,t.bi_valid-=8)}function YY(t,e){var r=e.dyn_tree,n=e.max_code,i=e.stat_desc.static_tree,l=e.stat_desc.has_stree,o=e.stat_desc.extra_bits,a=e.stat_desc.extra_base,s=e.stat_desc.max_length,u,c,f,h,g,p,w=0;for(h=0;h<=ps;h++)t.bl_count[h]=0;for(r[t.heap[t.heap_max]*2+1]=0,u=t.heap_max+1;u<NS;u++)c=t.heap[u],h=r[r[c*2+1]*2+1]+1,h>s&&(h=s,w++),r[c*2+1]=h,!(c>n)&&(t.bl_count[h]++,g=0,c>=a&&(g=o[c-a]),p=r[c*2],t.opt_len+=p*(h+g),l&&(t.static_len+=p*(i[c*2+1]+g)));if(w!==0){do{for(h=s-1;t.bl_count[h]===0;)h--;t.bl_count[h]--,t.bl_count[h+1]+=2,t.bl_count[s]--,w-=2}while(w>0);for(h=s;h!==0;h--)for(c=t.bl_count[h];c!==0;)f=t.heap[--u],!(f>n)&&(r[f*2+1]!==h&&(t.opt_len+=(h-r[f*2+1])*r[f*2],r[f*2+1]=h),c--)}}function XS(t,e,r){var n=new Array(ps+1),i=0,l,o;for(l=1;l<=ps;l++)n[l]=i=i+r[l-1]<<1;for(o=0;o<=e;o++){var a=t[o*2+1];a!==0&&(t[o*2]=KS(n[a]++,a))}}function GY(){var t,e,r,n,i,l=new Array(ps+1);for(r=0,n=0;n<hg-1;n++)for(gg[n]=r,t=0;t<1<<cg[n];t++)x9[r++]=n;for(x9[r-1]=n,i=0,n=0;n<16;n++)for(p4[n]=i,t=0;t<1<<_4[n];t++)Q9[i++]=n;for(i>>=7;n<E2;n++)for(p4[n]=i<<7,t=0;t<1<<_4[n]-7;t++)Q9[256+i++]=n;for(e=0;e<=ps;e++)l[e]=0;for(t=0;t<=143;)Kl[t*2+1]=8,t++,l[8]++;for(;t<=255;)Kl[t*2+1]=9,t++,l[9]++;for(;t<=279;)Kl[t*2+1]=7,t++,l[7]++;for(;t<=287;)Kl[t*2+1]=8,t++,l[8]++;for(XS(Kl,X9+1,l),t=0;t<E2;t++)K9[t*2+1]=5,K9[t*2]=KS(t,5);US=new ag(Kl,cg,e5+1,X9,ps),YS=new ag(K9,_4,0,E2,ps),GS=new ag(new Array(0),qY,0,dg,jY)}function QS(t){var e;for(e=0;e<X9;e++)t.dyn_ltree[e*2]=0;for(e=0;e<E2;e++)t.dyn_dtree[e*2]=0;for(e=0;e<dg;e++)t.bl_tree[e*2]=0;t.dyn_ltree[mg*2]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function xS(t){t.bi_valid>8?$9(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function JY(t,e,r,n){xS(t),n&&($9(t,r),$9(t,~r)),OY.arraySet(t.pending_buf,t.window,e,r,t.pending),t.pending+=r}function BS(t,e,r,n){var i=e*2,l=r*2;return t[i]<t[l]||t[i]===t[l]&&n[e]<=n[r]}function ug(t,e,r){for(var n=t.heap[r],i=r<<1;i<=t.heap_len&&(i<t.heap_len&&BS(e,t.heap[i+1],t.heap[i],t.depth)&&i++,!BS(e,n,t.heap[i],t.depth));)t.heap[r]=t.heap[i],r=i,i<<=1;t.heap[r]=n}function OS(t,e,r){var n,i,l=0,o,a;if(t.last_lit!==0)do n=t.pending_buf[t.d_buf+l*2]<<8|t.pending_buf[t.d_buf+l*2+1],i=t.pending_buf[t.l_buf+l],l++,n===0?Di(t,i,e):(o=x9[i],Di(t,o+e5+1,e),a=cg[o],a!==0&&(i-=gg[o],In(t,i,a)),n--,o=JS(n),Di(t,o,r),a=_4[o],a!==0&&(n-=p4[o],In(t,n,a)));while(l<t.last_lit);Di(t,mg,e)}function fg(t,e){var r=e.dyn_tree,n=e.stat_desc.static_tree,i=e.stat_desc.has_stree,l=e.stat_desc.elems,o,a,s=-1,u;for(t.heap_len=0,t.heap_max=NS,o=0;o<l;o++)r[o*2]!==0?(t.heap[++t.heap_len]=s=o,t.depth[o]=0):r[o*2+1]=0;for(;t.heap_len<2;)u=t.heap[++t.heap_len]=s<2?++s:0,r[u*2]=1,t.depth[u]=0,t.opt_len--,i&&(t.static_len-=n[u*2+1]);for(e.max_code=s,o=t.heap_len>>1;o>=1;o--)ug(t,r,o);u=l;do o=t.heap[1],t.heap[1]=t.heap[t.heap_len--],ug(t,r,1),a=t.heap[1],t.heap[--t.heap_max]=o,t.heap[--t.heap_max]=a,r[u*2]=r[o*2]+r[a*2],t.depth[u]=(t.depth[o]>=t.depth[a]?t.depth[o]:t.depth[a])+1,r[o*2+1]=r[a*2+1]=u,t.heap[1]=u++,ug(t,r,1);while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],YY(t,e),XS(r,s,t.bl_count)}function VS(t,e,r){var n,i=-1,l,o=e[0*2+1],a=0,s=7,u=4;for(o===0&&(s=138,u=3),e[(r+1)*2+1]=65535,n=0;n<=r;n++)l=o,o=e[(n+1)*2+1],!(++a<s&&l===o)&&(a<u?t.bl_tree[l*2]+=a:l!==0?(l!==i&&t.bl_tree[l*2]++,t.bl_tree[FS*2]++):a<=10?t.bl_tree[jS*2]++:t.bl_tree[qS*2]++,a=0,i=l,o===0?(s=138,u=3):l===o?(s=6,u=3):(s=7,u=4))}function ZS(t,e,r){var n,i=-1,l,o=e[0*2+1],a=0,s=7,u=4;for(o===0&&(s=138,u=3),n=0;n<=r;n++)if(l=o,o=e[(n+1)*2+1],!(++a<s&&l===o)){if(a<u)do Di(t,l,t.bl_tree);while(--a!==0);else l!==0?(l!==i&&(Di(t,l,t.bl_tree),a--),Di(t,FS,t.bl_tree),In(t,a-3,2)):a<=10?(Di(t,jS,t.bl_tree),In(t,a-3,3)):(Di(t,qS,t.bl_tree),In(t,a-11,7));a=0,i=l,o===0?(s=138,u=3):l===o?(s=6,u=3):(s=7,u=4)}}function KY(t){var e;for(VS(t,t.dyn_ltree,t.l_desc.max_code),VS(t,t.dyn_dtree,t.d_desc.max_code),fg(t,t.bl_desc),e=dg-1;e>=3&&t.bl_tree[WS[e]*2+1]===0;e--);return t.opt_len+=3*(e+1)+5+5+4,e}function XY(t,e,r,n){var i;for(In(t,e-257,5),In(t,r-1,5),In(t,n-4,4),i=0;i<n;i++)In(t,t.bl_tree[WS[i]*2+1],3);ZS(t,t.dyn_ltree,e-1),ZS(t,t.dyn_dtree,r-1)}function QY(t){var e=4093624447,r;for(r=0;r<=31;r++,e>>>=1)if(e&1&&t.dyn_ltree[r*2]!==0)return AS;if(t.dyn_ltree[9*2]!==0||t.dyn_ltree[10*2]!==0||t.dyn_ltree[13*2]!==0)return RS;for(r=32;r<e5;r++)if(t.dyn_ltree[r*2]!==0)return RS;return AS}var IS=!1;function xY(t){IS||(GY(),IS=!0),t.l_desc=new sg(t.dyn_ltree,US),t.d_desc=new sg(t.dyn_dtree,YS),t.bl_desc=new sg(t.bl_tree,GS),t.bi_buf=0,t.bi_valid=0,QS(t)}function $S(t,e,r,n){In(t,(IY<<1)+(n?1:0),3),JY(t,e,r,!0)}function $Y(t){In(t,DS<<1,3),Di(t,mg,Kl),UY(t)}function eG(t,e,r,n){var i,l,o=0;t.level>0?(t.strm.data_type===ZY&&(t.strm.data_type=QY(t)),fg(t,t.l_desc),fg(t,t.d_desc),o=KY(t),i=t.opt_len+3+7>>>3,l=t.static_len+3+7>>>3,l<=i&&(i=l)):i=l=r+5,r+4<=i&&e!==-1?$S(t,e,r,n):t.strategy===VY||l===i?(In(t,(DS<<1)+(n?1:0),3),OS(t,Kl,K9)):(In(t,(DY<<1)+(n?1:0),3),XY(t,t.l_desc.max_code+1,t.d_desc.max_code+1,o+1),OS(t,t.dyn_ltree,t.dyn_dtree)),QS(t),n&&xS(t)}function tG(t,e,r){return t.pending_buf[t.d_buf+t.last_lit*2]=e>>>8&255,t.pending_buf[t.d_buf+t.last_lit*2+1]=e&255,t.pending_buf[t.l_buf+t.last_lit]=r&255,t.last_lit++,e===0?t.dyn_ltree[r*2]++:(t.matches++,e--,t.dyn_ltree[(x9[r]+e5+1)*2]++,t.dyn_dtree[JS(e)*2]++),t.last_lit===t.lit_bufsize-1}M2._tr_init=xY;M2._tr_stored_block=$S;M2._tr_flush_block=eG;M2._tr_tally=tG;M2._tr_align=$Y});var _g=ae((Rhe,tM)=>{"use strict";function rG(t,e,r,n){for(var i=t&65535|0,l=t>>>16&65535|0,o=0;r!==0;){o=r>2e3?2e3:r,r-=o;do i=i+e[n++]|0,l=l+i|0;while(--o);i%=65521,l%=65521}return i|l<<16|0}tM.exports=rG});var pg=ae((Bhe,rM)=>{"use strict";function nG(){for(var t,e=[],r=0;r<256;r++){t=r;for(var n=0;n<8;n++)t=t&1?3988292384^t>>>1:t>>>1;e[r]=t}return e}var iG=nG();function lG(t,e,r,n){var i=iG,l=n+r;t^=-1;for(var o=n;o<l;o++)t=t>>>8^i[(t^e[o])&255];return t^-1}rM.exports=lG});var C4=ae((Ohe,nM)=>{"use strict";nM.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}});var hM=ae(ji=>{"use strict";var bn=Jl(),z1=eM(),aM=_g(),Fo=pg(),oG=C4(),ws=0,aG=1,sG=3,Yo=4,iM=5,Fi=0,lM=1,H1=-2,uG=-3,Cg=-5,cG=-1,fG=1,b4=2,hG=3,dG=4,mG=0,gG=2,y4=8,_G=9,pG=15,CG=8,bG=29,vG=256,vg=vG+1+bG,wG=30,kG=19,yG=2*vg+1,LG=15,pt=3,Wo=258,oi=Wo+pt+1,EG=32,L4=42,wg=69,v4=73,w4=91,k4=103,Cs=113,r5=666,Sr=1,n5=2,bs=3,H2=4,SG=3;function Uo(t,e){return t.msg=oG[e],e}function oM(t){return(t<<1)-(t>4?9:0)}function qo(t){for(var e=t.length;--e>=0;)t[e]=0}function jo(t){var e=t.state,r=e.pending;r>t.avail_out&&(r=t.avail_out),r!==0&&(bn.arraySet(t.output,e.pending_buf,e.pending_out,r,t.next_out),t.next_out+=r,e.pending_out+=r,t.total_out+=r,t.avail_out-=r,e.pending-=r,e.pending===0&&(e.pending_out=0))}function jr(t,e){z1._tr_flush_block(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,jo(t.strm)}function Lt(t,e){t.pending_buf[t.pending++]=e}function t5(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=e&255}function MG(t,e,r,n){var i=t.avail_in;return i>n&&(i=n),i===0?0:(t.avail_in-=i,bn.arraySet(e,t.input,t.next_in,i,r),t.state.wrap===1?t.adler=aM(t.adler,e,i,r):t.state.wrap===2&&(t.adler=Fo(t.adler,e,i,r)),t.next_in+=i,t.total_in+=i,i)}function sM(t,e){var r=t.max_chain_length,n=t.strstart,i,l,o=t.prev_length,a=t.nice_match,s=t.strstart>t.w_size-oi?t.strstart-(t.w_size-oi):0,u=t.window,c=t.w_mask,f=t.prev,h=t.strstart+Wo,g=u[n+o-1],p=u[n+o];t.prev_length>=t.good_match&&(r>>=2),a>t.lookahead&&(a=t.lookahead);do if(i=e,!(u[i+o]!==p||u[i+o-1]!==g||u[i]!==u[n]||u[++i]!==u[n+1])){n+=2,i++;do;while(u[++n]===u[++i]&&u[++n]===u[++i]&&u[++n]===u[++i]&&u[++n]===u[++i]&&u[++n]===u[++i]&&u[++n]===u[++i]&&u[++n]===u[++i]&&u[++n]===u[++i]&&n<h);if(l=Wo-(h-n),n=h-Wo,l>o){if(t.match_start=e,o=l,l>=a)break;g=u[n+o-1],p=u[n+o]}}while((e=f[e&c])>s&&--r!==0);return o<=t.lookahead?o:t.lookahead}function vs(t){var e=t.w_size,r,n,i,l,o;do{if(l=t.window_size-t.lookahead-t.strstart,t.strstart>=e+(e-oi)){bn.arraySet(t.window,t.window,e,e,0),t.match_start-=e,t.strstart-=e,t.block_start-=e,n=t.hash_size,r=n;do i=t.head[--r],t.head[r]=i>=e?i-e:0;while(--n);n=e,r=n;do i=t.prev[--r],t.prev[r]=i>=e?i-e:0;while(--n);l+=e}if(t.strm.avail_in===0)break;if(n=MG(t.strm,t.window,t.strstart+t.lookahead,l),t.lookahead+=n,t.lookahead+t.insert>=pt)for(o=t.strstart-t.insert,t.ins_h=t.window[o],t.ins_h=(t.ins_h<<t.hash_shift^t.window[o+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[o+pt-1])&t.hash_mask,t.prev[o&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=o,o++,t.insert--,!(t.lookahead+t.insert<pt)););}while(t.lookahead<oi&&t.strm.avail_in!==0)}function TG(t,e){var r=65535;for(r>t.pending_buf_size-5&&(r=t.pending_buf_size-5);;){if(t.lookahead<=1){if(vs(t),t.lookahead===0&&e===ws)return Sr;if(t.lookahead===0)break}t.strstart+=t.lookahead,t.lookahead=0;var n=t.block_start+r;if((t.strstart===0||t.strstart>=n)&&(t.lookahead=t.strstart-n,t.strstart=n,jr(t,!1),t.strm.avail_out===0)||t.strstart-t.block_start>=t.w_size-oi&&(jr(t,!1),t.strm.avail_out===0))return Sr}return t.insert=0,e===Yo?(jr(t,!0),t.strm.avail_out===0?bs:H2):(t.strstart>t.block_start&&(jr(t,!1),t.strm.avail_out===0),Sr)}function bg(t,e){for(var r,n;;){if(t.lookahead<oi){if(vs(t),t.lookahead<oi&&e===ws)return Sr;if(t.lookahead===0)break}if(r=0,t.lookahead>=pt&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+pt-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),r!==0&&t.strstart-r<=t.w_size-oi&&(t.match_length=sM(t,r)),t.match_length>=pt)if(n=z1._tr_tally(t,t.strstart-t.match_start,t.match_length-pt),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=pt){t.match_length--;do t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+pt-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart;while(--t.match_length!==0);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else n=z1._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(n&&(jr(t,!1),t.strm.avail_out===0))return Sr}return t.insert=t.strstart<pt-1?t.strstart:pt-1,e===Yo?(jr(t,!0),t.strm.avail_out===0?bs:H2):t.last_lit&&(jr(t,!1),t.strm.avail_out===0)?Sr:n5}function T2(t,e){for(var r,n,i;;){if(t.lookahead<oi){if(vs(t),t.lookahead<oi&&e===ws)return Sr;if(t.lookahead===0)break}if(r=0,t.lookahead>=pt&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+pt-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=pt-1,r!==0&&t.prev_length<t.max_lazy_match&&t.strstart-r<=t.w_size-oi&&(t.match_length=sM(t,r),t.match_length<=5&&(t.strategy===fG||t.match_length===pt&&t.strstart-t.match_start>4096)&&(t.match_length=pt-1)),t.prev_length>=pt&&t.match_length<=t.prev_length){i=t.strstart+t.lookahead-pt,n=z1._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-pt),t.lookahead-=t.prev_length-1,t.prev_length-=2;do++t.strstart<=i&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+pt-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart);while(--t.prev_length!==0);if(t.match_available=0,t.match_length=pt-1,t.strstart++,n&&(jr(t,!1),t.strm.avail_out===0))return Sr}else if(t.match_available){if(n=z1._tr_tally(t,0,t.window[t.strstart-1]),n&&jr(t,!1),t.strstart++,t.lookahead--,t.strm.avail_out===0)return Sr}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(n=z1._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<pt-1?t.strstart:pt-1,e===Yo?(jr(t,!0),t.strm.avail_out===0?bs:H2):t.last_lit&&(jr(t,!1),t.strm.avail_out===0)?Sr:n5}function zG(t,e){for(var r,n,i,l,o=t.window;;){if(t.lookahead<=Wo){if(vs(t),t.lookahead<=Wo&&e===ws)return Sr;if(t.lookahead===0)break}if(t.match_length=0,t.lookahead>=pt&&t.strstart>0&&(i=t.strstart-1,n=o[i],n===o[++i]&&n===o[++i]&&n===o[++i])){l=t.strstart+Wo;do;while(n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&i<l);t.match_length=Wo-(l-i),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=pt?(r=z1._tr_tally(t,1,t.match_length-pt),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(r=z1._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),r&&(jr(t,!1),t.strm.avail_out===0))return Sr}return t.insert=0,e===Yo?(jr(t,!0),t.strm.avail_out===0?bs:H2):t.last_lit&&(jr(t,!1),t.strm.avail_out===0)?Sr:n5}function HG(t,e){for(var r;;){if(t.lookahead===0&&(vs(t),t.lookahead===0)){if(e===ws)return Sr;break}if(t.match_length=0,r=z1._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,r&&(jr(t,!1),t.strm.avail_out===0))return Sr}return t.insert=0,e===Yo?(jr(t,!0),t.strm.avail_out===0?bs:H2):t.last_lit&&(jr(t,!1),t.strm.avail_out===0)?Sr:n5}function Ni(t,e,r,n,i){this.good_length=t,this.max_lazy=e,this.nice_length=r,this.max_chain=n,this.func=i}var z2;z2=[new Ni(0,0,0,0,TG),new Ni(4,4,8,4,bg),new Ni(4,5,16,8,bg),new Ni(4,6,32,32,bg),new Ni(4,4,16,16,T2),new Ni(8,16,32,32,T2),new Ni(8,16,128,128,T2),new Ni(8,32,128,256,T2),new Ni(32,128,258,1024,T2),new Ni(32,258,258,4096,T2)];function PG(t){t.window_size=2*t.w_size,qo(t.head),t.max_lazy_match=z2[t.level].max_lazy,t.good_match=z2[t.level].good_length,t.nice_match=z2[t.level].nice_length,t.max_chain_length=z2[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=pt-1,t.match_available=0,t.ins_h=0}function AG(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=y4,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new bn.Buf16(yG*2),this.dyn_dtree=new bn.Buf16((2*wG+1)*2),this.bl_tree=new bn.Buf16((2*kG+1)*2),qo(this.dyn_ltree),qo(this.dyn_dtree),qo(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new bn.Buf16(LG+1),this.heap=new bn.Buf16(2*vg+1),qo(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new bn.Buf16(2*vg+1),qo(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function uM(t){var e;return!t||!t.state?Uo(t,H1):(t.total_in=t.total_out=0,t.data_type=gG,e=t.state,e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?L4:Cs,t.adler=e.wrap===2?0:1,e.last_flush=ws,z1._tr_init(e),Fi)}function cM(t){var e=uM(t);return e===Fi&&PG(t.state),e}function RG(t,e){return!t||!t.state||t.state.wrap!==2?H1:(t.state.gzhead=e,Fi)}function fM(t,e,r,n,i,l){if(!t)return H1;var o=1;if(e===cG&&(e=6),n<0?(o=0,n=-n):n>15&&(o=2,n-=16),i<1||i>_G||r!==y4||n<8||n>15||e<0||e>9||l<0||l>dG)return Uo(t,H1);n===8&&(n=9);var a=new AG;return t.state=a,a.strm=t,a.wrap=o,a.gzhead=null,a.w_bits=n,a.w_size=1<<a.w_bits,a.w_mask=a.w_size-1,a.hash_bits=i+7,a.hash_size=1<<a.hash_bits,a.hash_mask=a.hash_size-1,a.hash_shift=~~((a.hash_bits+pt-1)/pt),a.window=new bn.Buf8(a.w_size*2),a.head=new bn.Buf16(a.hash_size),a.prev=new bn.Buf16(a.w_size),a.lit_bufsize=1<<i+6,a.pending_buf_size=a.lit_bufsize*4,a.pending_buf=new bn.Buf8(a.pending_buf_size),a.d_buf=1*a.lit_bufsize,a.l_buf=3*a.lit_bufsize,a.level=e,a.strategy=l,a.method=r,cM(t)}function BG(t,e){return fM(t,e,y4,pG,CG,mG)}function OG(t,e){var r,n,i,l;if(!t||!t.state||e>iM||e<0)return t?Uo(t,H1):H1;if(n=t.state,!t.output||!t.input&&t.avail_in!==0||n.status===r5&&e!==Yo)return Uo(t,t.avail_out===0?Cg:H1);if(n.strm=t,r=n.last_flush,n.last_flush=e,n.status===L4)if(n.wrap===2)t.adler=0,Lt(n,31),Lt(n,139),Lt(n,8),n.gzhead?(Lt(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),Lt(n,n.gzhead.time&255),Lt(n,n.gzhead.time>>8&255),Lt(n,n.gzhead.time>>16&255),Lt(n,n.gzhead.time>>24&255),Lt(n,n.level===9?2:n.strategy>=b4||n.level<2?4:0),Lt(n,n.gzhead.os&255),n.gzhead.extra&&n.gzhead.extra.length&&(Lt(n,n.gzhead.extra.length&255),Lt(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(t.adler=Fo(t.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=wg):(Lt(n,0),Lt(n,0),Lt(n,0),Lt(n,0),Lt(n,0),Lt(n,n.level===9?2:n.strategy>=b4||n.level<2?4:0),Lt(n,SG),n.status=Cs);else{var o=y4+(n.w_bits-8<<4)<<8,a=-1;n.strategy>=b4||n.level<2?a=0:n.level<6?a=1:n.level===6?a=2:a=3,o|=a<<6,n.strstart!==0&&(o|=EG),o+=31-o%31,n.status=Cs,t5(n,o),n.strstart!==0&&(t5(n,t.adler>>>16),t5(n,t.adler&65535)),t.adler=1}if(n.status===wg)if(n.gzhead.extra){for(i=n.pending;n.gzindex<(n.gzhead.extra.length&65535)&&!(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>i&&(t.adler=Fo(t.adler,n.pending_buf,n.pending-i,i)),jo(t),i=n.pending,n.pending===n.pending_buf_size));)Lt(n,n.gzhead.extra[n.gzindex]&255),n.gzindex++;n.gzhead.hcrc&&n.pending>i&&(t.adler=Fo(t.adler,n.pending_buf,n.pending-i,i)),n.gzindex===n.gzhead.extra.length&&(n.gzindex=0,n.status=v4)}else n.status=v4;if(n.status===v4)if(n.gzhead.name){i=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>i&&(t.adler=Fo(t.adler,n.pending_buf,n.pending-i,i)),jo(t),i=n.pending,n.pending===n.pending_buf_size)){l=1;break}n.gzindex<n.gzhead.name.length?l=n.gzhead.name.charCodeAt(n.gzindex++)&255:l=0,Lt(n,l)}while(l!==0);n.gzhead.hcrc&&n.pending>i&&(t.adler=Fo(t.adler,n.pending_buf,n.pending-i,i)),l===0&&(n.gzindex=0,n.status=w4)}else n.status=w4;if(n.status===w4)if(n.gzhead.comment){i=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>i&&(t.adler=Fo(t.adler,n.pending_buf,n.pending-i,i)),jo(t),i=n.pending,n.pending===n.pending_buf_size)){l=1;break}n.gzindex<n.gzhead.comment.length?l=n.gzhead.comment.charCodeAt(n.gzindex++)&255:l=0,Lt(n,l)}while(l!==0);n.gzhead.hcrc&&n.pending>i&&(t.adler=Fo(t.adler,n.pending_buf,n.pending-i,i)),l===0&&(n.status=k4)}else n.status=k4;if(n.status===k4&&(n.gzhead.hcrc?(n.pending+2>n.pending_buf_size&&jo(t),n.pending+2<=n.pending_buf_size&&(Lt(n,t.adler&255),Lt(n,t.adler>>8&255),t.adler=0,n.status=Cs)):n.status=Cs),n.pending!==0){if(jo(t),t.avail_out===0)return n.last_flush=-1,Fi}else if(t.avail_in===0&&oM(e)<=oM(r)&&e!==Yo)return Uo(t,Cg);if(n.status===r5&&t.avail_in!==0)return Uo(t,Cg);if(t.avail_in!==0||n.lookahead!==0||e!==ws&&n.status!==r5){var s=n.strategy===b4?HG(n,e):n.strategy===hG?zG(n,e):z2[n.level].func(n,e);if((s===bs||s===H2)&&(n.status=r5),s===Sr||s===bs)return t.avail_out===0&&(n.last_flush=-1),Fi;if(s===n5&&(e===aG?z1._tr_align(n):e!==iM&&(z1._tr_stored_block(n,0,0,!1),e===sG&&(qo(n.head),n.lookahead===0&&(n.strstart=0,n.block_start=0,n.insert=0))),jo(t),t.avail_out===0))return n.last_flush=-1,Fi}return e!==Yo?Fi:n.wrap<=0?lM:(n.wrap===2?(Lt(n,t.adler&255),Lt(n,t.adler>>8&255),Lt(n,t.adler>>16&255),Lt(n,t.adler>>24&255),Lt(n,t.total_in&255),Lt(n,t.total_in>>8&255),Lt(n,t.total_in>>16&255),Lt(n,t.total_in>>24&255)):(t5(n,t.adler>>>16),t5(n,t.adler&65535)),jo(t),n.wrap>0&&(n.wrap=-n.wrap),n.pending!==0?Fi:lM)}function VG(t){var e;return!t||!t.state?H1:(e=t.state.status,e!==L4&&e!==wg&&e!==v4&&e!==w4&&e!==k4&&e!==Cs&&e!==r5?Uo(t,H1):(t.state=null,e===Cs?Uo(t,uG):Fi))}function ZG(t,e){var r=e.length,n,i,l,o,a,s,u,c;if(!t||!t.state||(n=t.state,o=n.wrap,o===2||o===1&&n.status!==L4||n.lookahead))return H1;for(o===1&&(t.adler=aM(t.adler,e,r,0)),n.wrap=0,r>=n.w_size&&(o===0&&(qo(n.head),n.strstart=0,n.block_start=0,n.insert=0),c=new bn.Buf8(n.w_size),bn.arraySet(c,e,r-n.w_size,n.w_size,0),e=c,r=n.w_size),a=t.avail_in,s=t.next_in,u=t.input,t.avail_in=r,t.next_in=0,t.input=e,vs(n);n.lookahead>=pt;){i=n.strstart,l=n.lookahead-(pt-1);do n.ins_h=(n.ins_h<<n.hash_shift^n.window[i+pt-1])&n.hash_mask,n.prev[i&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=i,i++;while(--l);n.strstart=i,n.lookahead=pt-1,vs(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=pt-1,n.match_available=0,t.next_in=s,t.input=u,t.avail_in=a,n.wrap=o,Fi}ji.deflateInit=BG;ji.deflateInit2=fM;ji.deflateReset=cM;ji.deflateResetKeep=uM;ji.deflateSetHeader=RG;ji.deflate=OG;ji.deflateEnd=VG;ji.deflateSetDictionary=ZG;ji.deflateInfo="pako deflate (from Nodeca project)"});var kg=ae(P2=>{"use strict";var E4=Jl(),dM=!0,mM=!0;try{String.fromCharCode.apply(null,[0])}catch(t){dM=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){mM=!1}var i5=new E4.Buf8(256);for(Xl=0;Xl<256;Xl++)i5[Xl]=Xl>=252?6:Xl>=248?5:Xl>=240?4:Xl>=224?3:Xl>=192?2:1;var Xl;i5[254]=i5[254]=1;P2.string2buf=function(t){var e,r,n,i,l,o=t.length,a=0;for(i=0;i<o;i++)r=t.charCodeAt(i),(r&64512)===55296&&i+1<o&&(n=t.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),a+=r<128?1:r<2048?2:r<65536?3:4;for(e=new E4.Buf8(a),l=0,i=0;l<a;i++)r=t.charCodeAt(i),(r&64512)===55296&&i+1<o&&(n=t.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),r<128?e[l++]=r:r<2048?(e[l++]=192|r>>>6,e[l++]=128|r&63):r<65536?(e[l++]=224|r>>>12,e[l++]=128|r>>>6&63,e[l++]=128|r&63):(e[l++]=240|r>>>18,e[l++]=128|r>>>12&63,e[l++]=128|r>>>6&63,e[l++]=128|r&63);return e};function gM(t,e){if(e<65534&&(t.subarray&&mM||!t.subarray&&dM))return String.fromCharCode.apply(null,E4.shrinkBuf(t,e));for(var r="",n=0;n<e;n++)r+=String.fromCharCode(t[n]);return r}P2.buf2binstring=function(t){return gM(t,t.length)};P2.binstring2buf=function(t){for(var e=new E4.Buf8(t.length),r=0,n=e.length;r<n;r++)e[r]=t.charCodeAt(r);return e};P2.buf2string=function(t,e){var r,n,i,l,o=e||t.length,a=new Array(o*2);for(n=0,r=0;r<o;){if(i=t[r++],i<128){a[n++]=i;continue}if(l=i5[i],l>4){a[n++]=65533,r+=l-1;continue}for(i&=l===2?31:l===3?15:7;l>1&&r<o;)i=i<<6|t[r++]&63,l--;if(l>1){a[n++]=65533;continue}i<65536?a[n++]=i:(i-=65536,a[n++]=55296|i>>10&1023,a[n++]=56320|i&1023)}return gM(a,n)};P2.utf8border=function(t,e){var r;for(e=e||t.length,e>t.length&&(e=t.length),r=e-1;r>=0&&(t[r]&192)===128;)r--;return r<0||r===0?e:r+i5[t[r]]>e?r:e}});var yg=ae((Ihe,_M)=>{"use strict";function IG(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}_M.exports=IG});var vM=ae(a5=>{"use strict";var l5=hM(),o5=Jl(),Eg=kg(),Sg=C4(),DG=yg(),bM=Object.prototype.toString,NG=0,Lg=4,A2=0,pM=1,CM=2,FG=-1,jG=0,qG=8;function ks(t){if(!(this instanceof ks))return new ks(t);this.options=o5.assign({level:FG,method:qG,chunkSize:16384,windowBits:15,memLevel:8,strategy:jG,to:""},t||{});var e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new DG,this.strm.avail_out=0;var r=l5.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(r!==A2)throw new Error(Sg[r]);if(e.header&&l5.deflateSetHeader(this.strm,e.header),e.dictionary){var n;if(typeof e.dictionary=="string"?n=Eg.string2buf(e.dictionary):bM.call(e.dictionary)==="[object ArrayBuffer]"?n=new Uint8Array(e.dictionary):n=e.dictionary,r=l5.deflateSetDictionary(this.strm,n),r!==A2)throw new Error(Sg[r]);this._dict_set=!0}}ks.prototype.push=function(t,e){var r=this.strm,n=this.options.chunkSize,i,l;if(this.ended)return!1;l=e===~~e?e:e===!0?Lg:NG,typeof t=="string"?r.input=Eg.string2buf(t):bM.call(t)==="[object ArrayBuffer]"?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;do{if(r.avail_out===0&&(r.output=new o5.Buf8(n),r.next_out=0,r.avail_out=n),i=l5.deflate(r,l),i!==pM&&i!==A2)return this.onEnd(i),this.ended=!0,!1;(r.avail_out===0||r.avail_in===0&&(l===Lg||l===CM))&&(this.options.to==="string"?this.onData(Eg.buf2binstring(o5.shrinkBuf(r.output,r.next_out))):this.onData(o5.shrinkBuf(r.output,r.next_out)))}while((r.avail_in>0||r.avail_out===0)&&i!==pM);return l===Lg?(i=l5.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===A2):(l===CM&&(this.onEnd(A2),r.avail_out=0),!0)};ks.prototype.onData=function(t){this.chunks.push(t)};ks.prototype.onEnd=function(t){t===A2&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o5.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function Mg(t,e){var r=new ks(e);if(r.push(t,!0),r.err)throw r.msg||Sg[r.err];return r.result}function WG(t,e){return e=e||{},e.raw=!0,Mg(t,e)}function UG(t,e){return e=e||{},e.gzip=!0,Mg(t,e)}a5.Deflate=ks;a5.deflate=Mg;a5.deflateRaw=WG;a5.gzip=UG});var kM=ae((Nhe,wM)=>{"use strict";var S4=30,YG=12;wM.exports=function(e,r){var n,i,l,o,a,s,u,c,f,h,g,p,w,b,v,S,P,Z,y,W,X,x,le,oe,$;n=e.state,i=e.next_in,oe=e.input,l=i+(e.avail_in-5),o=e.next_out,$=e.output,a=o-(r-e.avail_out),s=o+(e.avail_out-257),u=n.dmax,c=n.wsize,f=n.whave,h=n.wnext,g=n.window,p=n.hold,w=n.bits,b=n.lencode,v=n.distcode,S=(1<<n.lenbits)-1,P=(1<<n.distbits)-1;e:do{w<15&&(p+=oe[i++]<<w,w+=8,p+=oe[i++]<<w,w+=8),Z=b[p&S];t:for(;;){if(y=Z>>>24,p>>>=y,w-=y,y=Z>>>16&255,y===0)$[o++]=Z&65535;else if(y&16){W=Z&65535,y&=15,y&&(w<y&&(p+=oe[i++]<<w,w+=8),W+=p&(1<<y)-1,p>>>=y,w-=y),w<15&&(p+=oe[i++]<<w,w+=8,p+=oe[i++]<<w,w+=8),Z=v[p&P];r:for(;;){if(y=Z>>>24,p>>>=y,w-=y,y=Z>>>16&255,y&16){if(X=Z&65535,y&=15,w<y&&(p+=oe[i++]<<w,w+=8,w<y&&(p+=oe[i++]<<w,w+=8)),X+=p&(1<<y)-1,X>u){e.msg="invalid distance too far back",n.mode=S4;break e}if(p>>>=y,w-=y,y=o-a,X>y){if(y=X-y,y>f&&n.sane){e.msg="invalid distance too far back",n.mode=S4;break e}if(x=0,le=g,h===0){if(x+=c-y,y<W){W-=y;do $[o++]=g[x++];while(--y);x=o-X,le=$}}else if(h<y){if(x+=c+h-y,y-=h,y<W){W-=y;do $[o++]=g[x++];while(--y);if(x=0,h<W){y=h,W-=y;do $[o++]=g[x++];while(--y);x=o-X,le=$}}}else if(x+=h-y,y<W){W-=y;do $[o++]=g[x++];while(--y);x=o-X,le=$}for(;W>2;)$[o++]=le[x++],$[o++]=le[x++],$[o++]=le[x++],W-=3;W&&($[o++]=le[x++],W>1&&($[o++]=le[x++]))}else{x=o-X;do $[o++]=$[x++],$[o++]=$[x++],$[o++]=$[x++],W-=3;while(W>2);W&&($[o++]=$[x++],W>1&&($[o++]=$[x++]))}}else if(y&64){e.msg="invalid distance code",n.mode=S4;break e}else{Z=v[(Z&65535)+(p&(1<<y)-1)];continue r}break}}else if(y&64)if(y&32){n.mode=YG;break e}else{e.msg="invalid literal/length code",n.mode=S4;break e}else{Z=b[(Z&65535)+(p&(1<<y)-1)];continue t}break}}while(i<l&&o<s);W=w>>3,i-=W,w-=W<<3,p&=(1<<w)-1,e.next_in=i,e.next_out=o,e.avail_in=i<l?5+(l-i):5-(i-l),e.avail_out=o<s?257+(s-o):257-(o-s),n.hold=p,n.bits=w}});var zM=ae((Fhe,TM)=>{"use strict";var yM=Jl(),R2=15,LM=852,EM=592,SM=0,Tg=1,MM=2,GG=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],JG=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],KG=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],XG=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];TM.exports=function(e,r,n,i,l,o,a,s){var u=s.bits,c=0,f=0,h=0,g=0,p=0,w=0,b=0,v=0,S=0,P=0,Z,y,W,X,x,le=null,oe=0,$,ee=new yM.Buf16(R2+1),ce=new yM.Buf16(R2+1),Te=null,Pe=0,pe,et,we;for(c=0;c<=R2;c++)ee[c]=0;for(f=0;f<i;f++)ee[r[n+f]]++;for(p=u,g=R2;g>=1&&ee[g]===0;g--);if(p>g&&(p=g),g===0)return l[o++]=1<<24|64<<16|0,l[o++]=1<<24|64<<16|0,s.bits=1,0;for(h=1;h<g&&ee[h]===0;h++);for(p<h&&(p=h),v=1,c=1;c<=R2;c++)if(v<<=1,v-=ee[c],v<0)return-1;if(v>0&&(e===SM||g!==1))return-1;for(ce[1]=0,c=1;c<R2;c++)ce[c+1]=ce[c]+ee[c];for(f=0;f<i;f++)r[n+f]!==0&&(a[ce[r[n+f]]++]=f);if(e===SM?(le=Te=a,$=19):e===Tg?(le=GG,oe-=257,Te=JG,Pe-=257,$=256):(le=KG,Te=XG,$=-1),P=0,f=0,c=h,x=o,w=p,b=0,W=-1,S=1<<p,X=S-1,e===Tg&&S>LM||e===MM&&S>EM)return 1;for(;;){pe=c-b,a[f]<$?(et=0,we=a[f]):a[f]>$?(et=Te[Pe+a[f]],we=le[oe+a[f]]):(et=96,we=0),Z=1<<c-b,y=1<<w,h=y;do y-=Z,l[x+(P>>b)+y]=pe<<24|et<<16|we|0;while(y!==0);for(Z=1<<c-1;P&Z;)Z>>=1;if(Z!==0?(P&=Z-1,P+=Z):P=0,f++,--ee[c]===0){if(c===g)break;c=r[n+a[f]]}if(c>p&&(P&X)!==W){for(b===0&&(b=p),x+=h,w=c-b,v=1<<w;w+b<g&&(v-=ee[w+b],!(v<=0));)w++,v<<=1;if(S+=1<<w,e===Tg&&S>LM||e===MM&&S>EM)return 1;W=P&X,l[W]=p<<24|w<<16|x-o|0}}return P!==0&&(l[x+P]=c-b<<24|64<<16|0),s.bits=p,0}});var cT=ae(ai=>{"use strict";var a1=Jl(),Bg=_g(),qi=pg(),QG=kM(),s5=zM(),xG=0,tT=1,rT=2,HM=4,$G=5,M4=6,ys=0,eJ=1,tJ=2,P1=-2,nT=-3,Og=-4,rJ=-5,PM=8,iT=1,AM=2,RM=3,BM=4,OM=5,VM=6,ZM=7,IM=8,DM=9,NM=10,H4=11,Ql=12,zg=13,FM=14,Hg=15,jM=16,qM=17,WM=18,UM=19,T4=20,z4=21,YM=22,GM=23,JM=24,KM=25,XM=26,Pg=27,QM=28,xM=29,rr=30,Vg=31,nJ=32,iJ=852,lJ=592,oJ=15,aJ=oJ;function $M(t){return(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24)}function sJ(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new a1.Buf16(320),this.work=new a1.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function lT(t){var e;return!t||!t.state?P1:(e=t.state,t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=iT,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new a1.Buf32(iJ),e.distcode=e.distdyn=new a1.Buf32(lJ),e.sane=1,e.back=-1,ys)}function oT(t){var e;return!t||!t.state?P1:(e=t.state,e.wsize=0,e.whave=0,e.wnext=0,lT(t))}function aT(t,e){var r,n;return!t||!t.state||(n=t.state,e<0?(r=0,e=-e):(r=(e>>4)+1,e<48&&(e&=15)),e&&(e<8||e>15))?P1:(n.window!==null&&n.wbits!==e&&(n.window=null),n.wrap=r,n.wbits=e,oT(t))}function sT(t,e){var r,n;return t?(n=new sJ,t.state=n,n.window=null,r=aT(t,e),r!==ys&&(t.state=null),r):P1}function uJ(t){return sT(t,aJ)}var eT=!0,Ag,Rg;function cJ(t){if(eT){var e;for(Ag=new a1.Buf32(512),Rg=new a1.Buf32(32),e=0;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(s5(tT,t.lens,0,288,Ag,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;s5(rT,t.lens,0,32,Rg,0,t.work,{bits:5}),eT=!1}t.lencode=Ag,t.lenbits=9,t.distcode=Rg,t.distbits=5}function uT(t,e,r,n){var i,l=t.state;return l.window===null&&(l.wsize=1<<l.wbits,l.wnext=0,l.whave=0,l.window=new a1.Buf8(l.wsize)),n>=l.wsize?(a1.arraySet(l.window,e,r-l.wsize,l.wsize,0),l.wnext=0,l.whave=l.wsize):(i=l.wsize-l.wnext,i>n&&(i=n),a1.arraySet(l.window,e,r-n,i,l.wnext),n-=i,n?(a1.arraySet(l.window,e,r-n,n,0),l.wnext=n,l.whave=l.wsize):(l.wnext+=i,l.wnext===l.wsize&&(l.wnext=0),l.whave<l.wsize&&(l.whave+=i))),0}function fJ(t,e){var r,n,i,l,o,a,s,u,c,f,h,g,p,w,b=0,v,S,P,Z,y,W,X,x,le=new a1.Buf8(4),oe,$,ee=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&t.avail_in!==0)return P1;r=t.state,r.mode===Ql&&(r.mode=zg),o=t.next_out,i=t.output,s=t.avail_out,l=t.next_in,n=t.input,a=t.avail_in,u=r.hold,c=r.bits,f=a,h=s,x=ys;e:for(;;)switch(r.mode){case iT:if(r.wrap===0){r.mode=zg;break}for(;c<16;){if(a===0)break e;a--,u+=n[l++]<<c,c+=8}if(r.wrap&2&&u===35615){r.check=0,le[0]=u&255,le[1]=u>>>8&255,r.check=qi(r.check,le,2,0),u=0,c=0,r.mode=AM;break}if(r.flags=0,r.head&&(r.head.done=!1),!(r.wrap&1)||(((u&255)<<8)+(u>>8))%31){t.msg="incorrect header check",r.mode=rr;break}if((u&15)!==PM){t.msg="unknown compression method",r.mode=rr;break}if(u>>>=4,c-=4,X=(u&15)+8,r.wbits===0)r.wbits=X;else if(X>r.wbits){t.msg="invalid window size",r.mode=rr;break}r.dmax=1<<X,t.adler=r.check=1,r.mode=u&512?NM:Ql,u=0,c=0;break;case AM:for(;c<16;){if(a===0)break e;a--,u+=n[l++]<<c,c+=8}if(r.flags=u,(r.flags&255)!==PM){t.msg="unknown compression method",r.mode=rr;break}if(r.flags&57344){t.msg="unknown header flags set",r.mode=rr;break}r.head&&(r.head.text=u>>8&1),r.flags&512&&(le[0]=u&255,le[1]=u>>>8&255,r.check=qi(r.check,le,2,0)),u=0,c=0,r.mode=RM;case RM:for(;c<32;){if(a===0)break e;a--,u+=n[l++]<<c,c+=8}r.head&&(r.head.time=u),r.flags&512&&(le[0]=u&255,le[1]=u>>>8&255,le[2]=u>>>16&255,le[3]=u>>>24&255,r.check=qi(r.check,le,4,0)),u=0,c=0,r.mode=BM;case BM:for(;c<16;){if(a===0)break e;a--,u+=n[l++]<<c,c+=8}r.head&&(r.head.xflags=u&255,r.head.os=u>>8),r.flags&512&&(le[0]=u&255,le[1]=u>>>8&255,r.check=qi(r.check,le,2,0)),u=0,c=0,r.mode=OM;case OM:if(r.flags&1024){for(;c<16;){if(a===0)break e;a--,u+=n[l++]<<c,c+=8}r.length=u,r.head&&(r.head.extra_len=u),r.flags&512&&(le[0]=u&255,le[1]=u>>>8&255,r.check=qi(r.check,le,2,0)),u=0,c=0}else r.head&&(r.head.extra=null);r.mode=VM;case VM:if(r.flags&1024&&(g=r.length,g>a&&(g=a),g&&(r.head&&(X=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Array(r.head.extra_len)),a1.arraySet(r.head.extra,n,l,g,X)),r.flags&512&&(r.check=qi(r.check,n,g,l)),a-=g,l+=g,r.length-=g),r.length))break e;r.length=0,r.mode=ZM;case ZM:if(r.flags&2048){if(a===0)break e;g=0;do X=n[l+g++],r.head&&X&&r.length<65536&&(r.head.name+=String.fromCharCode(X));while(X&&g<a);if(r.flags&512&&(r.check=qi(r.check,n,g,l)),a-=g,l+=g,X)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=IM;case IM:if(r.flags&4096){if(a===0)break e;g=0;do X=n[l+g++],r.head&&X&&r.length<65536&&(r.head.comment+=String.fromCharCode(X));while(X&&g<a);if(r.flags&512&&(r.check=qi(r.check,n,g,l)),a-=g,l+=g,X)break e}else r.head&&(r.head.comment=null);r.mode=DM;case DM:if(r.flags&512){for(;c<16;){if(a===0)break e;a--,u+=n[l++]<<c,c+=8}if(u!==(r.check&65535)){t.msg="header crc mismatch",r.mode=rr;break}u=0,c=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),t.adler=r.check=0,r.mode=Ql;break;case NM:for(;c<32;){if(a===0)break e;a--,u+=n[l++]<<c,c+=8}t.adler=r.check=$M(u),u=0,c=0,r.mode=H4;case H4:if(r.havedict===0)return t.next_out=o,t.avail_out=s,t.next_in=l,t.avail_in=a,r.hold=u,r.bits=c,tJ;t.adler=r.check=1,r.mode=Ql;case Ql:if(e===$G||e===M4)break e;case zg:if(r.last){u>>>=c&7,c-=c&7,r.mode=Pg;break}for(;c<3;){if(a===0)break e;a--,u+=n[l++]<<c,c+=8}switch(r.last=u&1,u>>>=1,c-=1,u&3){case 0:r.mode=FM;break;case 1:if(cJ(r),r.mode=T4,e===M4){u>>>=2,c-=2;break e}break;case 2:r.mode=qM;break;case 3:t.msg="invalid block type",r.mode=rr}u>>>=2,c-=2;break;case FM:for(u>>>=c&7,c-=c&7;c<32;){if(a===0)break e;a--,u+=n[l++]<<c,c+=8}if((u&65535)!==(u>>>16^65535)){t.msg="invalid stored block lengths",r.mode=rr;break}if(r.length=u&65535,u=0,c=0,r.mode=Hg,e===M4)break e;case Hg:r.mode=jM;case jM:if(g=r.length,g){if(g>a&&(g=a),g>s&&(g=s),g===0)break e;a1.arraySet(i,n,l,g,o),a-=g,l+=g,s-=g,o+=g,r.length-=g;break}r.mode=Ql;break;case qM:for(;c<14;){if(a===0)break e;a--,u+=n[l++]<<c,c+=8}if(r.nlen=(u&31)+257,u>>>=5,c-=5,r.ndist=(u&31)+1,u>>>=5,c-=5,r.ncode=(u&15)+4,u>>>=4,c-=4,r.nlen>286||r.ndist>30){t.msg="too many length or distance symbols",r.mode=rr;break}r.have=0,r.mode=WM;case WM:for(;r.have<r.ncode;){for(;c<3;){if(a===0)break e;a--,u+=n[l++]<<c,c+=8}r.lens[ee[r.have++]]=u&7,u>>>=3,c-=3}for(;r.have<19;)r.lens[ee[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,oe={bits:r.lenbits},x=s5(xG,r.lens,0,19,r.lencode,0,r.work,oe),r.lenbits=oe.bits,x){t.msg="invalid code lengths set",r.mode=rr;break}r.have=0,r.mode=UM;case UM:for(;r.have<r.nlen+r.ndist;){for(;b=r.lencode[u&(1<<r.lenbits)-1],v=b>>>24,S=b>>>16&255,P=b&65535,!(v<=c);){if(a===0)break e;a--,u+=n[l++]<<c,c+=8}if(P<16)u>>>=v,c-=v,r.lens[r.have++]=P;else{if(P===16){for($=v+2;c<$;){if(a===0)break e;a--,u+=n[l++]<<c,c+=8}if(u>>>=v,c-=v,r.have===0){t.msg="invalid bit length repeat",r.mode=rr;break}X=r.lens[r.have-1],g=3+(u&3),u>>>=2,c-=2}else if(P===17){for($=v+3;c<$;){if(a===0)break e;a--,u+=n[l++]<<c,c+=8}u>>>=v,c-=v,X=0,g=3+(u&7),u>>>=3,c-=3}else{for($=v+7;c<$;){if(a===0)break e;a--,u+=n[l++]<<c,c+=8}u>>>=v,c-=v,X=0,g=11+(u&127),u>>>=7,c-=7}if(r.have+g>r.nlen+r.ndist){t.msg="invalid bit length repeat",r.mode=rr;break}for(;g--;)r.lens[r.have++]=X}}if(r.mode===rr)break;if(r.lens[256]===0){t.msg="invalid code -- missing end-of-block",r.mode=rr;break}if(r.lenbits=9,oe={bits:r.lenbits},x=s5(tT,r.lens,0,r.nlen,r.lencode,0,r.work,oe),r.lenbits=oe.bits,x){t.msg="invalid literal/lengths set",r.mode=rr;break}if(r.distbits=6,r.distcode=r.distdyn,oe={bits:r.distbits},x=s5(rT,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,oe),r.distbits=oe.bits,x){t.msg="invalid distances set",r.mode=rr;break}if(r.mode=T4,e===M4)break e;case T4:r.mode=z4;case z4:if(a>=6&&s>=258){t.next_out=o,t.avail_out=s,t.next_in=l,t.avail_in=a,r.hold=u,r.bits=c,QG(t,h),o=t.next_out,i=t.output,s=t.avail_out,l=t.next_in,n=t.input,a=t.avail_in,u=r.hold,c=r.bits,r.mode===Ql&&(r.back=-1);break}for(r.back=0;b=r.lencode[u&(1<<r.lenbits)-1],v=b>>>24,S=b>>>16&255,P=b&65535,!(v<=c);){if(a===0)break e;a--,u+=n[l++]<<c,c+=8}if(S&&!(S&240)){for(Z=v,y=S,W=P;b=r.lencode[W+((u&(1<<Z+y)-1)>>Z)],v=b>>>24,S=b>>>16&255,P=b&65535,!(Z+v<=c);){if(a===0)break e;a--,u+=n[l++]<<c,c+=8}u>>>=Z,c-=Z,r.back+=Z}if(u>>>=v,c-=v,r.back+=v,r.length=P,S===0){r.mode=XM;break}if(S&32){r.back=-1,r.mode=Ql;break}if(S&64){t.msg="invalid literal/length code",r.mode=rr;break}r.extra=S&15,r.mode=YM;case YM:if(r.extra){for($=r.extra;c<$;){if(a===0)break e;a--,u+=n[l++]<<c,c+=8}r.length+=u&(1<<r.extra)-1,u>>>=r.extra,c-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=GM;case GM:for(;b=r.distcode[u&(1<<r.distbits)-1],v=b>>>24,S=b>>>16&255,P=b&65535,!(v<=c);){if(a===0)break e;a--,u+=n[l++]<<c,c+=8}if(!(S&240)){for(Z=v,y=S,W=P;b=r.distcode[W+((u&(1<<Z+y)-1)>>Z)],v=b>>>24,S=b>>>16&255,P=b&65535,!(Z+v<=c);){if(a===0)break e;a--,u+=n[l++]<<c,c+=8}u>>>=Z,c-=Z,r.back+=Z}if(u>>>=v,c-=v,r.back+=v,S&64){t.msg="invalid distance code",r.mode=rr;break}r.offset=P,r.extra=S&15,r.mode=JM;case JM:if(r.extra){for($=r.extra;c<$;){if(a===0)break e;a--,u+=n[l++]<<c,c+=8}r.offset+=u&(1<<r.extra)-1,u>>>=r.extra,c-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){t.msg="invalid distance too far back",r.mode=rr;break}r.mode=KM;case KM:if(s===0)break e;if(g=h-s,r.offset>g){if(g=r.offset-g,g>r.whave&&r.sane){t.msg="invalid distance too far back",r.mode=rr;break}g>r.wnext?(g-=r.wnext,p=r.wsize-g):p=r.wnext-g,g>r.length&&(g=r.length),w=r.window}else w=i,p=o-r.offset,g=r.length;g>s&&(g=s),s-=g,r.length-=g;do i[o++]=w[p++];while(--g);r.length===0&&(r.mode=z4);break;case XM:if(s===0)break e;i[o++]=r.length,s--,r.mode=z4;break;case Pg:if(r.wrap){for(;c<32;){if(a===0)break e;a--,u|=n[l++]<<c,c+=8}if(h-=s,t.total_out+=h,r.total+=h,h&&(t.adler=r.check=r.flags?qi(r.check,i,h,o-h):Bg(r.check,i,h,o-h)),h=s,(r.flags?u:$M(u))!==r.check){t.msg="incorrect data check",r.mode=rr;break}u=0,c=0}r.mode=QM;case QM:if(r.wrap&&r.flags){for(;c<32;){if(a===0)break e;a--,u+=n[l++]<<c,c+=8}if(u!==(r.total&4294967295)){t.msg="incorrect length check",r.mode=rr;break}u=0,c=0}r.mode=xM;case xM:x=eJ;break e;case rr:x=nT;break e;case Vg:return Og;case nJ:default:return P1}return t.next_out=o,t.avail_out=s,t.next_in=l,t.avail_in=a,r.hold=u,r.bits=c,(r.wsize||h!==t.avail_out&&r.mode<rr&&(r.mode<Pg||e!==HM))&&uT(t,t.output,t.next_out,h-t.avail_out)?(r.mode=Vg,Og):(f-=t.avail_in,h-=t.avail_out,t.total_in+=f,t.total_out+=h,r.total+=h,r.wrap&&h&&(t.adler=r.check=r.flags?qi(r.check,i,h,t.next_out-h):Bg(r.check,i,h,t.next_out-h)),t.data_type=r.bits+(r.last?64:0)+(r.mode===Ql?128:0)+(r.mode===T4||r.mode===Hg?256:0),(f===0&&h===0||e===HM)&&x===ys&&(x=rJ),x)}function hJ(t){if(!t||!t.state)return P1;var e=t.state;return e.window&&(e.window=null),t.state=null,ys}function dJ(t,e){var r;return!t||!t.state||(r=t.state,!(r.wrap&2))?P1:(r.head=e,e.done=!1,ys)}function mJ(t,e){var r=e.length,n,i,l;return!t||!t.state||(n=t.state,n.wrap!==0&&n.mode!==H4)?P1:n.mode===H4&&(i=1,i=Bg(i,e,r,0),i!==n.check)?nT:(l=uT(t,e,r,r),l?(n.mode=Vg,Og):(n.havedict=1,ys))}ai.inflateReset=oT;ai.inflateReset2=aT;ai.inflateResetKeep=lT;ai.inflateInit=uJ;ai.inflateInit2=sT;ai.inflate=fJ;ai.inflateEnd=hJ;ai.inflateGetHeader=dJ;ai.inflateSetDictionary=mJ;ai.inflateInfo="pako inflate (from Nodeca project)"});var Zg=ae((qhe,fT)=>{"use strict";fT.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}});var dT=ae((Whe,hT)=>{"use strict";function gJ(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}hT.exports=gJ});var gT=ae(c5=>{"use strict";var B2=cT(),u5=Jl(),P4=kg(),dr=Zg(),Ig=C4(),_J=yg(),pJ=dT(),mT=Object.prototype.toString;function Ls(t){if(!(this instanceof Ls))return new Ls(t);this.options=u5.assign({chunkSize:16384,windowBits:0,to:""},t||{});var e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15||(e.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new _J,this.strm.avail_out=0;var r=B2.inflateInit2(this.strm,e.windowBits);if(r!==dr.Z_OK)throw new Error(Ig[r]);if(this.header=new pJ,B2.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=P4.string2buf(e.dictionary):mT.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(r=B2.inflateSetDictionary(this.strm,e.dictionary),r!==dr.Z_OK)))throw new Error(Ig[r])}Ls.prototype.push=function(t,e){var r=this.strm,n=this.options.chunkSize,i=this.options.dictionary,l,o,a,s,u,c=!1;if(this.ended)return!1;o=e===~~e?e:e===!0?dr.Z_FINISH:dr.Z_NO_FLUSH,typeof t=="string"?r.input=P4.binstring2buf(t):mT.call(t)==="[object ArrayBuffer]"?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;do{if(r.avail_out===0&&(r.output=new u5.Buf8(n),r.next_out=0,r.avail_out=n),l=B2.inflate(r,dr.Z_NO_FLUSH),l===dr.Z_NEED_DICT&&i&&(l=B2.inflateSetDictionary(this.strm,i)),l===dr.Z_BUF_ERROR&&c===!0&&(l=dr.Z_OK,c=!1),l!==dr.Z_STREAM_END&&l!==dr.Z_OK)return this.onEnd(l),this.ended=!0,!1;r.next_out&&(r.avail_out===0||l===dr.Z_STREAM_END||r.avail_in===0&&(o===dr.Z_FINISH||o===dr.Z_SYNC_FLUSH))&&(this.options.to==="string"?(a=P4.utf8border(r.output,r.next_out),s=r.next_out-a,u=P4.buf2string(r.output,a),r.next_out=s,r.avail_out=n-s,s&&u5.arraySet(r.output,r.output,a,s,0),this.onData(u)):this.onData(u5.shrinkBuf(r.output,r.next_out))),r.avail_in===0&&r.avail_out===0&&(c=!0)}while((r.avail_in>0||r.avail_out===0)&&l!==dr.Z_STREAM_END);return l===dr.Z_STREAM_END&&(o=dr.Z_FINISH),o===dr.Z_FINISH?(l=B2.inflateEnd(this.strm),this.onEnd(l),this.ended=!0,l===dr.Z_OK):(o===dr.Z_SYNC_FLUSH&&(this.onEnd(dr.Z_OK),r.avail_out=0),!0)};Ls.prototype.onData=function(t){this.chunks.push(t)};Ls.prototype.onEnd=function(t){t===dr.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=u5.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function Dg(t,e){var r=new Ls(e);if(r.push(t,!0),r.err)throw r.msg||Ig[r.err];return r.result}function CJ(t,e){return e=e||{},e.raw=!0,Dg(t,e)}c5.Inflate=Ls;c5.inflate=Dg;c5.inflateRaw=CJ;c5.ungzip=Dg});var CT=ae((Yhe,pT)=>{"use strict";var bJ=Jl().assign,vJ=vM(),wJ=gT(),kJ=Zg(),_T={};bJ(_T,vJ,wJ,kJ);pT.exports=_T});var vT=ae(R4=>{"use strict";var yJ=typeof Uint8Array!="undefined"&&typeof Uint16Array!="undefined"&&typeof Uint32Array!="undefined",LJ=CT(),bT=nr(),A4=o1(),EJ=yJ?"uint8array":"array";R4.magic="\b\0";function Es(t,e){A4.call(this,"FlateWorker/"+t),this._pako=null,this._pakoAction=t,this._pakoOptions=e,this.meta={}}bT.inherits(Es,A4);Es.prototype.processChunk=function(t){this.meta=t.meta,this._pako===null&&this._createPako(),this._pako.push(bT.transformTo(EJ,t.data),!1)};Es.prototype.flush=function(){A4.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)};Es.prototype.cleanUp=function(){A4.prototype.cleanUp.call(this),this._pako=null};Es.prototype._createPako=function(){this._pako=new LJ[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var t=this;this._pako.onData=function(e){t.push({data:e,meta:t.meta})}};R4.compressWorker=function(t){return new Es("Deflate",t)};R4.uncompressWorker=function(){return new Es("Inflate",{})}});var Fg=ae(Ng=>{"use strict";var wT=o1();Ng.STORE={magic:"\0\0",compressWorker:function(){return new wT("STORE compression")},uncompressWorker:function(){return new wT("STORE decompression")}};Ng.DEFLATE=vT()});var jg=ae(Ss=>{"use strict";Ss.LOCAL_FILE_HEADER="PK";Ss.CENTRAL_FILE_HEADER="PK";Ss.CENTRAL_DIRECTORY_END="PK";Ss.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07";Ss.ZIP64_CENTRAL_DIRECTORY_END="PK";Ss.DATA_DESCRIPTOR="PK\x07\b"});var ET=ae((Xhe,LT)=>{"use strict";var O2=nr(),V2=o1(),qg=y2(),kT=d4(),B4=jg(),Yt=function(t,e){var r="",n;for(n=0;n<e;n++)r+=String.fromCharCode(t&255),t=t>>>8;return r},SJ=function(t,e){var r=t;return t||(r=e?16893:33204),(r&65535)<<16},MJ=function(t){return(t||0)&63},yT=function(t,e,r,n,i,l){var o=t.file,a=t.compression,s=l!==qg.utf8encode,u=O2.transformTo("string",l(o.name)),c=O2.transformTo("string",qg.utf8encode(o.name)),f=o.comment,h=O2.transformTo("string",l(f)),g=O2.transformTo("string",qg.utf8encode(f)),p=c.length!==o.name.length,w=g.length!==f.length,b,v,S="",P="",Z="",y=o.dir,W=o.date,X={crc32:0,compressedSize:0,uncompressedSize:0};(!e||r)&&(X.crc32=t.crc32,X.compressedSize=t.compressedSize,X.uncompressedSize=t.uncompressedSize);var x=0;e&&(x|=8),!s&&(p||w)&&(x|=2048);var le=0,oe=0;y&&(le|=16),i==="UNIX"?(oe=798,le|=SJ(o.unixPermissions,y)):(oe=20,le|=MJ(o.dosPermissions,y)),b=W.getUTCHours(),b=b<<6,b=b|W.getUTCMinutes(),b=b<<5,b=b|W.getUTCSeconds()/2,v=W.getUTCFullYear()-1980,v=v<<4,v=v|W.getUTCMonth()+1,v=v<<5,v=v|W.getUTCDate(),p&&(P=Yt(1,1)+Yt(kT(u),4)+c,S+="up"+Yt(P.length,2)+P),w&&(Z=Yt(1,1)+Yt(kT(h),4)+g,S+="uc"+Yt(Z.length,2)+Z);var $="";$+=`
\0`,$+=Yt(x,2),$+=a.magic,$+=Yt(b,2),$+=Yt(v,2),$+=Yt(X.crc32,4),$+=Yt(X.compressedSize,4),$+=Yt(X.uncompressedSize,4),$+=Yt(u.length,2),$+=Yt(S.length,2);var ee=B4.LOCAL_FILE_HEADER+$+u+S,ce=B4.CENTRAL_FILE_HEADER+Yt(oe,2)+$+Yt(h.length,2)+"\0\0\0\0"+Yt(le,4)+Yt(n,4)+u+S+h;return{fileRecord:ee,dirRecord:ce}},TJ=function(t,e,r,n,i){var l="",o=O2.transformTo("string",i(n));return l=B4.CENTRAL_DIRECTORY_END+"\0\0\0\0"+Yt(t,2)+Yt(t,2)+Yt(e,4)+Yt(r,4)+Yt(o.length,2)+o,l},zJ=function(t){var e="";return e=B4.DATA_DESCRIPTOR+Yt(t.crc32,4)+Yt(t.compressedSize,4)+Yt(t.uncompressedSize,4),e};function si(t,e,r,n){V2.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=e,this.zipPlatform=r,this.encodeFileName=n,this.streamFiles=t,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}O2.inherits(si,V2);si.prototype.push=function(t){var e=t.meta.percent||0,r=this.entriesCount,n=this._sources.length;this.accumulate?this.contentBuffer.push(t):(this.bytesWritten+=t.data.length,V2.prototype.push.call(this,{data:t.data,meta:{currentFile:this.currentFile,percent:r?(e+100*(r-n-1))/r:100}}))};si.prototype.openedSource=function(t){this.currentSourceOffset=this.bytesWritten,this.currentFile=t.file.name;var e=this.streamFiles&&!t.file.dir;if(e){var r=yT(t,e,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:r.fileRecord,meta:{percent:0}})}else this.accumulate=!0};si.prototype.closedSource=function(t){this.accumulate=!1;var e=this.streamFiles&&!t.file.dir,r=yT(t,e,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(r.dirRecord),e)this.push({data:zJ(t),meta:{percent:100}});else for(this.push({data:r.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null};si.prototype.flush=function(){for(var t=this.bytesWritten,e=0;e<this.dirRecords.length;e++)this.push({data:this.dirRecords[e],meta:{percent:100}});var r=this.bytesWritten-t,n=TJ(this.dirRecords.length,r,t,this.zipComment,this.encodeFileName);this.push({data:n,meta:{percent:100}})};si.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()};si.prototype.registerPrevious=function(t){this._sources.push(t);var e=this;return t.on("data",function(r){e.processChunk(r)}),t.on("end",function(){e.closedSource(e.previous.streamInfo),e._sources.length?e.prepareNextSource():e.end()}),t.on("error",function(r){e.error(r)}),this};si.prototype.resume=function(){if(!V2.prototype.resume.call(this))return!1;if(!this.previous&&this._sources.length)return this.prepareNextSource(),!0;if(!this.previous&&!this._sources.length&&!this.generatedError)return this.end(),!0};si.prototype.error=function(t){var e=this._sources;if(!V2.prototype.error.call(this,t))return!1;for(var r=0;r<e.length;r++)try{e[r].error(t)}catch(n){}return!0};si.prototype.lock=function(){V2.prototype.lock.call(this);for(var t=this._sources,e=0;e<t.length;e++)t[e].lock()};LT.exports=si});var MT=ae(ST=>{"use strict";var HJ=Fg(),PJ=ET(),AJ=function(t,e){var r=t||e,n=HJ[r];if(!n)throw new Error(r+" is not a valid compression method !");return n};ST.generateWorker=function(t,e,r){var n=new PJ(e.streamFiles,r,e.platform,e.encodeFileName),i=0;try{t.forEach(function(l,o){i++;var a=AJ(o.options.compression,e.compression),s=o.options.compressionOptions||e.compressionOptions||{},u=o.dir,c=o.date;o._compressWorker(a,s).withStreamInfo("file",{name:l,dir:u,date:c,comment:o.comment||"",unixPermissions:o.unixPermissions,dosPermissions:o.dosPermissions}).pipe(n)}),n.entriesCount=i}catch(l){n.error(l)}return n}});var zT=ae((xhe,TT)=>{"use strict";var RJ=nr(),O4=o1();function f5(t,e){O4.call(this,"Nodejs stream input adapter for "+t),this._upstreamEnded=!1,this._bindStream(e)}RJ.inherits(f5,O4);f5.prototype._bindStream=function(t){var e=this;this._stream=t,t.pause(),t.on("data",function(r){e.push({data:r,meta:{percent:0}})}).on("error",function(r){e.isPaused?this.generatedError=r:e.error(r)}).on("end",function(){e.isPaused?e._upstreamEnded=!0:e.end()})};f5.prototype.pause=function(){return O4.prototype.pause.call(this)?(this._stream.pause(),!0):!1};f5.prototype.resume=function(){return O4.prototype.resume.call(this)?(this._upstreamEnded?this.end():this._stream.resume(),!0):!1};TT.exports=f5});var DT=ae(($he,IT)=>{"use strict";var BJ=y2(),h5=nr(),RT=o1(),OJ=Jm(),BT=Km(),HT=m4(),VJ=PS(),ZJ=MT(),PT=F9(),IJ=zT(),OT=function(t,e,r){var n=h5.getTypeOf(e),i,l=h5.extend(r||{},BT);l.date=l.date||new Date,l.compression!==null&&(l.compression=l.compression.toUpperCase()),typeof l.unixPermissions=="string"&&(l.unixPermissions=parseInt(l.unixPermissions,8)),l.unixPermissions&&l.unixPermissions&16384&&(l.dir=!0),l.dosPermissions&&l.dosPermissions&16&&(l.dir=!0),l.dir&&(t=VT(t)),l.createFolders&&(i=DJ(t))&&ZT.call(this,i,!0);var o=n==="string"&&l.binary===!1&&l.base64===!1;(!r||typeof r.binary=="undefined")&&(l.binary=!o);var a=e instanceof HT&&e.uncompressedSize===0;(a||l.dir||!e||e.length===0)&&(l.base64=!1,l.binary=!0,e="",l.compression="STORE",n="string");var s=null;e instanceof HT||e instanceof RT?s=e:PT.isNode&&PT.isStream(e)?s=new IJ(t,e):s=h5.prepareContent(t,e,l.binary,l.optimizedBinaryString,l.base64);var u=new VJ(t,s,l);this.files[t]=u},DJ=function(t){t.slice(-1)==="/"&&(t=t.substring(0,t.length-1));var e=t.lastIndexOf("/");return e>0?t.substring(0,e):""},VT=function(t){return t.slice(-1)!=="/"&&(t+="/"),t},ZT=function(t,e){return e=typeof e!="undefined"?e:BT.createFolders,t=VT(t),this.files[t]||OT.call(this,t,null,{dir:!0,createFolders:e}),this.files[t]};function AT(t){return Object.prototype.toString.call(t)==="[object RegExp]"}var NJ={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(t){var e,r,n;for(e in this.files)n=this.files[e],r=e.slice(this.root.length,e.length),r&&e.slice(0,this.root.length)===this.root&&t(r,n)},filter:function(t){var e=[];return this.forEach(function(r,n){t(r,n)&&e.push(n)}),e},file:function(t,e,r){if(arguments.length===1)if(AT(t)){var n=t;return this.filter(function(l,o){return!o.dir&&n.test(l)})}else{var i=this.files[this.root+t];return i&&!i.dir?i:null}else t=this.root+t,OT.call(this,t,e,r);return this},folder:function(t){if(!t)return this;if(AT(t))return this.filter(function(i,l){return l.dir&&t.test(i)});var e=this.root+t,r=ZT.call(this,e),n=this.clone();return n.root=r.name,n},remove:function(t){t=this.root+t;var e=this.files[t];if(e||(t.slice(-1)!=="/"&&(t+="/"),e=this.files[t]),e&&!e.dir)delete this.files[t];else for(var r=this.filter(function(i,l){return l.name.slice(0,t.length)===t}),n=0;n<r.length;n++)delete this.files[r[n].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(t){var e,r={};try{if(r=h5.extend(t||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:BJ.utf8encode}),r.type=r.type.toLowerCase(),r.compression=r.compression.toUpperCase(),r.type==="binarystring"&&(r.type="string"),!r.type)throw new Error("No output type specified.");h5.checkSupport(r.type),(r.platform==="darwin"||r.platform==="freebsd"||r.platform==="linux"||r.platform==="sunos")&&(r.platform="UNIX"),r.platform==="win32"&&(r.platform="DOS");var n=r.comment||this.comment||"";e=ZJ.generateWorker(this,r,n)}catch(i){e=new RT("error"),e.error(i)}return new OJ(e,r.type||"string",r.mimeType)},generateAsync:function(t,e){return this.generateInternalStream(t).accumulate(e)},generateNodeStream:function(t,e){return t=t||{},t.type||(t.type="nodebuffer"),this.generateInternalStream(t).toNodejsStream(e)}};IT.exports=NJ});var Wg=ae((e8e,FT)=>{"use strict";var FJ=nr();function NT(t){this.data=t,this.length=t.length,this.index=0,this.zero=0}NT.prototype={checkOffset:function(t){this.checkIndex(this.index+t)},checkIndex:function(t){if(this.length<this.zero+t||t<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+t+"). Corrupted zip ?")},setIndex:function(t){this.checkIndex(t),this.index=t},skip:function(t){this.setIndex(this.index+t)},byteAt:function(){},readInt:function(t){var e=0,r;for(this.checkOffset(t),r=this.index+t-1;r>=this.index;r--)e=(e<<8)+this.byteAt(r);return this.index+=t,e},readString:function(t){return FJ.transformTo("string",this.readData(t))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var t=this.readInt(4);return new Date(Date.UTC((t>>25&127)+1980,(t>>21&15)-1,t>>16&31,t>>11&31,t>>5&63,(t&31)<<1))}};FT.exports=NT});var Ug=ae((t8e,qT)=>{"use strict";var jT=Wg(),jJ=nr();function Z2(t){jT.call(this,t);for(var e=0;e<this.data.length;e++)t[e]=t[e]&255}jJ.inherits(Z2,jT);Z2.prototype.byteAt=function(t){return this.data[this.zero+t]};Z2.prototype.lastIndexOfSignature=function(t){for(var e=t.charCodeAt(0),r=t.charCodeAt(1),n=t.charCodeAt(2),i=t.charCodeAt(3),l=this.length-4;l>=0;--l)if(this.data[l]===e&&this.data[l+1]===r&&this.data[l+2]===n&&this.data[l+3]===i)return l-this.zero;return-1};Z2.prototype.readAndCheckSignature=function(t){var e=t.charCodeAt(0),r=t.charCodeAt(1),n=t.charCodeAt(2),i=t.charCodeAt(3),l=this.readData(4);return e===l[0]&&r===l[1]&&n===l[2]&&i===l[3]};Z2.prototype.readData=function(t){if(this.checkOffset(t),t===0)return[];var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e};qT.exports=Z2});var YT=ae((r8e,UT)=>{"use strict";var WT=Wg(),qJ=nr();function I2(t){WT.call(this,t)}qJ.inherits(I2,WT);I2.prototype.byteAt=function(t){return this.data.charCodeAt(this.zero+t)};I2.prototype.lastIndexOfSignature=function(t){return this.data.lastIndexOf(t)-this.zero};I2.prototype.readAndCheckSignature=function(t){var e=this.readData(4);return t===e};I2.prototype.readData=function(t){this.checkOffset(t);var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e};UT.exports=I2});var Gg=ae((n8e,JT)=>{"use strict";var GT=Ug(),WJ=nr();function Yg(t){GT.call(this,t)}WJ.inherits(Yg,GT);Yg.prototype.readData=function(t){if(this.checkOffset(t),t===0)return new Uint8Array(0);var e=this.data.subarray(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e};JT.exports=Yg});var QT=ae((i8e,XT)=>{"use strict";var KT=Gg(),UJ=nr();function Jg(t){KT.call(this,t)}UJ.inherits(Jg,KT);Jg.prototype.readData=function(t){this.checkOffset(t);var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e};XT.exports=Jg});var Kg=ae((l8e,$T)=>{"use strict";var V4=nr(),xT=Yl(),YJ=Ug(),GJ=YT(),JJ=QT(),KJ=Gg();$T.exports=function(t){var e=V4.getTypeOf(t);return V4.checkSupport(e),e==="string"&&!xT.uint8array?new GJ(t):e==="nodebuffer"?new JJ(t):xT.uint8array?new KJ(V4.transformTo("uint8array",t)):new YJ(V4.transformTo("array",t))}});var nz=ae((o8e,rz)=>{"use strict";var Xg=Kg(),Go=nr(),XJ=m4(),ez=d4(),Z4=y2(),I4=Fg(),QJ=Yl(),xJ=0,$J=3,eK=function(t){for(var e in I4)if(Object.prototype.hasOwnProperty.call(I4,e)&&I4[e].magic===t)return I4[e];return null};function tz(t,e){this.options=t,this.loadOptions=e}tz.prototype={isEncrypted:function(){return(this.bitFlag&1)===1},useUTF8:function(){return(this.bitFlag&2048)===2048},readLocalPart:function(t){var e,r;if(t.skip(22),this.fileNameLength=t.readInt(2),r=t.readInt(2),this.fileName=t.readData(this.fileNameLength),t.skip(r),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(e=eK(this.compressionMethod),e===null)throw new Error("Corrupted zip : compression "+Go.pretty(this.compressionMethod)+" unknown (inner file : "+Go.transformTo("string",this.fileName)+")");this.decompressed=new XJ(this.compressedSize,this.uncompressedSize,this.crc32,e,t.readData(this.compressedSize))},readCentralPart:function(t){this.versionMadeBy=t.readInt(2),t.skip(2),this.bitFlag=t.readInt(2),this.compressionMethod=t.readString(2),this.date=t.readDate(),this.crc32=t.readInt(4),this.compressedSize=t.readInt(4),this.uncompressedSize=t.readInt(4);var e=t.readInt(2);if(this.extraFieldsLength=t.readInt(2),this.fileCommentLength=t.readInt(2),this.diskNumberStart=t.readInt(2),this.internalFileAttributes=t.readInt(2),this.externalFileAttributes=t.readInt(4),this.localHeaderOffset=t.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");t.skip(e),this.readExtraFields(t),this.parseZIP64ExtraField(t),this.fileComment=t.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var t=this.versionMadeBy>>8;this.dir=!!(this.externalFileAttributes&16),t===xJ&&(this.dosPermissions=this.externalFileAttributes&63),t===$J&&(this.unixPermissions=this.externalFileAttributes>>16&65535),!this.dir&&this.fileNameStr.slice(-1)==="/"&&(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var t=Xg(this.extraFields[1].value);this.uncompressedSize===Go.MAX_VALUE_32BITS&&(this.uncompressedSize=t.readInt(8)),this.compressedSize===Go.MAX_VALUE_32BITS&&(this.compressedSize=t.readInt(8)),this.localHeaderOffset===Go.MAX_VALUE_32BITS&&(this.localHeaderOffset=t.readInt(8)),this.diskNumberStart===Go.MAX_VALUE_32BITS&&(this.diskNumberStart=t.readInt(4))}},readExtraFields:function(t){var e=t.index+this.extraFieldsLength,r,n,i;for(this.extraFields||(this.extraFields={});t.index+4<e;)r=t.readInt(2),n=t.readInt(2),i=t.readData(n),this.extraFields[r]={id:r,length:n,value:i};t.setIndex(e)},handleUTF8:function(){var t=QJ.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=Z4.utf8decode(this.fileName),this.fileCommentStr=Z4.utf8decode(this.fileComment);else{var e=this.findExtraFieldUnicodePath();if(e!==null)this.fileNameStr=e;else{var r=Go.transformTo(t,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(r)}var n=this.findExtraFieldUnicodeComment();if(n!==null)this.fileCommentStr=n;else{var i=Go.transformTo(t,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(i)}}},findExtraFieldUnicodePath:function(){var t=this.extraFields[28789];if(t){var e=Xg(t.value);return e.readInt(1)!==1||ez(this.fileName)!==e.readInt(4)?null:Z4.utf8decode(e.readData(t.length-5))}return null},findExtraFieldUnicodeComment:function(){var t=this.extraFields[25461];if(t){var e=Xg(t.value);return e.readInt(1)!==1||ez(this.fileComment)!==e.readInt(4)?null:Z4.utf8decode(e.readData(t.length-5))}return null}};rz.exports=tz});var oz=ae((a8e,lz)=>{"use strict";var tK=Kg(),xl=nr(),ui=jg(),rK=nz(),nK=Yl();function iz(t){this.files=[],this.loadOptions=t}iz.prototype={checkSignature:function(t){if(!this.reader.readAndCheckSignature(t)){this.reader.index-=4;var e=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+xl.pretty(e)+", expected "+xl.pretty(t)+")")}},isSignature:function(t,e){var r=this.reader.index;this.reader.setIndex(t);var n=this.reader.readString(4),i=n===e;return this.reader.setIndex(r),i},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var t=this.reader.readData(this.zipCommentLength),e=nK.uint8array?"uint8array":"array",r=xl.transformTo(e,t);this.zipComment=this.loadOptions.decodeFileName(r)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var t=this.zip64EndOfCentralSize-44,e=0,r,n,i;e<t;)r=this.reader.readInt(2),n=this.reader.readInt(4),i=this.reader.readData(n),this.zip64ExtensibleData[r]={id:r,length:n,value:i}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),this.disksCount>1)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var t,e;for(t=0;t<this.files.length;t++)e=this.files[t],this.reader.setIndex(e.localHeaderOffset),this.checkSignature(ui.LOCAL_FILE_HEADER),e.readLocalPart(this.reader),e.handleUTF8(),e.processAttributes()},readCentralDir:function(){var t;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(ui.CENTRAL_FILE_HEADER);)t=new rK({zip64:this.zip64},this.loadOptions),t.readCentralPart(this.reader),this.files.push(t);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var t=this.reader.lastIndexOfSignature(ui.CENTRAL_DIRECTORY_END);if(t<0){var e=!this.isSignature(0,ui.LOCAL_FILE_HEADER);throw e?new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html"):new Error("Corrupted zip: can't find end of central directory")}this.reader.setIndex(t);var r=t;if(this.checkSignature(ui.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===xl.MAX_VALUE_16BITS||this.diskWithCentralDirStart===xl.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===xl.MAX_VALUE_16BITS||this.centralDirRecords===xl.MAX_VALUE_16BITS||this.centralDirSize===xl.MAX_VALUE_32BITS||this.centralDirOffset===xl.MAX_VALUE_32BITS){if(this.zip64=!0,t=this.reader.lastIndexOfSignature(ui.ZIP64_CENTRAL_DIRECTORY_LOCATOR),t<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(t),this.checkSignature(ui.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,ui.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(ui.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(ui.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var n=this.centralDirOffset+this.centralDirSize;this.zip64&&(n+=20,n+=12+this.zip64EndOfCentralSize);var i=r-n;if(i>0)this.isSignature(r,ui.CENTRAL_FILE_HEADER)||(this.reader.zero=i);else if(i<0)throw new Error("Corrupted zip: missing "+Math.abs(i)+" bytes.")},prepareReader:function(t){this.reader=tK(t)},load:function(t){this.prepareReader(t),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}};lz.exports=iz});var uz=ae((s8e,sz)=>{"use strict";var Qg=nr(),D4=v2(),iK=y2(),lK=oz(),oK=xm(),az=F9();function aK(t){return new D4.Promise(function(e,r){var n=t.decompressed.getContentWorker().pipe(new oK);n.on("error",function(i){r(i)}).on("end",function(){n.streamInfo.crc32!==t.decompressed.crc32?r(new Error("Corrupted zip : CRC32 mismatch")):e()}).resume()})}sz.exports=function(t,e){var r=this;return e=Qg.extend(e||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:iK.utf8decode}),az.isNode&&az.isStream(t)?D4.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):Qg.prepareContent("the loaded zip file",t,!0,e.optimizedBinaryString,e.base64).then(function(n){var i=new lK(e);return i.load(n),i}).then(function(i){var l=[D4.Promise.resolve(i)],o=i.files;if(e.checkCRC32)for(var a=0;a<o.length;a++)l.push(aK(o[a]));return D4.Promise.all(l)}).then(function(i){for(var l=i.shift(),o=l.files,a=0;a<o.length;a++){var s=o[a],u=s.fileNameStr,c=Qg.resolve(s.fileNameStr);r.file(c,s.decompressed,{binary:!0,optimizedBinaryString:!0,date:s.date,dir:s.dir,comment:s.fileCommentStr.length?s.fileCommentStr:null,unixPermissions:s.unixPermissions,dosPermissions:s.dosPermissions,createFolders:e.createFolders}),s.dir||(r.file(c).unsafeOriginalName=u)}return l.zipComment.length&&(r.comment=l.zipComment),r})}});var fz=ae((u8e,cz)=>{"use strict";function A1(){if(!(this instanceof A1))return new A1;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var t=new A1;for(var e in this)typeof this[e]!="function"&&(t[e]=this[e]);return t}}A1.prototype=DT();A1.prototype.loadAsync=uz();A1.support=Yl();A1.defaults=Km();A1.version="3.10.1";A1.loadAsync=function(t,e){return new A1().loadAsync(t,e)};A1.external=v2();cz.exports=A1});var fA=ae((ame,Gf)=>{var ZP,IP,DP,NP,FP,jP,qP,WP,UP,YP,GP,JP,KP,Uf,hp,XP,QP,xP,eu,$P,eA,tA,rA,nA,iA,lA,oA,aA,Yf,sA,uA,cA;(function(t){var e=typeof global=="object"?global:typeof self=="object"?self:typeof this=="object"?this:{};typeof define=="function"&&define.amd?define("tslib",["exports"],function(n){t(r(e,r(n)))}):typeof Gf=="object"&&typeof Gf.exports=="object"?t(r(e,r(Gf.exports))):t(r(e));function r(n,i){return n!==e&&(typeof Object.create=="function"?Object.defineProperty(n,"__esModule",{value:!0}):n.__esModule=!0),function(l,o){return n[l]=i?i(l,o):o}}})(function(t){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,o){l.__proto__=o}||function(l,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(l[a]=o[a])};ZP=function(l,o){if(typeof o!="function"&&o!==null)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");e(l,o);function a(){this.constructor=l}l.prototype=o===null?Object.create(o):(a.prototype=o.prototype,new a)},IP=Object.assign||function(l){for(var o,a=1,s=arguments.length;a<s;a++){o=arguments[a];for(var u in o)Object.prototype.hasOwnProperty.call(o,u)&&(l[u]=o[u])}return l},DP=function(l,o){var a={};for(var s in l)Object.prototype.hasOwnProperty.call(l,s)&&o.indexOf(s)<0&&(a[s]=l[s]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,s=Object.getOwnPropertySymbols(l);u<s.length;u++)o.indexOf(s[u])<0&&Object.prototype.propertyIsEnumerable.call(l,s[u])&&(a[s[u]]=l[s[u]]);return a},NP=function(l,o,a,s){var u=arguments.length,c=u<3?o:s===null?s=Object.getOwnPropertyDescriptor(o,a):s,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")c=Reflect.decorate(l,o,a,s);else for(var h=l.length-1;h>=0;h--)(f=l[h])&&(c=(u<3?f(c):u>3?f(o,a,c):f(o,a))||c);return u>3&&c&&Object.defineProperty(o,a,c),c},FP=function(l,o){return function(a,s){o(a,s,l)}},jP=function(l,o,a,s,u,c){function f(W){if(W!==void 0&&typeof W!="function")throw new TypeError("Function expected");return W}for(var h=s.kind,g=h==="getter"?"get":h==="setter"?"set":"value",p=!o&&l?s.static?l:l.prototype:null,w=o||(p?Object.getOwnPropertyDescriptor(p,s.name):{}),b,v=!1,S=a.length-1;S>=0;S--){var P={};for(var Z in s)P[Z]=Z==="access"?{}:s[Z];for(var Z in s.access)P.access[Z]=s.access[Z];P.addInitializer=function(W){if(v)throw new TypeError("Cannot add initializers after decoration has completed");c.push(f(W||null))};var y=(0,a[S])(h==="accessor"?{get:w.get,set:w.set}:w[g],P);if(h==="accessor"){if(y===void 0)continue;if(y===null||typeof y!="object")throw new TypeError("Object expected");(b=f(y.get))&&(w.get=b),(b=f(y.set))&&(w.set=b),(b=f(y.init))&&u.unshift(b)}else(b=f(y))&&(h==="field"?u.unshift(b):w[g]=b)}p&&Object.defineProperty(p,s.name,w),v=!0},qP=function(l,o,a){for(var s=arguments.length>2,u=0;u<o.length;u++)a=s?o[u].call(l,a):o[u].call(l);return s?a:void 0},WP=function(l){return typeof l=="symbol"?l:"".concat(l)},UP=function(l,o,a){return typeof o=="symbol"&&(o=o.description?"[".concat(o.description,"]"):""),Object.defineProperty(l,"name",{configurable:!0,value:a?"".concat(a," ",o):o})},YP=function(l,o){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(l,o)},GP=function(l,o,a,s){function u(c){return c instanceof a?c:new a(function(f){f(c)})}return new(a||(a=Promise))(function(c,f){function h(w){try{p(s.next(w))}catch(b){f(b)}}function g(w){try{p(s.throw(w))}catch(b){f(b)}}function p(w){w.done?c(w.value):u(w.value).then(h,g)}p((s=s.apply(l,o||[])).next())})},JP=function(l,o){var a={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},s,u,c,f=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return f.next=h(0),f.throw=h(1),f.return=h(2),typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function h(p){return function(w){return g([p,w])}}function g(p){if(s)throw new TypeError("Generator is already executing.");for(;f&&(f=0,p[0]&&(a=0)),a;)try{if(s=1,u&&(c=p[0]&2?u.return:p[0]?u.throw||((c=u.return)&&c.call(u),0):u.next)&&!(c=c.call(u,p[1])).done)return c;switch(u=0,c&&(p=[p[0]&2,c.value]),p[0]){case 0:case 1:c=p;break;case 4:return a.label++,{value:p[1],done:!1};case 5:a.label++,u=p[1],p=[0];continue;case 7:p=a.ops.pop(),a.trys.pop();continue;default:if(c=a.trys,!(c=c.length>0&&c[c.length-1])&&(p[0]===6||p[0]===2)){a=0;continue}if(p[0]===3&&(!c||p[1]>c[0]&&p[1]<c[3])){a.label=p[1];break}if(p[0]===6&&a.label<c[1]){a.label=c[1],c=p;break}if(c&&a.label<c[2]){a.label=c[2],a.ops.push(p);break}c[2]&&a.ops.pop(),a.trys.pop();continue}p=o.call(l,a)}catch(w){p=[6,w],u=0}finally{s=c=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},KP=function(l,o){for(var a in l)a!=="default"&&!Object.prototype.hasOwnProperty.call(o,a)&&Yf(o,l,a)},Yf=Object.create?function(l,o,a,s){s===void 0&&(s=a);var u=Object.getOwnPropertyDescriptor(o,a);(!u||("get"in u?!o.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return o[a]}}),Object.defineProperty(l,s,u)}:function(l,o,a,s){s===void 0&&(s=a),l[s]=o[a]},Uf=function(l){var o=typeof Symbol=="function"&&Symbol.iterator,a=o&&l[o],s=0;if(a)return a.call(l);if(l&&typeof l.length=="number")return{next:function(){return l&&s>=l.length&&(l=void 0),{value:l&&l[s++],done:!l}}};throw new TypeError(o?"Object is not iterable.":"Symbol.iterator is not defined.")},hp=function(l,o){var a=typeof Symbol=="function"&&l[Symbol.iterator];if(!a)return l;var s=a.call(l),u,c=[],f;try{for(;(o===void 0||o-- >0)&&!(u=s.next()).done;)c.push(u.value)}catch(h){f={error:h}}finally{try{u&&!u.done&&(a=s.return)&&a.call(s)}finally{if(f)throw f.error}}return c},XP=function(){for(var l=[],o=0;o<arguments.length;o++)l=l.concat(hp(arguments[o]));return l},QP=function(){for(var l=0,o=0,a=arguments.length;o<a;o++)l+=arguments[o].length;for(var s=Array(l),u=0,o=0;o<a;o++)for(var c=arguments[o],f=0,h=c.length;f<h;f++,u++)s[u]=c[f];return s},xP=function(l,o,a){if(a||arguments.length===2)for(var s=0,u=o.length,c;s<u;s++)(c||!(s in o))&&(c||(c=Array.prototype.slice.call(o,0,s)),c[s]=o[s]);return l.concat(c||Array.prototype.slice.call(o))},eu=function(l){return this instanceof eu?(this.v=l,this):new eu(l)},$P=function(l,o,a){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=a.apply(l,o||[]),u,c=[];return u=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),h("next"),h("throw"),h("return",f),u[Symbol.asyncIterator]=function(){return this},u;function f(S){return function(P){return Promise.resolve(P).then(S,b)}}function h(S,P){s[S]&&(u[S]=function(Z){return new Promise(function(y,W){c.push([S,Z,y,W])>1||g(S,Z)})},P&&(u[S]=P(u[S])))}function g(S,P){try{p(s[S](P))}catch(Z){v(c[0][3],Z)}}function p(S){S.value instanceof eu?Promise.resolve(S.value.v).then(w,b):v(c[0][2],S)}function w(S){g("next",S)}function b(S){g("throw",S)}function v(S,P){S(P),c.shift(),c.length&&g(c[0][0],c[0][1])}},eA=function(l){var o,a;return o={},s("next"),s("throw",function(u){throw u}),s("return"),o[Symbol.iterator]=function(){return this},o;function s(u,c){o[u]=l[u]?function(f){return(a=!a)?{value:eu(l[u](f)),done:!1}:c?c(f):f}:c}},tA=function(l){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=l[Symbol.asyncIterator],a;return o?o.call(l):(l=typeof Uf=="function"?Uf(l):l[Symbol.iterator](),a={},s("next"),s("throw"),s("return"),a[Symbol.asyncIterator]=function(){return this},a);function s(c){a[c]=l[c]&&function(f){return new Promise(function(h,g){f=l[c](f),u(h,g,f.done,f.value)})}}function u(c,f,h,g){Promise.resolve(g).then(function(p){c({value:p,done:h})},f)}},rA=function(l,o){return Object.defineProperty?Object.defineProperty(l,"raw",{value:o}):l.raw=o,l};var r=Object.create?function(l,o){Object.defineProperty(l,"default",{enumerable:!0,value:o})}:function(l,o){l.default=o},n=function(l){return n=Object.getOwnPropertyNames||function(o){var a=[];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(a[a.length]=s);return a},n(l)};nA=function(l){if(l&&l.__esModule)return l;var o={};if(l!=null)for(var a=n(l),s=0;s<a.length;s++)a[s]!=="default"&&Yf(o,l,a[s]);return r(o,l),o},iA=function(l){return l&&l.__esModule?l:{default:l}},lA=function(l,o,a,s){if(a==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof o=="function"?l!==o||!s:!o.has(l))throw new TypeError("Cannot read private member from an object whose class did not declare it");return a==="m"?s:a==="a"?s.call(l):s?s.value:o.get(l)},oA=function(l,o,a,s,u){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!u)throw new TypeError("Private accessor was defined without a setter");if(typeof o=="function"?l!==o||!u:!o.has(l))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?u.call(l,a):u?u.value=a:o.set(l,a),a},aA=function(l,o){if(o===null||typeof o!="object"&&typeof o!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof l=="function"?o===l:l.has(o)},sA=function(l,o,a){if(o!=null){if(typeof o!="object"&&typeof o!="function")throw new TypeError("Object expected.");var s,u;if(a){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");s=o[Symbol.asyncDispose]}if(s===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");s=o[Symbol.dispose],a&&(u=s)}if(typeof s!="function")throw new TypeError("Object not disposable.");u&&(s=function(){try{u.call(this)}catch(c){return Promise.reject(c)}}),l.stack.push({value:o,dispose:s,async:a})}else a&&l.stack.push({async:!0});return o};var i=typeof SuppressedError=="function"?SuppressedError:function(l,o,a){var s=new Error(a);return s.name="SuppressedError",s.error=l,s.suppressed=o,s};uA=function(l){function o(c){l.error=l.hasError?new i(c,l.error,"An error was suppressed during disposal."):c,l.hasError=!0}var a,s=0;function u(){for(;a=l.stack.pop();)try{if(!a.async&&s===1)return s=0,l.stack.push(a),Promise.resolve().then(u);if(a.dispose){var c=a.dispose.call(a.value);if(a.async)return s|=2,Promise.resolve(c).then(u,function(f){return o(f),u()})}else s|=1}catch(f){o(f)}if(s===1)return l.hasError?Promise.reject(l.error):Promise.resolve();if(l.hasError)throw l.error}return u()},cA=function(l,o){return typeof l=="string"&&/^\.\.?\//.test(l)?l.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(a,s,u,c,f){return s?o?".jsx":".js":u&&(!c||!f)?a:u+c+"."+f.toLowerCase()+"js"}):l},t("__extends",ZP),t("__assign",IP),t("__rest",DP),t("__decorate",NP),t("__param",FP),t("__esDecorate",jP),t("__runInitializers",qP),t("__propKey",WP),t("__setFunctionName",UP),t("__metadata",YP),t("__awaiter",GP),t("__generator",JP),t("__exportStar",KP),t("__createBinding",Yf),t("__values",Uf),t("__read",hp),t("__spread",XP),t("__spreadArrays",QP),t("__spreadArray",xP),t("__await",eu),t("__asyncGenerator",$P),t("__asyncDelegator",eA),t("__asyncValues",tA),t("__makeTemplateObject",rA),t("__importStar",nA),t("__importDefault",iA),t("__classPrivateFieldGet",lA),t("__classPrivateFieldSet",oA),t("__classPrivateFieldIn",aA),t("__addDisposableResource",sA),t("__disposeResources",uA),t("__rewriteRelativeImportExtension",cA)})});var Yee={};t8(Yee,{default:()=>Uee});module.exports=dR(Yee);var or=require("obsidian"),Fp=qt(n8());function mR(t,e,r,n){function i(l){return l instanceof r?l:new r(function(o){o(l)})}return new(r||(r=Promise))(function(l,o){function a(c){try{u(n.next(c))}catch(f){o(f)}}function s(c){try{u(n.throw(c))}catch(f){o(f)}}function u(c){c.done?l(c.value):i(c.value).then(a,s)}u((n=n.apply(t,e||[])).next())})}var i8="callout-manager",Jp="v1";function Kp(t){var e;return mR(this,void 0,void 0,function*(){let r=(e=t==null?void 0:t.app)!==null&&e!==void 0?e:globalThis.app,{plugins:n}=r;if(!n.enabledPlugins.has(i8))return;let i=yield new Promise((l,o)=>{let a=n.plugins[i8];if(a!==void 0)return l(a);let s=setInterval(()=>{let u=n.plugins[i8];u!==void 0&&(clearInterval(s),l(u))},10)});return i.newApiHandle(Jp,t,()=>{i.destroyApiHandle(Jp,t)})})}var Vr=require("obsidian");var zC=qt(require("node:http"),1),HC=qt(require("node:https"),1),Sa=qt(require("node:zlib"),1),$n=qt(require("node:stream"),1),Iu=require("node:buffer");function gR(t){if(!/^data:/i.test(t))throw new TypeError('`uri` does not appear to be a Data URI (must begin with "data:")');t=t.replace(/\r?\n/g,"");let e=t.indexOf(",");if(e===-1||e<=4)throw new TypeError("malformed data: URI");let r=t.substring(5,e).split(";"),n="",i=!1,l=r[0]||"text/plain",o=l;for(let c=1;c<r.length;c++)r[c]==="base64"?i=!0:r[c]&&(o+=`;${r[c]}`,r[c].indexOf("charset=")===0&&(n=r[c].substring(8)));!r[0]&&!n.length&&(o+=";charset=US-ASCII",n="US-ASCII");let a=i?"base64":"ascii",s=unescape(t.substring(e+1)),u=Buffer.from(s,a);return u.type=l,u.typeFull=o,u.charset=n,u}var Xp=gR;var _1=qt(require("node:stream"),1),yl=require("node:util"),Qn=require("node:buffer");Hu();D3();var kl=class extends Error{constructor(e,r){super(e),Error.captureStackTrace(this,this.constructor),this.type=r}get name(){return this.constructor.name}get[Symbol.toStringTag](){return this.constructor.name}};var Sn=class extends kl{constructor(e,r,n){super(e,r),n&&(this.code=this.errno=n.code,this.erroredSysCall=n.syscall)}};var N3=Symbol.toStringTag,s8=t=>typeof t=="object"&&typeof t.append=="function"&&typeof t.delete=="function"&&typeof t.get=="function"&&typeof t.getAll=="function"&&typeof t.has=="function"&&typeof t.set=="function"&&typeof t.sort=="function"&&t[N3]==="URLSearchParams",Bu=t=>t&&typeof t=="object"&&typeof t.arrayBuffer=="function"&&typeof t.type=="string"&&typeof t.stream=="function"&&typeof t.constructor=="function"&&/^(Blob|File)$/.test(t[N3]),aC=t=>typeof t=="object"&&(t[N3]==="AbortSignal"||t[N3]==="EventTarget"),sC=(t,e)=>{let r=new URL(e).hostname,n=new URL(t).hostname;return r===n||r.endsWith(`.${n}`)},uC=(t,e)=>{let r=new URL(e).protocol,n=new URL(t).protocol;return r===n};var HR=(0,yl.promisify)(_1.default.pipeline),Mn=Symbol("Body internals"),Mi=class{constructor(e,{size:r=0}={}){let n=null;e===null?e=null:s8(e)?e=Qn.Buffer.from(e.toString()):Bu(e)||Qn.Buffer.isBuffer(e)||(yl.types.isAnyArrayBuffer(e)?e=Qn.Buffer.from(e):ArrayBuffer.isView(e)?e=Qn.Buffer.from(e.buffer,e.byteOffset,e.byteLength):e instanceof _1.default||(e instanceof La?(e=oC(e),n=e.type.split("=")[1]):e=Qn.Buffer.from(String(e))));let i=e;Qn.Buffer.isBuffer(e)?i=_1.default.Readable.from(e):Bu(e)&&(i=_1.default.Readable.from(e.stream())),this[Mn]={body:e,stream:i,boundary:n,disturbed:!1,error:null},this.size=r,e instanceof _1.default&&e.on("error",l=>{let o=l instanceof kl?l:new Sn(`Invalid response body while trying to fetch ${this.url}: ${l.message}`,"system",l);this[Mn].error=o})}get body(){return this[Mn].stream}get bodyUsed(){return this[Mn].disturbed}async arrayBuffer(){let{buffer:e,byteOffset:r,byteLength:n}=await f8(this);return e.slice(r,r+n)}async formData(){let e=this.headers.get("content-type");if(e.startsWith("application/x-www-form-urlencoded")){let n=new La,i=new URLSearchParams(await this.text());for(let[l,o]of i)n.append(l,o);return n}let{toFormData:r}=await Promise.resolve().then(()=>(mC(),dC));return r(this.body,e)}async blob(){let e=this.headers&&this.headers.get("content-type")||this[Mn].body&&this[Mn].body.type||"",r=await this.arrayBuffer();return new wl([r],{type:e})}async json(){let e=await this.text();return JSON.parse(e)}async text(){let e=await f8(this);return new TextDecoder().decode(e)}buffer(){return f8(this)}};Mi.prototype.buffer=(0,yl.deprecate)(Mi.prototype.buffer,"Please use 'response.arrayBuffer()' instead of 'response.buffer()'","node-fetch#buffer");Object.defineProperties(Mi.prototype,{body:{enumerable:!0},bodyUsed:{enumerable:!0},arrayBuffer:{enumerable:!0},blob:{enumerable:!0},json:{enumerable:!0},text:{enumerable:!0},data:{get:(0,yl.deprecate)(()=>{},"data doesn't exist, use json(), text(), arrayBuffer(), or body instead","https://github.com/node-fetch/node-fetch/issues/1000 (response)")}});async function f8(t){if(t[Mn].disturbed)throw new TypeError(`body used already for: ${t.url}`);if(t[Mn].disturbed=!0,t[Mn].error)throw t[Mn].error;let{body:e}=t;if(e===null)return Qn.Buffer.alloc(0);if(!(e instanceof _1.default))return Qn.Buffer.alloc(0);let r=[],n=0;try{for await(let i of e){if(t.size>0&&n+i.length>t.size){let l=new Sn(`content size at ${t.url} over limit: ${t.size}`,"max-size");throw e.destroy(l),l}n+=i.length,r.push(i)}}catch(i){throw i instanceof kl?i:new Sn(`Invalid response body while trying to fetch ${t.url}: ${i.message}`,"system",i)}if(e.readableEnded===!0||e._readableState.ended===!0)try{return r.every(i=>typeof i=="string")?Qn.Buffer.from(r.join("")):Qn.Buffer.concat(r,n)}catch(i){throw new Sn(`Could not create Buffer from response body for ${t.url}: ${i.message}`,"system",i)}else throw new Sn(`Premature close of server response while trying to fetch ${t.url}`)}var P0=(t,e)=>{let r,n,{body:i}=t[Mn];if(t.bodyUsed)throw new Error("cannot clone body after it is used");return i instanceof _1.default&&typeof i.getBoundary!="function"&&(r=new _1.PassThrough({highWaterMark:e}),n=new _1.PassThrough({highWaterMark:e}),i.pipe(r),i.pipe(n),t[Mn].stream=r,i=n),i},PR=(0,yl.deprecate)(t=>t.getBoundary(),"form-data doesn't follow the spec and requires special treatment. Use alternative package","https://github.com/node-fetch/node-fetch/issues/1167"),W3=(t,e)=>t===null?null:typeof t=="string"?"text/plain;charset=UTF-8":s8(t)?"application/x-www-form-urlencoded;charset=UTF-8":Bu(t)?t.type||null:Qn.Buffer.isBuffer(t)||yl.types.isAnyArrayBuffer(t)||ArrayBuffer.isView(t)?null:t instanceof La?`multipart/form-data; boundary=${e[Mn].boundary}`:t&&typeof t.getBoundary=="function"?`multipart/form-data;boundary=${PR(t)}`:t instanceof _1.default?null:"text/plain;charset=UTF-8",gC=t=>{let{body:e}=t[Mn];return e===null?0:Bu(e)?e.size:Qn.Buffer.isBuffer(e)?e.length:e&&typeof e.getLengthSync=="function"&&e.hasKnownLength&&e.hasKnownLength()?e.getLengthSync():null},_C=async(t,{body:e})=>{e===null?t.end():await HR(e,t)};var h8=require("node:util"),Vu=qt(require("node:http"),1),U3=typeof Vu.default.validateHeaderName=="function"?Vu.default.validateHeaderName:t=>{if(!/^[\^`\-\w!#$%&'*+.|~]+$/.test(t)){let e=new TypeError(`Header name must be a valid HTTP token [${t}]`);throw Object.defineProperty(e,"code",{value:"ERR_INVALID_HTTP_TOKEN"}),e}},d8=typeof Vu.default.validateHeaderValue=="function"?Vu.default.validateHeaderValue:(t,e)=>{if(/[^\t\u0020-\u007E\u0080-\u00FF]/.test(e)){let r=new TypeError(`Invalid character in header content ["${t}"]`);throw Object.defineProperty(r,"code",{value:"ERR_INVALID_CHAR"}),r}},wr=class t extends URLSearchParams{constructor(e){let r=[];if(e instanceof t){let n=e.raw();for(let[i,l]of Object.entries(n))r.push(...l.map(o=>[i,o]))}else if(e!=null)if(typeof e=="object"&&!h8.types.isBoxedPrimitive(e)){let n=e[Symbol.iterator];if(n==null)r.push(...Object.entries(e));else{if(typeof n!="function")throw new TypeError("Header pairs must be iterable");r=[...e].map(i=>{if(typeof i!="object"||h8.types.isBoxedPrimitive(i))throw new TypeError("Each header pair must be an iterable object");return[...i]}).map(i=>{if(i.length!==2)throw new TypeError("Each header pair must be a name/value tuple");return[...i]})}}else throw new TypeError("Failed to construct 'Headers': The provided value is not of type '(sequence<sequence<ByteString>> or record<ByteString, ByteString>)");return r=r.length>0?r.map(([n,i])=>(U3(n),d8(n,String(i)),[String(n).toLowerCase(),String(i)])):void 0,super(r),new Proxy(this,{get(n,i,l){switch(i){case"append":case"set":return(o,a)=>(U3(o),d8(o,String(a)),URLSearchParams.prototype[i].call(n,String(o).toLowerCase(),String(a)));case"delete":case"has":case"getAll":return o=>(U3(o),URLSearchParams.prototype[i].call(n,String(o).toLowerCase()));case"keys":return()=>(n.sort(),new Set(URLSearchParams.prototype.keys.call(n)).keys());default:return Reflect.get(n,i,l)}}})}get[Symbol.toStringTag](){return this.constructor.name}toString(){return Object.prototype.toString.call(this)}get(e){let r=this.getAll(e);if(r.length===0)return null;let n=r.join(", ");return/^content-encoding$/i.test(e)&&(n=n.toLowerCase()),n}forEach(e,r=void 0){for(let n of this.keys())Reflect.apply(e,r,[this.get(n),n,this])}*values(){for(let e of this.keys())yield this.get(e)}*entries(){for(let e of this.keys())yield[e,this.get(e)]}[Symbol.iterator](){return this.entries()}raw(){return[...this.keys()].reduce((e,r)=>(e[r]=this.getAll(r),e),{})}[Symbol.for("nodejs.util.inspect.custom")](){return[...this.keys()].reduce((e,r)=>{let n=this.getAll(r);return r==="host"?e[r]=n[0]:e[r]=n.length>1?n:n[0],e},{})}};Object.defineProperties(wr.prototype,["get","entries","forEach","values"].reduce((t,e)=>(t[e]={enumerable:!0},t),{}));function pC(t=[]){return new wr(t.reduce((e,r,n,i)=>(n%2===0&&e.push(i.slice(n,n+2)),e),[]).filter(([e,r])=>{try{return U3(e),d8(e,String(r)),!0}catch(n){return!1}}))}var AR=new Set([301,302,303,307,308]),Y3=t=>AR.has(t);var G1=Symbol("Response internals"),zr=class t extends Mi{constructor(e=null,r={}){super(e,r);let n=r.status!=null?r.status:200,i=new wr(r.headers);if(e!==null&&!i.has("Content-Type")){let l=W3(e,this);l&&i.append("Content-Type",l)}this[G1]={type:"default",url:r.url,status:n,statusText:r.statusText||"",headers:i,counter:r.counter,highWaterMark:r.highWaterMark}}get type(){return this[G1].type}get url(){return this[G1].url||""}get status(){return this[G1].status}get ok(){return this[G1].status>=200&&this[G1].status<300}get redirected(){return this[G1].counter>0}get statusText(){return this[G1].statusText}get headers(){return this[G1].headers}get highWaterMark(){return this[G1].highWaterMark}clone(){return new t(P0(this,this.highWaterMark),{type:this.type,url:this.url,status:this.status,statusText:this.statusText,headers:this.headers,ok:this.ok,redirected:this.redirected,size:this.size,highWaterMark:this.highWaterMark})}static redirect(e,r=302){if(!Y3(r))throw new RangeError('Failed to execute "redirect" on "response": Invalid status code');return new t(null,{headers:{location:new URL(e).toString()},status:r})}static error(){let e=new t(null,{status:0,statusText:""});return e[G1].type="error",e}static json(e=void 0,r={}){let n=JSON.stringify(e);if(n===void 0)throw new TypeError("data is not JSON serializable");let i=new wr(r&&r.headers);return i.has("content-type")||i.set("content-type","application/json"),new t(n,{...r,headers:i})}get[Symbol.toStringTag](){return"Response"}};Object.defineProperties(zr.prototype,{type:{enumerable:!0},url:{enumerable:!0},status:{enumerable:!0},ok:{enumerable:!0},redirected:{enumerable:!0},statusText:{enumerable:!0},headers:{enumerable:!0},clone:{enumerable:!0}});var SC=require("node:url"),MC=require("node:util");var CC=t=>{if(t.search)return t.search;let e=t.href.length-1,r=t.hash||(t.href[e]==="#"?"#":"");return t.href[e-r.length]==="?"?"?":""};var vC=require("node:net");function bC(t,e=!1){return t==null||(t=new URL(t),/^(about|blob|data):$/.test(t.protocol))?"no-referrer":(t.username="",t.password="",t.hash="",e&&(t.pathname="",t.search=""),t)}var wC=new Set(["","no-referrer","no-referrer-when-downgrade","same-origin","origin","strict-origin","origin-when-cross-origin","strict-origin-when-cross-origin","unsafe-url"]),kC="strict-origin-when-cross-origin";function yC(t){if(!wC.has(t))throw new TypeError(`Invalid referrerPolicy: ${t}`);return t}function RR(t){if(/^(http|ws)s:$/.test(t.protocol))return!0;let e=t.host.replace(/(^\[)|(]$)/g,""),r=(0,vC.isIP)(e);return r===4&&/^127\./.test(e)||r===6&&/^(((0+:){7})|(::(0+:){0,6}))0*1$/.test(e)?!0:t.host==="localhost"||t.host.endsWith(".localhost")?!1:t.protocol==="file:"}function A0(t){return/^about:(blank|srcdoc)$/.test(t)||t.protocol==="data:"||/^(blob|filesystem):$/.test(t.protocol)?!0:RR(t)}function LC(t,{referrerURLCallback:e,referrerOriginCallback:r}={}){if(t.referrer==="no-referrer"||t.referrerPolicy==="")return null;let n=t.referrerPolicy;if(t.referrer==="about:client")return"no-referrer";let i=t.referrer,l=bC(i),o=bC(i,!0);l.toString().length>4096&&(l=o),e&&(l=e(l)),r&&(o=r(o));let a=new URL(t.url);switch(n){case"no-referrer":return"no-referrer";case"origin":return o;case"unsafe-url":return l;case"strict-origin":return A0(l)&&!A0(a)?"no-referrer":o.toString();case"strict-origin-when-cross-origin":return l.origin===a.origin?l:A0(l)&&!A0(a)?"no-referrer":o;case"same-origin":return l.origin===a.origin?l:"no-referrer";case"origin-when-cross-origin":return l.origin===a.origin?l:o;case"no-referrer-when-downgrade":return A0(l)&&!A0(a)?"no-referrer":l;default:throw new TypeError(`Invalid referrerPolicy: ${n}`)}}function EC(t){let e=(t.get("referrer-policy")||"").split(/[,\s]+/),r="";for(let n of e)n&&wC.has(n)&&(r=n);return r}var Hr=Symbol("Request internals"),Zu=t=>typeof t=="object"&&typeof t[Hr]=="object",BR=(0,MC.deprecate)(()=>{},".data is not a valid RequestInit property, use .body instead","https://github.com/node-fetch/node-fetch/issues/1000 (request)"),xn=class t extends Mi{constructor(e,r={}){let n;if(Zu(e)?n=new URL(e.url):(n=new URL(e),e={}),n.username!==""||n.password!=="")throw new TypeError(`${n} is an url with embedded credentials.`);let i=r.method||e.method||"GET";if(/^(delete|get|head|options|post|put)$/i.test(i)&&(i=i.toUpperCase()),!Zu(r)&&"data"in r&&BR(),(r.body!=null||Zu(e)&&e.body!==null)&&(i==="GET"||i==="HEAD"))throw new TypeError("Request with GET/HEAD method cannot have body");let l=r.body?r.body:Zu(e)&&e.body!==null?P0(e):null;super(l,{size:r.size||e.size||0});let o=new wr(r.headers||e.headers||{});if(l!==null&&!o.has("Content-Type")){let u=W3(l,this);u&&o.set("Content-Type",u)}let a=Zu(e)?e.signal:null;if("signal"in r&&(a=r.signal),a!=null&&!aC(a))throw new TypeError("Expected signal to be an instanceof AbortSignal or EventTarget");let s=r.referrer==null?e.referrer:r.referrer;if(s==="")s="no-referrer";else if(s){let u=new URL(s);s=/^about:(\/\/)?client$/.test(u)?"client":u}else s=void 0;this[Hr]={method:i,redirect:r.redirect||e.redirect||"follow",headers:o,parsedURL:n,signal:a,referrer:s},this.follow=r.follow===void 0?e.follow===void 0?20:e.follow:r.follow,this.compress=r.compress===void 0?e.compress===void 0?!0:e.compress:r.compress,this.counter=r.counter||e.counter||0,this.agent=r.agent||e.agent,this.highWaterMark=r.highWaterMark||e.highWaterMark||16384,this.insecureHTTPParser=r.insecureHTTPParser||e.insecureHTTPParser||!1,this.referrerPolicy=r.referrerPolicy||e.referrerPolicy||""}get method(){return this[Hr].method}get url(){return(0,SC.format)(this[Hr].parsedURL)}get headers(){return this[Hr].headers}get redirect(){return this[Hr].redirect}get signal(){return this[Hr].signal}get referrer(){if(this[Hr].referrer==="no-referrer")return"";if(this[Hr].referrer==="client")return"about:client";if(this[Hr].referrer)return this[Hr].referrer.toString()}get referrerPolicy(){return this[Hr].referrerPolicy}set referrerPolicy(e){this[Hr].referrerPolicy=yC(e)}clone(){return new t(this)}get[Symbol.toStringTag](){return"Request"}};Object.defineProperties(xn.prototype,{method:{enumerable:!0},url:{enumerable:!0},headers:{enumerable:!0},redirect:{enumerable:!0},clone:{enumerable:!0},signal:{enumerable:!0},referrer:{enumerable:!0},referrerPolicy:{enumerable:!0}});var TC=t=>{let{parsedURL:e}=t[Hr],r=new wr(t[Hr].headers);r.has("Accept")||r.set("Accept","*/*");let n=null;if(t.body===null&&/^(post|put)$/i.test(t.method)&&(n="0"),t.body!==null){let a=gC(t);typeof a=="number"&&!Number.isNaN(a)&&(n=String(a))}n&&r.set("Content-Length",n),t.referrerPolicy===""&&(t.referrerPolicy=kC),t.referrer&&t.referrer!=="no-referrer"?t[Hr].referrer=LC(t):t[Hr].referrer="no-referrer",t[Hr].referrer instanceof URL&&r.set("Referer",t.referrer),r.has("User-Agent")||r.set("User-Agent","node-fetch"),t.compress&&!r.has("Accept-Encoding")&&r.set("Accept-Encoding","gzip, deflate, br");let{agent:i}=t;typeof i=="function"&&(i=i(e));let l=CC(e),o={path:e.pathname+l,method:t.method,headers:r[Symbol.for("nodejs.util.inspect.custom")](),insecureHTTPParser:t.insecureHTTPParser,agent:i};return{parsedURL:e,options:o}};var G3=class extends kl{constructor(e,r="aborted"){super(e,r)}};D3();u8();var OR=new Set(["data:","http:","https:"]);async function J1(t,e){return new Promise((r,n)=>{let i=new xn(t,e),{parsedURL:l,options:o}=TC(i);if(!OR.has(l.protocol))throw new TypeError(`node-fetch cannot load ${t}. URL scheme "${l.protocol.replace(/:$/,"")}" is not supported.`);if(l.protocol==="data:"){let p=Xp(i.url),w=new zr(p,{headers:{"Content-Type":p.typeFull}});r(w);return}let a=(l.protocol==="https:"?HC.default:zC.default).request,{signal:s}=i,u=null,c=()=>{let p=new G3("The operation was aborted.");n(p),i.body&&i.body instanceof $n.default.Readable&&i.body.destroy(p),!(!u||!u.body)&&u.body.emit("error",p)};if(s&&s.aborted){c();return}let f=()=>{c(),g()},h=a(l.toString(),o);s&&s.addEventListener("abort",f);let g=()=>{h.abort(),s&&s.removeEventListener("abort",f)};h.on("error",p=>{n(new Sn(`request to ${i.url} failed, reason: ${p.message}`,"system",p)),g()}),VR(h,p=>{u&&u.body&&u.body.destroy(p)}),process.version<"v14"&&h.on("socket",p=>{let w;p.prependListener("end",()=>{w=p._eventsCount}),p.prependListener("close",b=>{if(u&&w<p._eventsCount&&!b){let v=new Error("Premature close");v.code="ERR_STREAM_PREMATURE_CLOSE",u.body.emit("error",v)}})}),h.on("response",p=>{h.setTimeout(0);let w=pC(p.rawHeaders);if(Y3(p.statusCode)){let Z=w.get("Location"),y=null;try{y=Z===null?null:new URL(Z,i.url)}catch(W){if(i.redirect!=="manual"){n(new Sn(`uri requested responds with an invalid redirect URL: ${Z}`,"invalid-redirect")),g();return}}switch(i.redirect){case"error":n(new Sn(`uri requested responds with a redirect, redirect mode is set to error: ${i.url}`,"no-redirect")),g();return;case"manual":break;case"follow":{if(y===null)break;if(i.counter>=i.follow){n(new Sn(`maximum redirect reached at: ${i.url}`,"max-redirect")),g();return}let W={headers:new wr(i.headers),follow:i.follow,counter:i.counter+1,agent:i.agent,compress:i.compress,method:i.method,body:P0(i),signal:i.signal,size:i.size,referrer:i.referrer,referrerPolicy:i.referrerPolicy};if(!sC(i.url,y)||!uC(i.url,y))for(let x of["authorization","www-authenticate","cookie","cookie2"])W.headers.delete(x);if(p.statusCode!==303&&i.body&&e.body instanceof $n.default.Readable){n(new Sn("Cannot follow redirect with body being a readable stream","unsupported-redirect")),g();return}(p.statusCode===303||(p.statusCode===301||p.statusCode===302)&&i.method==="POST")&&(W.method="GET",W.body=void 0,W.headers.delete("content-length"));let X=EC(w);X&&(W.referrerPolicy=X),r(J1(new xn(y,W))),g();return}default:return n(new TypeError(`Redirect option '${i.redirect}' is not a valid value of RequestRedirect`))}}s&&p.once("end",()=>{s.removeEventListener("abort",f)});let b=(0,$n.pipeline)(p,new $n.PassThrough,Z=>{Z&&n(Z)});process.version<"v12.10"&&p.on("aborted",f);let v={url:i.url,status:p.statusCode,statusText:p.statusMessage,headers:w,size:i.size,counter:i.counter,highWaterMark:i.highWaterMark},S=w.get("Content-Encoding");if(!i.compress||i.method==="HEAD"||S===null||p.statusCode===204||p.statusCode===304){u=new zr(b,v),r(u);return}let P={flush:Sa.default.Z_SYNC_FLUSH,finishFlush:Sa.default.Z_SYNC_FLUSH};if(S==="gzip"||S==="x-gzip"){b=(0,$n.pipeline)(b,Sa.default.createGunzip(P),Z=>{Z&&n(Z)}),u=new zr(b,v),r(u);return}if(S==="deflate"||S==="x-deflate"){let Z=(0,$n.pipeline)(p,new $n.PassThrough,y=>{y&&n(y)});Z.once("data",y=>{(y[0]&15)===8?b=(0,$n.pipeline)(b,Sa.default.createInflate(),W=>{W&&n(W)}):b=(0,$n.pipeline)(b,Sa.default.createInflateRaw(),W=>{W&&n(W)}),u=new zr(b,v),r(u)}),Z.once("end",()=>{u||(u=new zr(b,v),r(u))});return}if(S==="br"){b=(0,$n.pipeline)(b,Sa.default.createBrotliDecompress(),Z=>{Z&&n(Z)}),u=new zr(b,v),r(u);return}u=new zr(b,v),r(u)}),_C(h,i).catch(n)})}function VR(t,e){let r=Iu.Buffer.from(`0\r
\r
`),n=!1,i=!1,l;t.on("response",o=>{let{headers:a}=o;n=a["transfer-encoding"]==="chunked"&&!a["content-length"]}),t.on("socket",o=>{let a=()=>{if(n&&!i){let u=new Error("Premature close");u.code="ERR_STREAM_PREMATURE_CLOSE",e(u)}},s=u=>{i=Iu.Buffer.compare(u.slice(-5),r)===0,!i&&l&&(i=Iu.Buffer.compare(l.slice(-3),r.slice(0,3))===0&&Iu.Buffer.compare(u.slice(-2),r.slice(3))===0),l=u};o.prependListener("close",a),o.on("data",s),t.on("close",()=>{o.removeListener("close",a),o.removeListener("data",s)})})}var _8e=require("@codemirror/view"),q4=require("@codemirror/state");var PC="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";var J3=(t=21)=>{let e="",r=crypto.getRandomValues(new Uint8Array(t|=0));for(;t--;)e+=PC[r[t]&63];return e};function A(){}var m8=t=>t;function H(t,e){for(let r in e)t[r]=e[r];return t}function AC(t){return!!t&&(typeof t=="object"||typeof t=="function")&&typeof t.then=="function"}function g8(t){return t()}function K3(){return Object.create(null)}function G(t){t.forEach(g8)}function tr(t){return typeof t=="function"}function B(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function RC(t){return Object.keys(t).length===0}function BC(t,...e){if(t==null){for(let n of e)n(void 0);return A}let r=t.subscribe(...e);return r.unsubscribe?()=>r.unsubscribe():r}function R0(t,e,r){t.$$.on_destroy.push(BC(e,r))}function Ye(t,e,r,n){if(t){let i=OC(t,e,r,n);return t[0](i)}}function OC(t,e,r,n){return t[1]&&n?H(r.ctx.slice(),t[1](n(e))):r.ctx}function Ge(t,e,r,n){if(t[2]&&n){let i=t[2](n(r));if(e.dirty===void 0)return i;if(typeof i=="object"){let l=[],o=Math.max(e.dirty.length,i.length);for(let a=0;a<o;a+=1)l[a]=e.dirty[a]|i[a];return l}return e.dirty|i}return e.dirty}function Je(t,e,r,n,i,l){if(i){let o=OC(e,r,n,l);t.p(o,i)}}function Ke(t){if(t.ctx.length>32){let e=[],r=t.ctx.length/32;for(let n=0;n<r;n++)e[n]=-1;return e}return-1}function j(t){let e={};for(let r in t)r[0]!=="$"&&(e[r]=t[r]);return e}function D(t,e){let r={};e=new Set(e);for(let n in t)!e.has(n)&&n[0]!=="$"&&(r[n]=t[n]);return r}function B0(t){let e={};for(let r in t)e[r]=!0;return e}function VC(t,e,r){return t.set(r),e}function Ut(t){return t&&tr(t.destroy)?t.destroy:A}var ZC=typeof window!="undefined",_8=ZC?()=>window.performance.now():()=>Date.now(),Du=ZC?t=>requestAnimationFrame(t):A;var O0=new Set;function IC(t){O0.forEach(e=>{e.c(t)||(O0.delete(e),e.f())}),O0.size!==0&&Du(IC)}function p8(t){let e;return O0.size===0&&Du(IC),{promise:new Promise(r=>{O0.add(e={c:t,f:r})}),abort(){O0.delete(e)}}}var C8=typeof window!="undefined"?window:typeof globalThis!="undefined"?globalThis:global;var X3=class t{constructor(e){Le(this,"_listeners","WeakMap"in C8?new WeakMap:void 0);Le(this,"_observer");Le(this,"options");this.options=e}observe(e,r){return this._listeners.set(e,r),this._getObserver().observe(e,this.options),()=>{this._listeners.delete(e),this._observer.unobserve(e)}}_getObserver(){var e;return(e=this._observer)!=null?e:this._observer=new ResizeObserver(r=>{var n;for(let i of r)t.entries.set(i.target,i),(n=this._listeners.get(i.target))==null||n(i)})}};X3.entries="WeakMap"in C8?new WeakMap:void 0;var DC=!1;function NC(){DC=!0}function FC(){DC=!1}function V(t,e){t.appendChild(e)}function Ti(t,e,r){let n=x3(t);if(!n.getElementById(e)){let i=Be("style");i.id=e,i.textContent=r,qC(n,i)}}function x3(t){if(!t)return document;let e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function jC(t){let e=Be("style");return e.textContent="/* empty */",qC(x3(t),e),e.sheet}function qC(t,e){return V(t.head||t,e),e.sheet}function M(t,e,r){t.insertBefore(e,r||null)}function E(t){t.parentNode&&t.parentNode.removeChild(t)}function V0(t,e){for(let r=0;r<t.length;r+=1)t[r]&&t[r].d(e)}function Be(t){return document.createElement(t)}function N(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function ht(t){return document.createTextNode(t)}function Ze(){return ht(" ")}function U(){return ht("")}function F(t,e,r,n){return t.addEventListener(e,r,n),()=>t.removeEventListener(e,r,n)}function WC(t){return function(e){return e.preventDefault(),t.call(this,e)}}function UC(t){return function(e){return e.stopPropagation(),t.call(this,e)}}function k(t,e,r){r==null?t.removeAttribute(e):t.getAttribute(e)!==r&&t.setAttribute(e,r)}var IR=["width","height"];function kr(t,e){let r=Object.getOwnPropertyDescriptors(t.__proto__);for(let n in e)e[n]==null?t.removeAttribute(n):n==="style"?t.style.cssText=e[n]:n==="__value"?t.value=t[n]=e[n]:r[n]&&r[n].set&&IR.indexOf(n)===-1?t[n]=e[n]:k(t,n,e[n])}function J(t,e){for(let r in e)k(t,r,e[r])}function DR(t,e){Object.keys(e).forEach(r=>{NR(t,r,e[r])})}function NR(t,e,r){let n=e.toLowerCase();n in t?t[n]=typeof t[n]=="boolean"&&r===""?!0:r:e in t?t[e]=typeof t[e]=="boolean"&&r===""?!0:r:k(t,e,r)}function Z0(t){return/-/.test(t)?DR:kr}function YC(t){return Array.from(t.childNodes)}function yr(t,e){e=""+e,t.data!==e&&(t.data=e)}function Nu(t,e){t.value=e==null?"":e}function Ll(t,e,r,n){r==null?t.style.removeProperty(e):t.style.setProperty(e,r,n?"important":"")}function Pr(t,e,r){t.classList.toggle(e,!!r)}function Fu(t,e,{bubbles:r=!1,cancelable:n=!1}={}){return new CustomEvent(t,{detail:e,bubbles:r,cancelable:n})}var Q3=class{constructor(e=!1){Le(this,"is_svg",!1);Le(this,"e");Le(this,"n");Le(this,"t");Le(this,"a");this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,r,n=null){this.e||(this.is_svg?this.e=N(r.nodeName):this.e=Be(r.nodeType===11?"TEMPLATE":r.nodeName),this.t=r.tagName!=="TEMPLATE"?r:r.content,this.c(e)),this.i(n)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.nodeName==="TEMPLATE"?this.e.content.childNodes:this.e.childNodes)}i(e){for(let r=0;r<this.n.length;r+=1)M(this.t,this.n[r],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(E)}};function GC(t){let e={};return t.childNodes.forEach(r=>{e[r.slot||"default"]=!0}),e}function Lr(t,e){return new t(e)}var $3=new Map,ec=0;function FR(t){let e=5381,r=t.length;for(;r--;)e=(e<<5)-e^t.charCodeAt(r);return e>>>0}function jR(t,e){let r={stylesheet:jC(e),rules:{}};return $3.set(t,r),r}function b8(t,e,r,n,i,l,o,a=0){let s=16.666/n,u=`{
`;for(let b=0;b<=1;b+=s){let v=e+(r-e)*l(b);u+=b*100+`%{${o(v,1-v)}}
`}let c=u+`100% {${o(r,1-r)}}
}`,f=`__svelte_${FR(c)}_${a}`,h=x3(t),{stylesheet:g,rules:p}=$3.get(h)||jR(h,t);p[f]||(p[f]=!0,g.insertRule(`@keyframes ${f} ${c}`,g.cssRules.length));let w=t.style.animation||"";return t.style.animation=`${w?`${w}, `:""}${f} ${n}ms linear ${i}ms 1 both`,ec+=1,f}function v8(t,e){let r=(t.style.animation||"").split(", "),n=r.filter(e?l=>l.indexOf(e)<0:l=>l.indexOf("__svelte")===-1),i=r.length-n.length;i&&(t.style.animation=n.join(", "),ec-=i,ec||qR())}function qR(){Du(()=>{ec||($3.forEach(t=>{let{ownerNode:e}=t.stylesheet;e&&E(e)}),$3.clear())})}var zi;function e1(t){zi=t}function Nt(){if(!zi)throw new Error("Function called outside component initialization");return zi}function w8(t){Nt().$$.before_update.push(t)}function El(t){Nt().$$.on_mount.push(t)}function k8(t){Nt().$$.after_update.push(t)}function Ma(t){Nt().$$.on_destroy.push(t)}function y8(){let t=Nt();return(e,r,{cancelable:n=!1}={})=>{let i=t.$$.callbacks[e];if(i){let l=Fu(e,r,{cancelable:n});return i.slice().forEach(o=>{o.call(t,l)}),!l.defaultPrevented}return!0}}function ju(t,e){return Nt().$$.context.set(t,e),e}function K(t){return Nt().$$.context.get(t)}function q(t,e){let r=t.$$.callbacks[e.type];r&&r.slice().forEach(n=>n.call(this,e))}var Ta=[];var ze=[],D0=[],E8=[],JC=Promise.resolve(),S8=!1;function M8(){S8||(S8=!0,JC.then(Wu))}function qu(){return M8(),JC}function N0(t){D0.push(t)}function tt(t){E8.push(t)}var L8=new Set,I0=0;function Wu(){if(I0!==0)return;let t=zi;do{try{for(;I0<Ta.length;){let e=Ta[I0];I0++,e1(e),WR(e.$$)}}catch(e){throw Ta.length=0,I0=0,e}for(e1(null),Ta.length=0,I0=0;ze.length;)ze.pop()();for(let e=0;e<D0.length;e+=1){let r=D0[e];L8.has(r)||(L8.add(r),r())}D0.length=0}while(Ta.length);for(;E8.length;)E8.pop()();S8=!1,L8.clear(),e1(t)}function WR(t){if(t.fragment!==null){t.update(),G(t.before_update);let e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(N0)}}function KC(t){let e=[],r=[];D0.forEach(n=>t.indexOf(n)===-1?e.push(n):r.push(n)),r.forEach(n=>n()),D0=e}var Uu;function UR(){return Uu||(Uu=Promise.resolve(),Uu.then(()=>{Uu=null})),Uu}function XC(t,e,r){t.dispatchEvent(Fu(`${e?"intro":"outro"}${r}`))}var tc=new Set,zo;function Qe(){zo={r:0,c:[],p:zo}}function xe(){zo.r||G(zo.c),zo=zo.p}function te(t,e){t&&t.i&&(tc.delete(t),t.i(e))}function ne(t,e,r,n){if(t&&t.o){if(tc.has(t))return;tc.add(t),zo.c.push(()=>{tc.delete(t),n&&(r&&t.d(1),n())}),t.o(e)}else n&&n()}var YR={duration:0};function QC(t,e,r){let n={direction:"out"},i=e(t,r,n),l=!0,o,a=zo;a.r+=1;let s;function u(){let{delay:c=0,duration:f=300,easing:h=m8,tick:g=A,css:p}=i||YR;p&&(o=b8(t,1,0,f,c,h,p));let w=_8()+c,b=w+f;N0(()=>XC(t,!1,"start")),"inert"in t&&(s=t.inert,t.inert=!0),p8(v=>{if(l){if(v>=b)return g(0,1),XC(t,!1,"end"),--a.r||G(a.c),!1;if(v>=w){let S=h((v-w)/f);g(1-S,S)}}return l})}return tr(i)?UR().then(()=>{i=i(n),u()}):u(),{end(c){c&&"inert"in t&&(t.inert=s),c&&i.tick&&i.tick(1,0),l&&(o&&v8(t,o),l=!1)}}}function K1(t,e){let r=e.token={};function n(i,l,o,a){if(e.token!==r)return;e.resolved=a;let s=e.ctx;o!==void 0&&(s=s.slice(),s[o]=a);let u=i&&(e.current=i)(s),c=!1;e.block&&(e.blocks?e.blocks.forEach((f,h)=>{h!==l&&f&&(Qe(),ne(f,1,1,()=>{e.blocks[h]===f&&(e.blocks[h]=null)}),xe())}):e.block.d(1),u.c(),te(u,1),u.m(e.mount(),e.anchor),c=!0),e.block=u,e.blocks&&(e.blocks[l]=u),c&&Wu()}if(AC(t)){let i=Nt();if(t.then(l=>{e1(i),n(e.then,1,e.value,l),e1(null)},l=>{if(e1(i),n(e.catch,2,e.error,l),e1(null),!e.hasCatch)throw l}),e.current!==e.pending)return n(e.pending,0),!0}else{if(e.current!==e.then)return n(e.then,1,e.value,t),!0;e.resolved=t}}function T8(t,e,r){let n=e.slice(),{resolved:i}=t;t.current===t.then&&(n[t.value]=i),t.current===t.catch&&(n[t.error]=i),t.block.p(n,r)}function p1(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function I(t,e){let r={},n={},i={$$scope:1},l=t.length;for(;l--;){let o=t[l],a=e[l];if(a){for(let s in o)s in a||(n[s]=1);for(let s in a)i[s]||(r[s]=a[s],i[s]=1);t[l]=a}else for(let s in o)i[s]=1}for(let o in n)o in r||(r[o]=void 0);return r}function Ie(t){return typeof t=="object"&&t!==null?t:{}}var GR=["allowfullscreen","allowpaymentrequest","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","hidden","inert","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected"],JR=new Set([...GR]);function $e(t,e,r){let n=t.$$.props[e];n!==void 0&&(t.$$.bound[n]=r,r(t.$$.ctx[n]))}function _e(t){t&&t.c()}function me(t,e,r){let{fragment:n,after_update:i}=t.$$;n&&n.m(e,r),N0(()=>{let l=t.$$.on_mount.map(g8).filter(tr);t.$$.on_destroy?t.$$.on_destroy.push(...l):G(l),t.$$.on_mount=[]}),i.forEach(N0)}function ge(t,e){let r=t.$$;r.fragment!==null&&(KC(r.after_update),G(r.on_destroy),r.fragment&&r.fragment.d(e),r.on_destroy=r.fragment=null,r.ctx=[])}function XR(t,e){t.$$.dirty[0]===-1&&(Ta.push(t),M8(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function O(t,e,r,n,i,l,o=null,a=[-1]){let s=zi;e1(t);let u=t.$$={fragment:null,ctx:[],props:l,update:A,not_equal:i,bound:K3(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(s?s.$$.context:[])),callbacks:K3(),dirty:a,skip_bound:!1,root:e.target||s.$$.root};o&&o(u.root);let c=!1;if(u.ctx=r?r(t,e.props||{},(f,h,...g)=>{let p=g.length?g[0]:h;return u.ctx&&i(u.ctx[f],u.ctx[f]=p)&&(!u.skip_bound&&u.bound[f]&&u.bound[f](p),c&&XR(t,f)),h}):[],u.update(),c=!0,G(u.before_update),u.fragment=n?n(u.ctx):!1,e.target){if(e.hydrate){NC();let f=YC(e.target);u.fragment&&u.fragment.l(f),f.forEach(E)}else u.fragment&&u.fragment.c();e.intro&&te(t.$$.fragment),me(t,e.target,e.anchor),FC(),Wu()}e1(s)}var QR;typeof HTMLElement=="function"&&(QR=class extends HTMLElement{constructor(e,r,n){super();Le(this,"$$ctor");Le(this,"$$s");Le(this,"$$c");Le(this,"$$cn",!1);Le(this,"$$d",{});Le(this,"$$r",!1);Le(this,"$$p_d",{});Le(this,"$$l",{});Le(this,"$$l_u",new Map);this.$$ctor=e,this.$$s=r,n&&this.attachShadow({mode:"open"})}addEventListener(e,r,n){if(this.$$l[e]=this.$$l[e]||[],this.$$l[e].push(r),this.$$c){let i=this.$$c.$on(e,r);this.$$l_u.set(r,i)}super.addEventListener(e,r,n)}removeEventListener(e,r,n){if(super.removeEventListener(e,r,n),this.$$c){let i=this.$$l_u.get(r);i&&(i(),this.$$l_u.delete(r))}}async connectedCallback(){if(this.$$cn=!0,!this.$$c){let e=function(l){return()=>{let o;return{c:function(){o=Be("slot"),l!=="default"&&k(o,"name",l)},m:function(u,c){M(u,o,c)},d:function(u){u&&E(o)}}}};if(await Promise.resolve(),!this.$$cn||this.$$c)return;let r={},n=GC(this);for(let l of this.$$s)l in n&&(r[l]=[e(l)]);for(let l of this.attributes){let o=this.$$g_p(l.name);o in this.$$d||(this.$$d[o]=z8(o,l.value,this.$$p_d,"toProp"))}for(let l in this.$$p_d)!(l in this.$$d)&&this[l]!==void 0&&(this.$$d[l]=this[l],delete this[l]);this.$$c=new this.$$ctor({target:this.shadowRoot||this,props:{...this.$$d,$$slots:r,$$scope:{ctx:[]}}});let i=()=>{this.$$r=!0;for(let l in this.$$p_d)if(this.$$d[l]=this.$$c.$$.ctx[this.$$c.$$.props[l]],this.$$p_d[l].reflect){let o=z8(l,this.$$d[l],this.$$p_d,"toAttribute");o==null?this.removeAttribute(this.$$p_d[l].attribute||l):this.setAttribute(this.$$p_d[l].attribute||l,o)}this.$$r=!1};this.$$c.$$.after_update.push(i),i();for(let l in this.$$l)for(let o of this.$$l[l]){let a=this.$$c.$on(l,o);this.$$l_u.set(o,a)}this.$$l={}}}attributeChangedCallback(e,r,n){var i;this.$$r||(e=this.$$g_p(e),this.$$d[e]=z8(e,n,this.$$p_d,"toProp"),(i=this.$$c)==null||i.$set({[e]:this.$$d[e]}))}disconnectedCallback(){this.$$cn=!1,Promise.resolve().then(()=>{!this.$$cn&&this.$$c&&(this.$$c.$destroy(),this.$$c=void 0)})}$$g_p(e){return Object.keys(this.$$p_d).find(r=>this.$$p_d[r].attribute===e||!this.$$p_d[r].attribute&&r.toLowerCase()===e)||e}});function z8(t,e,r,n){var l;let i=(l=r[t])==null?void 0:l.type;if(e=i==="Boolean"&&typeof e!="boolean"?e!=null:e,!n||!r[t])return e;if(n==="toAttribute")switch(i){case"Object":case"Array":return e==null?null:JSON.stringify(e);case"Boolean":return e?"":null;case"Number":return e==null?null:e;default:return e}else switch(i){case"Object":case"Array":return e&&JSON.parse(e);case"Boolean":return e;case"Number":return e!=null?+e:e;default:return e}}var R=class{constructor(){Le(this,"$$");Le(this,"$$set")}$destroy(){ge(this,1),this.$destroy=A}$on(e,r){if(!tr(r))return A;let n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(r),()=>{let i=n.indexOf(r);i!==-1&&n.splice(i,1)}}$set(e){this.$$set&&!RC(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}};var xC="4";typeof window!="undefined"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(xC);function $C(t){let e,r=rc(t[1],t[2])+"",n;return{c(){e=new Q3(!1),n=U(),e.a=n},m(i,l){e.m(r,i,l),M(i,n,l)},p(i,l){l&6&&r!==(r=rc(i[1],i[2])+"")&&e.p(r)},d(i){i&&(E(n),e.d())}}}function xR(t){let e,r=t[0]&&$C(t);return{c(){r&&r.c(),e=U()},m(n,i){r&&r.m(n,i),M(n,e,i)},p(n,[i]){n[0]?r?r.p(n,i):(r=$C(n),r.c(),r.m(e.parentNode,e)):r&&(r.d(1),r=null)},i:A,o:A,d(n){n&&E(e),r&&r.d(n)}}}function $R(t,e,r){let{observable:n=!1}=e,{component:i}=e,{code:l}=e;return t.$$set=o=>{"observable"in o&&r(0,n=o.observable),"component"in o&&r(1,i=o.component),"code"in o&&r(2,l=o.code)},[n,i,l]}var H8=class extends R{constructor(e){super(),O(this,e,$R,xR,B,{observable:0,component:1,code:2})}},Ho=H8;var eB=()=>typeof window!="undefined",nc=eB();var eb=".modal-header{padding: 2px 16px;background-color: #339af0;color: white;}.modal-body{padding: 2px 16px;}.modal-footer{padding: 2px 16px;background-color: #339af0;color: white;}.modal-content{position: relative;background-color: #fefefe;margin: auto;padding: 0;border: 1px solid #888;width: 80%;box-shadow: 0 4px 8px 0 rgba(0,0,0,0.2),0 6px 20px 0 rgba(0,0,0,0.19);animation-name: animateTop;animation-duration: 0.4s;}@keyframes animateTop {from {top: -300px; opacity: 0}to {top: 0; opacity: 1}}";var tb=nc?document.createElement("style"):void 0;if(nc){let t=tb;t.textContent=eb,t.id="svelteui-inject"}function P8(t,e,r){return nc&&document.head.appendChild(tb),`
    <div class="modal-content">
        <div class="modal-header">
            <h2>[${t} Component Error]:</h2>
            <h3>${e}</h3>
        </div>
        <div class="modal-body">
            <pre>
                ${r||""}
            </pre>
        </div>
        <div class="modal-footer">
            <h3>Fix the code to dismiss this error.</h3>
        </div>
    </div>        
    `}function rc(t,e){let{message:r,solution:n}=e;return n?P8(t,r,n):P8(t,r)}function st(t,e){let r=[];if(e)for(let n=0;n<e.length;n++){let i=e[n],l=Array.isArray(i)?i[0]:i;Array.isArray(i)&&i.length>1?r.push(l(t,i[1])):r.push(l(t))}return{update(n){if((n&&n.length||0)!=r.length)throw new Error("You must not change the length of an actions array.");if(n)for(let i=0;i<n.length;i++){let l=r[i];if(l&&l.update){let o=n[i];Array.isArray(o)&&o.length>1?l.update(o[1]):l.update()}}},destroy(){for(let n=0;n<r.length;n++){let i=r[n];i&&i.destroy&&i.destroy()}}}}var A8="!",tB=new RegExp(`^[^${A8}]+(?:${A8}(?:preventDefault|stopPropagation|passive|nonpassive|capture|once|self))+$`);function Er(t,e=[]){let r,n=[];t.$on=(l,o)=>{let a=l,s=()=>{};for(let u of e){if(typeof u=="string"&&u===a){let c=t.$$.callbacks[a]||(t.$$.callbacks[a]=[]);return c.push(o),()=>{let f=c.indexOf(o);f!==-1&&c.splice(f,1)}}if(typeof u=="object"&&u.name===a){let c=o;o=(...f)=>{typeof u=="object"&&u.shouldExclude()||c(...f)}}}return r?s=r(a,o):n.push([a,o]),()=>{s()}};function i(l){q(t,l)}return l=>{let o=[],a={};r=(s,u)=>{let c=s,f=u,h=!1;if(c.match(tB)){let b=c.split(A8);c=b[0];let v=Object.fromEntries(b.slice(1).map(S=>[S,!0]));v.passive&&(h=h||{},h.passive=!0),v.nonpassive&&(h=h||{},h.passive=!1),v.capture&&(h=h||{},h.capture=!0),v.once&&(h=h||{},h.once=!0),v.preventDefault&&(f=WC(f)),v.stopPropagation&&(f=UC(f))}let p=F(l,c,f,h),w=()=>{p();let b=o.indexOf(w);b>-1&&o.splice(b,1)};return o.push(w),c in a||(a[c]=F(l,c,i)),w};for(let s=0;s<n.length;s++)r(n[s][0],n[s][1]);return{destroy:()=>{for(let s=0;s<o.length;s++)o[s]();for(let s of Object.entries(a))s[1]()}}}}var ic={};function t1(){return K(ic)}var F0=[];function lc(t,e=A){let r,n=new Set;function i(a){if(B(t,a)&&(t=a,r)){let s=!F0.length;for(let u of n)u[1](),F0.push(u,t);if(s){for(let u=0;u<F0.length;u+=2)F0[u][0](F0[u+1]);F0.length=0}}}function l(a){i(a(t))}function o(a,s=A){let u=[a,s];return n.add(u),n.size===1&&(r=e(i,l)||A),a(t),()=>{n.delete(u),n.size===0&&r&&(r(),r=null)}}return{set:i,update:l,subscribe:o}}var Yu=lc("light");var It="colors",an="sizes",Oe="space",O8={gap:Oe,gridGap:Oe,columnGap:Oe,gridColumnGap:Oe,rowGap:Oe,gridRowGap:Oe,inset:Oe,insetBlock:Oe,insetBlockEnd:Oe,insetBlockStart:Oe,insetInline:Oe,insetInlineEnd:Oe,insetInlineStart:Oe,margin:Oe,marginTop:Oe,marginRight:Oe,marginBottom:Oe,marginLeft:Oe,marginBlock:Oe,marginBlockEnd:Oe,marginBlockStart:Oe,marginInline:Oe,marginInlineEnd:Oe,marginInlineStart:Oe,padding:Oe,paddingTop:Oe,paddingRight:Oe,paddingBottom:Oe,paddingLeft:Oe,paddingBlock:Oe,paddingBlockEnd:Oe,paddingBlockStart:Oe,paddingInline:Oe,paddingInlineEnd:Oe,paddingInlineStart:Oe,top:Oe,right:Oe,bottom:Oe,left:Oe,scrollMargin:Oe,scrollMarginTop:Oe,scrollMarginRight:Oe,scrollMarginBottom:Oe,scrollMarginLeft:Oe,scrollMarginX:Oe,scrollMarginY:Oe,scrollMarginBlock:Oe,scrollMarginBlockEnd:Oe,scrollMarginBlockStart:Oe,scrollMarginInline:Oe,scrollMarginInlineEnd:Oe,scrollMarginInlineStart:Oe,scrollPadding:Oe,scrollPaddingTop:Oe,scrollPaddingRight:Oe,scrollPaddingBottom:Oe,scrollPaddingLeft:Oe,scrollPaddingX:Oe,scrollPaddingY:Oe,scrollPaddingBlock:Oe,scrollPaddingBlockEnd:Oe,scrollPaddingBlockStart:Oe,scrollPaddingInline:Oe,scrollPaddingInlineEnd:Oe,scrollPaddingInlineStart:Oe,fontSize:"fontSizes",background:It,backgroundColor:It,backgroundImage:It,borderImage:It,border:It,borderBlock:It,borderBlockEnd:It,borderBlockStart:It,borderBottom:It,borderBottomColor:It,borderColor:It,borderInline:It,borderInlineEnd:It,borderInlineStart:It,borderLeft:It,borderLeftColor:It,borderRight:It,borderRightColor:It,borderTop:It,borderTopColor:It,caretColor:It,color:It,columnRuleColor:It,fill:It,outline:It,outlineColor:It,stroke:It,textDecorationColor:It,fontFamily:"fonts",fontWeight:"fontWeights",lineHeight:"lineHeights",letterSpacing:"letterSpacings",blockSize:an,minBlockSize:an,maxBlockSize:an,inlineSize:an,minInlineSize:an,maxInlineSize:an,width:an,minWidth:an,maxWidth:an,height:an,minHeight:an,maxHeight:an,flexBasis:an,gridTemplateColumns:an,gridTemplateRows:an,borderWidth:"borderWidths",borderTopWidth:"borderWidths",borderRightWidth:"borderWidths",borderBottomWidth:"borderWidths",borderLeftWidth:"borderWidths",borderStyle:"borderStyles",borderTopStyle:"borderStyles",borderRightStyle:"borderStyles",borderBottomStyle:"borderStyles",borderLeftStyle:"borderStyles",borderRadius:"radii",borderTopLeftRadius:"radii",borderTopRightRadius:"radii",borderBottomRightRadius:"radii",borderBottomLeftRadius:"radii",boxShadow:"shadows",textShadow:"shadows",transition:"transitions",zIndex:"zIndices"},rB=(t,e)=>typeof e=="function"?{"()":Function.prototype.toString.call(e)}:e,Ku=()=>{let t=Object.create(null);return(e,r,...n)=>{let i=(l=>JSON.stringify(l,rB))(e);return i in t?t[i]:t[i]=r(e,...n)}},oc=Symbol.for("sxs.internal"),V8=(t,e)=>Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)),rb=t=>{for(let e in t)return!0;return!1},{hasOwnProperty:nB}=Object.prototype,B8=t=>t.includes("-")?t:t.replace(/[A-Z]/g,e=>"-"+e.toLowerCase()),iB=/\s+(?![^()]*\))/,j0=t=>e=>t(...typeof e=="string"?String(e).split(iB):[e]),nb={appearance:t=>({WebkitAppearance:t,appearance:t}),backfaceVisibility:t=>({WebkitBackfaceVisibility:t,backfaceVisibility:t}),backdropFilter:t=>({WebkitBackdropFilter:t,backdropFilter:t}),backgroundClip:t=>({WebkitBackgroundClip:t,backgroundClip:t}),boxDecorationBreak:t=>({WebkitBoxDecorationBreak:t,boxDecorationBreak:t}),clipPath:t=>({WebkitClipPath:t,clipPath:t}),content:t=>({content:t.includes('"')||t.includes("'")||/^([A-Za-z]+\([^]*|[^]*-quote|inherit|initial|none|normal|revert|unset)$/.test(t)?t:`"${t}"`}),hyphens:t=>({WebkitHyphens:t,hyphens:t}),maskImage:t=>({WebkitMaskImage:t,maskImage:t}),maskSize:t=>({WebkitMaskSize:t,maskSize:t}),tabSize:t=>({MozTabSize:t,tabSize:t}),textSizeAdjust:t=>({WebkitTextSizeAdjust:t,textSizeAdjust:t}),userSelect:t=>({WebkitUserSelect:t,userSelect:t}),marginBlock:j0((t,e)=>({marginBlockStart:t,marginBlockEnd:e||t})),marginInline:j0((t,e)=>({marginInlineStart:t,marginInlineEnd:e||t})),maxSize:j0((t,e)=>({maxBlockSize:t,maxInlineSize:e||t})),minSize:j0((t,e)=>({minBlockSize:t,minInlineSize:e||t})),paddingBlock:j0((t,e)=>({paddingBlockStart:t,paddingBlockEnd:e||t})),paddingInline:j0((t,e)=>({paddingInlineStart:t,paddingInlineEnd:e||t}))},R8=/([\d.]+)([^]*)/,lB=(t,e)=>t.length?t.reduce((r,n)=>(r.push(...e.map(i=>i.includes("&")?i.replace(/&/g,/[ +>|~]/.test(n)&&/&.*&/.test(i)?`:is(${n})`:n):n+" "+i)),r),[]):e,oB=(t,e)=>t in aB&&typeof e=="string"?e.replace(/^((?:[^]*[^\w-])?)(fit-content|stretch)((?:[^\w-][^]*)?)$/,(r,n,i,l)=>n+(i==="stretch"?`-moz-available${l};${B8(t)}:${n}-webkit-fill-available`:`-moz-fit-content${l};${B8(t)}:${n}fit-content`)+l):String(e),aB={blockSize:1,height:1,inlineSize:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,width:1},Sl=t=>t?t+"-":"",ab=(t,e,r)=>t.replace(/([+-])?((?:\d+(?:\.\d*)?|\.\d+)(?:[Ee][+-]?\d+)?)?(\$|--)([$\w-]+)/g,(n,i,l,o,a)=>o=="$"==!!l?n:(i||o=="--"?"calc(":"")+"var(--"+(o==="$"?Sl(e)+(a.includes("$")?"":Sl(r))+a.replace(/\$/g,"-"):a)+")"+(i||o=="--"?"*"+(i||"")+(l||"1")+")":"")),sB=/\s*,\s*(?![^()]*\))/,uB=Object.prototype.toString,q0=(t,e,r,n,i)=>{let l,o,a,s=(u,c,f)=>{let h,g,p=w=>{for(h in w){let S=h.charCodeAt(0)===64,P=S&&Array.isArray(w[h])?w[h]:[w[h]];for(g of P){let Z=/[A-Z]/.test(v=h)?v:v.replace(/-[^]/g,W=>W[1].toUpperCase()),y=typeof g=="object"&&g&&g.toString===uB&&(!n.utils[Z]||!c.length);if(Z in n.utils&&!y){let W=n.utils[Z];if(W!==o){o=W,p(W(g)),o=null;continue}}else if(Z in nb){let W=nb[Z];if(W!==a){a=W,p(W(g)),a=null;continue}}if(S&&(b=h.slice(1)in n.media?"@media "+n.media[h.slice(1)]:h,h=b.replace(/\(\s*([\w-]+)\s*(=|<|<=|>|>=)\s*([\w-]+)\s*(?:(<|<=|>|>=)\s*([\w-]+)\s*)?\)/g,(W,X,x,le,oe,$)=>{let ee=R8.test(X),ce=.0625*(ee?-1:1),[Te,Pe]=ee?[le,X]:[X,le];return"("+(x[0]==="="?"":x[0]===">"===ee?"max-":"min-")+Te+":"+(x[0]!=="="&&x.length===1?Pe.replace(R8,(pe,et,we)=>Number(et)+ce*(x===">"?1:-1)+we):Pe)+(oe?") and ("+(oe[0]===">"?"min-":"max-")+Te+":"+(oe.length===1?$.replace(R8,(pe,et,we)=>Number(et)+ce*(oe===">"?-1:1)+we):$):"")+")"})),y){let W=S?f.concat(h):[...f],X=S?[...c]:lB(c,h.split(sB));l!==void 0&&i(ib(...l)),l=void 0,s(g,X,W)}else l===void 0&&(l=[[],c,f]),h=S||h.charCodeAt(0)!==36?h:`--${Sl(n.prefix)}${h.slice(1).replace(/\$/g,"-")}`,g=y?g:typeof g=="number"?g&&Z in cB?String(g)+"px":String(g):ab(oB(Z,g==null?"":g),n.prefix,n.themeMap[Z]),l[0].push(`${S?`${h} `:`${B8(h)}:`}${g}`)}}var b,v};p(u),l!==void 0&&i(ib(...l)),l=void 0};s(t,e,r)},ib=(t,e,r)=>`${r.map(n=>`${n}{`).join("")}${e.length?`${e.join(",")}{`:""}${t.join(";")}${e.length?"}":""}${Array(r.length?r.length+1:0).join("}")}`,cB={animationDelay:1,animationDuration:1,backgroundSize:1,blockSize:1,border:1,borderBlock:1,borderBlockEnd:1,borderBlockEndWidth:1,borderBlockStart:1,borderBlockStartWidth:1,borderBlockWidth:1,borderBottom:1,borderBottomLeftRadius:1,borderBottomRightRadius:1,borderBottomWidth:1,borderEndEndRadius:1,borderEndStartRadius:1,borderInlineEnd:1,borderInlineEndWidth:1,borderInlineStart:1,borderInlineStartWidth:1,borderInlineWidth:1,borderLeft:1,borderLeftWidth:1,borderRadius:1,borderRight:1,borderRightWidth:1,borderSpacing:1,borderStartEndRadius:1,borderStartStartRadius:1,borderTop:1,borderTopLeftRadius:1,borderTopRightRadius:1,borderTopWidth:1,borderWidth:1,bottom:1,columnGap:1,columnRule:1,columnRuleWidth:1,columnWidth:1,containIntrinsicSize:1,flexBasis:1,fontSize:1,gap:1,gridAutoColumns:1,gridAutoRows:1,gridTemplateColumns:1,gridTemplateRows:1,height:1,inlineSize:1,inset:1,insetBlock:1,insetBlockEnd:1,insetBlockStart:1,insetInline:1,insetInlineEnd:1,insetInlineStart:1,left:1,letterSpacing:1,margin:1,marginBlock:1,marginBlockEnd:1,marginBlockStart:1,marginBottom:1,marginInline:1,marginInlineEnd:1,marginInlineStart:1,marginLeft:1,marginRight:1,marginTop:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,offsetDistance:1,offsetRotate:1,outline:1,outlineOffset:1,outlineWidth:1,overflowClipMargin:1,padding:1,paddingBlock:1,paddingBlockEnd:1,paddingBlockStart:1,paddingBottom:1,paddingInline:1,paddingInlineEnd:1,paddingInlineStart:1,paddingLeft:1,paddingRight:1,paddingTop:1,perspective:1,right:1,rowGap:1,scrollMargin:1,scrollMarginBlock:1,scrollMarginBlockEnd:1,scrollMarginBlockStart:1,scrollMarginBottom:1,scrollMarginInline:1,scrollMarginInlineEnd:1,scrollMarginInlineStart:1,scrollMarginLeft:1,scrollMarginRight:1,scrollMarginTop:1,scrollPadding:1,scrollPaddingBlock:1,scrollPaddingBlockEnd:1,scrollPaddingBlockStart:1,scrollPaddingBottom:1,scrollPaddingInline:1,scrollPaddingInlineEnd:1,scrollPaddingInlineStart:1,scrollPaddingLeft:1,scrollPaddingRight:1,scrollPaddingTop:1,shapeMargin:1,textDecoration:1,textDecorationThickness:1,textIndent:1,textUnderlineOffset:1,top:1,transitionDelay:1,transitionDuration:1,verticalAlign:1,width:1,wordSpacing:1},lb=t=>String.fromCharCode(t+(t>25?39:97)),za=t=>(e=>{let r,n="";for(r=Math.abs(e);r>52;r=r/52|0)n=lb(r%52)+n;return lb(r%52)+n})(((e,r)=>{let n=r.length;for(;n;)e=33*e^r.charCodeAt(--n);return e})(5381,JSON.stringify(t))>>>0),Ju=["themed","global","styled","onevar","resonevar","allvar","inline"],fB=t=>{if(t.href&&!t.href.startsWith(location.origin))return!1;try{return!!t.cssRules}catch(e){return!1}},hB=t=>{let e,r=()=>{let{cssRules:i}=e.sheet;return[].map.call(i,(l,o)=>{let{cssText:a}=l,s="";if(a.startsWith("--sxs"))return"";if(i[o-1]&&(s=i[o-1].cssText).startsWith("--sxs")){if(!l.cssRules.length)return"";for(let u in e.rules)if(e.rules[u].group===l)return`--sxs{--sxs:${[...e.rules[u].cache].join(" ")}}${a}`;return l.cssRules.length?`${s}${a}`:""}return a}).join("")},n=()=>{if(e){let{rules:a,sheet:s}=e;if(!s.deleteRule){for(;Object(Object(s.cssRules)[0]).type===3;)s.cssRules.splice(0,1);s.cssRules=[]}for(let u in a)delete a[u]}let i=Object(t).styleSheets||[];for(let a of i)if(fB(a)){for(let s=0,u=a.cssRules;u[s];++s){let c=Object(u[s]);if(c.type!==1)continue;let f=Object(u[s+1]);if(f.type!==4)continue;++s;let{cssText:h}=c;if(!h.startsWith("--sxs"))continue;let g=h.slice(14,-3).trim().split(/\s+/),p=Ju[g[0]];p&&(e||(e={sheet:a,reset:n,rules:{},toString:r}),e.rules[p]={group:f,index:s,cache:new Set(g)})}if(e)break}if(!e){let a=(s,u)=>({type:u,cssRules:[],insertRule(c,f){this.cssRules.splice(f,0,a(c,{import:3,undefined:1}[(c.toLowerCase().match(/^@([a-z]+)/)||[])[1]]||4))},get cssText(){return s==="@media{}"?`@media{${[].map.call(this.cssRules,c=>c.cssText).join("")}}`:s}});e={sheet:t?(t.head||t).appendChild(document.createElement("style")).sheet:a("","text/css"),rules:{},reset:n,toString:r}}let{sheet:l,rules:o}=e;for(let a=Ju.length-1;a>=0;--a){let s=Ju[a];if(!o[s]){let u=Ju[a+1],c=o[u]?o[u].index:l.cssRules.length;l.insertRule("@media{}",c),l.insertRule(`--sxs{--sxs:${a}}`,c),o[s]={group:l.cssRules[c+1],index:c,cache:new Set([a])}}dB(o[s])}};return n(),e},dB=t=>{let e=t.group,r=e.cssRules.length;t.apply=n=>{try{e.insertRule(n,r),++r}catch(i){}}},Gu=Symbol(),mB=Ku(),gB=(t,e)=>mB(t,()=>(...r)=>{let n={type:null,composers:new Set};for(let i of r)if(i!=null)if(i[oc]){n.type==null&&(n.type=i[oc].type);for(let l of i[oc].composers)n.composers.add(l)}else i.constructor!==Object||i.$$typeof?n.type==null&&(n.type=i):n.composers.add(_B(i,t));return n.type==null&&(n.type="span"),n.composers.size||n.composers.add(["PJLV",{},[],[],{},[]]),pB(t,n,e)}),_B=({variants:t,compoundVariants:e,defaultVariants:r,...n},i)=>{let l=`${Sl(i.prefix)}c-${za(n)}`,o=[],a=[],s=Object.create(null),u=[];for(let h in r)s[h]=String(r[h]);if(typeof t=="object"&&t)for(let h in t){c=s,f=h,nB.call(c,f)||(s[h]="undefined");let g=t[h];for(let p in g){let w={[h]:String(p)};String(p)==="undefined"&&u.push(h);let b=g[p],v=[w,b,!rb(b)];o.push(v)}}var c,f;if(typeof e=="object"&&e)for(let h of e){let{css:g,...p}=h;g=typeof g=="object"&&g||{};for(let b in p)p[b]=String(p[b]);let w=[p,g,!rb(g)];a.push(w)}return[l,n,o,a,s,u]},pB=(t,e,r)=>{let[n,i,l,o]=CB(e.composers),a=typeof e.type=="function"||e.type.$$typeof?(f=>{function h(){for(let g=0;g<h[Gu].length;g++){let[p,w]=h[Gu][g];f.rules[p].apply(w)}return h[Gu]=[],null}return h[Gu]=[],h.rules={},Ju.forEach(g=>h.rules[g]={apply:p=>h[Gu].push([g,p])}),h})(r):null,s=(a||r).rules,u=`.${n}${i.length>1?`:where(.${i.slice(1).join(".")})`:""}`,c=f=>{f=typeof f=="object"&&f||bB;let{css:h,...g}=f,p={};for(let v in l)if(delete g[v],v in f){let S=f[v];typeof S=="object"&&S?p[v]={"@initial":l[v],...S}:(S=String(S),p[v]=S!=="undefined"||o.has(v)?S:l[v])}else p[v]=l[v];let w=new Set([...i]);for(let[v,S,P,Z]of e.composers){r.rules.styled.cache.has(v)||(r.rules.styled.cache.add(v),q0(S,[`.${v}`],[],t,X=>{s.styled.apply(X)}));let y=ob(P,p,t.media),W=ob(Z,p,t.media,!0);for(let X of y)if(X!==void 0)for(let[x,le,oe]of X){let $=`${v}-${za(le)}-${x}`;w.add($);let ee=(oe?r.rules.resonevar:r.rules.onevar).cache,ce=oe?s.resonevar:s.onevar;ee.has($)||(ee.add($),q0(le,[`.${$}`],[],t,Te=>{ce.apply(Te)}))}for(let X of W)if(X!==void 0)for(let[x,le]of X){let oe=`${v}-${za(le)}-${x}`;w.add(oe),r.rules.allvar.cache.has(oe)||(r.rules.allvar.cache.add(oe),q0(le,[`.${oe}`],[],t,$=>{s.allvar.apply($)}))}}if(typeof h=="object"&&h){let v=`${n}-i${za(h)}-css`;w.add(v),r.rules.inline.cache.has(v)||(r.rules.inline.cache.add(v),q0(h,[`.${v}`],[],t,S=>{s.inline.apply(S)}))}for(let v of String(f.className||"").trim().split(/\s+/))v&&w.add(v);let b=g.className=[...w].join(" ");return{type:e.type,className:b,selector:u,props:g,toString:()=>b,deferredInjector:a}};return V8(c,{className:n,selector:u,[oc]:e,toString:()=>(r.rules.styled.cache.has(n)||c(),n)})},CB=t=>{let e="",r=[],n={},i=[];for(let[l,,,,o,a]of t){e===""&&(e=l),r.push(l),i.push(...a);for(let s in o){let u=o[s];(n[s]===void 0||u!=="undefined"||a.includes(u))&&(n[s]=u)}}return[e,r,n,new Set(i)]},ob=(t,e,r,n)=>{let i=[];e:for(let[l,o,a]of t){if(a)continue;let s,u=0,c=!1;for(s in l){let f=l[s],h=e[s];if(h!==f){if(typeof h!="object"||!h)continue e;{let g,p,w=0;for(let b in h){if(f===String(h[b])){if(b!=="@initial"){let v=b.slice(1);(p=p||[]).push(v in r?r[v]:b.replace(/^@media ?/,"")),c=!0}u+=w,g=!0}++w}if(p&&p.length&&(o={["@media "+p.join(", ")]:o}),!g)continue e}}}(i[u]=i[u]||[]).push([n?"cv":`${s}-${l[s]}`,o,c])}return i},bB={},vB=Ku(),wB=(t,e)=>vB(t,()=>(...r)=>{let n=()=>{for(let i of r){i=typeof i=="object"&&i||{};let l=za(i);if(!e.rules.global.cache.has(l)){if(e.rules.global.cache.add(l),"@import"in i){let o=[].indexOf.call(e.sheet.cssRules,e.rules.themed.group)-1;for(let a of[].concat(i["@import"]))a=a.includes('"')||a.includes("'")?a:`"${a}"`,e.sheet.insertRule(`@import ${a};`,o++);delete i["@import"]}q0(i,[],[],t,o=>{e.rules.global.apply(o)})}}return""};return V8(n,{toString:n})}),kB=Ku(),yB=(t,e)=>kB(t,()=>r=>{let n=`${Sl(t.prefix)}k-${za(r)}`,i=()=>{if(!e.rules.global.cache.has(n)){e.rules.global.cache.add(n);let l=[];q0(r,[],[],t,a=>l.push(a));let o=`@keyframes ${n}{${l.join("")}}`;e.rules.global.apply(o)}return n};return V8(i,{get name(){return i()},toString:i})}),LB=class{constructor(t,e,r,n){this.token=t==null?"":String(t),this.value=e==null?"":String(e),this.scale=r==null?"":String(r),this.prefix=n==null?"":String(n)}get computedValue(){return"var("+this.variable+")"}get variable(){return"--"+Sl(this.prefix)+Sl(this.scale)+this.token}toString(){return this.computedValue}},EB=Ku(),SB=(t,e)=>EB(t,()=>(r,n)=>{n=typeof r=="object"&&r||Object(n);let i=`.${r=(r=typeof r=="string"?r:"")||`${Sl(t.prefix)}t-${za(n)}`}`,l={},o=[];for(let s in n){l[s]={};for(let u in n[s]){let c=`--${Sl(t.prefix)}${s}-${u}`,f=ab(String(n[s][u]),t.prefix,s);l[s][u]=new LB(u,f,s,t.prefix),o.push(`${c}:${f}`)}}let a=()=>{if(o.length&&!e.rules.themed.cache.has(r)){e.rules.themed.cache.add(r);let s=`${n===t.theme?":root,":""}.${r}{${o.join(";")}}`;e.rules.themed.apply(s)}return r};return{...l,get className(){return a()},selector:i,toString:a}}),MB=Ku(),sb=t=>{let e=!1,r=MB(t,n=>{e=!0;let i="prefix"in(n=typeof n=="object"&&n||{})?String(n.prefix):"",l=typeof n.media=="object"&&n.media||{},o=typeof n.root=="object"?n.root||null:globalThis.document||null,a=typeof n.theme=="object"&&n.theme||{},s={prefix:i,media:l,theme:a,themeMap:typeof n.themeMap=="object"&&n.themeMap||{...O8},utils:typeof n.utils=="object"&&n.utils||{}},u=hB(o),c={css:gB(s,u),globalCss:wB(s,u),keyframes:yB(s,u),createTheme:SB(s,u),reset(){u.reset(),c.theme.toString()},theme:{},sheet:u,config:s,prefix:i,getCssText:u.toString,toString:u.toString};return String(c.theme=c.createTheme(a)),c});return e||r.reset(),r};var Z8={primary:"#228be6",white:"#ffffff",black:"#000000",dark50:"#C1C2C5",dark100:"#A6A7AB",dark200:"#909296",dark300:"#5c5f66",dark400:"#373A40",dark500:"#2C2E33",dark600:"#25262b",dark700:"#1A1B1E",dark800:"#141517",dark900:"#101113",gray50:"#f8f9fa",gray100:"#f1f3f5",gray200:"#e9ecef",gray300:"#dee2e6",gray400:"#ced4da",gray500:"#adb5bd",gray600:"#868e96",gray700:"#495057",gray800:"#343a40",gray900:"#212529",red50:"#fff5f5",red100:"#ffe3e3",red200:"#ffc9c9",red300:"#ffa8a8",red400:"#ff8787",red500:"#ff6b6b",red600:"#fa5252",red700:"#f03e3e",red800:"#e03131",red900:"#c92a2a",pink50:"#fff0f6",pink100:"#ffdeeb",pink200:"#fcc2d7",pink300:"#faa2c1",pink400:"#f783ac",pink500:"#f06595",pink600:"#e64980",pink700:"#d6336c",pink800:"#c2255c",pink900:"#a61e4d",grape50:"#f8f0fc",grape100:"#f3d9fa",grape200:"#eebefa",grape300:"#e599f7",grape400:"#da77f2",grape500:"#cc5de8",grape600:"#be4bdb",grape700:"#ae3ec9",grape800:"#9c36b5",grape900:"#862e9c",violet50:"#f3f0ff",violet100:"#e5dbff",violet200:"#d0bfff",violet300:"#b197fc",violet400:"#9775fa",violet500:"#845ef7",violet600:"#7950f2",violet700:"#7048e8",violet800:"#6741d9",violet900:"#5f3dc4",indigo50:"#edf2ff",indigo100:"#dbe4ff",indigo200:"#bac8ff",indigo300:"#91a7ff",indigo400:"#748ffc",indigo500:"#5c7cfa",indigo600:"#4c6ef5",indigo700:"#4263eb",indigo800:"#3b5bdb",indigo900:"#364fc7",blue50:"#e7f5ff",blue100:"#d0ebff",blue200:"#a5d8ff",blue300:"#74c0fc",blue400:"#4dabf7",blue500:"#339af0",blue600:"#228be6",blue700:"#1c7ed6",blue800:"#1971c2",blue900:"#1864ab",cyan50:"#e3fafc",cyan100:"#c5f6fa",cyan200:"#99e9f2",cyan300:"#66d9e8",cyan400:"#3bc9db",cyan500:"#22b8cf",cyan600:"#15aabf",cyan700:"#1098ad",cyan800:"#0c8599",cyan900:"#0b7285",teal50:"#e6fcf5",teal100:"#c3fae8",teal200:"#96f2d7",teal300:"#63e6be",teal400:"#38d9a9",teal500:"#20c997",teal600:"#12b886",teal700:"#0ca678",teal800:"#099268",teal900:"#087f5b",green50:"#ebfbee",green100:"#d3f9d8",green200:"#b2f2bb",green300:"#8ce99a",green400:"#69db7c",green500:"#51cf66",green600:"#40c057",green700:"#37b24d",green800:"#2f9e44",green900:"#2b8a3e",lime50:"#f4fce3",lime100:"#e9fac8",lime200:"#d8f5a2",lime300:"#c0eb75",lime400:"#a9e34b",lime500:"#94d82d",lime600:"#82c91e",lime700:"#74b816",lime800:"#66a80f",lime900:"#5c940d",yellow50:"#fff9db",yellow100:"#fff3bf",yellow200:"#ffec99",yellow300:"#ffe066",yellow400:"#ffd43b",yellow500:"#fcc419",yellow600:"#fab005",yellow700:"#f59f00",yellow800:"#f08c00",yellow900:"#e67700",orange50:"#fff4e6",orange100:"#ffe8cc",orange200:"#ffd8a8",orange300:"#ffc078",orange400:"#ffa94d",orange500:"#ff922b",orange600:"#fd7e14",orange700:"#f76707",orange800:"#e8590c",orange900:"#d9480f"},ub={blue:"blue",cyan:"cyan",dark:"dark",grape:"grape",gray:"gray",green:"green",indigo:"indigo",lime:"lime",orange:"orange",pink:"pink",red:"red",teal:"teal",violet:"violet",yellow:"yellow"};var{css:Ha,globalCss:I8,keyframes:D8,getCssText:TB,theme:Xu,createTheme:cb,config:zB,reset:HB}=sb({prefix:"svelteui",theme:{colors:Z8,space:{0:"0rem",xs:10,sm:12,md:16,lg:20,xl:24,xsPX:"10px",smPX:"12px",mdPX:"16px",lgPX:"20px",xlPX:"24px",1:"0.125rem",2:"0.25rem",3:"0.375rem",4:"0.5rem",5:"0.625rem",6:"0.75rem",7:"0.875rem",8:"1rem",9:"1.25rem",10:"1.5rem",11:"1.75rem",12:"2rem",13:"2.25rem",14:"2.5rem",15:"2.75rem",16:"3rem",17:"3.5rem",18:"4rem",20:"5rem",24:"6rem",28:"7rem",32:"8rem",36:"9rem",40:"10rem",44:"11rem",48:"12rem",52:"13rem",56:"14rem",60:"15rem",64:"16rem",72:"18rem",80:"20rem",96:"24rem"},fontSizes:{xs:"12px",sm:"14px",md:"16px",lg:"18px",xl:"20px"},fonts:{standard:"-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji",mono:"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, Liberation Mono, Courier New, monospace",fallback:"Segoe UI, system-ui, sans-serif"},fontWeights:{thin:100,extralight:200,light:300,normal:400,medium:500,semibold:600,bold:700,extrabold:800},lineHeights:{xs:1,sm:1.25,md:1.5,lg:1.625,xl:1.75},letterSpacings:{tighter:"-0.05em",tight:"-0.025em",normal:"0",wide:"0.025em",wider:"0.05em",widest:"0.1em"},sizes:{},radii:{xs:"2px",sm:"4px",md:"8px",lg:"16px",xl:"32px",squared:"33%",rounded:"50%",pill:"9999px"},shadows:{xs:"0 1px 3px rgba(0, 0, 0, 0.05), 0 1px 2px rgba(0, 0, 0, 0.1)",sm:"0 1px 3px rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0px 10px 15px -5px, rgba(0, 0, 0, 0.04) 0px 7px 7px -5px",md:"0 1px 3px rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0px 20px 25px -5px, rgba(0, 0, 0, 0.04) 0px 10px 10px -5px",lg:"0 1px 3px rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0px 28px 23px -7px, rgba(0, 0, 0, 0.04) 0px 12px 12px -7px",xl:"0 1px 3px rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0px 36px 28px -7px, rgba(0, 0, 0, 0.04) 0px 17px 17px -7px"},zIndices:{1:"100",2:"200",3:"300",4:"400",5:"500",10:"1000",max:"9999"},borderWidths:{light:"1px",normal:"2px",bold:"3px",extrabold:"4px",black:"5px",xs:"1px",sm:"2px",md:"3px",lg:"4px",xl:"5px"},breakpoints:{xs:576,sm:768,md:992,lg:1200,xl:1400},borderStyles:{},transitions:{}},media:{xs:"(min-width: 576px)",sm:"(min-width: 768px)",md:"(min-width: 992px)",lg:"(min-width: 1200px)",xl:"(min-width: 1400px)"},utils:{focusRing:t=>({WebkitTapHighlightColor:"transparent","&:focus":{outlineOffset:2,outline:t==="always"||t==="auto"?"2px solid $primary":"none"},"&:focus:not(:focus-visible)":{outline:t==="auto"||t==="never"?"none":void 0}}),p:t=>({padding:t}),pt:t=>({paddingTop:t}),pr:t=>({paddingRight:t}),pb:t=>({paddingBottom:t}),pl:t=>({paddingLeft:t}),px:t=>({paddingLeft:t,paddingRight:t}),py:t=>({paddingTop:t,paddingBottom:t}),m:t=>({margin:t}),mt:t=>({marginTop:t}),mr:t=>({marginRight:t}),mb:t=>({marginBottom:t}),ml:t=>({marginLeft:t}),mx:t=>({marginLeft:t,marginRight:t}),my:t=>({marginTop:t,marginBottom:t}),ta:t=>({textAlign:t}),tt:t=>({textTransform:t}),to:t=>({textOverflow:t}),d:t=>({display:t}),dflex:t=>({display:"flex",alignItems:t,justifyContent:t}),fd:t=>({flexDirection:t}),fw:t=>({flexWrap:t}),ai:t=>({alignItems:t}),ac:t=>({alignContent:t}),jc:t=>({justifyContent:t}),as:t=>({alignSelf:t}),fg:t=>({flexGrow:t}),fs:t=>({fontSize:t}),fb:t=>({flexBasis:t}),bc:t=>({backgroundColor:t}),bf:t=>({backdropFilter:t}),bg:t=>({background:t}),bgBlur:t=>({bf:"saturate(180%) blur(10px)",bg:t}),bgColor:t=>({backgroundColor:t}),backgroundClip:t=>({WebkitBackgroundClip:t,backgroundClip:t}),bgClip:t=>({WebkitBackgroundClip:t,backgroundClip:t}),br:t=>({borderRadius:t}),bw:t=>({borderWidth:t}),btrr:t=>({borderTopRightRadius:t}),bbrr:t=>({borderBottomRightRadius:t}),bblr:t=>({borderBottomLeftRadius:t}),btlr:t=>({borderTopLeftRadius:t}),bs:t=>({boxShadow:t}),normalShadow:t=>({boxShadow:`0 4px 14px 0 $${t}`}),lh:t=>({lineHeight:t}),ov:t=>({overflow:t}),ox:t=>({overflowX:t}),oy:t=>({overflowY:t}),pe:t=>({pointerEvents:t}),events:t=>({pointerEvents:t}),us:t=>({WebkitUserSelect:t,userSelect:t}),userSelect:t=>({WebkitUserSelect:t,userSelect:t}),w:t=>({width:t}),h:t=>({height:t}),minW:t=>({minWidth:t}),minH:t=>({minWidth:t}),mw:t=>({maxWidth:t}),maxW:t=>({maxWidth:t}),mh:t=>({maxHeight:t}),maxH:t=>({maxHeight:t}),size:t=>({width:t,height:t}),minSize:t=>({minWidth:t,minHeight:t,width:t,height:t}),sizeMin:t=>({minWidth:t,minHeight:t,width:t,height:t}),maxSize:t=>({maxWidth:t,maxHeight:t}),sizeMax:t=>({maxWidth:t,maxHeight:t}),appearance:t=>({WebkitAppearance:t,appearance:t}),scale:t=>({transform:`scale(${t})`}),linearGradient:t=>({backgroundImage:`linear-gradient(${t})`}),tdl:t=>({textDecorationLine:t}),textGradient:t=>({backgroundImage:`linear-gradient(${t})`,WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"})},themeMap:{...O8,width:"space",height:"space",minWidth:"space",maxWidth:"space",minHeight:"space",maxHeight:"space",flexBasis:"space",gridTemplateColumns:"space",gridTemplateRows:"space",blockSize:"space",minBlockSize:"space",maxBlockSize:"space",inlineSize:"space",minInlineSize:"space",maxInlineSize:"space",borderWidth:"borderWeights"}}),Pt=cb("dark-theme",{colors:Z8,shadows:{xs:"-4px 0 15px rgb(0 0 0 / 50%)",sm:"0 5px 20px -5px rgba(20, 20, 20, 0.1)",md:"0 8px 30px rgba(20, 20, 20, 0.15)",lg:"0 30px 60px rgba(20, 20, 20, 0.15)",xl:"0 40px 80px rgba(20, 20, 20, 0.25)"}}),N8=I8({a:{focusRing:"auto"},body:{[`${Pt.selector} &`]:{backgroundColor:"$dark700",color:"$dark50"},backgroundColor:"$white",color:"$black"}}),F8=I8({html:{fontFamily:"sans-serif",lineHeight:"1.15",textSizeAdjust:"100%",margin:0},body:{margin:0},"article, aside, footer, header, nav, section, figcaption, figure, main":{display:"block"},h1:{fontSize:"2em",margin:0},hr:{boxSizing:"content-box",height:0,overflow:"visible"},pre:{fontFamily:"monospace, monospace",fontSize:"1em"},a:{background:"transparent",textDecorationSkip:"objects"},"a:active, a:hover":{outlineWidth:0},"abbr[title]":{borderBottom:"none",textDecoration:"underline"},"b, strong":{fontWeight:"bolder"},"code, kbp, samp":{fontFamily:"monospace, monospace",fontSize:"1em"},dfn:{fontStyle:"italic"},mark:{backgroundColor:"#ff0",color:"#000"},small:{fontSize:"80%"},"sub, sup":{fontSize:"75%",lineHeight:0,position:"relative",verticalAlign:"baseline"},sup:{top:"-0.5em"},sub:{bottom:"-0.25em"},"audio, video":{display:"inline-block"},"audio:not([controls])":{display:"none",height:0},img:{borderStyle:"none",verticalAlign:"middle"},"svg:not(:root)":{overflow:"hidden"},"button, input, optgroup, select, textarea":{fontFamily:"sans-serif",fontSize:"100%",lineHeight:"1.15",margin:0},"button, input":{overflow:"visible"},"button, select":{textTransform:"none"},"button, [type=reset], [type=submit]":{WebkitAppearance:"button"},"button::-moz-focus-inner, [type=button]::-moz-focus-inner, [type=reset]::-moz-focus-inner, [type=submit]::-moz-focus-inner":{borderStyle:"none",padding:0},"button:-moz-focusring, [type=button]:-moz-focusring, [type=reset]:-moz-focusring, [type=submit]:-moz-focusring":{outline:"1px dotted ButtonText"},legend:{boxSizing:"border-box",color:"inherit",display:"table",maxWidth:"100%",padding:0,whiteSpace:"normal"},progress:{display:"inline-block",verticalAlign:"baseline"},textarea:{overflow:"auto"},"[type=checkbox], [type=radio]":{boxSizing:"border-box",padding:0},"[type=number]::-webkit-inner-spin-button, [type=number]::-webkit-outer-spin-button":{height:"auto"},"[type=search]":{appearance:"textfield",outlineOffset:"-2px"},"[type=search]::-webkit-search-cancel-button, [type=search]::-webkit-search-decoration":{appearance:"none"},"::-webkit-file-upload-button":{appearance:"button",font:"inherit"},"details, menu":{display:"block"},summary:{display:"list-item"},canvas:{display:"inline-block"},template:{display:"none"},"[hidden]":{display:"none"}});function vt(t,e=0){var i,l;let r=((i=t1())==null?void 0:i.theme)||Tn(),n="50";return PB(t)?(e!==0&&(n=`${e.toString()}00`),(l=r.colors[`${t}${n}`])==null?void 0:l.value):t}function PB(t){let e=!1;switch(t){case"dark":e=!0;break;case"gray":e=!0;break;case"red":e=!0;break;case"pink":e=!0;break;case"grape":e=!0;break;case"violet":e=!0;break;case"indigo":e=!0;break;case"blue":e=!0;break;case"cyan":e=!0;break;case"teal":e=!0;break;case"green":e=!0;break;case"lime":e=!0;break;case"yellow":e=!0;break;case"orange":e=!0;break;default:e=!1;break}return e}function fb(t){return e=>{if(typeof e=="number")return`${e/16}${t}`;if(typeof e=="string"){let r=e.replace("px","");if(!Number.isNaN(Number(r)))return`${Number(r)/16}${t}`}return e}}var Qu=fb("rem"),R1e=fb("em");function hb(t=0){return{position:"absolute",top:Qu(t),right:Qu(t),left:Qu(t),bottom:Qu(t)}}function db(t){var e,r;return typeof t.size=="number"?t.size:typeof t.sizes[t.size]=="number"?t.sizes[t.size]:+((e=t.sizes[t.size])==null?void 0:e.value)||+((r=t.sizes.md)==null?void 0:r.value)}function mb(t){var r;let e=((r=t1())==null?void 0:r.theme)||Tn();return typeof t=="number"?t:e.radii[t].value}function AB(t){let e=t.replace("#","");return typeof e=="string"&&e.length===6&&!Number.isNaN(+`0x${e}`)}function RB(t){let e=t.replace("#",""),r=parseInt(e,16),n=r>>16&255,i=r>>8&255,l=r&255;return{r:n,g:i,b:l,a:1}}function BB(t){let[e,r,n,i]=t.replace(/[^0-9,.]/g,"").split(",").map(Number);return{r:e,g:r,b:n,a:i||1}}function gb(t){return AB(t)?RB(t):t.startsWith("rgb")?BB(t):{r:0,g:0,b:0,a:1}}function X1(t,e=1){if(typeof t!="string"||e>1||e<0)return"rgba(0, 0, 0, 1)";let{r,g:n,b:i}=gb(t);return`rgba(${r}, ${n}, ${i}, ${e})`}var j8={from:"indigo",to:"cyan",deg:45};function _b({variant:t,color:e,gradient:r}){var l;let n=((l=t1())==null?void 0:l.theme)||Tn(),i=6;if(t==="light")return{border:"transparent",background:[X1(vt(e,8),.35),X1(vt(e,0),1)],color:[e==="dark"?vt("dark",0):vt(e,2),e==="dark"?vt("dark",9):vt(e,i)],hover:[X1(vt(e,7),.45),X1(vt(e,1),.65)]};if(t==="default")return{border:[vt("dark",5),vt("gray",4)],background:[vt("dark",5),n.colors.white.value],color:[n.colors.white.value,n.colors.black.value],hover:[vt("dark",4),vt("gray",0)]};if(t==="white")return{border:"transparent",background:n.colors.white.value,color:vt(e,i),hover:null};if(t==="outline")return{border:[vt(e,4),vt(e,i)],background:"transparent",color:[vt(e,4),vt(e,i)],hover:[X1(vt(e,4),.05),X1(vt(e,0),.35)]};if(t==="gradient"){let o={from:(r==null?void 0:r.from)||j8.from,to:(r==null?void 0:r.to)||j8.to,deg:(r==null?void 0:r.deg)||j8.deg};return{background:`linear-gradient(${o.deg}deg, ${vt(o.from,i)} 0%, ${vt(o.to,i)} 100%)`,color:n.colors.white.value,border:"transparent",hover:null}}return t==="subtle"?{border:"transparent",background:"transparent",color:[e==="dark"?vt("dark",0):vt(e,2),e==="dark"?vt("dark",9):vt(e,i)],hover:[X1(vt(e,8),.35),X1(vt(e,0),1)]}:{border:"transparent",background:[vt(e,8),vt(e,i)],color:n.colors.white.value,hover:vt(e,7)}}var r1={cover:hb,size:db,radius:mb,themeColor:vt,variant:_b,rgba:X1};function Tn(){var r,n;let t;return(r=Yu)==null||r.subscribe(i=>{t=i}),{...Xu,colorNames:ub,colorScheme:t,dark:(n=Pt)==null?void 0:n.selector,fn:{cover:r1.cover,themeColor:r1.themeColor,size:r1.size,radius:r1.radius,rgba:r1.rgba,variant:r1.variant}}}function OB(t){let e,r,n,i,l,o,a,s=t[19].default,u=Ye(s,t,t[18],null),c=[{id:"SVELTEUI_PROVIDER"},{class:r=t[5](t[2],t[4].root,t[3])},t[7]],f={};for(let h=0;h<c.length;h+=1)f=H(f,c[h]);return{c(){e=Be("div"),u&&u.c(),kr(e,f)},m(h,g){M(h,e,g),u&&u.m(e,null),t[20](e),l=!0,o||(a=[Ut(n=st.call(null,e,t[1])),Ut(i=t[6].call(null,e))],o=!0)},p(h,[g]){u&&u.p&&(!l||g&262144)&&Je(u,s,h,h[18],l?Ge(s,h[18],g,null):Ke(h[18]),null),kr(e,f=I(c,[{id:"SVELTEUI_PROVIDER"},(!l||g&60&&r!==(r=h[5](h[2],h[4].root,h[3])))&&{class:r},g&128&&h[7]])),n&&tr(n.update)&&g&2&&n.update.call(null,h[1])},i(h){l||(te(u,h),l=!0)},o(h){ne(u,h),l=!1},d(h){h&&E(e),u&&u.d(h),t[20](null),o=!1,G(a)}}}function VB(t,e,r){let n,i,l,o,a=["use","class","element","theme","styles","defaultProps","themeObserver","withNormalizeCSS","withGlobalStyles","override","inherit"],s=D(e,a),u;R0(t,Yu,ce=>r(21,u=ce));let{$$slots:c={},$$scope:f}=e,{use:h=[],class:g="",element:p=void 0,theme:w=Tn(),styles:b={},defaultProps:v={},themeObserver:S="light",withNormalizeCSS:P=!1,withGlobalStyles:Z=!1,override:y={},inherit:W=!1}=e;w8(()=>{let ce=document.documentElement.classList;u==="dark"&&ce.add(Pt.className),u==="light"&&ce.remove(Pt.className)});let X=t1(),x=kt(()=>({root:{}})),le=Er(Nt()),oe=Tn(),$=null;function ee(ce){ze[ce?"unshift":"push"](()=>{p=ce,r(0,p)})}return t.$$set=ce=>{e=H(H({},e),j(ce)),r(7,s=D(e,a)),"use"in ce&&r(1,h=ce.use),"class"in ce&&r(2,g=ce.class),"element"in ce&&r(0,p=ce.element),"theme"in ce&&r(8,w=ce.theme),"styles"in ce&&r(9,b=ce.styles),"defaultProps"in ce&&r(10,v=ce.defaultProps),"themeObserver"in ce&&r(11,S=ce.themeObserver),"withNormalizeCSS"in ce&&r(12,P=ce.withNormalizeCSS),"withGlobalStyles"in ce&&r(13,Z=ce.withGlobalStyles),"override"in ce&&r(14,y=ce.override),"inherit"in ce&&r(15,W=ce.inherit),"$$scope"in ce&&r(18,f=ce.$$scope)},t.$$.update=()=>{t.$$.dirty&34560&&r(16,n={themeOverride:W?{...X.theme,...w}:w,styles:W?{...X.styles,...b}:b,defaultProps:W?{...X.styles,...v}:v}),t.$$.dirty&65536&&r(17,i=W8(oe,n.themeOverride)),t.$$.dirty&133120&&S!==null&&r(3,$=S==="light"?i:Pt),t.$$.dirty&8192&&Z&&N8(),t.$$.dirty&4096&&P&&F8(),t.$$.dirty&65536&&ju(ic,{theme:n.themeOverride,styles:{},defaultProps:{}}),t.$$.dirty&2048&&Yu.set(S),t.$$.dirty&16384&&r(5,{cx:l,classes:o}=x(null,{override:y}),l,(r(4,o),r(14,y)))},[p,h,g,$,o,l,le,s,w,b,v,S,P,Z,y,W,n,i,f,c,ee]}var q8=class extends R{constructor(e){super(),O(this,e,VB,OB,B,{use:1,class:2,element:0,theme:8,styles:9,defaultProps:10,themeObserver:11,withNormalizeCSS:12,withGlobalStyles:13,override:14,inherit:15})}},xu=q8;var Ml=(t,e)=>{let{themeColor:r,rgba:n}=r1,i={filled:{[`${Pt.selector} &`]:{backgroundColor:r(t,8)},border:"transparent",backgroundColor:r(t,6),color:"White","&:hover":{backgroundColor:r(t,7)}},light:{[`${Pt.selector} &`]:{backgroundColor:n(r(t,8),.35),color:t==="dark"?r("dark",0):r(t,2),"&:hover":{backgroundColor:n(r(t,7),.45)}},border:"transparent",backgroundColor:r(t,0),color:t==="dark"?r("dark",9):r(t,6),"&:hover":{backgroundColor:r(t,1)}},outline:{[`${Pt.selector} &`]:{border:`1px solid ${r(t,4)}`,color:`${r(t,4)}`,"&:hover":{backgroundColor:n(r(t,4),.05)}},border:`1px solid ${r(t,7)}`,backgroundColor:"transparent",color:r(t,7),"&:hover":{backgroundColor:n(r(t,0),.35)}},subtle:{[`${Pt.selector} &`]:{color:t==="dark"?r("dark",0):r(t,2),"&:hover":{backgroundColor:n(r(t,8),.35)}},border:"transparent",backgroundColor:"transparent",color:t==="dark"?r("dark",9):r(t,6),"&:hover":{backgroundColor:r(t,0)}},default:{[`${Pt.selector} &`]:{border:`1px solid ${r("dark",5)}`,backgroundColor:r("dark",5),color:"White","&:hover":{backgroundColor:r("dark",4)}},border:`1px solid ${r("gray",4)}`,backgroundColor:"White",color:"Black","&:hover":{backgroundColor:r("gray",0)}},white:{border:"transparent",backgroundColor:"White",color:r(t,7),"&:hover":{backgroundColor:"White"}},gradient:{}};return e&&(i.gradient={border:"transparent",background:`linear-gradient(${e.deg}deg, $${e.from}600 0%, $${e.to}600 100%)`,color:"White"}),i};function U8(t="svelteui"){return`${t}-${Math.random().toString(36).substring(2,10)}`}function W8(t,e){return e?Object.keys(t).reduce((r,n)=>(r[n]=typeof e[n]=="object"?{...t[n],...e[n]}:typeof e[n]=="number"?e[n]:e[n]||t[n],r),{}):t}var ZB={}.hasOwnProperty;function IB(...t){let e=[];for(let r=0;r<t.length;r++){let n=t[r];if(!n)continue;let i=typeof n;if(i==="string"||i==="number")e.push(n);else if(Array.isArray(n)){if(n.length){let l={...n};l&&e.push(l)}}else if(i==="object")if(n.toString===Object.prototype.toString)for(let l in n)ZB.call(n,l)&&n[l]&&e.push(l);else e.push(n.toString())}return e.join(" ")}function pb(){return{cx:IB}}function Cb(t){let e={};return Object.keys(t).forEach(r=>{let[n,i]=t[r];e[n]=i}),e}var bb="svelteui";function DB(t){return`__svelteui-ref-${t||""}`}function NB(t,e){let r=[],n={},i=o=>{var u;let a=(u=o.variation)!=null?u:o,s=Object.keys(a);for(let c of s)l(a[c])},l=o=>{Object.keys(o).map(a=>{if(a==="variants"){i(o[a]);return}if(a==="ref"&&r.push(o.ref),a==="darkMode"&&(o[`${e.dark} &`]=o.darkMode),!(o[a]===null||typeof o[a]!="object")){if(l(o[a]),a==="darkMode")delete o[a];else if(!a.startsWith("@media")){if(!a.startsWith("&")&&!a.startsWith(e.dark)){let s=Ha(o[a]);n[a]=s().toString(),o[`& .${s().toString()}`]=o[a],delete o[a]}}}})};return l(t),delete t["& .root"],{classMap:n,refs:Array.from(new Set(r))}}function kt(t){let e=typeof t=="function"?t:()=>t;function r(n={},i){var v,S;let l=((v=t1())==null?void 0:v.theme)||Tn(),{cx:o}=pb(),{override:a,name:s}=i||{},u=e(l,n,DB),c=Object.assign({},u),{classMap:f,refs:h}=NB(c,l),g=(S=u.root)!=null?S:void 0,p=g!==void 0?{...g,...c}:u,w=Ha(p),b=Cb(Object.keys(u).map(P=>{var oe,$,ee;let Z=(oe=h.find(ce=>ce.includes(P)))!=null?oe:"",y=($=Z==null?void 0:Z.split("-"))!=null?$:[],W=(Z==null?void 0:Z.split("-")[(y==null?void 0:y.length)-1])===P,X=P.toString(),x=(ee=f[X])!=null?ee:X;Z&&W&&(x=`${x} ${Z}`),P==="root"&&(x=w({css:a}).toString());let le=`${bb}-${P.toString()}`;return s&&(le=`${bb}-${s}-${P.toString()}`,x=`${x} ${le}`),[P,x]}));return{cx:o,theme:l,classes:b,getStyles:Ha(p)}}return r}var vb={mt:"marginTop",mb:"marginBottom",ml:"marginLeft",mr:"marginRight",pt:"paddingTop",pb:"paddingBottom",pl:"paddingLeft",pr:"paddingRight"},FB=["-xs","-sm","-md","-lg","-xl"];function Pa(t){return typeof t=="string"||typeof t=="number"}function Aa(t,e){return FB.includes(t)?e.fn.size({size:t.replace("-",""),sizes:e.space})*-1:e.fn.size({size:t,sizes:e.space})}function Y8(t,e){let r={};if(Pa(t.p)){let n=Aa(t.p,e);r.padding=n}if(Pa(t.m)){let n=Aa(t.m,e);r.margin=n}if(Pa(t.py)){let n=Aa(t.py,e);r.paddingTop=n,r.paddingBottom=n}if(Pa(t.px)){let n=Aa(t.px,e);r.paddingLeft=n,r.paddingRight=n}if(Pa(t.my)){let n=Aa(t.my,e);r.marginTop=n,r.marginBottom=n}if(Pa(t.mx)){let n=Aa(t.mx,e);r.marginLeft=n,r.marginRight=n}return Object.keys(vb).forEach(n=>{Pa(t[n])&&(r[vb[n]]=e.fn.size({size:Aa(t[n],e),sizes:e.space}))}),r}function jB(t){let e,r,n,i,l,o,a,s=t[28].default,u=Ye(s,t,t[32],null),c=[{class:r=t[2]+" "+t[7]({css:{...t[8](t[11]),...t[6]}})},t[12]],f={};for(let h=0;h<c.length;h+=1)f=H(f,c[h]);return{c(){e=Be("div"),u&&u.c(),kr(e,f)},m(h,g){M(h,e,g),u&&u.m(e,null),t[31](e),l=!0,o||(a=[Ut(n=t[9].call(null,e)),Ut(i=st.call(null,e,t[1]))],o=!0)},p(h,g){u&&u.p&&(!l||g[1]&2)&&Je(u,s,h,h[32],l?Ge(s,h[32],g,null):Ke(h[32]),null),kr(e,f=I(c,[(!l||g[0]&452&&r!==(r=h[2]+" "+h[7]({css:{...h[8](h[11]),...h[6]}})))&&{class:r},g[0]&4096&&h[12]])),i&&tr(i.update)&&g[0]&2&&i.update.call(null,h[1])},i(h){l||(te(u,h),l=!0)},o(h){ne(u,h),l=!1},d(h){h&&E(e),u&&u.d(h),t[31](null),o=!1,G(a)}}}function qB(t){let e,r,n,i=[{use:[t[9],[st,t[1]]]},{class:t[2]+" "+t[7]({css:{...t[8](t[11]),...t[6]}})},t[12]];var l=t[3];function o(a,s){let u={$$slots:{default:[UB]},$$scope:{ctx:a}};for(let c=0;c<i.length;c+=1)u=H(u,i[c]);return s!==void 0&&s[0]&7110&&(u=H(u,I(i,[s[0]&514&&{use:[a[9],[st,a[1]]]},s[0]&2500&&{class:a[2]+" "+a[7]({css:{...a[8](a[11]),...a[6]}})},s[0]&4096&&Ie(a[12])]))),{props:u}}return l&&(e=Lr(l,o(t)),t[30](e)),{c(){e&&_e(e.$$.fragment),r=U()},m(a,s){e&&me(e,a,s),M(a,r,s),n=!0},p(a,s){if(s[0]&8&&l!==(l=a[3])){if(e){Qe();let u=e;ne(u.$$.fragment,1,0,()=>{ge(u,1)}),xe()}l?(e=Lr(l,o(a,s)),a[30](e),_e(e.$$.fragment),te(e.$$.fragment,1),me(e,r.parentNode,r)):e=null}else if(l){let u=s[0]&7110?I(i,[s[0]&514&&{use:[a[9],[st,a[1]]]},s[0]&2500&&{class:a[2]+" "+a[7]({css:{...a[8](a[11]),...a[6]}})},s[0]&4096&&Ie(a[12])]):{};s[1]&2&&(u.$$scope={dirty:s,ctx:a}),e.$set(u)}},i(a){n||(e&&te(e.$$.fragment,a),n=!0)},o(a){e&&ne(e.$$.fragment,a),n=!1},d(a){a&&E(r),t[30](null),e&&ge(e,a)}}}function WB(t){let e,r=t[10]()&&YB(t);return{c(){r&&r.c()},m(n,i){r&&r.m(n,i),e=!0},p(n,i){n[10]()&&r.p(n,i)},i(n){e||(te(r,n),e=!0)},o(n){ne(r,n),e=!1},d(n){r&&r.d(n)}}}function UB(t){let e,r=t[28].default,n=Ye(r,t,t[32],null);return{c(){n&&n.c()},m(i,l){n&&n.m(i,l),e=!0},p(i,l){n&&n.p&&(!e||l[1]&2)&&Je(n,r,i,i[32],e?Ge(r,i[32],l,null):Ke(i[32]),null)},i(i){e||(te(n,i),e=!0)},o(i){ne(n,i),e=!1},d(i){n&&n.d(i)}}}function YB(t){let e,r,n,i,l,o,a,s=t[28].default,u=Ye(s,t,t[32],null),c=[{class:r=t[2]+" "+t[7]({css:{...t[8](t[11]),...t[6]}})},t[12]],f={};for(let h=0;h<c.length;h+=1)f=H(f,c[h]);return{c(){e=Be(t[10]()),u&&u.c(),Z0(t[10]())(e,f)},m(h,g){M(h,e,g),u&&u.m(e,null),t[29](e),l=!0,o||(a=[Ut(n=t[9].call(null,e)),Ut(i=st.call(null,e,t[1]))],o=!0)},p(h,g){u&&u.p&&(!l||g[1]&2)&&Je(u,s,h,h[32],l?Ge(s,h[32],g,null):Ke(h[32]),null),Z0(h[10]())(e,f=I(c,[(!l||g[0]&452&&r!==(r=h[2]+" "+h[7]({css:{...h[8](h[11]),...h[6]}})))&&{class:r},g[0]&4096&&h[12]])),i&&tr(i.update)&&g[0]&2&&i.update.call(null,h[1])},i(h){l||(te(u,h),l=!0)},o(h){ne(u,h),l=!1},d(h){h&&E(e),u&&u.d(h),t[29](null),o=!1,G(a)}}}function GB(t){let e,r,n,i,l=[WB,qB,jB],o=[];function a(s,u){return s[4]?0:s[5]&&typeof s[3]!="string"?1:2}return e=a(t,[-1,-1]),r=o[e]=l[e](t),{c(){r.c(),n=U()},m(s,u){o[e].m(s,u),M(s,n,u),i=!0},p(s,u){let c=e;e=a(s,u),e===c?o[e].p(s,u):(Qe(),ne(o[c],1,1,()=>{o[c]=null}),xe(),r=o[e],r?r.p(s,u):(r=o[e]=l[e](s),r.c()),te(r,1),r.m(n.parentNode,n))},i(s){i||(te(r),i=!0)},o(s){ne(r),i=!1},d(s){s&&E(n),o[e].d(s)}}}function JB(t,e,r){var Rt;let n,i,l,o=["use","element","class","css","root","m","my","mx","mt","mb","ml","mr","p","py","px","pt","pb","pl","pr"],a=D(e,o),{$$slots:s={},$$scope:u}=e,{use:c=[],element:f=void 0,class:h="",css:g={},root:p=void 0,m:w=void 0,my:b=void 0,mx:v=void 0,mt:S=void 0,mb:P=void 0,ml:Z=void 0,mr:y=void 0,p:W=void 0,py:X=void 0,px:x=void 0,pt:le=void 0,pb:oe=void 0,pl:$=void 0,pr:ee=void 0}=e,ce=Er(Nt()),Te=()=>p,Pe=((Rt=t1())==null?void 0:Rt.theme)||Tn(),pe,et;function we(ke){ze[ke?"unshift":"push"](()=>{f=ke,r(0,f)})}function ye(ke){ze[ke?"unshift":"push"](()=>{f=ke,r(0,f)})}function Dt(ke){ze[ke?"unshift":"push"](()=>{f=ke,r(0,f)})}return t.$$set=ke=>{e=H(H({},e),j(ke)),r(12,a=D(e,o)),"use"in ke&&r(1,c=ke.use),"element"in ke&&r(0,f=ke.element),"class"in ke&&r(2,h=ke.class),"css"in ke&&r(13,g=ke.css),"root"in ke&&r(3,p=ke.root),"m"in ke&&r(14,w=ke.m),"my"in ke&&r(15,b=ke.my),"mx"in ke&&r(16,v=ke.mx),"mt"in ke&&r(17,S=ke.mt),"mb"in ke&&r(18,P=ke.mb),"ml"in ke&&r(19,Z=ke.ml),"mr"in ke&&r(20,y=ke.mr),"p"in ke&&r(21,W=ke.p),"py"in ke&&r(22,X=ke.py),"px"in ke&&r(23,x=ke.px),"pt"in ke&&r(24,le=ke.pt),"pb"in ke&&r(25,oe=ke.pb),"pl"in ke&&r(26,$=ke.pl),"pr"in ke&&r(27,ee=ke.pr),"$$scope"in ke&&r(32,u=ke.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&8192&&r(8,n=typeof g=="function"?g:()=>g),t.$$.dirty[0]&8&&(r(4,pe=p&&typeof p=="string"),r(5,et=p&&typeof p=="function")),t.$$.dirty[0]&268419072&&r(6,l=Y8({m:w,my:b,mx:v,mt:S,mb:P,ml:Z,mr:y,p:W,py:X,px:x,pt:le,pb:oe,pl:$,pr:ee},Pe))},r(7,i=Ha({})),[f,c,h,p,pe,et,l,i,n,ce,Te,Pe,a,g,w,b,v,S,P,Z,y,W,X,x,le,oe,$,ee,s,we,ye,Dt,u]}var G8=class extends R{constructor(e){super(),O(this,e,JB,GB,B,{use:1,element:0,class:2,css:13,root:3,m:14,my:15,mx:16,mt:17,mb:18,ml:19,mr:20,p:21,py:22,px:23,pt:24,pb:25,pl:26,pr:27},null,[-1,-1])}},At=G8;var wb={xs:{height:30,padding:"0px 14px"},sm:{height:36,padding:"0px 18px"},md:{height:42,padding:"0px 22px"},lg:{height:50,padding:"0px 26px"},xl:{height:60,padding:"0px 32px"},"compact-xs":{height:22,padding:"0 7px"},"compact-sm":{height:26,padding:"0 8px"},"compact-md":{height:30,padding:"0 10px"},"compact-lg":{height:34,padding:"0 12px"},"compact-xl":{height:40,padding:"0 14px"}},kb=kt((t,{color:e,compact:r,fullSize:n,gradient:i,radius:l,size:o,variant:a})=>{var s;return{root:{focusRing:"auto",cursor:"pointer",position:"relative",boxSizing:"border-box",textDecoration:"none",outline:"none",userSelect:"none",appearance:"none",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",background:null,borderRadius:typeof l=="number"?l:`$${l}`,height:typeof o=="number"?`${o}px`:wb[r?`compact-${o}`:o].height,padding:typeof o=="number"?`0px ${o}px`:wb[r?`compact-${o}`:o].padding,fontFamily:(s=t.fonts.standard.value)!=null?s:"sans-serif",fontWeight:"$semibold",fontSize:`$${o}`,lineHeight:1,flexGrow:0,width:n?"100%":"fit-content","&:hover":{backgroundColor:a==="gradient"?null:t.fn.themeColor(e,7),backgroundSize:a==="gradient"?"200%":null},"&:active":{transform:"translateY(1px)"},"&:disabled":{pointerEvents:"none",borderColor:"transparent",background:t.fn.themeColor("gray",2),backgroundColor:t.fn.themeColor("gray",2),color:t.fn.themeColor("gray",5),cursor:"not-allowed",darkMode:{borderColor:"transparent",backgroundColor:t.fn.themeColor("dark",4),color:t.fn.themeColor("dark",6)}}},disabled:{pointerEvents:"none",borderColor:"transparent",background:t.fn.themeColor("gray",2),backgroundColor:t.fn.themeColor("gray",2),color:t.fn.themeColor("gray",5),cursor:"not-allowed",darkMode:{backgroundColor:t.fn.themeColor("dark",4),color:t.fn.themeColor("dark",6)}},loading:{pointerEvents:"none","&::before":{content:'""',position:"absolute",inset:-1,backgroundColor:"rgba(255, 255, 255, .5)",borderRadius:`$${l}`,cursor:"not-allowed"},darkMode:{"&::before":{backgroundColor:t.fn.rgba(t.fn.themeColor("dark",7),.5)}}},variants:{variation:Ml(e,i),disabled:{true:{pointerEvents:"none",borderColor:"transparent",background:t.fn.themeColor("gray",2),backgroundColor:t.fn.themeColor("gray",2),color:t.fn.themeColor("gray",5),cursor:"not-allowed",[`${Pt.selector} &`]:{borderColor:"transparent",backgroundColor:t.fn.themeColor("dark",4),color:t.fn.themeColor("dark",6)}}}}}});var J8=Object.freeze([{error:!0,message:"If using the disabled prop, a loading cannot be set at the same time",solution:`
                If your component looks like this:
                
                &lt;Button disabled loading ...&gt; Button Text &lt;/Button&gt;
                         ^^^^^^^^ ^^^^^^^ - Try removing one of these
                `},{error:!0,message:"If using the external prop, a href prop must be associated with it. If you have an href prop there must be content inside.",solution:`
                If your component looks like this:
                
                &lt;Button external ...&gt; Button Text &lt;/Button&gt;
                         ^^^^^^^^ - Try adding the href prop too
                `}]);function KB(t){let e,r,n,i,l,o,a,s,u,c,f;return{c(){e=N("svg"),r=N("g"),n=N("g"),i=N("circle"),l=N("path"),o=N("animateTransform"),k(i,"stroke-opacity",".5"),k(i,"cx","16"),k(i,"cy","16"),k(i,"r","16"),k(o,"attributeName","transform"),k(o,"type","rotate"),k(o,"from","0 16 16"),k(o,"to","360 16 16"),k(o,"dur","1s"),k(o,"repeatCount","indefinite"),k(l,"d","M32 16c0-9.94-8.06-16-16-16"),k(n,"transform","translate(2.5 2.5)"),k(n,"stroke-width","5"),k(r,"fill","none"),k(r,"fill-rule","evenodd"),k(e,"width",a=`${t[1]}px`),k(e,"height",s=`${t[1]}px`),k(e,"viewBox","0 0 38 38"),k(e,"xmlns","http://www.w3.org/2000/svg"),k(e,"stroke",t[2]),k(e,"class",t[3])},m(h,g){M(h,e,g),V(e,r),V(r,n),V(n,i),V(n,l),V(l,o),c||(f=Ut(u=st.call(null,e,t[0])),c=!0)},p(h,[g]){g&2&&a!==(a=`${h[1]}px`)&&k(e,"width",a),g&2&&s!==(s=`${h[1]}px`)&&k(e,"height",s),g&4&&k(e,"stroke",h[2]),g&8&&k(e,"class",h[3]),u&&tr(u.update)&&g&1&&u.update.call(null,h[0])},i:A,o:A,d(h){h&&E(e),c=!1,f()}}}function XB(t,e,r){let{use:n=[]}=e,{size:i=25}=e,{color:l="blue"}=e,{class:o=""}=e;return t.$$set=a=>{"use"in a&&r(0,n=a.use),"size"in a&&r(1,i=a.size),"color"in a&&r(2,l=a.color),"class"in a&&r(3,o=a.class)},[n,i,l,o]}var K8=class extends R{constructor(e){super(),O(this,e,XB,KB,B,{use:0,size:1,color:2,class:3})}},yb=K8;function QB(t){let e,r,n,i,l,o,a,s,u,c,f,h,g,p,w,b,v,S,P,Z;return{c(){e=N("svg"),r=N("rect"),n=N("animate"),i=N("animate"),l=N("rect"),o=N("animate"),a=N("animate"),s=N("rect"),u=N("animate"),c=N("animate"),f=N("rect"),h=N("animate"),g=N("animate"),p=N("rect"),w=N("animate"),b=N("animate"),k(n,"attributeName","height"),k(n,"begin","0.5s"),k(n,"dur","1s"),k(n,"values","120;110;100;90;80;70;60;50;40;140;120"),k(n,"calcMode","linear"),k(n,"repeatCount","indefinite"),k(i,"attributeName","y"),k(i,"begin","0.5s"),k(i,"dur","1s"),k(i,"values","10;15;20;25;30;35;40;45;50;0;10"),k(i,"calcMode","linear"),k(i,"repeatCount","indefinite"),k(r,"y","10"),k(r,"width","15"),k(r,"height","120"),k(r,"rx","6"),k(o,"attributeName","height"),k(o,"begin","0.25s"),k(o,"dur","1s"),k(o,"values","120;110;100;90;80;70;60;50;40;140;120"),k(o,"calcMode","linear"),k(o,"repeatCount","indefinite"),k(a,"attributeName","y"),k(a,"begin","0.25s"),k(a,"dur","1s"),k(a,"values","10;15;20;25;30;35;40;45;50;0;10"),k(a,"calcMode","linear"),k(a,"repeatCount","indefinite"),k(l,"x","30"),k(l,"y","10"),k(l,"width","15"),k(l,"height","120"),k(l,"rx","6"),k(u,"attributeName","height"),k(u,"begin","0s"),k(u,"dur","1s"),k(u,"values","120;110;100;90;80;70;60;50;40;140;120"),k(u,"calcMode","linear"),k(u,"repeatCount","indefinite"),k(c,"attributeName","y"),k(c,"begin","0s"),k(c,"dur","1s"),k(c,"values","10;15;20;25;30;35;40;45;50;0;10"),k(c,"calcMode","linear"),k(c,"repeatCount","indefinite"),k(s,"x","60"),k(s,"width","15"),k(s,"height","140"),k(s,"rx","6"),k(h,"attributeName","height"),k(h,"begin","0.25s"),k(h,"dur","1s"),k(h,"values","120;110;100;90;80;70;60;50;40;140;120"),k(h,"calcMode","linear"),k(h,"repeatCount","indefinite"),k(g,"attributeName","y"),k(g,"begin","0.25s"),k(g,"dur","1s"),k(g,"values","10;15;20;25;30;35;40;45;50;0;10"),k(g,"calcMode","linear"),k(g,"repeatCount","indefinite"),k(f,"x","90"),k(f,"y","10"),k(f,"width","15"),k(f,"height","120"),k(f,"rx","6"),k(w,"attributeName","height"),k(w,"begin","0.5s"),k(w,"dur","1s"),k(w,"values","120;110;100;90;80;70;60;50;40;140;120"),k(w,"calcMode","linear"),k(w,"repeatCount","indefinite"),k(b,"attributeName","y"),k(b,"begin","0.5s"),k(b,"dur","1s"),k(b,"values","10;15;20;25;30;35;40;45;50;0;10"),k(b,"calcMode","linear"),k(b,"repeatCount","indefinite"),k(p,"x","120"),k(p,"y","10"),k(p,"width","15"),k(p,"height","120"),k(p,"rx","6"),k(e,"viewBox","0 0 135 140"),k(e,"xmlns","http://www.w3.org/2000/svg"),k(e,"fill",t[2]),k(e,"width",v=`${t[1]}px`),k(e,"class",t[3])},m(y,W){M(y,e,W),V(e,r),V(r,n),V(r,i),V(e,l),V(l,o),V(l,a),V(e,s),V(s,u),V(s,c),V(e,f),V(f,h),V(f,g),V(e,p),V(p,w),V(p,b),P||(Z=Ut(S=st.call(null,e,t[0])),P=!0)},p(y,[W]){W&4&&k(e,"fill",y[2]),W&2&&v!==(v=`${y[1]}px`)&&k(e,"width",v),W&8&&k(e,"class",y[3]),S&&tr(S.update)&&W&1&&S.update.call(null,y[0])},i:A,o:A,d(y){y&&E(e),P=!1,Z()}}}function xB(t,e,r){let{use:n=[]}=e,{size:i=25}=e,{color:l="blue"}=e,{class:o=""}=e;return t.$$set=a=>{"use"in a&&r(0,n=a.use),"size"in a&&r(1,i=a.size),"color"in a&&r(2,l=a.color),"class"in a&&r(3,o=a.class)},[n,i,l,o]}var X8=class extends R{constructor(e){super(),O(this,e,xB,QB,B,{use:0,size:1,color:2,class:3})}},Lb=X8;function $B(t){let e,r,n,i,l,o,a,s,u,c,f,h,g,p,w;return{c(){e=N("svg"),r=N("circle"),n=N("animate"),i=N("animate"),l=N("circle"),o=N("animate"),a=N("animate"),s=N("circle"),u=N("animate"),c=N("animate"),k(n,"attributeName","r"),k(n,"from","15"),k(n,"to","15"),k(n,"begin","0s"),k(n,"dur","0.8s"),k(n,"values","15;9;15"),k(n,"calcMode","linear"),k(n,"repeatCount","indefinite"),k(i,"attributeName","fill-opacity"),k(i,"from","1"),k(i,"to","1"),k(i,"begin","0s"),k(i,"dur","0.8s"),k(i,"values","1;.5;1"),k(i,"calcMode","linear"),k(i,"repeatCount","indefinite"),k(r,"cx","15"),k(r,"cy","15"),k(r,"r","15"),k(o,"attributeName","r"),k(o,"from","9"),k(o,"to","9"),k(o,"begin","0s"),k(o,"dur","0.8s"),k(o,"values","9;15;9"),k(o,"calcMode","linear"),k(o,"repeatCount","indefinite"),k(a,"attributeName","fill-opacity"),k(a,"from","0.5"),k(a,"to","0.5"),k(a,"begin","0s"),k(a,"dur","0.8s"),k(a,"values",".5;1;.5"),k(a,"calcMode","linear"),k(a,"repeatCount","indefinite"),k(l,"cx","60"),k(l,"cy","15"),k(l,"r","9"),k(l,"fill-opacity","0.3"),k(u,"attributeName","r"),k(u,"from","15"),k(u,"to","15"),k(u,"begin","0s"),k(u,"dur","0.8s"),k(u,"values","15;9;15"),k(u,"calcMode","linear"),k(u,"repeatCount","indefinite"),k(c,"attributeName","fill-opacity"),k(c,"from","1"),k(c,"to","1"),k(c,"begin","0s"),k(c,"dur","0.8s"),k(c,"values","1;.5;1"),k(c,"calcMode","linear"),k(c,"repeatCount","indefinite"),k(s,"cx","105"),k(s,"cy","15"),k(s,"r","15"),k(e,"width",f=`${t[1]}px`),k(e,"height",h=`${Number(t[1])/4}px`),k(e,"viewBox","0 0 120 30"),k(e,"xmlns","http://www.w3.org/2000/svg"),k(e,"fill",t[2]),k(e,"class",t[3])},m(b,v){M(b,e,v),V(e,r),V(r,n),V(r,i),V(e,l),V(l,o),V(l,a),V(e,s),V(s,u),V(s,c),p||(w=Ut(g=st.call(null,e,t[0])),p=!0)},p(b,[v]){v&2&&f!==(f=`${b[1]}px`)&&k(e,"width",f),v&2&&h!==(h=`${Number(b[1])/4}px`)&&k(e,"height",h),v&4&&k(e,"fill",b[2]),v&8&&k(e,"class",b[3]),g&&tr(g.update)&&v&1&&g.update.call(null,b[0])},i:A,o:A,d(b){b&&E(e),p=!1,w()}}}function eO(t,e,r){let{use:n=[]}=e,{size:i=25}=e,{color:l="blue"}=e,{class:o=""}=e;return t.$$set=a=>{"use"in a&&r(0,n=a.use),"size"in a&&r(1,i=a.size),"color"in a&&r(2,l=a.color),"class"in a&&r(3,o=a.class)},[n,i,l,o]}var Q8=class extends R{constructor(e){super(),O(this,e,eO,$B,B,{use:0,size:1,color:2,class:3})}},Eb=Q8;var ac={xs:18,sm:22,md:36,lg:44,xl:58},sc=(t,e=!1)=>Xu.colors[e?`${t}400`:`${t}600`].value;function tO(t){let e,r,n,i=[{use:[t[5],[st,t[1]]]},{color:t[4]==="white"?"white":sc(t[4])},{size:ac[t[3]]||t[3]},{class:t[2]},t[8]];var l=t[6][t[7]];function o(a,s){let u={};for(let c=0;c<i.length;c+=1)u=H(u,i[c]);return s!==void 0&&s&318&&(u=H(u,I(i,[s&34&&{use:[a[5],[st,a[1]]]},s&16&&{color:a[4]==="white"?"white":sc(a[4])},s&8&&{size:ac[a[3]]||a[3]},s&4&&{class:a[2]},s&256&&Ie(a[8])]))),{props:u}}return l&&(e=Lr(l,o(t)),t[10](e)),{c(){e&&_e(e.$$.fragment),r=U()},m(a,s){e&&me(e,a,s),M(a,r,s),n=!0},p(a,[s]){if(l!==(l=a[6][a[7]])){if(e){Qe();let u=e;ne(u.$$.fragment,1,0,()=>{ge(u,1)}),xe()}l?(e=Lr(l,o(a,s)),a[10](e),_e(e.$$.fragment),te(e.$$.fragment,1),me(e,r.parentNode,r)):e=null}else if(l){let u=s&318?I(i,[s&34&&{use:[a[5],[st,a[1]]]},s&16&&{color:a[4]==="white"?"white":sc(a[4])},s&8&&{size:ac[a[3]]||a[3]},s&4&&{class:a[2]},s&256&&Ie(a[8])]):{};e.$set(u)}},i(a){n||(e&&te(e.$$.fragment,a),n=!0)},o(a){e&&ne(e.$$.fragment,a),n=!1},d(a){a&&E(r),t[10](null),e&&ge(e,a)}}}function rO(t,e,r){let n=["use","element","class","size","color","variant"],i=D(e,n),{use:l=[],element:o=void 0,class:a="",size:s="md",color:u="blue",variant:c="circle"}=e,f=Er(Nt()),h={bars:Lb,circle:yb,dots:Eb},g=c in h?c:"circle";function p(w){ze[w?"unshift":"push"](()=>{o=w,r(0,o)})}return t.$$set=w=>{e=H(H({},e),j(w)),r(8,i=D(e,n)),"use"in w&&r(1,l=w.use),"element"in w&&r(0,o=w.element),"class"in w&&r(2,a=w.class),"size"in w&&r(3,s=w.size),"color"in w&&r(4,u=w.color),"variant"in w&&r(9,c=w.variant)},[o,l,a,s,u,f,h,g,i,c,p]}var x8=class extends R{constructor(e){super(),O(this,e,rO,tO,B,{use:1,element:0,class:2,size:3,color:4,variant:9})}},C1=x8;function nO(t){Ti(t,"svelte-3pkhve",`.ripple.svelte-3pkhve{display:block;position:absolute;top:0;left:0;right:0;bottom:0;overflow:hidden;border-radius:inherit;color:inherit;pointer-events:none;z-index:0;contain:strict}.ripple.svelte-3pkhve .animation{color:inherit;position:absolute;top:0;left:0;border-radius:50%;opacity:0;pointer-events:none;overflow:hidden;will-change:transform, opacity}.ripple.svelte-3pkhve .animation-enter{transition:none}.ripple.svelte-3pkhve .animation-in{transition:opacity 0.1s cubic-bezier(0.4, 0, 0.2, 1);transition:transform 0.25s cubic-bezier(0.4, 0, 0.2, 1),
			opacity 0.1s cubic-bezier(0.4, 0, 0.2, 1)}.ripple.svelte-3pkhve .animation-out{transition:opacity 0.3s cubic-bezier(0.4, 0, 0.2, 1)}`)}function iO(t){let e;return{c(){e=Be("div"),k(e,"class","ripple svelte-3pkhve")},m(r,n){M(r,e,n),t[4](e)},p:A,i:A,o:A,d(r){r&&E(e),t[4](null)}}}function lO(t){return t.constructor.name==="TouchEvent"}function Sb(t,e){t.style.transform=e,t.style.webkitTransform=e}function $8(t,e){t.style.opacity=e.toString()}var oO=(t,e)=>{let r=e.getBoundingClientRect(),n=lO(t)?t.touches[t.touches.length-1]:t,i=n.clientX-r.left,l=n.clientY-r.top,o=0,a=.3,s=e.dataset.center;e.dataset.circle?(a=.15,o=e.clientWidth/2,o=s?o:o+Math.sqrt((i-o)**2+(l-o)**2)/4):o=Math.sqrt(e.clientWidth**2+e.clientHeight**2)/2;let c=`${(e.clientWidth-o*2)/2}px`,f=`${(e.clientHeight-o*2)/2}px`,h=s?c:`${i-o}px`,g=s?f:`${l-o}px`;return{radius:o,scale:a,x:h,y:g,centerX:c,centerY:f}},zb=function(t,e){let r=["touchcancel","mouseleave","dragstart"],n=e.currentTarget||e.target;if(n&&!n.classList.contains("ripple")&&(n=n.querySelector(".ripple")),!n)return;let i=n.dataset.event;if(i&&i!==t)return;n.dataset.event=t;let l=document.createElement("span"),{radius:o,scale:a,x:s,y:u,centerX:c,centerY:f}=oO(e,n),h=n.dataset.color,g=`${o*2}px`;l.className="animation",l.style.width=g,l.style.height=g,l.style.background=h,l.classList.add("animation-enter"),l.classList.add("animation--visible"),Sb(l,`translate(${s}, ${u}) scale3d(${a},${a},${a})`),$8(l,0),l.dataset.activated=String(performance.now()),n.appendChild(l),setTimeout(()=>{l.classList.remove("animation-enter"),l.classList.add("animation-in"),Sb(l,`translate(${c}, ${f}) scale3d(1,1,1)`),$8(l,.25)},0);let p=t==="mousedown"?"mouseup":"touchend",w=function(){document.removeEventListener(p,w),r.forEach(S=>{document.removeEventListener(S,w)});let b=performance.now()-Number(l.dataset.activated),v=Math.max(250-b,0);setTimeout(()=>{l.classList.remove("animation-in"),l.classList.add("animation-out"),$8(l,0),setTimeout(()=>{l&&n.removeChild(l),n.children.length===0&&delete n.dataset.event},300)},v)};document.addEventListener(p,w),r.forEach(b=>{document.addEventListener(b,w,{passive:!0})})},Mb=function(t){t.button===0&&zb(t.type,t)},Tb=function(t){if(t.changedTouches)for(let e=0;e<t.changedTouches.length;++e)zb(t.type,t.changedTouches[e])};function aO(t,e,r){let{center:n=!1}=e,{circle:i=!1}=e,{color:l="currentColor"}=e,o,a;El(async()=>{await qu();try{n&&r(0,o.dataset.center="true",o),i&&r(0,o.dataset.circle="true",o),r(0,o.dataset.color=l,o),a=o.parentElement}catch(c){}if(!a){console.error("Ripple: Trigger element not found.");return}let u=window.getComputedStyle(a);(u.position.length===0||u.position==="static")&&(a.style.position="relative"),a.addEventListener("touchstart",Tb,{passive:!0}),a.addEventListener("mousedown",Mb,{passive:!0})}),Ma(()=>{a&&(a.removeEventListener("mousedown",Mb),a.removeEventListener("touchstart",Tb))});function s(u){ze[u?"unshift":"push"](()=>{o=u,r(0,o)})}return t.$$set=u=>{"center"in u&&r(1,n=u.center),"circle"in u&&r(2,i=u.circle),"color"in u&&r(3,l=u.color)},[o,n,i,l,s]}var ed=class extends R{constructor(e){super(),O(this,e,aO,iO,B,{center:1,circle:2,color:3},nO)}},td=ed;function sO(t){Ti(t,"svelte-5xpm5q",".uppercase.svelte-5xpm5q{text-transform:uppercase}.left-section.svelte-5xpm5q{margin-right:10px;display:flex;align-items:center;justify-content:center}.right-section.svelte-5xpm5q{margin-left:10px;display:flex;align-items:center;justify-content:center}")}var uO=t=>({}),Hb=t=>({}),cO=t=>({}),Pb=t=>({}),fO=t=>({}),Ab=t=>({}),hO=t=>({}),Rb=t=>({});function dO(t){let e,r,n,i,l,o,a,s,u,c,f,h,g,p,w=[_O,gO],b=[];function v($,ee){return $[11]&&$[5]==="left"?0:$[21].leftIcon?1:-1}~(r=v(t,-1))&&(n=b[r]=w[r](t));let S=t[28].default,P=Ye(S,t,t[27],null),Z=P||CO(t),y=t[13]&&Bb(t),W=[vO,bO],X=[];function x($,ee){return $[11]&&$[5]==="right"?0:$[21].rightIcon?1:-1}~(a=x(t,-1))&&(s=X[a]=W[a](t));let le=[{class:u=t[18](t[3],t[17].root,t[16]({css:t[1],variation:t[4]}),{[t[17].disabled]:t[9],[t[17].loading]:t[11]})},{disabled:t[9]},t[20],{tabindex:"0"}],oe={};for(let $=0;$<le.length;$+=1)oe=H(oe,le[$]);return{c(){e=Be("button"),n&&n.c(),i=Ze(),Z&&Z.c(),l=Ze(),y&&y.c(),o=Ze(),s&&s.c(),kr(e,oe),Pr(e,"compact",t[10]),Pr(e,"uppercase",t[12]),Pr(e,"svelte-5xpm5q",!0)},m($,ee){M($,e,ee),~r&&b[r].m(e,null),V(e,i),Z&&Z.m(e,null),V(e,l),y&&y.m(e,null),V(e,o),~a&&X[a].m(e,null),e.autofocus&&e.focus(),t[30](e),h=!0,g||(p=[Ut(c=st.call(null,e,t[2])),Ut(f=t[19].call(null,e))],g=!0)},p($,ee){let ce=r;r=v($,ee),r===ce?~r&&b[r].p($,ee):(n&&(Qe(),ne(b[ce],1,1,()=>{b[ce]=null}),xe()),~r?(n=b[r],n?n.p($,ee):(n=b[r]=w[r]($),n.c()),te(n,1),n.m(e,i)):n=null),P&&P.p&&(!h||ee&134217728)&&Je(P,S,$,$[27],h?Ge(S,$[27],ee,null):Ke($[27]),null),$[13]?y?ee&8192&&te(y,1):(y=Bb($),y.c(),te(y,1),y.m(e,o)):y&&(Qe(),ne(y,1,1,()=>{y=null}),xe());let Te=a;a=x($,ee),a===Te?~a&&X[a].p($,ee):(s&&(Qe(),ne(X[Te],1,1,()=>{X[Te]=null}),xe()),~a?(s=X[a],s?s.p($,ee):(s=X[a]=W[a]($),s.c()),te(s,1),s.m(e,null)):s=null),kr(e,oe=I(le,[(!h||ee&461338&&u!==(u=$[18]($[3],$[17].root,$[16]({css:$[1],variation:$[4]}),{[$[17].disabled]:$[9],[$[17].loading]:$[11]})))&&{class:u},(!h||ee&512)&&{disabled:$[9]},ee&1048576&&$[20],{tabindex:"0"}])),c&&tr(c.update)&&ee&4&&c.update.call(null,$[2]),Pr(e,"compact",$[10]),Pr(e,"uppercase",$[12]),Pr(e,"svelte-5xpm5q",!0)},i($){h||(te(n),te(Z,$),te(y),te(s),h=!0)},o($){ne(n),ne(Z,$),ne(y),ne(s),h=!1},d($){$&&E(e),~r&&b[r].d(),Z&&Z.d($),y&&y.d(),~a&&X[a].d(),t[30](null),g=!1,G(p)}}}function mO(t){let e,r,n,i,l,o,a,s,u,c,f,h,g,p,w,b=[yO,kO],v=[];function S(ee,ce){return ee[11]&&ee[5]==="left"?0:ee[21].leftIcon?1:-1}~(r=S(t,-1))&&(n=v[r]=b[r](t));let P=t[28].default,Z=Ye(P,t,t[27],null),y=Z||EO(t),W=t[13]&&Ob(t),X=[MO,SO],x=[];function le(ee,ce){return ee[11]&&ee[5]==="right"?0:ee[21].rightIcon?1:-1}~(a=le(t,-1))&&(s=x[a]=X[a](t));let oe=[{href:t[7]},{class:u=t[18](t[3],t[17].root,t[16]({css:t[1],variation:t[4],disabled:t[9]}),{[t[17].disabled]:t[9],[t[17].loading]:t[11]})},{role:"button"},{rel:"noreferrer noopener"},{target:c=t[8]?"_blank":""},t[20],{tabindex:"0"}],$={};for(let ee=0;ee<oe.length;ee+=1)$=H($,oe[ee]);return{c(){e=Be("a"),n&&n.c(),i=Ze(),y&&y.c(),l=Ze(),W&&W.c(),o=Ze(),s&&s.c(),kr(e,$),Pr(e,"compact",t[10]),Pr(e,"uppercase",t[12]),Pr(e,"svelte-5xpm5q",!0)},m(ee,ce){M(ee,e,ce),~r&&v[r].m(e,null),V(e,i),y&&y.m(e,null),V(e,l),W&&W.m(e,null),V(e,o),~a&&x[a].m(e,null),t[29](e),g=!0,p||(w=[Ut(f=st.call(null,e,t[2])),Ut(h=t[19].call(null,e))],p=!0)},p(ee,ce){let Te=r;r=S(ee,ce),r===Te?~r&&v[r].p(ee,ce):(n&&(Qe(),ne(v[Te],1,1,()=>{v[Te]=null}),xe()),~r?(n=v[r],n?n.p(ee,ce):(n=v[r]=b[r](ee),n.c()),te(n,1),n.m(e,i)):n=null),Z&&Z.p&&(!g||ce&134217728)&&Je(Z,P,ee,ee[27],g?Ge(P,ee[27],ce,null):Ke(ee[27]),null),ee[13]?W?ce&8192&&te(W,1):(W=Ob(ee),W.c(),te(W,1),W.m(e,o)):W&&(Qe(),ne(W,1,1,()=>{W=null}),xe());let Pe=a;a=le(ee,ce),a===Pe?~a&&x[a].p(ee,ce):(s&&(Qe(),ne(x[Pe],1,1,()=>{x[Pe]=null}),xe()),~a?(s=x[a],s?s.p(ee,ce):(s=x[a]=X[a](ee),s.c()),te(s,1),s.m(e,null)):s=null),kr(e,$=I(oe,[(!g||ce&128)&&{href:ee[7]},(!g||ce&461338&&u!==(u=ee[18](ee[3],ee[17].root,ee[16]({css:ee[1],variation:ee[4],disabled:ee[9]}),{[ee[17].disabled]:ee[9],[ee[17].loading]:ee[11]})))&&{class:u},{role:"button"},{rel:"noreferrer noopener"},(!g||ce&256&&c!==(c=ee[8]?"_blank":""))&&{target:c},ce&1048576&&ee[20],{tabindex:"0"}])),f&&tr(f.update)&&ce&4&&f.update.call(null,ee[2]),Pr(e,"compact",ee[10]),Pr(e,"uppercase",ee[12]),Pr(e,"svelte-5xpm5q",!0)},i(ee){g||(te(n),te(y,ee),te(W),te(s),g=!0)},o(ee){ne(n),ne(y,ee),ne(W),ne(s),g=!1},d(ee){ee&&E(e),~r&&v[r].d(),y&&y.d(ee),W&&W.d(),~a&&x[a].d(),t[29](null),p=!1,G(w)}}}function gO(t){let e,r,n=t[28].leftIcon,i=Ye(n,t,t[27],Pb),l=i||pO(t);return{c(){e=Be("span"),l&&l.c(),k(e,"class","left-section svelte-5xpm5q")},m(o,a){M(o,e,a),l&&l.m(e,null),r=!0},p(o,a){i&&i.p&&(!r||a&134217728)&&Je(i,n,o,o[27],r?Ge(n,o[27],a,cO):Ke(o[27]),Pb)},i(o){r||(te(l,o),r=!0)},o(o){ne(l,o),r=!1},d(o){o&&E(e),l&&l.d(o)}}}function _O(t){let e,r,n;return r=new C1({props:{variant:t[6].variant,size:t[6].size,color:t[6].color}}),{c(){e=Be("span"),_e(r.$$.fragment),k(e,"class","left-section svelte-5xpm5q")},m(i,l){M(i,e,l),me(r,e,null),n=!0},p(i,l){let o={};l&64&&(o.variant=i[6].variant),l&64&&(o.size=i[6].size),l&64&&(o.color=i[6].color),r.$set(o)},i(i){n||(te(r.$$.fragment,i),n=!0)},o(i){ne(r.$$.fragment,i),n=!1},d(i){i&&E(e),ge(r)}}}function pO(t){let e;return{c(){e=ht("X")},m(r,n){M(r,e,n)},d(r){r&&E(e)}}}function CO(t){let e;return{c(){e=ht("Button")},m(r,n){M(r,e,n)},d(r){r&&E(e)}}}function Bb(t){let e,r;return e=new td({props:{center:!1,circle:!1}}),{c(){_e(e.$$.fragment)},m(n,i){me(e,n,i),r=!0},i(n){r||(te(e.$$.fragment,n),r=!0)},o(n){ne(e.$$.fragment,n),r=!1},d(n){ge(e,n)}}}function bO(t){let e,r,n=t[28].rightIcon,i=Ye(n,t,t[27],Hb),l=i||wO(t);return{c(){e=Be("span"),l&&l.c(),k(e,"class","right-section svelte-5xpm5q")},m(o,a){M(o,e,a),l&&l.m(e,null),r=!0},p(o,a){i&&i.p&&(!r||a&134217728)&&Je(i,n,o,o[27],r?Ge(n,o[27],a,uO):Ke(o[27]),Hb)},i(o){r||(te(l,o),r=!0)},o(o){ne(l,o),r=!1},d(o){o&&E(e),l&&l.d(o)}}}function vO(t){let e,r,n;return r=new C1({props:{variant:t[6].variant,size:t[6].size,color:t[6].color}}),{c(){e=Be("span"),_e(r.$$.fragment),k(e,"class","right-section svelte-5xpm5q")},m(i,l){M(i,e,l),me(r,e,null),n=!0},p(i,l){let o={};l&64&&(o.variant=i[6].variant),l&64&&(o.size=i[6].size),l&64&&(o.color=i[6].color),r.$set(o)},i(i){n||(te(r.$$.fragment,i),n=!0)},o(i){ne(r.$$.fragment,i),n=!1},d(i){i&&E(e),ge(r)}}}function wO(t){let e;return{c(){e=ht("X")},m(r,n){M(r,e,n)},d(r){r&&E(e)}}}function kO(t){let e,r,n=t[28].leftIcon,i=Ye(n,t,t[27],Rb),l=i||LO(t);return{c(){e=Be("span"),l&&l.c(),k(e,"class","left-section svelte-5xpm5q")},m(o,a){M(o,e,a),l&&l.m(e,null),r=!0},p(o,a){i&&i.p&&(!r||a&134217728)&&Je(i,n,o,o[27],r?Ge(n,o[27],a,hO):Ke(o[27]),Rb)},i(o){r||(te(l,o),r=!0)},o(o){ne(l,o),r=!1},d(o){o&&E(e),l&&l.d(o)}}}function yO(t){let e,r,n;return r=new C1({props:{variant:t[6].variant,size:t[6].size,color:t[6].color}}),{c(){e=Be("span"),_e(r.$$.fragment),k(e,"class","left-section svelte-5xpm5q")},m(i,l){M(i,e,l),me(r,e,null),n=!0},p(i,l){let o={};l&64&&(o.variant=i[6].variant),l&64&&(o.size=i[6].size),l&64&&(o.color=i[6].color),r.$set(o)},i(i){n||(te(r.$$.fragment,i),n=!0)},o(i){ne(r.$$.fragment,i),n=!1},d(i){i&&E(e),ge(r)}}}function LO(t){let e;return{c(){e=ht("X")},m(r,n){M(r,e,n)},d(r){r&&E(e)}}}function EO(t){let e;return{c(){e=ht("Button")},m(r,n){M(r,e,n)},d(r){r&&E(e)}}}function Ob(t){let e,r;return e=new td({props:{center:!1,circle:!1}}),{c(){_e(e.$$.fragment)},m(n,i){me(e,n,i),r=!0},i(n){r||(te(e.$$.fragment,n),r=!0)},o(n){ne(e.$$.fragment,n),r=!1},d(n){ge(e,n)}}}function SO(t){let e,r,n=t[28].rightIcon,i=Ye(n,t,t[27],Ab),l=i||TO(t);return{c(){e=Be("span"),l&&l.c(),k(e,"class","right-section svelte-5xpm5q")},m(o,a){M(o,e,a),l&&l.m(e,null),r=!0},p(o,a){i&&i.p&&(!r||a&134217728)&&Je(i,n,o,o[27],r?Ge(n,o[27],a,fO):Ke(o[27]),Ab)},i(o){r||(te(l,o),r=!0)},o(o){ne(l,o),r=!1},d(o){o&&E(e),l&&l.d(o)}}}function MO(t){let e,r,n;return r=new C1({props:{variant:t[6].variant,size:t[6].size,color:t[6].color}}),{c(){e=Be("span"),_e(r.$$.fragment),k(e,"class","right-section svelte-5xpm5q")},m(i,l){M(i,e,l),me(r,e,null),n=!0},p(i,l){let o={};l&64&&(o.variant=i[6].variant),l&64&&(o.size=i[6].size),l&64&&(o.color=i[6].color),r.$set(o)},i(i){n||(te(r.$$.fragment,i),n=!0)},o(i){ne(r.$$.fragment,i),n=!1},d(i){i&&E(e),ge(r)}}}function TO(t){let e;return{c(){e=ht("X")},m(r,n){M(r,e,n)},d(r){r&&E(e)}}}function zO(t){let e,r,n,i,l,o;e=new Ho({props:{observable:t[14],component:"Button",code:t[15]}});let a=[mO,dO],s=[];function u(c,f){return c[7]?0:1}return n=u(t,-1),i=s[n]=a[n](t),{c(){_e(e.$$.fragment),r=Ze(),i.c(),l=U()},m(c,f){me(e,c,f),M(c,r,f),s[n].m(c,f),M(c,l,f),o=!0},p(c,[f]){let h={};f&16384&&(h.observable=c[14]),f&32768&&(h.code=c[15]),e.$set(h);let g=n;n=u(c,f),n===g?s[n].p(c,f):(Qe(),ne(s[g],1,1,()=>{s[g]=null}),xe(),i=s[n],i?i.p(c,f):(i=s[n]=a[n](c),i.c()),te(i,1),i.m(l.parentNode,l))},i(c){o||(te(e.$$.fragment,c),te(i),o=!0)},o(c){ne(e.$$.fragment,c),ne(i),o=!1},d(c){c&&(E(r),E(l)),ge(e,c),s[n].d(c)}}}function HO(t,e,r){let n,i,l,o=["use","element","class","override","variant","color","size","radius","gradient","loaderPosition","loaderProps","href","external","disabled","compact","loading","uppercase","fullSize","ripple"],a=D(e,o),{$$slots:s={},$$scope:u}=e,c=B0(s),{use:f=[],element:h=void 0,class:g="",override:p={},variant:w="filled",color:b="blue",size:v="sm",radius:S="sm",gradient:P={from:"indigo",to:"cyan",deg:45},loaderPosition:Z="left",loaderProps:y={size:"xs",color:"white",variant:"circle"},href:W=null,external:X=!1,disabled:x=!1,compact:le=!1,loading:oe=!1,uppercase:$=!1,fullSize:ee=!1,ripple:ce=!1}=e,Te=Er(Nt()),Pe=!1,pe;x&&oe&&(Pe=!0,pe=J8[0]),(X&&typeof W!="string"||(W==null?void 0:W.length)<1)&&(Pe=!0,pe=J8[1]);function et(ye){ze[ye?"unshift":"push"](()=>{h=ye,r(0,h)})}function we(ye){ze[ye?"unshift":"push"](()=>{h=ye,r(0,h)})}return t.$$set=ye=>{e=H(H({},e),j(ye)),r(20,a=D(e,o)),"use"in ye&&r(2,f=ye.use),"element"in ye&&r(0,h=ye.element),"class"in ye&&r(3,g=ye.class),"override"in ye&&r(1,p=ye.override),"variant"in ye&&r(4,w=ye.variant),"color"in ye&&r(22,b=ye.color),"size"in ye&&r(23,v=ye.size),"radius"in ye&&r(24,S=ye.radius),"gradient"in ye&&r(25,P=ye.gradient),"loaderPosition"in ye&&r(5,Z=ye.loaderPosition),"loaderProps"in ye&&r(6,y=ye.loaderProps),"href"in ye&&r(7,W=ye.href),"external"in ye&&r(8,X=ye.external),"disabled"in ye&&r(9,x=ye.disabled),"compact"in ye&&r(10,le=ye.compact),"loading"in ye&&r(11,oe=ye.loading),"uppercase"in ye&&r(12,$=ye.uppercase),"fullSize"in ye&&r(26,ee=ye.fullSize),"ripple"in ye&&r(13,ce=ye.ripple),"$$scope"in ye&&r(27,u=ye.$$scope)},t.$$.update=()=>{t.$$.dirty&16384&&Pe&&r(1,p={display:"none"}),t.$$.dirty&130024464&&r(18,{cx:n,classes:i,getStyles:l}=kb({color:b,compact:le,fullSize:ee,gradient:P,radius:S,size:v,variant:w},{name:"Button"}),n,(r(17,i),r(22,b),r(10,le),r(26,ee),r(25,P),r(24,S),r(23,v),r(4,w)),(r(16,l),r(22,b),r(10,le),r(26,ee),r(25,P),r(24,S),r(23,v),r(4,w)))},[h,p,f,g,w,Z,y,W,X,x,le,oe,$,ce,Pe,pe,l,i,n,Te,a,c,b,v,S,P,ee,u,s,et,we]}var rd=class extends R{constructor(e){super(),O(this,e,HO,zO,B,{use:2,element:0,class:3,override:1,variant:4,color:22,size:23,radius:24,gradient:25,loaderPosition:5,loaderProps:6,href:7,external:8,disabled:9,compact:10,loading:11,uppercase:12,fullSize:26,ripple:13},sO)}},uc=rd;var cc={xs:18,sm:22,md:28,lg:34,xl:44};function PO(t){let{themeColor:e}=r1;return{...Ml(t),hover:{[`${Pt.selector} &`]:{color:e(t,2),"&:hover":{backgroundColor:e("dark",8)}},border:"1px solid transparent",backgroundColor:"transparent",color:e(t,7),"&:hover":{backgroundColor:e(t)}},transparent:{[`${Pt.selector} &`]:{color:e(t,8),"&:hover":{backgroundColor:null}},border:"1px solid transparent",backgroundColor:"transparent",color:e(t,7),"&:hover":{backgroundColor:null}}}}var Vb=kt((t,{color:e,radius:r,size:n})=>({root:{focusRing:"auto",position:"relative",appearance:"none",WebkitAppearance:"none",WebkitTapHighlightColor:"transparent",boxSizing:"border-box",height:typeof n=="string"?cc[n]:`${n}px`,minHeight:typeof n=="string"?cc[n]:`${n}px`,width:typeof n=="string"?cc[n]:`${n}px`,minWidth:typeof n=="string"?cc[n]:`${n}px`,borderRadius:`$${r}`,padding:0,lineHeight:1,display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",textDecoration:"none","&:not(:disabled):active":{transform:"translateY(1px)"},"&:disabled":{pointerEvents:"none",borderColor:"transparent",background:t.fn.themeColor("gray",2),backgroundColor:t.fn.themeColor("gray",2),color:t.fn.themeColor("gray",5),cursor:"not-allowed",darkMode:{borderColor:"transparent",backgroundColor:t.fn.themeColor("dark",4),color:t.fn.themeColor("dark",6)}}},loading:{pointerEvents:"none","&::before":{content:'""',position:"absolute",top:-1,left:-1,right:-1,bottom:-1,backgroundColor:"rgba(255, 255, 255, .5)",borderRadius:`$${r}`,cursor:"not-allowed"}},variants:{variation:PO(e)}}));var Zb=Object.freeze([{error:!0,message:"If using the 'href' prop, set 'root' prop to an anchor ('a') tag",solution:`
                If your component looks like this:

                &lt;ActionIcon href='https://example.com'&gt;
                          ^^^ - Try adding prop root='a'
                       &lt;Icon /&gt;
                &lt;/ActionIcon&gt;
                `}]);function AO(t){let e,r=t[21].default,n=Ye(r,t,t[23],null),i=n||BO(t);return{c(){i&&i.c()},m(l,o){i&&i.m(l,o),e=!0},p(l,o){n&&n.p&&(!e||o&8388608)&&Je(n,r,l,l[23],e?Ge(r,l[23],o,null):Ke(l[23]),null)},i(l){e||(te(i,l),e=!0)},o(l){ne(i,l),e=!1},d(l){i&&i.d(l)}}}function RO(t){let e,r;return e=new C1({props:{size:t[6].size,color:t[6].color,variant:t[6].variant}}),{c(){_e(e.$$.fragment)},m(n,i){me(e,n,i),r=!0},p(n,i){let l={};i&64&&(l.size=n[6].size),i&64&&(l.color=n[6].color),i&64&&(l.variant=n[6].variant),e.$set(l)},i(n){r||(te(e.$$.fragment,n),r=!0)},o(n){ne(e.$$.fragment,n),r=!1},d(n){ge(e,n)}}}function BO(t){let e;return{c(){e=ht("+")},m(r,n){M(r,e,n)},d(r){r&&E(e)}}}function OO(t){let e,r,n,i,l=[RO,AO],o=[];function a(s,u){return s[7]?0:1}return e=a(t,-1),r=o[e]=l[e](t),{c(){r.c(),n=U()},m(s,u){o[e].m(s,u),M(s,n,u),i=!0},p(s,u){let c=e;e=a(s,u),e===c?o[e].p(s,u):(Qe(),ne(o[c],1,1,()=>{o[c]=null}),xe(),r=o[e],r?r.p(s,u):(r=o[e]=l[e](s),r.c()),te(r,1),r.m(n.parentNode,n))},i(s){i||(te(r),i=!0)},o(s){ne(r),i=!1},d(s){s&&E(n),o[e].d(s)}}}function VO(t){let e,r,n,i,l;e=new Ho({props:{observable:t[11],component:"ActionIcon",code:t[12]}});let o=[{use:[t[16],[st,t[2]]]},{tabindex:0},{disabled:t[8]||t[7]},{class:t[15](t[3],t[14].root,{[t[14].loading]:t[7]},t[13]({css:t[1],variation:t[5]}))},{target:t[10]?"_blank":null},{rel:t[10]?"noreferrer noopener":null},{root:t[4]},{href:t[9]},t[17]];function a(u){t[22](u)}let s={$$slots:{default:[OO]},$$scope:{ctx:t}};for(let u=0;u<o.length;u+=1)s=H(s,o[u]);return t[0]!==void 0&&(s.element=t[0]),n=new At({props:s}),ze.push(()=>$e(n,"element",a)),{c(){_e(e.$$.fragment),r=Ze(),_e(n.$$.fragment)},m(u,c){me(e,u,c),M(u,r,c),me(n,u,c),l=!0},p(u,[c]){let f={};c&2048&&(f.observable=u[11]),c&4096&&(f.code=u[12]),e.$set(f);let h=c&255934?I(o,[c&65540&&{use:[u[16],[st,u[2]]]},o[1],c&384&&{disabled:u[8]||u[7]},c&57514&&{class:u[15](u[3],u[14].root,{[u[14].loading]:u[7]},u[13]({css:u[1],variation:u[5]}))},c&1024&&{target:u[10]?"_blank":null},c&1024&&{rel:u[10]?"noreferrer noopener":null},c&16&&{root:u[4]},c&512&&{href:u[9]},c&131072&&Ie(u[17])]):{};c&8388800&&(h.$$scope={dirty:c,ctx:u}),!i&&c&1&&(i=!0,h.element=u[0],tt(()=>i=!1)),n.$set(h)},i(u){l||(te(e.$$.fragment,u),te(n.$$.fragment,u),l=!0)},o(u){ne(e.$$.fragment,u),ne(n.$$.fragment,u),l=!1},d(u){u&&E(r),ge(e,u),ge(n,u)}}}function ZO(t,e,r){let n,i,l,o=["use","element","class","override","root","color","variant","size","radius","loaderProps","loading","disabled","href","external"],a=D(e,o),{$$slots:s={},$$scope:u}=e,{use:c=[],element:f=void 0,class:h="",override:g={},root:p="button",color:w="gray",variant:b="hover",size:v="md",radius:S="sm",loaderProps:P={size:"xs",color:"gray",variant:"circle"},loading:Z=!1,disabled:y=!1,href:W="",external:X=!1}=e,x=Er(Nt()),le=!1,oe;p!=="a"&&e.href&&(le=!0,oe=Zb[0]);function $(ee){f=ee,r(0,f)}return t.$$set=ee=>{r(24,e=H(H({},e),j(ee))),r(17,a=D(e,o)),"use"in ee&&r(2,c=ee.use),"element"in ee&&r(0,f=ee.element),"class"in ee&&r(3,h=ee.class),"override"in ee&&r(1,g=ee.override),"root"in ee&&r(4,p=ee.root),"color"in ee&&r(18,w=ee.color),"variant"in ee&&r(5,b=ee.variant),"size"in ee&&r(19,v=ee.size),"radius"in ee&&r(20,S=ee.radius),"loaderProps"in ee&&r(6,P=ee.loaderProps),"loading"in ee&&r(7,Z=ee.loading),"disabled"in ee&&r(8,y=ee.disabled),"href"in ee&&r(9,W=ee.href),"external"in ee&&r(10,X=ee.external),"$$scope"in ee&&r(23,u=ee.$$scope)},t.$$.update=()=>{t.$$.dirty&2048&&le&&r(1,g={display:"none"}),t.$$.dirty&1835008&&r(15,{cx:n,classes:i,getStyles:l}=Vb({color:w,radius:S,size:v},{name:"ActionIcon"}),n,(r(14,i),r(18,w),r(20,S),r(19,v)),(r(13,l),r(18,w),r(20,S),r(19,v)))},e=j(e),[f,g,c,h,p,b,P,Z,y,W,X,le,oe,l,i,n,x,a,w,v,S,s,$,u]}var nd=class extends R{constructor(e){super(),O(this,e,ZO,VO,B,{use:2,element:0,class:3,override:1,root:4,color:18,variant:5,size:19,radius:20,loaderProps:6,loading:7,disabled:8,href:9,external:10})}},$u=nd;function IO(t){let e,r,n=[{width:t[0]},{height:t[1]},{viewBox:"0 0 15 15"},{fill:"none"},{xmlns:"http://www.w3.org/2000/svg"},t[2]],i={};for(let l=0;l<n.length;l+=1)i=H(i,n[l]);return{c(){e=N("svg"),r=N("path"),k(r,"d","M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z"),k(r,"fill","currentColor"),k(r,"fill-rule","evenodd"),k(r,"clip-rule","evenodd"),J(e,i)},m(l,o){M(l,e,o),V(e,r)},p(l,[o]){J(e,i=I(n,[o&1&&{width:l[0]},o&2&&{height:l[1]},{viewBox:"0 0 15 15"},{fill:"none"},{xmlns:"http://www.w3.org/2000/svg"},o&4&&l[2]]))},i:A,o:A,d(l){l&&E(e)}}}function DO(t,e,r){let n=["width","height"],i=D(e,n),{width:l=16}=e,{height:o=16}=e;return t.$$set=a=>{e=H(H({},e),j(a)),r(2,i=D(e,n)),"width"in a&&r(0,l=a.width),"height"in a&&r(1,o=a.height)},[l,o,i]}var id=class extends R{constructor(e){super(),O(this,e,DO,IO,B,{width:0,height:1})}},Ib=id;function NO(t){let e,r;return e=new Ib({props:{width:t[16][t[4]],height:t[16][t[4]]}}),{c(){_e(e.$$.fragment)},m(n,i){me(e,n,i),r=!0},p(n,i){let l={};i&16&&(l.width=n[16][n[4]]),i&16&&(l.height=n[16][n[4]]),e.$set(l)},i(n){r||(te(e.$$.fragment,n),r=!0)},o(n){ne(e.$$.fragment,n),r=!1},d(n){ge(e,n)}}}function FO(t){let e,r,n,i=[{class:t[2]},{use:[t[15],[st,t[1]]]},{override:t[3]},{root:t[5]},{color:t[6]},{variant:t[7]},{size:t[8]},{radius:t[9]},{loaderProps:t[10]},{loading:t[11]},{disabled:t[12]},{href:t[13]},{external:t[14]},t[17]];function l(a){t[18](a)}let o={$$slots:{default:[NO]},$$scope:{ctx:t}};for(let a=0;a<i.length;a+=1)o=H(o,i[a]);return t[0]!==void 0&&(o.element=t[0]),e=new $u({props:o}),ze.push(()=>$e(e,"element",l)),{c(){_e(e.$$.fragment)},m(a,s){me(e,a,s),n=!0},p(a,[s]){let u=s&196590?I(i,[s&4&&{class:a[2]},s&32770&&{use:[a[15],[st,a[1]]]},s&8&&{override:a[3]},s&32&&{root:a[5]},s&64&&{color:a[6]},s&128&&{variant:a[7]},s&256&&{size:a[8]},s&512&&{radius:a[9]},s&1024&&{loaderProps:a[10]},s&2048&&{loading:a[11]},s&4096&&{disabled:a[12]},s&8192&&{href:a[13]},s&16384&&{external:a[14]},s&131072&&Ie(a[17])]):{};s&524304&&(u.$$scope={dirty:s,ctx:a}),!r&&s&1&&(r=!0,u.element=a[0],tt(()=>r=!1)),e.$set(u)},i(a){n||(te(e.$$.fragment,a),n=!0)},o(a){ne(e.$$.fragment,a),n=!1},d(a){ge(e,a)}}}function jO(t,e,r){let n=["use","element","class","override","iconSize","root","color","variant","size","radius","loaderProps","loading","disabled","href","external"],i=D(e,n),{use:l=[],element:o=void 0,class:a="",override:s={},iconSize:u="md",root:c="button",color:f="gray",variant:h="hover",size:g="md",radius:p="sm",loaderProps:w={size:"xs",color:"gray",variant:"circle"},loading:b=!1,disabled:v=!1,href:S="",external:P=!1}=e,Z=Er(Nt()),y={xs:12,sm:14,md:16,lg:20,xl:24};function W(X){o=X,r(0,o)}return t.$$set=X=>{e=H(H({},e),j(X)),r(17,i=D(e,n)),"use"in X&&r(1,l=X.use),"element"in X&&r(0,o=X.element),"class"in X&&r(2,a=X.class),"override"in X&&r(3,s=X.override),"iconSize"in X&&r(4,u=X.iconSize),"root"in X&&r(5,c=X.root),"color"in X&&r(6,f=X.color),"variant"in X&&r(7,h=X.variant),"size"in X&&r(8,g=X.size),"radius"in X&&r(9,p=X.radius),"loaderProps"in X&&r(10,w=X.loaderProps),"loading"in X&&r(11,b=X.loading),"disabled"in X&&r(12,v=X.disabled),"href"in X&&r(13,S=X.href),"external"in X&&r(14,P=X.external)},[o,l,a,s,u,c,f,h,g,p,w,b,v,S,P,Z,y,i,W]}var ld=class extends R{constructor(e){super(),O(this,e,jO,FO,B,{use:1,element:0,class:2,override:3,iconSize:4,root:5,color:6,variant:7,size:8,radius:9,loaderProps:10,loading:11,disabled:12,href:13,external:14})}},e9=ld;var Db=kt((t,{iconSize:e})=>({root:{focusRing:"auto",position:"relative",appearance:"none",WebkitAppearance:"none",WebkitTapHighlightColor:"transparent",boxSizing:"border-box",height:`${t.fn.size({size:e,sizes:t.space})}px`,minHeight:`${t.fn.size({size:e,sizes:t.space})}px`,width:`${t.fn.size({size:e,sizes:t.space})}px`,minWidth:`${t.fn.size({size:e,sizes:t.space})}px`,padding:0,lineHeight:1,display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",textDecoration:"none"},icon:{height:`${t.fn.size({size:e,sizes:t.space})}px`,minHeight:`${t.fn.size({size:e,sizes:t.space})}px`,position:"static",margin:0,ml:0,mr:0,mt:0,mb:0}}));function qO(t){let e,r=(t[2]instanceof HTMLElement||t[2]instanceof SVGElement)&&Nb(t);return{c(){r&&r.c(),e=U()},m(n,i){r&&r.m(n,i),M(n,e,i)},p(n,i){n[2]instanceof HTMLElement||n[2]instanceof SVGElement?r?r.p(n,i):(r=Nb(n),r.c(),r.m(e.parentNode,e)):r&&(r.d(1),r=null)},i:A,o:A,d(n){n&&E(e),r&&r.d(n)}}}function WO(t){let e,r,n,i=[{class:t[6](t[0],t[4].root,t[5]({css:t[1]}))},t[3]];var l=t[2];function o(a,s){let u={};for(let c=0;c<i.length;c+=1)u=H(u,i[c]);return s!==void 0&&s&123&&(u=H(u,I(i,[s&115&&{class:a[6](a[0],a[4].root,a[5]({css:a[1]}))},s&8&&Ie(a[3])]))),{props:u}}return l&&(e=Lr(l,o(t))),{c(){e&&_e(e.$$.fragment),r=U()},m(a,s){e&&me(e,a,s),M(a,r,s),n=!0},p(a,s){if(s&4&&l!==(l=a[2])){if(e){Qe();let u=e;ne(u.$$.fragment,1,0,()=>{ge(u,1)}),xe()}l?(e=Lr(l,o(a,s)),_e(e.$$.fragment),te(e.$$.fragment,1),me(e,r.parentNode,r)):e=null}else if(l){let u=s&123?I(i,[s&115&&{class:a[6](a[0],a[4].root,a[5]({css:a[1]}))},s&8&&Ie(a[3])]):{};e.$set(u)}},i(a){n||(e&&te(e.$$.fragment,a),n=!0)},o(a){e&&ne(e.$$.fragment,a),n=!1},d(a){a&&E(r),e&&ge(e,a)}}}function Nb(t){let e,r=t[2].outerHTML+"",n;return{c(){e=Be("span"),k(e,"class",n=t[6](t[0],t[4].root,t[5]({css:t[1]})))},m(i,l){M(i,e,l),e.innerHTML=r},p(i,l){l&4&&r!==(r=i[2].outerHTML+"")&&(e.innerHTML=r),l&115&&n!==(n=i[6](i[0],i[4].root,i[5]({css:i[1]})))&&k(e,"class",n)},d(i){i&&E(e)}}}function UO(t){let e,r,n,i,l=[WO,qO],o=[];function a(s,u){return typeof s[2]=="function"?0:s[7]?-1:1}return~(e=a(t,-1))&&(r=o[e]=l[e](t)),{c(){r&&r.c(),n=U()},m(s,u){~e&&o[e].m(s,u),M(s,n,u),i=!0},p(s,[u]){let c=e;e=a(s,u),e===c?~e&&o[e].p(s,u):(r&&(Qe(),ne(o[c],1,1,()=>{o[c]=null}),xe()),~e?(r=o[e],r?r.p(s,u):(r=o[e]=l[e](s),r.c()),te(r,1),r.m(n.parentNode,n)):r=null)},i(s){i||(te(r),i=!0)},o(s){ne(r),i=!1},d(s){s&&E(n),~e&&o[e].d(s)}}}function YO(t,e,r){let n,i,l,{className:o="",override:a={},icon:s=void 0,iconSize:u=16,iconProps:c={}}=e,f=typeof HTMLElement=="undefined"&&typeof SVGElement=="undefined";return t.$$set=h=>{"className"in h&&r(0,o=h.className),"override"in h&&r(1,a=h.override),"icon"in h&&r(2,s=h.icon),"iconSize"in h&&r(8,u=h.iconSize),"iconProps"in h&&r(3,c=h.iconProps)},t.$$.update=()=>{t.$$.dirty&256&&r(6,{cx:n,getStyles:i,classes:l}=Db({iconSize:u},{name:"IconRenderer"}),n,(r(5,i),r(8,u)),(r(4,l),r(8,u))),t.$$.dirty&20&&!f&&(s instanceof HTMLElement||s instanceof SVGElement)&&s.classList.add(...l.icon.split(" "))},[o,a,s,c,l,i,n,f,u]}var od=class extends R{constructor(e){super(),O(this,e,YO,UO,B,{className:0,override:1,icon:2,iconSize:8,iconProps:3})}},Ra=od;function Fb(t,e,r,n,i=!1){if(e==="dimmed")return i?t.fn.themeColor("dark",2):t.fn.themeColor("gray",6);if(r==="gradient"||n)return t.fn.themeColor(e,6);if(r==="link")return i?t.fn.themeColor("blue",4):t.fn.themeColor("blue",7);if(r==="text")return i?t.fn.themeColor(e,5):t.fn.themeColor(e,7)}var jb=kt((t,{align:e,color:r,inherit:n,inline:i,lineClamp:l,size:o,tracking:a,transform:s,underline:u,weight:c,gradient:f,variant:h})=>{var g;return{root:{focusRing:"auto",[`${t.dark} &`]:{color:r==="dark"?"$dark50":Fb(t,r,h,f,!0)},fontFamily:n?"inherit":"$standard",fontSize:n?"inherit":typeof o=="string"?`$${o}`:`${o}px`,fontWeight:n?"inherit":`$${c}`,letterSpacing:(g=t.letterSpacings[a])==null?void 0:g.value,lineHeight:n?"inherit":i?1:typeof o=="string"?`$${o}`:`${o}px`,textTransform:s,textDecoration:u?"underline":"none",textAlign:e,cursor:h==="link"?"pointer":"inherit",color:r==="green"?"Black":Fb(t,r,h,f),backgroundImage:h==="gradient"?`linear-gradient(${f==null?void 0:f.deg}deg, $${f==null?void 0:f.from}600 0%, $${f==null?void 0:f.to}600 100%)`:null,WebkitBackgroundClip:h==="gradient"?"text":null,WebkitTextFillColor:h==="gradient"?"transparent":null,...l!==void 0?{overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:l,WebkitBoxOrient:"vertical"}:{},"&:hover":h==="link"&&u===!0?{textDecoration:"underline"}:void 0}}});var qb=Object.freeze([{error:!0,message:"If using the 'gradient' prop, set 'variant' prop to 'gradient' to apply the gradient",solution:`
                If your component looks like this:

                &lt;Text gradient={{from: 'blue', to: 'red', deg: 45}}&gt;Text string &lt;/Text&gt;
                                                                    ^^^ - Try adding prop variant='gradient'
                `},{error:!0,message:"If using the 'link' variant, an href needs to be set and the root must be an anchor",solution:`
                If your component looks like this:

                &lt;Text variant='link'&gt;Text string &lt;/Text&gt;
                                    ^^^ - Try adding props href && root={'a'}'
                `}]);function GO(t){let e,r=t[25].default,n=Ye(r,t,t[27],null);return{c(){n&&n.c()},m(i,l){n&&n.m(i,l),e=!0},p(i,l){n&&n.p&&(!e||l&134217728)&&Je(n,r,i,i[27],e?Ge(r,i[27],l,null):Ke(i[27]),null)},i(i){e||(te(n,i),e=!0)},o(i){ne(n,i),e=!1},d(i){n&&n.d(i)}}}function JO(t){var u;let e,r,n,i,l;e=new Ho({props:{observable:t[6],component:"Text",code:t[7]}});let o=[{root:t[4]},{use:[t[11],[st,t[1]]]},{class:t[10](t[2],t[9].root,t[8]({css:t[3]}))},{href:(u=t[5])!=null?u:void 0},t[12]];function a(c){t[26](c)}let s={$$slots:{default:[GO]},$$scope:{ctx:t}};for(let c=0;c<o.length;c+=1)s=H(s,o[c]);return t[0]!==void 0&&(s.element=t[0]),n=new At({props:s}),ze.push(()=>$e(n,"element",a)),{c(){_e(e.$$.fragment),r=Ze(),_e(n.$$.fragment)},m(c,f){me(e,c,f),M(c,r,f),me(n,c,f),l=!0},p(c,[f]){var p;let h={};f&64&&(h.observable=c[6]),f&128&&(h.code=c[7]),e.$set(h);let g=f&7998?I(o,[f&16&&{root:c[4]},f&2050&&{use:[c[11],[st,c[1]]]},f&1804&&{class:c[10](c[2],c[9].root,c[8]({css:c[3]}))},f&32&&{href:(p=c[5])!=null?p:void 0},f&4096&&Ie(c[12])]):{};f&134217728&&(g.$$scope={dirty:f,ctx:c}),!i&&f&1&&(i=!0,g.element=c[0],tt(()=>i=!1)),n.$set(g)},i(c){l||(te(e.$$.fragment,c),te(n.$$.fragment,c),l=!0)},o(c){ne(e.$$.fragment,c),ne(n.$$.fragment,c),l=!1},d(c){c&&E(r),ge(e,c),ge(n,c)}}}function KO(t,e,r){let n,i,l,o=["use","element","class","override","align","color","root","transform","variant","size","weight","gradient","inline","lineClamp","underline","inherit","href","tracking"],a=D(e,o),{$$slots:s={},$$scope:u}=e,{use:c=[],element:f=void 0,class:h="",override:g={},align:p="left",color:w="dark",root:b=void 0,transform:v="none",variant:S="text",size:P="md",weight:Z="normal",gradient:y={from:"indigo",to:"cyan",deg:45},inline:W=!0,lineClamp:X=void 0,underline:x=!1,inherit:le=!1,href:oe="",tracking:$="normal"}=e,ee=Er(Nt()),ce=!1,Te;y.from==="indigo"&&y.to==="cyan0"&&y.deg===45&&S!=="gradient"&&(ce=!0,Te=qb[0]);function Pe(pe){f=pe,r(0,f)}return t.$$set=pe=>{e=H(H({},e),j(pe)),r(12,a=D(e,o)),"use"in pe&&r(1,c=pe.use),"element"in pe&&r(0,f=pe.element),"class"in pe&&r(2,h=pe.class),"override"in pe&&r(3,g=pe.override),"align"in pe&&r(13,p=pe.align),"color"in pe&&r(14,w=pe.color),"root"in pe&&r(4,b=pe.root),"transform"in pe&&r(15,v=pe.transform),"variant"in pe&&r(16,S=pe.variant),"size"in pe&&r(17,P=pe.size),"weight"in pe&&r(18,Z=pe.weight),"gradient"in pe&&r(19,y=pe.gradient),"inline"in pe&&r(20,W=pe.inline),"lineClamp"in pe&&r(21,X=pe.lineClamp),"underline"in pe&&r(22,x=pe.underline),"inherit"in pe&&r(23,le=pe.inherit),"href"in pe&&r(5,oe=pe.href),"tracking"in pe&&r(24,$=pe.tracking),"$$scope"in pe&&r(27,u=pe.$$scope)},t.$$.update=()=>{t.$$.dirty&33546240&&r(10,{cx:n,classes:i,getStyles:l}=jb({lineClamp:X,underline:x,inline:W,inherit:le,gradient:y,variant:S,align:p,color:w,transform:v,size:P,weight:Z,tracking:$},{name:"Text"}),n,(r(9,i),r(21,X),r(22,x),r(20,W),r(23,le),r(19,y),r(16,S),r(13,p),r(14,w),r(15,v),r(17,P),r(18,Z),r(24,$)),(r(8,l),r(21,X),r(22,x),r(20,W),r(23,le),r(19,y),r(16,S),r(13,p),r(14,w),r(15,v),r(17,P),r(18,Z),r(24,$)))},[f,c,h,g,b,oe,ce,Te,l,i,n,ee,a,p,w,v,S,P,Z,y,W,X,x,le,$,s,Pe,u]}var ad=class extends R{constructor(e){super(),O(this,e,KO,JO,B,{use:1,element:0,class:2,override:3,align:13,color:14,root:4,transform:15,variant:16,size:17,weight:18,gradient:19,inline:20,lineClamp:21,underline:22,inherit:23,href:5,tracking:24})}},Ar=ad;var Wb=kt((t,{radius:e,shadow:r,withBorder:n,padding:i})=>({root:{darkMode:{backgroundColor:t.fn.themeColor("dark",7),color:t.fn.themeColor("dark")},padding:t.fn.size({size:i,sizes:t.space}),outline:0,display:"block",textDecoration:"none",color:t.colors.black.value,backgroundColor:t.colors.white.value,boxSizing:"border-box",borderRadius:`$${e}`,WebkitTapHighlightColor:"transparent",boxShadow:t.shadows[r].value||r||"none",border:void 0},withBorder:{darkMode:{border:`1px solid ${t.fn.themeColor("dark",4)}`},border:`1px solid ${t.fn.themeColor("gray",3)}`}}));function XO(t){let e,r=t[12].default,n=Ye(r,t,t[14],null);return{c(){n&&n.c()},m(i,l){n&&n.m(i,l),e=!0},p(i,l){n&&n.p&&(!e||l&16384)&&Je(n,r,i,i[14],e?Ge(r,i[14],l,null):Ke(i[14]),null)},i(i){e||(te(n,i),e=!0)},o(i){ne(n,i),e=!1},d(i){n&&n.d(i)}}}function QO(t){let e,r,n,i=[{class:t[7](t[6].root,t[2],t[4]&&t[6].withBorder,t[5]({css:t[3]}))},{use:t[1]},t[8]];function l(a){t[13](a)}let o={$$slots:{default:[XO]},$$scope:{ctx:t}};for(let a=0;a<i.length;a+=1)o=H(o,i[a]);return t[0]!==void 0&&(o.element=t[0]),e=new At({props:o}),ze.push(()=>$e(e,"element",l)),{c(){_e(e.$$.fragment)},m(a,s){me(e,a,s),n=!0},p(a,[s]){let u=s&510?I(i,[s&252&&{class:a[7](a[6].root,a[2],a[4]&&a[6].withBorder,a[5]({css:a[3]}))},s&2&&{use:a[1]},s&256&&Ie(a[8])]):{};s&16384&&(u.$$scope={dirty:s,ctx:a}),!r&&s&1&&(r=!0,u.element=a[0],tt(()=>r=!1)),e.$set(u)},i(a){n||(te(e.$$.fragment,a),n=!0)},o(a){ne(e.$$.fragment,a),n=!1},d(a){ge(e,a)}}}function xO(t,e,r){let n,i,l,o=["use","element","class","override","shadow","radius","withBorder","padding"],a=D(e,o),{$$slots:s={},$$scope:u}=e,{use:c=[],element:f=void 0,class:h="",override:g={},shadow:p="xs",radius:w="sm",withBorder:b=!1,padding:v="md"}=e;function S(P){f=P,r(0,f)}return t.$$set=P=>{e=H(H({},e),j(P)),r(8,a=D(e,o)),"use"in P&&r(1,c=P.use),"element"in P&&r(0,f=P.element),"class"in P&&r(2,h=P.class),"override"in P&&r(3,g=P.override),"shadow"in P&&r(9,p=P.shadow),"radius"in P&&r(10,w=P.radius),"withBorder"in P&&r(4,b=P.withBorder),"padding"in P&&r(11,v=P.padding),"$$scope"in P&&r(14,u=P.$$scope)},t.$$.update=()=>{t.$$.dirty&3600&&r(7,{cx:n,classes:i,getStyles:l}=Wb({radius:w,shadow:p,withBorder:b,padding:v},{name:"Paper"}),n,(r(6,i),r(10,w),r(9,p),r(4,b),r(11,v)),(r(5,l),r(10,w),r(9,p),r(4,b),r(11,v)))},[f,c,h,g,b,l,i,n,a,p,w,v,s,S,u]}var sd=class extends R{constructor(e){super(),O(this,e,xO,QO,B,{use:1,element:0,class:2,override:3,shadow:9,radius:10,withBorder:4,padding:11})}},ud=sd;var Ub=kt((t,{inline:e})=>({root:{display:e?"inline-flex":"flex",alignItems:"center",justifyContent:"center"}}));function $O(t){let e,r=t[9].default,n=Ye(r,t,t[11],null);return{c(){n&&n.c()},m(i,l){n&&n.m(i,l),e=!0},p(i,l){n&&n.p&&(!e||l&2048)&&Je(n,r,i,i[11],e?Ge(r,i[11],l,null):Ke(i[11]),null)},i(i){e||(te(n,i),e=!0)},o(i){ne(n,i),e=!1},d(i){n&&n.d(i)}}}function eV(t){let e,r,n,i=[{use:t[1]},{class:t[6](t[2],t[5].root,t[4]({css:t[3]}))},t[7]];function l(a){t[10](a)}let o={$$slots:{default:[$O]},$$scope:{ctx:t}};for(let a=0;a<i.length;a+=1)o=H(o,i[a]);return t[0]!==void 0&&(o.element=t[0]),e=new At({props:o}),ze.push(()=>$e(e,"element",l)),{c(){_e(e.$$.fragment)},m(a,s){me(e,a,s),n=!0},p(a,[s]){let u=s&254?I(i,[s&2&&{use:a[1]},s&124&&{class:a[6](a[2],a[5].root,a[4]({css:a[3]}))},s&128&&Ie(a[7])]):{};s&2048&&(u.$$scope={dirty:s,ctx:a}),!r&&s&1&&(r=!0,u.element=a[0],tt(()=>r=!1)),e.$set(u)},i(a){n||(te(e.$$.fragment,a),n=!0)},o(a){ne(e.$$.fragment,a),n=!1},d(a){ge(e,a)}}}function tV(t,e,r){let n,i,l,o=["use","element","class","override","inline"],a=D(e,o),{$$slots:s={},$$scope:u}=e,{use:c=[],element:f=void 0,class:h="",override:g={},inline:p=!1}=e;function w(b){f=b,r(0,f)}return t.$$set=b=>{e=H(H({},e),j(b)),r(7,a=D(e,o)),"use"in b&&r(1,c=b.use),"element"in b&&r(0,f=b.element),"class"in b&&r(2,h=b.class),"override"in b&&r(3,g=b.override),"inline"in b&&r(8,p=b.inline),"$$scope"in b&&r(11,u=b.$$scope)},t.$$.update=()=>{t.$$.dirty&256&&r(6,{cx:n,classes:i,getStyles:l}=Ub({inline:p},{name:"Center"}),n,(r(5,i),r(8,p)),(r(4,l),r(8,p)))},[f,c,h,g,l,i,n,a,p,s,w,u]}var cd=class extends R{constructor(e){super(),O(this,e,tV,eV,B,{use:1,element:0,class:2,override:3,inline:8})}},fd=cd;var{rgba:rV}=r1,hd={xs:16,sm:20,md:26,lg:32,xl:40};function nV(t,e,r){let n={from:"blue",to:"cyan",deg:45};return e==="gradient"?Yb(t,r):Yb(t,n)}var Yb=(t,e)=>{let r={lightBg:Pt.colors[`${t}800`].value,lightHv:Pt.colors[`${t}700`].value,outlineHv:Pt.colors[`${t}400`].value,subtleHv:Pt.colors[`${t}800`].value};return{filled:{[`${Pt.selector} &`]:{backgroundColor:`$${t}800`},border:"transparent",backgroundColor:`$${t}600`,color:"White"},light:{[`${Pt.selector} &`]:{backgroundColor:rV(r.lightBg,.35),color:t==="dark"?"$dark50":`$${t}200`},border:"transparent",backgroundColor:`$${t}50`,color:t==="dark"?"$dark900":`$${t}600`},outline:{[`${Pt.selector} &`]:{border:`1px solid $${t}400`,color:`$${t}400`},border:`1px solid $${t}700`,backgroundColor:"transparent",color:`$${t}700`},subtle:{[`${Pt.selector} &`]:{color:t==="dark"?"$dark50":`$${t}200`},border:"transparent",backgroundColor:"transparent",color:t==="dark"?"$dark900":`$${t}600`},default:{[`${Pt.selector} &`]:{border:"1px solid $dark500",backgroundColor:"$dark500",color:"White"},border:"1px solid $gray400",backgroundColor:"White",color:"Black"},white:{border:"transparent",backgroundColor:"White",color:`$${t}700`},gradient:{border:"transparent",background:`linear-gradient(${e.deg}deg, $${e.from}600 0%, $${e.to}600 100%)`,color:"White"}}},Gb=kt((t,{color:e,gradient:r,iconSize:n,radius:i,variant:l})=>({root:{display:"inline-flex",alignItems:"center",justifyContent:"center",boxSizing:"border-box",width:n,height:n,minWidth:n,minHeight:n,borderRadius:`$${i}`,variants:{variation:nV(e,l,r)}}}));function iV(t){let e,r=t[14].default,n=Ye(r,t,t[16],null);return{c(){n&&n.c()},m(i,l){n&&n.m(i,l),e=!0},p(i,l){n&&n.p&&(!e||l&65536)&&Je(n,r,i,i[16],e?Ge(r,i[16],l,null):Ke(i[16]),null)},i(i){e||(te(n,i),e=!0)},o(i){ne(n,i),e=!1},d(i){n&&n.d(i)}}}function lV(t){let e,r,n,i=[{use:t[1]},{class:t[7](t[2],t[6].root,t[5]({css:t[3],variation:t[4]}))},t[8]];function l(a){t[15](a)}let o={$$slots:{default:[iV]},$$scope:{ctx:t}};for(let a=0;a<i.length;a+=1)o=H(o,i[a]);return t[0]!==void 0&&(o.element=t[0]),e=new At({props:o}),ze.push(()=>$e(e,"element",l)),{c(){_e(e.$$.fragment)},m(a,s){me(e,a,s),n=!0},p(a,[s]){let u=s&510?I(i,[s&2&&{use:a[1]},s&252&&{class:a[7](a[2],a[6].root,a[5]({css:a[3],variation:a[4]}))},s&256&&Ie(a[8])]):{};s&65536&&(u.$$scope={dirty:s,ctx:a}),!r&&s&1&&(r=!0,u.element=a[0],tt(()=>r=!1)),e.$set(u)},i(a){n||(te(e.$$.fragment,a),n=!0)},o(a){ne(e.$$.fragment,a),n=!1},d(a){ge(e,a)}}}function oV(t,e,r){let n,i,l,o,a=["use","element","class","override","size","radius","color","variant","gradient"],s=D(e,a),{$$slots:u={},$$scope:c}=e,{use:f=[],element:h=void 0,class:g="",override:p={},size:w="md",radius:b="sm",color:v="blue",variant:S="filled",gradient:P={from:"blue",to:"cyan",deg:45}}=e;function Z(y){h=y,r(0,h)}return t.$$set=y=>{e=H(H({},e),j(y)),r(8,s=D(e,a)),"use"in y&&r(1,f=y.use),"element"in y&&r(0,h=y.element),"class"in y&&r(2,g=y.class),"override"in y&&r(3,p=y.override),"size"in y&&r(9,w=y.size),"radius"in y&&r(10,b=y.radius),"color"in y&&r(11,v=y.color),"variant"in y&&r(4,S=y.variant),"gradient"in y&&r(12,P=y.gradient),"$$scope"in y&&r(16,c=y.$$scope)},t.$$.update=()=>{var y;t.$$.dirty&512&&r(13,n=typeof w=="number"?`${w}px`:(y=hd[w])!=null?y:hd.md),t.$$.dirty&15376&&r(7,{cx:i,classes:l,getStyles:o}=Gb({color:v,gradient:P,iconSize:n,radius:b,variant:S},{name:"ThemeIcon"}),i,(r(6,l),r(11,v),r(12,P),r(13,n),r(10,b),r(4,S),r(9,w)),(r(5,o),r(11,v),r(12,P),r(13,n),r(10,b),r(4,S),r(9,w)))},[h,f,g,p,S,o,l,i,s,w,b,v,P,n,u,Z,c]}var dd=class extends R{constructor(e){super(),O(this,e,oV,lV,B,{use:1,element:0,class:2,override:3,size:9,radius:10,color:11,variant:4,gradient:12})}},t9=dd;var fc=kt((t,{size:e})=>{var r;return{root:{lineHeight:t.lineHeights.md.value},label:{[`${t.dark} &`]:{color:t.fn.themeColor("dark",0)},display:"inline-block",marginBottom:4,fontFamily:(r=t.fonts.standard.value)!=null?r:"sans-serif",fontSize:t.fontSizes[e].value,fontWeight:500,color:t.fn.themeColor("gray",9),wordBreak:"break-word",cursor:"default",WebkitTapHighlightColor:"transparent"},error:{[`${t.dark} &`]:{color:t.fn.themeColor("red",6)},marginTop:5,wordBreak:"break-word",color:t.fn.themeColor("red",7)},description:{[`${t.dark} &`]:{color:`${t.fn.themeColor("dark",2)} !important`},marginTop:-3,marginBottom:7,wordBreak:"break-word",color:`${t.fn.themeColor("gray",6)} !important`,fontSize:t.fontSizes[e].value,lineHeight:1.2},required:{[`${t.dark} &`]:{color:t.fn.themeColor("red",5)},color:t.fn.themeColor("red",7)}}});function Jb(t){let e,r=" *",n,i;return{c(){e=Be("span"),n=ht(r),k(e,"class",i=t[5].required),k(e,"aria-hidden","")},m(l,o){M(l,e,o),V(e,n)},p(l,o){o&32&&i!==(i=l[5].required)&&k(e,"class",i)},d(l){l&&E(e)}}}function aV(t){let e,r,n,i=t[3]&&Jb(t);return{c(){e=ht(t[1]),r=Ze(),i&&i.c(),n=U()},m(l,o){M(l,e,o),M(l,r,o),i&&i.m(l,o),M(l,n,o)},p(l,o){o&2&&yr(e,l[1]),l[3]?i?i.p(l,o):(i=Jb(l),i.c(),i.m(n.parentNode,n)):i&&(i.d(1),i=null)},d(l){l&&(E(e),E(r),E(n)),i&&i.d(l)}}}function sV(t){let e,r;return e=new At({props:{for:t[4],root:t[2],class:t[0],$$slots:{default:[aV]},$$scope:{ctx:t}}}),{c(){_e(e.$$.fragment)},m(n,i){me(e,n,i),r=!0},p(n,[i]){let l={};i&16&&(l.for=n[4]),i&4&&(l.root=n[2]),i&1&&(l.class=n[0]),i&106&&(l.$$scope={dirty:i,ctx:n}),e.$set(l)},i(n){r||(te(e.$$.fragment,n),r=!0)},o(n){ne(e.$$.fragment,n),r=!1},d(n){ge(e,n)}}}function uV(t,e,r){let n,{class:i="label"}=e,{label:l="label"}=e,{labelElement:o="label"}=e,{required:a=!1}=e,{id:s=void 0}=e;return t.$$set=u=>{"class"in u&&r(0,i=u.class),"label"in u&&r(1,l=u.label),"labelElement"in u&&r(2,o=u.labelElement),"required"in u&&r(3,a=u.required),"id"in u&&r(4,s=u.id)},r(5,{classes:n}=fc({size:"md"},{name:"InputWrapper"}),n),[i,l,o,a,s,n]}var md=class extends R{constructor(e){super(),O(this,e,uV,sV,B,{class:0,label:1,labelElement:2,required:3,id:4})}},Kb=md;function Xb(t){let e,r,n=[{class:t[15].label},t[8],{label:t[4]},{id:t[11]},{labelElement:t[12]},{required:t[7]}],i={};for(let l=0;l<n.length;l+=1)i=H(i,n[l]);return e=new Kb({props:i}),{c(){_e(e.$$.fragment)},m(l,o){me(e,l,o),r=!0},p(l,o){let a=o&39312?I(n,[o&32768&&{class:l[15].label},o&256&&Ie(l[8]),o&16&&{label:l[4]},o&2048&&{id:l[11]},o&4096&&{labelElement:l[12]},o&128&&{required:l[7]}]):{};e.$set(a)},i(l){r||(te(e.$$.fragment,l),r=!0)},o(l){ne(e.$$.fragment,l),r=!1},d(l){ge(e,l)}}}function Qb(t){let e,r,n=[t[9],{color:"gray"},{class:t[15].description}],i={$$slots:{default:[cV]},$$scope:{ctx:t}};for(let l=0;l<n.length;l+=1)i=H(i,n[l]);return e=new Ar({props:i}),{c(){_e(e.$$.fragment)},m(l,o){me(e,l,o),r=!0},p(l,o){let a=o&33280?I(n,[o&512&&Ie(l[9]),n[1],o&32768&&{class:l[15].description}]):{};o&1048608&&(a.$$scope={dirty:o,ctx:l}),e.$set(a)},i(l){r||(te(e.$$.fragment,l),r=!0)},o(l){ne(e.$$.fragment,l),r=!1},d(l){ge(e,l)}}}function cV(t){let e;return{c(){e=ht(t[5])},m(r,n){M(r,e,n)},p(r,n){n&32&&yr(e,r[5])},d(r){r&&E(e)}}}function xb(t){let e,r,n=[t[10],{size:t[13]},{class:t[15].error}],i={$$slots:{default:[fV]},$$scope:{ctx:t}};for(let l=0;l<n.length;l+=1)i=H(i,n[l]);return e=new Ar({props:i}),{c(){_e(e.$$.fragment)},m(l,o){me(e,l,o),r=!0},p(l,o){let a=o&41984?I(n,[o&1024&&Ie(l[10]),o&8192&&{size:l[13]},o&32768&&{class:l[15].error}]):{};o&1048640&&(a.$$scope={dirty:o,ctx:l}),e.$set(a)},i(l){r||(te(e.$$.fragment,l),r=!0)},o(l){ne(e.$$.fragment,l),r=!1},d(l){ge(e,l)}}}function fV(t){let e;return{c(){e=ht(t[6])},m(r,n){M(r,e,n)},p(r,n){n&64&&yr(e,r[6])},d(r){r&&E(e)}}}function hV(t){let e,r,n,i,l,o=t[4]&&Xb(t),a=t[5]&&Qb(t),s=t[18].default,u=Ye(s,t,t[20],null),c=typeof t[6]!="boolean"&&t[6]&&xb(t);return{c(){o&&o.c(),e=Ze(),a&&a.c(),r=Ze(),u&&u.c(),n=Ze(),c&&c.c(),i=U()},m(f,h){o&&o.m(f,h),M(f,e,h),a&&a.m(f,h),M(f,r,h),u&&u.m(f,h),M(f,n,h),c&&c.m(f,h),M(f,i,h),l=!0},p(f,h){f[4]?o?(o.p(f,h),h&16&&te(o,1)):(o=Xb(f),o.c(),te(o,1),o.m(e.parentNode,e)):o&&(Qe(),ne(o,1,1,()=>{o=null}),xe()),f[5]?a?(a.p(f,h),h&32&&te(a,1)):(a=Qb(f),a.c(),te(a,1),a.m(r.parentNode,r)):a&&(Qe(),ne(a,1,1,()=>{a=null}),xe()),u&&u.p&&(!l||h&1048576)&&Je(u,s,f,f[20],l?Ge(s,f[20],h,null):Ke(f[20]),null),typeof f[6]!="boolean"&&f[6]?c?(c.p(f,h),h&64&&te(c,1)):(c=xb(f),c.c(),te(c,1),c.m(i.parentNode,i)):c&&(Qe(),ne(c,1,1,()=>{c=null}),xe())},i(f){l||(te(o),te(a),te(u,f),te(c),l=!0)},o(f){ne(o),ne(a),ne(u,f),ne(c),l=!1},d(f){f&&(E(e),E(r),E(n),E(i)),o&&o.d(f),a&&a.d(f),u&&u.d(f),c&&c.d(f)}}}function dV(t){let e,r,n,i=[{use:t[1]},{class:t[16](t[2],t[15].root,t[14]({css:t[3]}))},t[17]];function l(a){t[19](a)}let o={$$slots:{default:[hV]},$$scope:{ctx:t}};for(let a=0;a<i.length;a+=1)o=H(o,i[a]);return t[0]!==void 0&&(o.element=t[0]),e=new At({props:o}),ze.push(()=>$e(e,"element",l)),{c(){_e(e.$$.fragment)},m(a,s){me(e,a,s),n=!0},p(a,[s]){let u=s&245774?I(i,[s&2&&{use:a[1]},s&114700&&{class:a[16](a[2],a[15].root,a[14]({css:a[3]}))},s&131072&&Ie(a[17])]):{};s&1097712&&(u.$$scope={dirty:s,ctx:a}),!r&&s&1&&(r=!0,u.element=a[0],tt(()=>r=!1)),e.$set(u)},i(a){n||(te(e.$$.fragment,a),n=!0)},o(a){ne(e.$$.fragment,a),n=!1},d(a){ge(e,a)}}}function mV(t,e,r){let n,i,l,o=["use","element","class","override","label","description","error","required","labelProps","descriptionProps","errorProps","id","labelElement","size"],a=D(e,o),{$$slots:s={},$$scope:u}=e,{use:c=[],element:f=void 0,class:h="",override:g={},label:p=void 0,description:w=null,error:b=null,required:v=!1,labelProps:S={},descriptionProps:P={},errorProps:Z={},id:y="input-id",labelElement:W="label",size:X="sm"}=e;function x(le){f=le,r(0,f)}return t.$$set=le=>{e=H(H({},e),j(le)),r(17,a=D(e,o)),"use"in le&&r(1,c=le.use),"element"in le&&r(0,f=le.element),"class"in le&&r(2,h=le.class),"override"in le&&r(3,g=le.override),"label"in le&&r(4,p=le.label),"description"in le&&r(5,w=le.description),"error"in le&&r(6,b=le.error),"required"in le&&r(7,v=le.required),"labelProps"in le&&r(8,S=le.labelProps),"descriptionProps"in le&&r(9,P=le.descriptionProps),"errorProps"in le&&r(10,Z=le.errorProps),"id"in le&&r(11,y=le.id),"labelElement"in le&&r(12,W=le.labelElement),"size"in le&&r(13,X=le.size),"$$scope"in le&&r(20,u=le.$$scope)},t.$$.update=()=>{t.$$.dirty&8192&&r(16,{cx:n,classes:i,getStyles:l}=fc({size:X},{name:"InputWrapper"}),n,(r(15,i),r(13,X)),(r(14,l),r(13,X)))},[f,c,h,g,p,w,b,v,S,P,Z,y,W,X,l,i,n,a,s,x,u]}var gd=class extends R{constructor(e){super(),O(this,e,mV,dV,B,{use:1,element:0,class:2,override:3,label:4,description:5,error:6,required:7,labelProps:8,descriptionProps:9,errorProps:10,id:11,labelElement:12,size:13})}},$b=gd;var hc={xs:1,sm:2,md:3,lg:4,xl:5},ev=kt((t,{color:e,size:r,variant:n})=>{let{size:i,themeColor:l}=t.fn;return{root:{},horizontal:{border:0,borderTopWidth:typeof r=="number"?`${r}px`:i({size:r,sizes:hc}),borderTopColor:l(e,4),borderTopStyle:n,margin:"12px 0px 12px 0px"},vertical:{border:0,alignSelf:"stretch",height:"100%",borderLeftWidth:typeof r=="number"?`${r}px`:i({size:r,sizes:hc}),borderLeftColor:l(e,4),borderLeftStyle:n},showsLabel:{borderTop:"0 !important"},label:{display:"flex",alignItems:"center",color:e==="dark"?l("dark",1):l(e,6),[`${t.dark} &`]:{color:e==="dark"?l("dark",1):l(e,5)},"&.left":{"&::before":{display:"none"}},"&.right":{"&::after":{display:"none"}},"&::before":{content:'""',flex:1,height:1,borderTopWidth:typeof r=="number"?`${r}px`:i({size:r,sizes:hc}),borderTopStyle:`${n}`,borderTopColor:l(e,4),marginRight:"10px",[`${t.dark} &`]:{borderTopColor:l(e,3)}},"&::after":{content:'""',flex:1,borderTopWidth:typeof r=="number"?`${r}px`:i({size:r,sizes:hc}),borderTopStyle:`${n}`,borderTopColor:l(e,3),marginLeft:"10px"}}}});var tv=Object.freeze([{error:!0,message:"If using label or label slot, it cannot use orientation 'vertical'",solution:`
                If your component looks like this:
                
                &lt;Divider orientation='vertical' label='text...'&lt;/Divider&gt;
                                        ^^^^^^^^^ - Try changing orientation to 'horizontal'
                `}]);var gV=t=>({}),rv=t=>({});function nv(t){var l;let e,r,n=[{class:t[12](t[11].label,t[6])},t[7],{size:((l=t[7])==null?void 0:l.size)||t[4]}],i={$$slots:{default:[pV]},$$scope:{ctx:t}};for(let o=0;o<n.length;o+=1)i=H(i,n[o]);return e=new Ar({props:i}),{c(){_e(e.$$.fragment)},m(o,a){me(e,o,a),r=!0},p(o,a){var u;let s=a&6352?I(n,[a&6208&&{class:o[12](o[11].label,o[6])},a&128&&Ie(o[7]),a&144&&{size:((u=o[7])==null?void 0:u.size)||o[4]}]):{};a&4194336&&(s.$$scope={dirty:a,ctx:o}),e.$set(s)},i(o){r||(te(e.$$.fragment,o),r=!0)},o(o){ne(e.$$.fragment,o),r=!1},d(o){ge(e,o)}}}function _V(t){let e;return{c(){e=ht(t[5])},m(r,n){M(r,e,n)},p(r,n){n&32&&yr(e,r[5])},d(r){r&&E(e)}}}function pV(t){let e,r=t[20].label,n=Ye(r,t,t[22],rv),i=n||_V(t);return{c(){i&&i.c()},m(l,o){i&&i.m(l,o),e=!0},p(l,o){n?n.p&&(!e||o&4194304)&&Je(n,r,l,l[22],e?Ge(r,l[22],o,gV):Ke(l[22]),rv):i&&i.p&&(!e||o&32)&&i.p(l,e?o:-1)},i(l){e||(te(i,l),e=!0)},o(l){ne(i,l),e=!1},d(l){i&&i.d(l)}}}function CV(t){let e,r,n=t[15]&&nv(t);return{c(){n&&n.c(),e=U()},m(i,l){n&&n.m(i,l),M(i,e,l),r=!0},p(i,l){i[15]?n?(n.p(i,l),l&32768&&te(n,1)):(n=nv(i),n.c(),te(n,1),n.m(e.parentNode,e)):n&&(Qe(),ne(n,1,1,()=>{n=null}),xe())},i(i){r||(te(n),r=!0)},o(i){ne(n),r=!1},d(i){i&&E(e),n&&n.d(i)}}}function bV(t){let e,r,n,i,l;e=new Ho({props:{observable:t[8],component:"Divider",code:t[9]}});let o=[{use:t[2]},{class:t[12](t[3],t[11].root,t[14]?t[11].horizontal:{},t[13]?t[11].vertical:{},t[15]?t[11].showsLabel:{},t[10]({css:t[1]}))},t[16]];function a(u){t[21](u)}let s={$$slots:{default:[CV]},$$scope:{ctx:t}};for(let u=0;u<o.length;u+=1)s=H(s,o[u]);return t[0]!==void 0&&(s.element=t[0]),n=new At({props:s}),ze.push(()=>$e(n,"element",a)),{c(){_e(e.$$.fragment),r=Ze(),_e(n.$$.fragment)},m(u,c){me(e,u,c),M(u,r,c),me(n,u,c),l=!0},p(u,[c]){let f={};c&256&&(f.observable=u[8]),c&512&&(f.code=u[9]),e.$set(f);let h=c&130062?I(o,[c&4&&{use:u[2]},c&64522&&{class:u[12](u[3],u[11].root,u[14]?u[11].horizontal:{},u[13]?u[11].vertical:{},u[15]?u[11].showsLabel:{},u[10]({css:u[1]}))},c&65536&&Ie(u[16])]):{};c&4233456&&(h.$$scope={dirty:c,ctx:u}),!i&&c&1&&(i=!0,h.element=u[0],tt(()=>i=!1)),n.$set(h)},i(u){l||(te(e.$$.fragment,u),te(n.$$.fragment,u),l=!0)},o(u){ne(e.$$.fragment,u),ne(n.$$.fragment,u),l=!1},d(u){u&&E(r),ge(e,u),ge(n,u)}}}function vV(t,e,r){let n,i,l,o,a,s,u=["use","element","class","override","color","orientation","size","label","labelPosition","labelProps","variant"],c=D(e,u),{$$slots:f={},$$scope:h}=e,g=B0(f),{use:p=[],element:w=void 0,class:b="",override:v={},color:S="gray",orientation:P="horizontal",size:Z="xs",label:y=null,labelPosition:W="left",labelProps:X=null,variant:x="solid"}=e,le=!1,oe;i&&(y||g.label)&&(le=!0,oe=tv[0]);function $(ee){w=ee,r(0,w)}return t.$$set=ee=>{e=H(H({},e),j(ee)),r(16,c=D(e,u)),"use"in ee&&r(2,p=ee.use),"element"in ee&&r(0,w=ee.element),"class"in ee&&r(3,b=ee.class),"override"in ee&&r(1,v=ee.override),"color"in ee&&r(17,S=ee.color),"orientation"in ee&&r(18,P=ee.orientation),"size"in ee&&r(4,Z=ee.size),"label"in ee&&r(5,y=ee.label),"labelPosition"in ee&&r(6,W=ee.labelPosition),"labelProps"in ee&&r(7,X=ee.labelProps),"variant"in ee&&r(19,x=ee.variant),"$$scope"in ee&&r(22,h=ee.$$scope)},t.$$.update=()=>{t.$$.dirty&262176&&r(15,n=(y||g.label)&&P==="horizontal"),t.$$.dirty&262144&&r(13,i=P==="vertical"),t.$$.dirty&262144&&r(14,l=P==="horizontal"),t.$$.dirty&256&&le&&r(1,v={display:"none"}),t.$$.dirty&655376&&r(12,{cx:o,classes:a,getStyles:s}=ev({color:S,size:Z,variant:x},{name:"Divider"}),o,(r(11,a),r(17,S),r(4,Z),r(19,x)),(r(10,s),r(17,S),r(4,Z),r(19,x)))},[w,v,p,b,Z,y,W,X,le,oe,s,a,o,i,l,n,c,S,P,x,f,$,h]}var _d=class extends R{constructor(e){super(),O(this,e,vV,bV,B,{use:2,element:0,class:3,override:1,color:17,orientation:18,size:4,label:5,labelPosition:6,labelProps:7,variant:19})}},pd=_d;var iv=kt((t,{gap:e,rowGap:r,columnGap:n,align:i,justify:l,wrap:o,direction:a})=>({root:{boxSizing:"border-box",display:"flex",flexDirection:a,alignItems:i,flexWrap:o,justifyContent:l,gap:e?t.fn.size({size:e,sizes:t.space}):void 0,rowGap:r?t.fn.size({size:r,sizes:t.space}):void 0,columnGap:n?t.fn.size({size:n,sizes:t.space}):void 0}}));function wV(t){let e,r=t[15].default,n=Ye(r,t,t[17],null);return{c(){n&&n.c()},m(i,l){n&&n.m(i,l),e=!0},p(i,l){n&&n.p&&(!e||l&131072)&&Je(n,r,i,i[17],e?Ge(r,i[17],l,null):Ke(i[17]),null)},i(i){e||(te(n,i),e=!0)},o(i){ne(n,i),e=!1},d(i){n&&n.d(i)}}}function kV(t){let e,r,n,i=[{use:t[1]},{class:t[6](t[2],t[5].root,t[4]({css:t[3]}))},t[7]];function l(a){t[16](a)}let o={$$slots:{default:[wV]},$$scope:{ctx:t}};for(let a=0;a<i.length;a+=1)o=H(o,i[a]);return t[0]!==void 0&&(o.element=t[0]),e=new At({props:o}),ze.push(()=>$e(e,"element",l)),{c(){_e(e.$$.fragment)},m(a,s){me(e,a,s),n=!0},p(a,[s]){let u=s&254?I(i,[s&2&&{use:a[1]},s&124&&{class:a[6](a[2],a[5].root,a[4]({css:a[3]}))},s&128&&Ie(a[7])]):{};s&131072&&(u.$$scope={dirty:s,ctx:a}),!r&&s&1&&(r=!0,u.element=a[0],tt(()=>r=!1)),e.$set(u)},i(a){n||(te(e.$$.fragment,a),n=!0)},o(a){ne(e.$$.fragment,a),n=!1},d(a){ge(e,a)}}}function yV(t,e,r){let n,i,l,o=["use","element","class","override","gap","rowGap","columnGap","align","justify","wrap","direction"],a=D(e,o),{$$slots:s={},$$scope:u}=e,{use:c=[],element:f=void 0,class:h="",override:g={},gap:p=void 0,rowGap:w=void 0,columnGap:b=void 0,align:v=void 0,justify:S=void 0,wrap:P=void 0,direction:Z=void 0}=e;function y(W){f=W,r(0,f)}return t.$$set=W=>{e=H(H({},e),j(W)),r(7,a=D(e,o)),"use"in W&&r(1,c=W.use),"element"in W&&r(0,f=W.element),"class"in W&&r(2,h=W.class),"override"in W&&r(3,g=W.override),"gap"in W&&r(8,p=W.gap),"rowGap"in W&&r(9,w=W.rowGap),"columnGap"in W&&r(10,b=W.columnGap),"align"in W&&r(11,v=W.align),"justify"in W&&r(12,S=W.justify),"wrap"in W&&r(13,P=W.wrap),"direction"in W&&r(14,Z=W.direction),"$$scope"in W&&r(17,u=W.$$scope)},t.$$.update=()=>{t.$$.dirty&32512&&r(6,{cx:n,classes:i,getStyles:l}=iv({gap:p,rowGap:w,columnGap:b,align:v,justify:S,wrap:P,direction:Z},{name:"Flex"}),n,(r(5,i),r(8,p),r(9,w),r(10,b),r(11,v),r(12,S),r(13,P),r(14,Z)),(r(4,l),r(8,p),r(9,w),r(10,b),r(11,v),r(12,S),r(13,P),r(14,Z)))},[f,c,h,g,l,i,n,a,p,w,b,v,S,P,Z,s,y,u]}var Cd=class extends R{constructor(e){super(),O(this,e,yV,kV,B,{use:1,element:0,class:2,override:3,gap:8,rowGap:9,columnGap:10,align:11,justify:12,wrap:13,direction:14})}},dc=Cd;var LV=D8({"from, to":{opacity:.4},"50%":{opacity:1}}),lv=kt((t,{animate:e,circle:r,height:n,radius:i,width:l})=>({root:{[`${t.dark} &`]:{"&.visible":{"&::before":{background:t.fn.themeColor("dark",7)},"&::after":{background:t.fn.themeColor("dark",4)}}},height:n,width:r?n:`${l}%`,borderRadius:r?n:`$${i}`,position:"relative",overflow:"hidden","&.visible":{"&::before":{content:'""',position:"absolute",background:"white",top:0,bottom:0,left:0,right:0,zIndex:10},"&::after":{content:'""',position:"absolute",background:t.fn.themeColor("gray",3),top:0,bottom:0,left:0,right:0,animation:e?`${LV} 1500ms linear infinite`:"none",zIndex:11}}}}));function EV(t){let e,r=t[14].default,n=Ye(r,t,t[16],null);return{c(){n&&n.c()},m(i,l){n&&n.m(i,l),e=!0},p(i,l){n&&n.p&&(!e||l&65536)&&Je(n,r,i,i[16],e?Ge(r,i[16],l,null):Ke(i[16]),null)},i(i){e||(te(n,i),e=!0)},o(i){ne(n,i),e=!1},d(i){n&&n.d(i)}}}function SV(t){let e,r,n,i=[{class:t[7](t[2],t[6].root,{visible:t[4]},t[5]({css:t[3]}))},{use:t[1]},t[8]];function l(a){t[15](a)}let o={$$slots:{default:[EV]},$$scope:{ctx:t}};for(let a=0;a<i.length;a+=1)o=H(o,i[a]);return t[0]!==void 0&&(o.element=t[0]),e=new At({props:o}),ze.push(()=>$e(e,"element",l)),{c(){_e(e.$$.fragment)},m(a,s){me(e,a,s),n=!0},p(a,[s]){let u=s&510?I(i,[s&252&&{class:a[7](a[2],a[6].root,{visible:a[4]},a[5]({css:a[3]}))},s&2&&{use:a[1]},s&256&&Ie(a[8])]):{};s&65536&&(u.$$scope={dirty:s,ctx:a}),!r&&s&1&&(r=!0,u.element=a[0],tt(()=>r=!1)),e.$set(u)},i(a){n||(te(e.$$.fragment,a),n=!0)},o(a){ne(e.$$.fragment,a),n=!1},d(a){ge(e,a)}}}function MV(t,e,r){let n,i,l,o=["use","element","class","override","visible","height","width","circle","radius","animate"],a=D(e,o),{$$slots:s={},$$scope:u}=e,{use:c=[],element:f=void 0,class:h="",override:g={},visible:p=!0,height:w="auto",width:b=100,circle:v=null,radius:S=null,animate:P=!0}=e;function Z(y){f=y,r(0,f)}return t.$$set=y=>{e=H(H({},e),j(y)),r(8,a=D(e,o)),"use"in y&&r(1,c=y.use),"element"in y&&r(0,f=y.element),"class"in y&&r(2,h=y.class),"override"in y&&r(3,g=y.override),"visible"in y&&r(4,p=y.visible),"height"in y&&r(9,w=y.height),"width"in y&&r(10,b=y.width),"circle"in y&&r(11,v=y.circle),"radius"in y&&r(12,S=y.radius),"animate"in y&&r(13,P=y.animate),"$$scope"in y&&r(16,u=y.$$scope)},t.$$.update=()=>{t.$$.dirty&15872&&r(7,{cx:n,classes:i,getStyles:l}=lv({animate:P,circle:v,height:w,radius:S,width:b},{name:"Skeleton"}),n,(r(6,i),r(13,P),r(11,v),r(9,w),r(12,S),r(10,b)),(r(5,l),r(13,P),r(11,v),r(9,w),r(12,S),r(10,b)))},[f,c,h,g,p,l,i,n,a,w,b,v,S,P,s,Z,u]}var bd=class extends R{constructor(e){super(),O(this,e,MV,SV,B,{use:1,element:0,class:2,override:3,visible:4,height:9,width:10,circle:11,radius:12,animate:13})}},r9=bd;var sn={xs:30,sm:36,md:42,lg:50,xl:60},ov=kt((t,{icon:e,iconWidth:r,invalid:n,multiline:i,radius:l,rightSectionWidth:o,size:a,resize:s,variant:u,showRightSection:c})=>{var f,h,g,p,w,b,v,S;return{root:{darkMode:{"&:disabled":{backgroundColor:t.fn.themeColor("dark",6)},"&::placeholder":{color:t.fn.themeColor("dark",3)}},position:"relative"},input:u!=="headless"?{height:i?"auto":typeof a=="number"?`${a}px`:(f=sn[a])!=null?f:sn.md,WebkitTapHighlightColor:"transparent",lineHeight:i?"$md":`${sn[a]-2}px`,appearance:"none",resize:s,boxSizing:"border-box",fontFamily:(h=t.fonts.standard.value)!=null?h:"sans-serif",fontSize:typeof a=="number"?`${a}px`:`${a}`,width:"100%",color:"Black",display:"block",textAlign:"left",minHeight:u==="default"||u==="filled"?(g=sn[a])!=null?g:sn.md:null,paddingLeft:u==="default"&&e||u==="filled"&&e?(p=sn[a])!=null?p:sn.md/3:12,paddingRight:(u==="default"||u==="filled")&&c?o:null,borderRadius:u==="default"||u==="filled"?`$${l}`:null,"&:disabled":{backgroundColor:t.fn.themeColor("gray",1),color:t.fn.themeColor("dark",2),opacity:.6,cursor:"not-allowed","&::placeholder":{color:t.fn.themeColor("dark",2)}},"&::placeholder":{opacity:1,userSelect:"none",color:t.fn.themeColor("gray",5)},"&::-webkit-inner-spin-button, &::-webkit-outer-spin-button, &::-webkit-search-decoration, &::-webkit-search-cancel-button, &::-webkit-search-results-button, &::-webkit-search-results-decoration":{appearance:"none"},"&[type=number]":{MozAppearance:"textfield"},darkMode:{color:t.fn.themeColor("dark",0)}}:{},defaultVariant:{border:`1px solid ${t.fn.themeColor("gray",4)}`,backgroundColor:"White",transition:"border-color 100ms ease",minHeight:(w=sn[a])!=null?w:sn.md,"&:focus, &:focus-within":{outline:"none",borderColor:t.fn.themeColor("blue",5)},darkMode:{border:`1px solid ${t.fn.themeColor("dark",5)}`,backgroundColor:t.fn.themeColor("dark",8),"&:focus, &:focus-within":{borderColor:t.fn.themeColor("blue",8)}}},filledVariant:{border:"1px solid transparent",backgroundColor:t.fn.themeColor("gray",1),minHeight:(b=sn[a])!=null?b:sn.md,"&:focus, &:focus-within":{outline:"none",borderColor:`${t.fn.themeColor("blue",5)} !important`},darkMode:{backgroundColor:t.fn.themeColor("dark",5),"&:focus, &:focus-within":{borderColor:`${t.fn.themeColor("blue",8)} !important`}}},unstyledVariant:{height:i?void 0:"auto",borderWidth:0,color:"Black",backgroundColor:"transparent",minHeight:28,outline:0,"&:focus, &:focus-within":{outline:"none",borderColor:"transparent"},"&:disabled":{backgroundColor:"transparent","&:focus, &:focus-within":{outline:"none",borderColor:"transparent"}}},withIcon:{paddingLeft:typeof r=="number"?`${r}px`:(v=sn[a])!=null?v:sn.md},iconWrapper:{pointerEvents:"none",position:"absolute",zIndex:1,left:0,top:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"center",width:r?`${r}px`:(S=sn[a])!=null?S:sn.md},disabled:{backgroundColor:t.fn.themeColor("gray",1),color:t.fn.themeColor("dark",2),opacity:.6,cursor:"not-allowed","&::placeholder":{color:t.fn.themeColor("dark",2)},darkMode:{backgroundColor:t.fn.themeColor("dark",6),borderColor:t.fn.themeColor("dark",4)}},invalid:{color:t.fn.themeColor("red",7),borderColor:t.fn.themeColor("red",7),"&::placeholder":{opacity:1,color:t.fn.themeColor("red",7)},darkMode:{color:t.fn.themeColor("red",6),borderColor:t.fn.themeColor("red",6),"&::placeholder":{color:t.fn.themeColor("red",6)}}},icon:{color:n?t.fn.themeColor("red",7):t.fn.themeColor("gray",5),pointerEvents:"none",darkMode:{color:n?t.fn.themeColor("red",6):t.fn.themeColor("dark",2)}},rightSection:{position:"absolute",top:0,bottom:0,right:0,display:"flex",alignItems:"center",justifyContent:"center",width:o},noPointerEvents:{pointerEvents:"none"}}});var TV=t=>({}),av=t=>({}),zV=t=>({}),sv=t=>({});function HV(t){var f;let e,r,n,i,l,o=[{use:[t[28],[st,t[2]]]},{"aria-invalid":t[15]},{class:t[26](t[3],{[t[25].disabled]:t[14],[t[25].invalid]:t[15],[t[25].withIcon]:t[6]||t[27]},(f=t[25][`${t[13]}Variant`])!=null?f:{})},{disabled:t[14]},{required:t[12]},{id:t[11]},{type:t[17]},{autofocus:t[19]},t[33]];function a(h){t[43](h)}function s(h){t[44](h)}var u=t[5];function c(h,g){var w;let p={$$slots:{default:[RV]},$$scope:{ctx:h}};for(let b=0;b<o.length;b+=1)p=H(p,o[b]);return g!==void 0&&g[0]&504035404|g[1]&4&&(p=H(p,I(o,[g[0]&268435460&&{use:[h[28],[st,h[2]]]},g[0]&32768&&{"aria-invalid":h[15]},g[0]&234938440&&{class:h[26](h[3],{[h[25].disabled]:h[14],[h[25].invalid]:h[15],[h[25].withIcon]:h[6]||h[27]},(w=h[25][`${h[13]}Variant`])!=null?w:{})},g[0]&16384&&{disabled:h[14]},g[0]&4096&&{required:h[12]},g[0]&2048&&{id:h[11]},g[0]&131072&&{type:h[17]},g[0]&524288&&{autofocus:h[19]},g[1]&4&&Ie(h[33])]))),h[0]!==void 0&&(p.element=h[0]),h[1]!==void 0&&(p.value=h[1]),{props:p}}return u&&(e=Lr(u,c(t)),ze.push(()=>$e(e,"element",a)),ze.push(()=>$e(e,"value",s))),{c(){e&&_e(e.$$.fragment),i=U()},m(h,g){e&&me(e,h,g),M(h,i,g),l=!0},p(h,g){var p;if(g[0]&32&&u!==(u=h[5])){if(e){Qe();let w=e;ne(w.$$.fragment,1,0,()=>{ge(w,1)}),xe()}u?(e=Lr(u,c(h,g)),ze.push(()=>$e(e,"element",a)),ze.push(()=>$e(e,"value",s)),_e(e.$$.fragment),te(e.$$.fragment,1),me(e,i.parentNode,i)):e=null}else if(u){let w=g[0]&504035404|g[1]&4?I(o,[g[0]&268435460&&{use:[h[28],[st,h[2]]]},g[0]&32768&&{"aria-invalid":h[15]},g[0]&234938440&&{class:h[26](h[3],{[h[25].disabled]:h[14],[h[25].invalid]:h[15],[h[25].withIcon]:h[6]||h[27]},(p=h[25][`${h[13]}Variant`])!=null?p:{})},g[0]&16384&&{disabled:h[14]},g[0]&4096&&{required:h[12]},g[0]&2048&&{id:h[11]},g[0]&131072&&{type:h[17]},g[0]&524288&&{autofocus:h[19]},g[1]&4&&Ie(h[33])]):{};g[1]&32768&&(w.$$scope={dirty:g,ctx:h}),!r&&g[0]&1&&(r=!0,w.element=h[0],tt(()=>r=!1)),!n&&g[0]&2&&(n=!0,w.value=h[1],tt(()=>n=!1)),e.$set(w)}},i(h){l||(e&&te(e.$$.fragment,h),l=!0)},o(h){e&&ne(e.$$.fragment,h),l=!1},d(h){h&&E(i),e&&ge(e,h)}}}function PV(t){let e,r=t[29]()&&BV(t);return{c(){r&&r.c()},m(n,i){r&&r.m(n,i),e=!0},p(n,i){n[29]()&&r.p(n,i)},i(n){e||(te(r,n),e=!0)},o(n){ne(r,n),e=!1},d(n){r&&r.d(n)}}}function AV(t){var u;let e,r,n,i,l,o,a=[{value:t[1]},{type:t[17]},{required:t[12]},{disabled:t[14]},{id:t[11]},{placeholder:t[18]},{autocomplete:t[16]},{autofocus:t[19]},{"aria-invalid":t[15]},{class:r=t[26](t[3],t[25].input,{[t[25].disabled]:t[14],[t[25].invalid]:t[15],[t[25].withIcon]:t[6]||t[27]},(u=t[25][`${t[13]}Variant`])!=null?u:{})},t[33]],s={};for(let c=0;c<a.length;c+=1)s=H(s,a[c]);return{c(){e=Be("input"),kr(e,s)},m(c,f){M(c,e,f),"value"in s&&(e.value=s.value),e.autofocus&&e.focus(),t[41](e),l||(o=[Ut(n=st.call(null,e,t[2])),Ut(i=t[28].call(null,e)),F(e,"input",t[31])],l=!0)},p(c,f){var h;kr(e,s=I(a,[f[0]&2&&e.value!==c[1]&&{value:c[1]},f[0]&131072&&{type:c[17]},f[0]&4096&&{required:c[12]},f[0]&16384&&{disabled:c[14]},f[0]&2048&&{id:c[11]},f[0]&262144&&{placeholder:c[18]},f[0]&65536&&{autocomplete:c[16]},f[0]&524288&&{autofocus:c[19]},f[0]&32768&&{"aria-invalid":c[15]},f[0]&234938440&&r!==(r=c[26](c[3],c[25].input,{[c[25].disabled]:c[14],[c[25].invalid]:c[15],[c[25].withIcon]:c[6]||c[27]},(h=c[25][`${c[13]}Variant`])!=null?h:{}))&&{class:r},f[1]&4&&c[33]])),"value"in s&&(e.value=s.value),n&&tr(n.update)&&f[0]&4&&n.update.call(null,c[2])},i:A,o:A,d(c){c&&E(e),t[41](null),l=!1,G(o)}}}function RV(t){let e,r=t[40].default,n=Ye(r,t,t[46],null);return{c(){n&&n.c()},m(i,l){n&&n.m(i,l),e=!0},p(i,l){n&&n.p&&(!e||l[1]&32768)&&Je(n,r,i,i[46],e?Ge(r,i[46],l,null):Ke(i[46]),null)},i(i){e||(te(n,i),e=!0)},o(i){ne(n,i),e=!1},d(i){n&&n.d(i)}}}function BV(t){var h;let e,r,n,i,l,o,a,s=t[40].default,u=Ye(s,t,t[46],null),c=[{value:t[1]},{required:t[12]},{disabled:t[14]},{id:t[11]},{placeholder:t[18]},{autocomplete:t[16]},{type:t[17]},{autofocus:t[19]},{"aria-invalid":t[15]},{class:r=t[26](t[3],t[25].input,{[t[25].disabled]:t[14],[t[25].invalid]:t[15],[t[25].withIcon]:t[6]||t[27]},(h=t[25][`${t[13]}Variant`])!=null?h:{})},t[33]],f={};for(let g=0;g<c.length;g+=1)f=H(f,c[g]);return{c(){e=Be(t[29]()),u&&u.c(),Z0(t[29]())(e,f),Pr(e,"disabled",t[14]),Pr(e,"invalid",t[15])},m(g,p){M(g,e,p),u&&u.m(e,null),t[42](e),l=!0,o||(a=[F(e,"change",t[30]),F(e,"input",t[31]),Ut(n=st.call(null,e,t[2])),Ut(i=t[28].call(null,e))],o=!0)},p(g,p){var w;u&&u.p&&(!l||p[1]&32768)&&Je(u,s,g,g[46],l?Ge(s,g[46],p,null):Ke(g[46]),null),Z0(g[29]())(e,f=I(c,[(!l||p[0]&2)&&{value:g[1]},(!l||p[0]&4096)&&{required:g[12]},(!l||p[0]&16384)&&{disabled:g[14]},(!l||p[0]&2048)&&{id:g[11]},(!l||p[0]&262144)&&{placeholder:g[18]},(!l||p[0]&65536)&&{autocomplete:g[16]},(!l||p[0]&131072)&&{type:g[17]},(!l||p[0]&524288)&&{autofocus:g[19]},(!l||p[0]&32768)&&{"aria-invalid":g[15]},(!l||p[0]&234938440&&r!==(r=g[26](g[3],g[25].input,{[g[25].disabled]:g[14],[g[25].invalid]:g[15],[g[25].withIcon]:g[6]||g[27]},(w=g[25][`${g[13]}Variant`])!=null?w:{})))&&{class:r},p[1]&4&&g[33]])),n&&tr(n.update)&&p[0]&4&&n.update.call(null,g[2]),Pr(e,"disabled",g[14]),Pr(e,"invalid",g[15])},i(g){l||(te(u,g),l=!0)},o(g){ne(u,g),l=!1},d(g){g&&E(e),u&&u.d(g),t[42](null),o=!1,G(a)}}}function uv(t){let e,r,n,i;return r=new Ra({props:{icon:t[6],iconProps:t[7],iconSize:16}}),{c(){e=Be("div"),_e(r.$$.fragment),k(e,"class",n=t[25].icon)},m(l,o){M(l,e,o),me(r,e,null),i=!0},p(l,o){let a={};o[0]&64&&(a.icon=l[6]),o[0]&128&&(a.iconProps=l[7]),r.$set(a),(!i||o[0]&33554432&&n!==(n=l[25].icon))&&k(e,"class",n)},i(l){i||(te(r.$$.fragment,l),i=!0)},o(l){ne(r.$$.fragment,l),i=!1},d(l){l&&E(e),ge(r)}}}function OV(t){let e,r,n=t[6]&&uv(t);return{c(){n&&n.c(),e=U()},m(i,l){n&&n.m(i,l),M(i,e,l),r=!0},p(i,l){i[6]?n?(n.p(i,l),l[0]&64&&te(n,1)):(n=uv(i),n.c(),te(n,1),n.m(e.parentNode,e)):n&&(Qe(),ne(n,1,1,()=>{n=null}),xe())},i(i){r||(te(n),r=!0)},o(i){ne(n),r=!1},d(i){i&&E(e),n&&n.d(i)}}}function cv(t){let e,r,n,i;return r=new Ra({props:{icon:t[6],iconProps:t[7],iconSize:16}}),{c(){e=Be("div"),_e(r.$$.fragment),k(e,"class",n=t[26](t[25].icon,t[25].iconWrapper))},m(l,o){M(l,e,o),me(r,e,null),i=!0},p(l,o){let a={};o[0]&64&&(a.icon=l[6]),o[0]&128&&(a.iconProps=l[7]),r.$set(a),(!i||o[0]&100663296&&n!==(n=l[26](l[25].icon,l[25].iconWrapper)))&&k(e,"class",n)},i(l){i||(te(r.$$.fragment,l),i=!0)},o(l){ne(r.$$.fragment,l),i=!1},d(l){l&&E(e),ge(r)}}}function fv(t){let e,r,n,i=t[40].rightSection,l=Ye(i,t,t[46],av),o=[t[9],{class:r=t[26](t[25].rightSection,{[t[25].noPointerEvents]:t[20]})}],a={};for(let s=0;s<o.length;s+=1)a=H(a,o[s]);return{c(){e=Be("div"),l&&l.c(),kr(e,a)},m(s,u){M(s,e,u),l&&l.m(e,null),n=!0},p(s,u){l&&l.p&&(!n||u[1]&32768)&&Je(l,i,s,s[46],n?Ge(i,s[46],u,TV):Ke(s[46]),av),kr(e,a=I(o,[u[0]&512&&s[9],(!n||u[0]&101711872&&r!==(r=s[26](s[25].rightSection,{[s[25].noPointerEvents]:s[20]})))&&{class:r}]))},i(s){n||(te(l,s),n=!0)},o(s){ne(l,s),n=!1},d(s){s&&E(e),l&&l.d(s)}}}function VV(t){let e,r,n,i,l,o,a,s,u,c,f=[AV,PV,HV],h=[];function g(P,Z){return Z[0]&4194336&&(e=null),P[22]&&P[5]==="input"?0:(e==null&&(e=!!(P[22]&&IV(String(P[5])))),e?1:P[23]&&typeof P[5]!="string"?2:-1)}~(r=g(t,[-1,-1]))&&(n=h[r]=f[r](t));let p=t[40].icon,w=Ye(p,t,t[46],sv),b=w||OV(t),v=t[6]&&t[32].icon&&!t[27]&&cv(t),S=t[8]&&fv(t);return{c(){n&&n.c(),i=Ze(),l=Be("span"),b&&b.c(),a=Ze(),v&&v.c(),s=Ze(),S&&S.c(),u=U(),k(l,"class",o=t[26]({[t[25].iconWrapper]:!!t[6]||t[27]}))},m(P,Z){~r&&h[r].m(P,Z),M(P,i,Z),M(P,l,Z),b&&b.m(l,null),t[45](l),M(P,a,Z),v&&v.m(P,Z),M(P,s,Z),S&&S.m(P,Z),M(P,u,Z),c=!0},p(P,Z){let y=r;r=g(P,Z),r===y?~r&&h[r].p(P,Z):(n&&(Qe(),ne(h[y],1,1,()=>{h[y]=null}),xe()),~r?(n=h[r],n?n.p(P,Z):(n=h[r]=f[r](P),n.c()),te(n,1),n.m(i.parentNode,i)):n=null),w?w.p&&(!c||Z[1]&32768)&&Je(w,p,P,P[46],c?Ge(p,P[46],Z,zV):Ke(P[46]),sv):b&&b.p&&(!c||Z[0]&33554624)&&b.p(P,c?Z:[-1,-1]),(!c||Z[0]&234881088&&o!==(o=P[26]({[P[25].iconWrapper]:!!P[6]||P[27]})))&&k(l,"class",o),P[6]&&P[32].icon&&!P[27]?v?(v.p(P,Z),Z[0]&134217792|Z[1]&2&&te(v,1)):(v=cv(P),v.c(),te(v,1),v.m(s.parentNode,s)):v&&(Qe(),ne(v,1,1,()=>{v=null}),xe()),P[8]?S?(S.p(P,Z),Z[0]&256&&te(S,1)):(S=fv(P),S.c(),te(S,1),S.m(u.parentNode,u)):S&&(Qe(),ne(S,1,1,()=>{S=null}),xe())},i(P){c||(te(n),te(b,P),te(v),te(S),c=!0)},o(P){ne(n),ne(b,P),ne(v),ne(S),c=!1},d(P){P&&(E(i),E(l),E(a),E(s),E(u)),~r&&h[r].d(P),b&&b.d(P),t[45](null),v&&v.d(P),S&&S.d(P)}}}function ZV(t){let e,r,n=[t[10],{class:t[26](t[25].root,t[24]({css:t[4]}))},t[33]],i={$$slots:{default:[VV]},$$scope:{ctx:t}};for(let l=0;l<n.length;l+=1)i=H(i,n[l]);return e=new At({props:i}),{c(){_e(e.$$.fragment)},m(l,o){me(e,l,o),r=!0},p(l,o){let a=o[0]&117441552|o[1]&4?I(n,[o[0]&1024&&Ie(l[10]),o[0]&117440528&&{class:l[26](l[25].root,l[24]({css:l[4]}))},o[1]&4&&Ie(l[33])]):{};o[0]&251657199|o[1]&32774&&(a.$$scope={dirty:o,ctx:l}),e.$set(a)},i(l){r||(te(e.$$.fragment,l),r=!0)},o(l){ne(e.$$.fragment,l),r=!1},d(l){ge(e,l)}}}function IV(t){return["input","select","textarea","datalist"].includes(t)}function DV(t,e,r){let n,i,l,o,a=["use","element","class","override","root","icon","iconWidth","iconProps","showRightSection","rightSectionWidth","rightSectionProps","wrapperProps","id","required","radius","variant","disabled","size","value","invalid","multiline","autocomplete","type","placeholder","autofocus","resize","noPointerEventsRightSection"],s=D(e,a),{$$slots:u={},$$scope:c}=e,f=B0(u),{use:h=[],element:g=void 0,class:p="",override:w={},root:b="input",icon:v=null,iconWidth:S=36,iconProps:P={size:20,color:"currentColor"},showRightSection:Z=f.rightSection,rightSectionWidth:y=36,rightSectionProps:W={},wrapperProps:X={},id:x="input-id",required:le=!1,radius:oe="sm",variant:$="default",disabled:ee=!1,size:ce="sm",value:Te="",invalid:Pe=!1,multiline:pe=!1,autocomplete:et="on",type:we="text",placeholder:ye=void 0,autofocus:Dt=void 0,resize:Rt="none",noPointerEventsRightSection:ke=!1}=e,ue=Er(Nt());function Jt(){return b}let jt=!0,gr=!1,tn;function Ur(){r(1,Te=this.value)}function mi(ve){ve.target.type==="checkbox"?r(1,Te=ve.target.checked):ve.target.type==="number"||ve.target.type==="range"?r(1,Te=+ve.target.value):r(1,Te=ve.target.value)}function gi(ve){ze[ve?"unshift":"push"](()=>{g=ve,r(0,g)})}function el(ve){ze[ve?"unshift":"push"](()=>{g=ve,r(0,g)})}function uo(ve){g=ve,r(0,g)}function _i(ve){Te=ve,r(1,Te)}function pi(ve){ze[ve?"unshift":"push"](()=>{tn=ve,r(21,tn)})}return t.$$set=ve=>{e=H(H({},e),j(ve)),r(33,s=D(e,a)),"use"in ve&&r(2,h=ve.use),"element"in ve&&r(0,g=ve.element),"class"in ve&&r(3,p=ve.class),"override"in ve&&r(4,w=ve.override),"root"in ve&&r(5,b=ve.root),"icon"in ve&&r(6,v=ve.icon),"iconWidth"in ve&&r(34,S=ve.iconWidth),"iconProps"in ve&&r(7,P=ve.iconProps),"showRightSection"in ve&&r(8,Z=ve.showRightSection),"rightSectionWidth"in ve&&r(35,y=ve.rightSectionWidth),"rightSectionProps"in ve&&r(9,W=ve.rightSectionProps),"wrapperProps"in ve&&r(10,X=ve.wrapperProps),"id"in ve&&r(11,x=ve.id),"required"in ve&&r(12,le=ve.required),"radius"in ve&&r(36,oe=ve.radius),"variant"in ve&&r(13,$=ve.variant),"disabled"in ve&&r(14,ee=ve.disabled),"size"in ve&&r(37,ce=ve.size),"value"in ve&&r(1,Te=ve.value),"invalid"in ve&&r(15,Pe=ve.invalid),"multiline"in ve&&r(38,pe=ve.multiline),"autocomplete"in ve&&r(16,et=ve.autocomplete),"type"in ve&&r(17,we=ve.type),"placeholder"in ve&&r(18,ye=ve.placeholder),"autofocus"in ve&&r(19,Dt=ve.autofocus),"resize"in ve&&r(39,Rt=ve.resize),"noPointerEventsRightSection"in ve&&r(20,ke=ve.noPointerEventsRightSection),"$$scope"in ve&&r(46,c=ve.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&2097152&&r(27,n=!!(tn!=null&&tn.innerHTML)),t.$$.dirty[0]&32&&(r(22,jt=b&&typeof b=="string"),r(23,gr=b&&typeof b=="function")),t.$$.dirty[0]&41280|t.$$.dirty[1]&504&&r(26,{cx:i,classes:l,getStyles:o}=ov({icon:v,iconWidth:S,invalid:Pe,multiline:pe,radius:oe,rightSectionWidth:y,showRightSection:Z,size:ce,resize:Rt,variant:$},{name:"Input"}),i,(r(25,l),r(6,v),r(34,S),r(15,Pe),r(38,pe),r(36,oe),r(35,y),r(8,Z),r(37,ce),r(39,Rt),r(13,$)),(r(24,o),r(6,v),r(34,S),r(15,Pe),r(38,pe),r(36,oe),r(35,y),r(8,Z),r(37,ce),r(39,Rt),r(13,$)))},[g,Te,h,p,w,b,v,P,Z,W,X,x,le,$,ee,Pe,et,we,ye,Dt,ke,tn,jt,gr,o,l,i,n,ue,Jt,Ur,mi,f,s,S,y,oe,ce,pe,Rt,u,gi,el,uo,_i,pi,c]}var vd=class extends R{constructor(e){super(),O(this,e,DV,ZV,B,{use:2,element:0,class:3,override:4,root:5,icon:6,iconWidth:34,iconProps:7,showRightSection:8,rightSectionWidth:35,rightSectionProps:9,wrapperProps:10,id:11,required:12,radius:36,variant:13,disabled:14,size:37,value:1,invalid:15,multiline:38,autocomplete:16,type:17,placeholder:18,autofocus:19,resize:39,noPointerEventsRightSection:20},null,[-1,-1])}},hv=vd;function NV(t){let e,r;return{c(){e=N("svg"),r=N("path"),k(r,"d","M4.93179 5.43179C4.75605 5.60753 4.75605 5.89245 4.93179 6.06819C5.10753 6.24392 5.39245 6.24392 5.56819 6.06819L7.49999 4.13638L9.43179 6.06819C9.60753 6.24392 9.89245 6.24392 10.0682 6.06819C10.2439 5.89245 10.2439 5.60753 10.0682 5.43179L7.81819 3.18179C7.73379 3.0974 7.61933 3.04999 7.49999 3.04999C7.38064 3.04999 7.26618 3.0974 7.18179 3.18179L4.93179 5.43179ZM10.0682 9.56819C10.2439 9.39245 10.2439 9.10753 10.0682 8.93179C9.89245 8.75606 9.60753 8.75606 9.43179 8.93179L7.49999 10.8636L5.56819 8.93179C5.39245 8.75606 5.10753 8.75606 4.93179 8.93179C4.75605 9.10753 4.75605 9.39245 4.93179 9.56819L7.18179 11.8182C7.35753 11.9939 7.64245 11.9939 7.81819 11.8182L10.0682 9.56819Z"),k(r,"fill",t[0]),k(r,"fill-rule","evenodd"),k(r,"clip-rule","evenodd"),k(e,"width",t[1]),k(e,"height",t[1]),k(e,"viewBox","0 0 15 15"),k(e,"fill","none"),k(e,"xmlns","http://www.w3.org/2000/svg"),Ll(e,"color","#868e96"),k(e,"data-chevron","true")},m(n,i){M(n,e,i),V(e,r)},p(n,[i]){i&1&&k(r,"fill",n[0]),i&2&&k(e,"width",n[1]),i&2&&k(e,"height",n[1])},i:A,o:A,d(n){n&&E(e)}}}function FV(t,e,r){let{color:n="currentColor"}=e,{size:i=15}=e;return t.$$set=l=>{"color"in l&&r(0,n=l.color),"size"in l&&r(1,i=l.size)},[n,i]}var wd=class extends R{constructor(e){super(),O(this,e,FV,NV,B,{color:0,size:1})}},kd=wd;function dv(t,e,r){let n=t.slice();return n[35]=e[r],n}var jV=t=>({}),mv=t=>({slot:"icon"}),qV=t=>({size:t[0]&2048,color:t[0]&2048}),gv=t=>({size:t[11].size,color:t[11].color});function _v(t){let e,r,n;return{c(){e=Be("option"),r=ht(t[5]),e.__value="",Nu(e,e.__value),e.disabled=!0,e.hidden=!0,e.selected=n=!t[1]},m(i,l){M(i,e,l),V(e,r)},p(i,l){l[0]&32&&yr(r,i[5]),l[0]&2&&n!==(n=!i[1])&&(e.selected=n)},d(i){i&&E(e)}}}function pv(t){let e;return{c(){e=Be("option"),e.textContent="Add Some Options",e.__value="",Nu(e,e.__value),e.disabled=!0,e.hidden=!0},m(r,n){M(r,e,n)},p:A,d(r){r&&E(e)}}}function Cv(t){var s;let e,r=((s=t[35].label)!=null?s:t[35].value)+"",n,i,l,o,a;return{c(){e=Be("option"),n=ht(r),i=Ze(),e.__value=l=t[35].value,Nu(e,e.__value),e.disabled=o=t[35].disabled,e.selected=a=t[35].value===t[1]},m(u,c){M(u,e,c),V(e,n),V(e,i)},p(u,c){var f;c[0]&16777216&&r!==(r=((f=u[35].label)!=null?f:u[35].value)+"")&&yr(n,r),c[0]&16777216&&l!==(l=u[35].value)&&(e.__value=l,Nu(e,e.__value)),c[0]&16777216&&o!==(o=u[35].disabled)&&(e.disabled=o),c[0]&16777218&&a!==(a=u[35].value===u[1])&&(e.selected=a)},d(u){u&&E(e)}}}function WV(t){let e,r,n=t[5]&&_v(t),i=p1(t[24]),l=[];for(let a=0;a<i.length;a+=1)l[a]=Cv(dv(t,i,a));let o=null;return i.length||(o=pv(t)),{c(){n&&n.c(),e=Ze();for(let a=0;a<l.length;a+=1)l[a].c();r=U(),o&&o.c()},m(a,s){n&&n.m(a,s),M(a,e,s);for(let u=0;u<l.length;u+=1)l[u]&&l[u].m(a,s);M(a,r,s),o&&o.m(a,s)},p(a,s){if(a[5]?n?n.p(a,s):(n=_v(a),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null),s[0]&16777218){i=p1(a[24]);let u;for(u=0;u<i.length;u+=1){let c=dv(a,i,u);l[u]?l[u].p(c,s):(l[u]=Cv(c),l[u].c(),l[u].m(r.parentNode,r))}for(;u<l.length;u+=1)l[u].d(1);l.length=i.length,!i.length&&o?o.p(a,s):i.length?o&&(o.d(1),o=null):(o=pv(a),o.c(),o.m(r.parentNode,r))}},d(a){a&&(E(e),E(r)),n&&n.d(a),V0(l,a),o&&o.d(a)}}}function UV(t){let e,r=t[31].icon,n=Ye(r,t,t[34],mv);return{c(){n&&n.c()},m(i,l){n&&n.m(i,l),e=!0},p(i,l){n&&n.p&&(!e||l[1]&8)&&Je(n,r,i,i[34],e?Ge(r,i[34],l,jV):Ke(i[34]),mv)},i(i){e||(te(n,i),e=!0)},o(i){ne(n,i),e=!1},d(i){n&&n.d(i)}}}function YV(t){let e,r,n;var i=kd;function l(o,a){return{props:{size:o[11].size,color:o[11].color}}}return i&&(e=Lr(i,l(t))),{c(){e&&_e(e.$$.fragment),r=U()},m(o,a){e&&me(e,o,a),M(o,r,a),n=!0},p(o,a){if(i!==(i=kd)){if(e){Qe();let s=e;ne(s.$$.fragment,1,0,()=>{ge(s,1)}),xe()}i?(e=Lr(i,l(o,a)),_e(e.$$.fragment),te(e.$$.fragment,1),me(e,r.parentNode,r)):e=null}else if(i){let s={};a[0]&2048&&(s.size=o[11].size),a[0]&2048&&(s.color=o[11].color),e.$set(s)}},i(o){n||(e&&te(e.$$.fragment,o),n=!0)},o(o){e&&ne(e.$$.fragment,o),n=!1},d(o){o&&E(r),e&&ge(e,o)}}}function GV(t){let e,r=t[31].rightSection,n=Ye(r,t,t[34],gv),i=n||YV(t);return{c(){i&&i.c()},m(l,o){i&&i.m(l,o),e=!0},p(l,o){n?n.p&&(!e||o[0]&2048|o[1]&8)&&Je(n,r,l,l[34],e?Ge(r,l[34],o,qV):Ke(l[34]),gv):i&&i.p&&(!e||o[0]&2048)&&i.p(l,e?o:[-1,-1])},i(l){e||(te(i,l),e=!0)},o(l){ne(i,l),e=!1},d(l){i&&i.d(l)}}}function JV(t){let e,r,n,i,l=[{use:[t[26],[st,t[2]]]},{root:"select"},{id:t[25]},{autocomplete:"off"},{invalid:!!t[20]},{override:{...t[27],...t[6]}},{noPointerEventsRightSection:!0},{size:t[8]},{icon:t[9]},{radius:t[15]},{variant:t[16]},{required:t[14]},{disabled:t[17]},{iconWidth:t[10]},{iconProps:t[11]},{placeholder:t[5]},{rightSectionWidth:t[12]},{rightSectionProps:t[13]},t[28]];function o(u){t[32](u)}function a(u){t[33](u)}let s={$$slots:{rightSection:[GV],icon:[UV],default:[WV]},$$scope:{ctx:t}};for(let u=0;u<l.length;u+=1)s=H(s,l[u]);return t[0]!==void 0&&(s.element=t[0]),t[1]!==void 0&&(s.value=t[1]),e=new hv({props:s}),ze.push(()=>$e(e,"element",o)),ze.push(()=>$e(e,"value",a)),{c(){_e(e.$$.fragment)},m(u,c){me(e,u,c),i=!0},p(u,c){let f=c[0]&504627044?I(l,[c[0]&67108868&&{use:[u[26],[st,u[2]]]},l[1],c[0]&33554432&&{id:u[25]},l[3],c[0]&1048576&&{invalid:!!u[20]},c[0]&134217792&&{override:{...u[27],...u[6]}},l[6],c[0]&256&&{size:u[8]},c[0]&512&&{icon:u[9]},c[0]&32768&&{radius:u[15]},c[0]&65536&&{variant:u[16]},c[0]&16384&&{required:u[14]},c[0]&131072&&{disabled:u[17]},c[0]&1024&&{iconWidth:u[10]},c[0]&2048&&{iconProps:u[11]},c[0]&32&&{placeholder:u[5]},c[0]&4096&&{rightSectionWidth:u[12]},c[0]&8192&&{rightSectionProps:u[13]},c[0]&268435456&&Ie(u[28])]):{};c[0]&16779298|c[1]&8&&(f.$$scope={dirty:c,ctx:u}),!r&&c[0]&1&&(r=!0,f.element=u[0],tt(()=>r=!1)),!n&&c[0]&2&&(n=!0,f.value=u[1],tt(()=>n=!1)),e.$set(f)},i(u){i||(te(e.$$.fragment,u),i=!0)},o(u){ne(e.$$.fragment,u),i=!1},d(u){ge(e,u)}}}function KV(t){let e,r,n=[{id:t[25]},{class:t[3]+" svelteui-NativeSelect-root"},{size:t[8]},{label:t[18]},{error:t[20]},{override:t[4]},{required:t[14]},{labelProps:t[21]},{errorProps:t[23]},{description:t[19]},{descriptionProps:t[22]},t[7]],i={$$slots:{default:[JV]},$$scope:{ctx:t}};for(let l=0;l<n.length;l+=1)i=H(i,n[l]);return e=new $b({props:i}),{c(){_e(e.$$.fragment)},m(l,o){me(e,l,o),r=!0},p(l,o){let a=o[0]&50086296?I(n,[o[0]&33554432&&{id:l[25]},o[0]&8&&{class:l[3]+" svelteui-NativeSelect-root"},o[0]&256&&{size:l[8]},o[0]&262144&&{label:l[18]},o[0]&1048576&&{error:l[20]},o[0]&16&&{override:l[4]},o[0]&16384&&{required:l[14]},o[0]&2097152&&{labelProps:l[21]},o[0]&8388608&&{errorProps:l[23]},o[0]&524288&&{description:l[19]},o[0]&4194304&&{descriptionProps:l[22]},o[0]&128&&Ie(l[7])]):{};o[0]&286523239|o[1]&8&&(a.$$scope={dirty:o,ctx:l}),e.$set(a)},i(l){r||(te(e.$$.fragment,l),r=!0)},o(l){ne(e.$$.fragment,l),r=!1},d(l){ge(e,l)}}}function XV(t,e,r){let n=["use","element","class","override","id","placeholder","data","inputStyle","wrapperProps","size","icon","iconWidth","iconProps","rightSectionWidth","rightSectionProps","required","radius","variant","disabled","value","label","description","error","labelProps","descriptionProps","errorProps"],i=D(e,n),{$$slots:l={},$$scope:o}=e,{use:a=[],element:s=void 0,class:u="",override:c={},id:f="NativeSelect",placeholder:h="",data:g=[],inputStyle:p={},wrapperProps:w={},size:b="sm",icon:v=null,iconWidth:S=36,iconProps:P={size:20,color:"currentColor"},rightSectionWidth:Z=36,rightSectionProps:y={},required:W=!1,radius:X="sm",variant:x="default",disabled:le=!1,value:oe="",label:$="",description:ee="",error:ce="",labelProps:Te={},descriptionProps:Pe={},errorProps:pe={}}=e,et=U8(f),we=[],ye=Er(Nt()),Dt={"& .input":{paddingLeft:12}};function Rt(ue){s=ue,r(0,s)}function ke(ue){oe=ue,r(1,oe)}return t.$$set=ue=>{e=H(H({},e),j(ue)),r(28,i=D(e,n)),"use"in ue&&r(2,a=ue.use),"element"in ue&&r(0,s=ue.element),"class"in ue&&r(3,u=ue.class),"override"in ue&&r(4,c=ue.override),"id"in ue&&r(29,f=ue.id),"placeholder"in ue&&r(5,h=ue.placeholder),"data"in ue&&r(30,g=ue.data),"inputStyle"in ue&&r(6,p=ue.inputStyle),"wrapperProps"in ue&&r(7,w=ue.wrapperProps),"size"in ue&&r(8,b=ue.size),"icon"in ue&&r(9,v=ue.icon),"iconWidth"in ue&&r(10,S=ue.iconWidth),"iconProps"in ue&&r(11,P=ue.iconProps),"rightSectionWidth"in ue&&r(12,Z=ue.rightSectionWidth),"rightSectionProps"in ue&&r(13,y=ue.rightSectionProps),"required"in ue&&r(14,W=ue.required),"radius"in ue&&r(15,X=ue.radius),"variant"in ue&&r(16,x=ue.variant),"disabled"in ue&&r(17,le=ue.disabled),"value"in ue&&r(1,oe=ue.value),"label"in ue&&r(18,$=ue.label),"description"in ue&&r(19,ee=ue.description),"error"in ue&&r(20,ce=ue.error),"labelProps"in ue&&r(21,Te=ue.labelProps),"descriptionProps"in ue&&r(22,Pe=ue.descriptionProps),"errorProps"in ue&&r(23,pe=ue.errorProps),"$$scope"in ue&&r(34,o=ue.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&1073741824&&g&&r(24,we=g.map(ue=>typeof ue=="string"?{label:ue,value:ue}:ue))},[s,oe,a,u,c,h,p,w,b,v,S,P,Z,y,W,X,x,le,$,ee,ce,Te,Pe,pe,we,et,ye,Dt,i,f,g,l,Rt,ke,o]}var yd=class extends R{constructor(e){super(),O(this,e,XV,KV,B,{use:2,element:0,class:3,override:4,id:29,placeholder:5,data:30,inputStyle:6,wrapperProps:7,size:8,icon:9,iconWidth:10,iconProps:11,rightSectionWidth:12,rightSectionProps:13,required:14,radius:15,variant:16,disabled:17,value:1,label:18,description:19,error:20,labelProps:21,descriptionProps:22,errorProps:23},null,[-1,-1])}},Ld=yd;var bv=kt((t,{color:e,radius:r},n)=>{let i=t.fn.radius(r),l=parseInt(i.toString().split("px")[0]),o=Math.min(Math.max(l/1.2,4),30),a=Ml(e).filled;return{root:{darkMode:{backgroundColor:t.fn.themeColor("dark",6),border:`1px solid ${t.fn.themeColor("dark",6)}`},fontFamily:t.fonts.standard.value,boxSizing:"border-box",position:"relative",display:"flex",alignItems:"center",paddingLeft:22,paddingRight:5,paddingTop:t.space.xsPX.value,paddingBottom:t.space.xsPX.value,borderRadius:l,backgroundColor:t.colors.white.value,boxShadow:t.shadows.lg,border:`1px solid ${t.fn.themeColor("gray",2)}`,"&::before":{content:"''",display:"block",position:"absolute",width:6,top:o,bottom:o,left:4,borderRadius:l,backgroundColor:a.backgroundColor},"&.withLoader":{paddingLeft:t.space.xsPX.value,"&::before":{display:"none"}},"&.withIcon":{paddingLeft:t.space.xsPX.value,"&::before":{display:"none"},[`& .${n("icon")}`]:{backgroundColor:a.backgroundColor,color:t.colors.white.value}}},icon:{ref:n("icon"),boxSizing:"border-box",marginRight:t.space.mdPX.value,width:28,height:28,borderRadius:28,display:"flex",flex:"none",alignItems:"center",justifyContent:"center",color:t.colors.white.value},loader:{marginRight:t.space.mdPX.value},content:{flex:1,overflow:"hidden",marginRight:10},title:{darkMode:{color:t.colors.white.value},lineHeight:1.4,marginBottom:2,overflow:"hidden",textOverflow:"ellipsis",color:t.fn.themeColor("gray",9)},description:{darkMode:{color:t.fn.themeColor("dark",2)},color:t.fn.themeColor("gray",6),lineHeight:1.4,overflow:"hidden",textOverflow:"ellipsis","&:only-child":{darkMode:{color:t.fn.themeColor("dark",0)},color:t.colors.black.value}},closeButton:{darkMode:{color:t.colors.white.value},color:t.colors.black.value}}});var QV=t=>({}),vv=t=>({});function wv(t){let e,r,n=[{icon:t[6]},{className:t[12].icon},t[8]],i={};for(let l=0;l<n.length;l+=1)i=H(i,n[l]);return e=new Ra({props:i}),{c(){_e(e.$$.fragment)},m(l,o){me(e,l,o),r=!0},p(l,o){let a=o&4416?I(n,[o&64&&{icon:l[6]},o&4096&&{className:l[12].icon},o&256&&Ie(l[8])]):{};e.$set(a)},i(l){r||(te(e.$$.fragment,l),r=!0)},o(l){ne(e.$$.fragment,l),r=!1},d(l){ge(e,l)}}}function xV(t){let e,r,n=t[6]&&!t[5]&&wv(t);return{c(){n&&n.c(),e=U()},m(i,l){n&&n.m(i,l),M(i,e,l),r=!0},p(i,l){i[6]&&!i[5]?n?(n.p(i,l),l&96&&te(n,1)):(n=wv(i),n.c(),te(n,1),n.m(e.parentNode,e)):n&&(Qe(),ne(n,1,1,()=>{n=null}),xe())},i(i){r||(te(n),r=!0)},o(i){ne(n),r=!1},d(i){i&&E(e),n&&n.d(i)}}}function kv(t){let e,r;return e=new C1({props:{class:t[12].loader,size:28,color:t[4]}}),{c(){_e(e.$$.fragment)},m(n,i){me(e,n,i),r=!0},p(n,i){let l={};i&4096&&(l.class=n[12].loader),i&16&&(l.color=n[4]),e.$set(l)},i(n){r||(te(e.$$.fragment,n),r=!0)},o(n){ne(e.$$.fragment,n),r=!1},d(n){ge(e,n)}}}function yv(t){let e,r;return e=new Ar({props:{class:t[12].title,size:"sm",weight:500,$$slots:{default:[$V]},$$scope:{ctx:t}}}),{c(){_e(e.$$.fragment)},m(n,i){me(e,n,i),r=!0},p(n,i){let l={};i&4096&&(l.class=n[12].title),i&1048584&&(l.$$scope={dirty:i,ctx:n}),e.$set(l)},i(n){r||(te(e.$$.fragment,n),r=!0)},o(n){ne(e.$$.fragment,n),r=!1},d(n){ge(e,n)}}}function $V(t){let e;return{c(){e=ht(t[3])},m(r,n){M(r,e,n)},p(r,n){n&8&&yr(e,r[3])},d(r){r&&E(e)}}}function eZ(t){let e,r=t[18].default,n=Ye(r,t,t[20],null);return{c(){n&&n.c()},m(i,l){n&&n.m(i,l),e=!0},p(i,l){n&&n.p&&(!e||l&1048576)&&Je(n,r,i,i[20],e?Ge(r,i[20],l,null):Ke(i[20]),null)},i(i){e||(te(n,i),e=!0)},o(i){ne(n,i),e=!1},d(i){n&&n.d(i)}}}function Lv(t){let e,r,n=[{class:t[12].closeButton},{"aria-label":t[10]},{variant:"hover"},{size:28},{iconSize:t[7]},t[11]],i={};for(let l=0;l<n.length;l+=1)i=H(i,n[l]);return e=new e9({props:i}),e.$on("click",t[14]),{c(){_e(e.$$.fragment)},m(l,o){me(e,l,o),r=!0},p(l,o){let a=o&7296?I(n,[o&4096&&{class:l[12].closeButton},o&1024&&{"aria-label":l[10]},n[2],n[3],o&128&&{iconSize:l[7]},o&2048&&Ie(l[11])]):{};e.$set(a)},i(l){r||(te(e.$$.fragment,l),r=!0)},o(l){ne(e.$$.fragment,l),r=!1},d(l){ge(e,l)}}}function tZ(t){let e,r,n,i,l,o,a,s,u,c=t[18].icon,f=Ye(c,t,t[20],vv),h=f||xV(t),g=t[5]&&kv(t),p=t[3]&&yv(t);l=new Ar({props:{class:t[12].description,size:"sm",color:"dimmed",$$slots:{default:[eZ]},$$scope:{ctx:t}}});let w=t[9]&&Lv(t);return{c(){h&&h.c(),e=Ze(),g&&g.c(),r=Ze(),n=Be("div"),p&&p.c(),i=Ze(),_e(l.$$.fragment),a=Ze(),w&&w.c(),s=U(),k(n,"class",o=t[12].content)},m(b,v){h&&h.m(b,v),M(b,e,v),g&&g.m(b,v),M(b,r,v),M(b,n,v),p&&p.m(n,null),V(n,i),me(l,n,null),M(b,a,v),w&&w.m(b,v),M(b,s,v),u=!0},p(b,v){f?f.p&&(!u||v&1048576)&&Je(f,c,b,b[20],u?Ge(c,b[20],v,QV):Ke(b[20]),vv):h&&h.p&&(!u||v&4448)&&h.p(b,u?v:-1),b[5]?g?(g.p(b,v),v&32&&te(g,1)):(g=kv(b),g.c(),te(g,1),g.m(r.parentNode,r)):g&&(Qe(),ne(g,1,1,()=>{g=null}),xe()),b[3]?p?(p.p(b,v),v&8&&te(p,1)):(p=yv(b),p.c(),te(p,1),p.m(n,i)):p&&(Qe(),ne(p,1,1,()=>{p=null}),xe());let S={};v&4096&&(S.class=b[12].description),v&1048576&&(S.$$scope={dirty:v,ctx:b}),l.$set(S),(!u||v&4096&&o!==(o=b[12].content))&&k(n,"class",o),b[9]?w?(w.p(b,v),v&512&&te(w,1)):(w=Lv(b),w.c(),te(w,1),w.m(s.parentNode,s)):w&&(Qe(),ne(w,1,1,()=>{w=null}),xe())},i(b){u||(te(h,b),te(g),te(p),te(l.$$.fragment,b),te(w),u=!0)},o(b){ne(h,b),ne(g),ne(p),ne(l.$$.fragment,b),ne(w),u=!1},d(b){b&&(E(e),E(r),E(n),E(a),E(s)),h&&h.d(b),g&&g.d(b),p&&p.d(),ge(l),w&&w.d(b)}}}function rZ(t){let e,r,n,i=[{use:t[1]},{role:"alert"},{class:t[13](t[2],t[12].root,{withIcon:t[6],withLoader:t[5]})},t[15]];function l(a){t[19](a)}let o={$$slots:{default:[tZ]},$$scope:{ctx:t}};for(let a=0;a<i.length;a+=1)o=H(o,i[a]);return t[0]!==void 0&&(o.element=t[0]),e=new At({props:o}),ze.push(()=>$e(e,"element",l)),{c(){_e(e.$$.fragment)},m(a,s){me(e,a,s),n=!0},p(a,[s]){let u=s&45158?I(i,[s&2&&{use:a[1]},i[1],s&12388&&{class:a[13](a[2],a[12].root,{withIcon:a[6],withLoader:a[5]})},s&32768&&Ie(a[15])]):{};s&1056760&&(u.$$scope={dirty:s,ctx:a}),!r&&s&1&&(r=!0,u.element=a[0],tt(()=>r=!1)),e.$set(u)},i(a){n||(te(e.$$.fragment,a),n=!0)},o(a){ne(e.$$.fragment,a),n=!1},d(a){ge(e,a)}}}function nZ(t,e,r){let n,i,l=["use","element","class","override","title","color","radius","loading","icon","iconSize","iconProps","withCloseButton","closeButtonLabel","closeButtonProps"],o=D(e,l),{$$slots:a={},$$scope:s}=e,{use:u=[],element:c=void 0,class:f="blue",override:h={},title:g=void 0,color:p="blue",radius:w="sm",loading:b=!1,icon:v=void 0,iconSize:S=16,iconProps:P={},withCloseButton:Z=!0,closeButtonLabel:y=void 0,closeButtonProps:W={}}=e,X=y8();function x(){X("close")}function le(oe){c=oe,r(0,c)}return t.$$set=oe=>{e=H(H({},e),j(oe)),r(15,o=D(e,l)),"use"in oe&&r(1,u=oe.use),"element"in oe&&r(0,c=oe.element),"class"in oe&&r(2,f=oe.class),"override"in oe&&r(16,h=oe.override),"title"in oe&&r(3,g=oe.title),"color"in oe&&r(4,p=oe.color),"radius"in oe&&r(17,w=oe.radius),"loading"in oe&&r(5,b=oe.loading),"icon"in oe&&r(6,v=oe.icon),"iconSize"in oe&&r(7,S=oe.iconSize),"iconProps"in oe&&r(8,P=oe.iconProps),"withCloseButton"in oe&&r(9,Z=oe.withCloseButton),"closeButtonLabel"in oe&&r(10,y=oe.closeButtonLabel),"closeButtonProps"in oe&&r(11,W=oe.closeButtonProps),"$$scope"in oe&&r(20,s=oe.$$scope)},t.$$.update=()=>{t.$$.dirty&196624&&r(13,{cx:n,classes:i}=bv({color:p,radius:w},{override:h,name:"Notification"}),n,(r(12,i),r(4,p),r(17,w),r(16,h)))},[c,u,f,g,p,b,v,S,P,Z,y,W,i,n,x,o,h,w,a,le,s]}var Ed=class extends R{constructor(e){super(),O(this,e,nZ,rZ,B,{use:1,element:0,class:2,override:16,title:3,color:4,radius:17,loading:5,icon:6,iconSize:7,iconProps:8,withCloseButton:9,closeButtonLabel:10,closeButtonProps:11})}},mc=Ed;var Ev=kt((t,{align:e,bulletSize:r,lineWidth:n})=>({root:{paddingLeft:e==="left"?r/2+n/2:0,paddingRight:e==="left"?0:r/2+n/2}}));function iZ(t){let e,r=t[15].default,n=Ye(r,t,t[17],null);return{c(){n&&n.c()},m(i,l){n&&n.m(i,l),e=!0},p(i,l){n&&n.p&&(!e||l&131072)&&Je(n,r,i,i[17],e?Ge(r,i[17],l,null):Ke(i[17]),null)},i(i){e||(te(n,i),e=!0)},o(i){ne(n,i),e=!1},d(i){n&&n.d(i)}}}function lZ(t){let e,r,n,i=[{use:t[1]},{class:t[4](t[2],t[3].root)},t[6]];function l(a){t[16](a)}let o={$$slots:{default:[iZ]},$$scope:{ctx:t}};for(let a=0;a<i.length;a+=1)o=H(o,i[a]);return t[0]!==void 0&&(o.element=t[0]),e=new At({props:o}),ze.push(()=>$e(e,"element",l)),{c(){_e(e.$$.fragment)},m(a,s){me(e,a,s),n=!0},p(a,[s]){let u=s&94?I(i,[s&2&&{use:a[1]},s&28&&{class:a[4](a[2],a[3].root)},s&64&&Ie(a[6])]):{};s&131072&&(u.$$scope={dirty:s,ctx:a}),!r&&s&1&&(r=!0,u.element=a[0],tt(()=>r=!1)),e.$set(u)},i(a){n||(te(e.$$.fragment,a),n=!0)},o(a){ne(e.$$.fragment,a),n=!1},d(a){ge(e,a)}}}var Md="Timeline";function oZ(t,e,r){let n,i,l=["use","element","class","override","active","align","bulletSize","radius","color","lineWidth","reverseActive"],o=D(e,l),a,{$$slots:s={},$$scope:u}=e,{use:c=[],element:f=void 0,class:h="",override:g={},active:p=-1,align:w="left",bulletSize:b=20,radius:v="xl",color:S="blue",lineWidth:P=4,reverseActive:Z=!1}=e,y=lc({active:p,reverseActive:Z,align:w,bulletSize:b,radius:v,color:S,lineWidth:P});R0(t,y,X=>r(18,a=X)),ju(Md,y);function W(X){f=X,r(0,f)}return t.$$set=X=>{e=H(H({},e),j(X)),r(6,o=D(e,l)),"use"in X&&r(1,c=X.use),"element"in X&&r(0,f=X.element),"class"in X&&r(2,h=X.class),"override"in X&&r(7,g=X.override),"active"in X&&r(8,p=X.active),"align"in X&&r(9,w=X.align),"bulletSize"in X&&r(10,b=X.bulletSize),"radius"in X&&r(11,v=X.radius),"color"in X&&r(12,S=X.color),"lineWidth"in X&&r(13,P=X.lineWidth),"reverseActive"in X&&r(14,Z=X.reverseActive),"$$scope"in X&&r(17,u=X.$$scope)},t.$$.update=()=>{t.$$.dirty&32512&&VC(y,a={active:p,reverseActive:Z,align:w,bulletSize:b,radius:v,color:S,lineWidth:P},a),t.$$.dirty&9856&&r(4,{cx:n,classes:i}=Ev({align:w,bulletSize:b,lineWidth:P},{override:g,name:"Timeline"}),n,(r(3,i),r(9,w),r(10,b),r(13,P),r(7,g)))},[f,c,h,i,n,y,o,g,p,w,b,v,S,P,Z,s,W,u]}var Sd=class extends R{constructor(e){super(),O(this,e,oZ,lZ,B,{use:1,element:0,class:2,override:7,active:8,align:9,bulletSize:10,radius:11,color:12,lineWidth:13,reverseActive:14})}},Td=Sd;var Sv=kt((t,{align:e,bulletSize:r,radius:n,color:i,lineVariant:l,lineWidth:o},a)=>{let s=Ml(i).filled;return{root:{position:"relative",boxSizing:"border-box",color:t.colors.black.value,paddingLeft:e==="left"?t.space.xlPX.value:0,paddingRight:e==="right"?t.space.xlPX.value:0,textAlign:e,fontFamily:t.fonts.standard.value,darkMode:{color:t.fn.themeColor("dark",0)},"&:not(:last-of-type)::before":{display:"block"},"&:not(:first-of-type)":{marginTop:t.space.xlPX.value},"&::before":{boxSizing:"border-box",position:"absolute",top:0,bottom:`${-t.space.xl.value}px`,left:e==="left"?-o:"auto",right:e==="right"?-o:"auto",borderLeft:`${o}px ${l} ${t.fn.themeColor("gray",3)}`,content:'""',display:"none",darkMode:{borderLeft:`${o}px ${l} ${t.fn.themeColor("dark",4)}`}},"&.lineActive":{"&::before":{borderLeftColor:s.backgroundColor}},[`&.active .${a("bulletContainer")}`]:{borderColor:s.backgroundColor,backgroundColor:t.colors.white.value},[`&.active .${a("bulletContainerWithChild")}`]:{backgroundColor:s.backgroundColor,color:t.colors.white.value}},bulletContainer:{ref:a("bulletContainer"),boxSizing:"border-box",width:r,height:r,borderRadius:t.fn.radius(n),border:`${o}px solid ${t.fn.themeColor("gray",3)}`,backgroundColor:t.colors.white.value,position:"absolute",top:0,left:e==="left"?-r/2-o/2:"auto",right:e==="right"?-r/2-o/2:"auto",display:"flex",alignItems:"center",justifyContent:"center",color:t.colors.white.value,darkMode:{border:`${o}px solid ${t.fn.themeColor("dark",4)}`,backgroundColor:t.fn.themeColor("dark",7)}},bulletContainerWithChild:{ref:a("bulletContainerWithChild"),borderWidth:1,backgroundColor:t.fn.themeColor("gray",3),color:t.colors.black.value,darkMode:{backgroundColor:t.fn.themeColor("dark",4),color:t.fn.themeColor("dark",0)}},bullet:{},container:{},title:{fontWeight:500,lineHeight:1,marginBottom:`${+t.space.xs.value/2}px`,textAlign:e},content:{textAlign:e}}});var aZ=t=>({}),Mv=t=>({});function Tv(t){let e,r;return e=new Ra({props:{icon:t[3],className:t[7].bullet,iconSize:t[4],color:t[5]}}),{c(){_e(e.$$.fragment)},m(n,i){me(e,n,i),r=!0},p(n,i){let l={};i&8&&(l.icon=n[3]),i&128&&(l.className=n[7].bullet),i&16&&(l.iconSize=n[4]),i&32&&(l.color=n[5]),e.$set(l)},i(n){r||(te(e.$$.fragment,n),r=!0)},o(n){ne(e.$$.fragment,n),r=!1},d(n){ge(e,n)}}}function sZ(t){let e,r,n=t[3]&&Tv(t);return{c(){n&&n.c(),e=U()},m(i,l){n&&n.m(i,l),M(i,e,l),r=!0},p(i,l){i[3]?n?(n.p(i,l),l&8&&te(n,1)):(n=Tv(i),n.c(),te(n,1),n.m(e.parentNode,e)):n&&(Qe(),ne(n,1,1,()=>{n=null}),xe())},i(i){r||(te(n),r=!0)},o(i){ne(n),r=!1},d(i){i&&E(e),n&&n.d(i)}}}function zv(t){let e,r;return e=new Ar({props:{class:t[7].title,$$slots:{default:[uZ]},$$scope:{ctx:t}}}),{c(){_e(e.$$.fragment)},m(n,i){me(e,n,i),r=!0},p(n,i){let l={};i&128&&(l.class=n[7].title),i&268435520&&(l.$$scope={dirty:i,ctx:n}),e.$set(l)},i(n){r||(te(e.$$.fragment,n),r=!0)},o(n){ne(e.$$.fragment,n),r=!1},d(n){ge(e,n)}}}function uZ(t){let e;return{c(){e=ht(t[6])},m(r,n){M(r,e,n)},p(r,n){n&64&&yr(e,r[6])},d(r){r&&E(e)}}}function cZ(t){let e,r,n,i,l,o,a,s,u,c=t[26].bullet,f=Ye(c,t,t[28],Mv),h=f||sZ(t),g=t[6]&&zv(t),p=t[26].default,w=Ye(p,t,t[28],null);return{c(){e=Be("div"),h&&h.c(),n=Ze(),i=Be("div"),g&&g.c(),l=Ze(),o=Be("div"),w&&w.c(),k(e,"class",r=t[8](t[7].bulletContainer,t[3]&&t[7].bulletContainerWithChild)),k(o,"class",a=t[7].content),k(i,"class",s=t[7].container)},m(b,v){M(b,e,v),h&&h.m(e,null),M(b,n,v),M(b,i,v),g&&g.m(i,null),V(i,l),V(i,o),w&&w.m(o,null),u=!0},p(b,v){f?f.p&&(!u||v&268435456)&&Je(f,c,b,b[28],u?Ge(c,b[28],v,aZ):Ke(b[28]),Mv):h&&h.p&&(!u||v&184)&&h.p(b,u?v:-1),(!u||v&392&&r!==(r=b[8](b[7].bulletContainer,b[3]&&b[7].bulletContainerWithChild)))&&k(e,"class",r),b[6]?g?(g.p(b,v),v&64&&te(g,1)):(g=zv(b),g.c(),te(g,1),g.m(i,l)):g&&(Qe(),ne(g,1,1,()=>{g=null}),xe()),w&&w.p&&(!u||v&268435456)&&Je(w,p,b,b[28],u?Ge(p,b[28],v,null):Ke(b[28]),null),(!u||v&128&&a!==(a=b[7].content))&&k(o,"class",a),(!u||v&128&&s!==(s=b[7].container))&&k(i,"class",s)},i(b){u||(te(h,b),te(g),te(w,b),u=!0)},o(b){ne(h,b),ne(g),ne(w,b),u=!1},d(b){b&&(E(e),E(n),E(i)),h&&h.d(b),g&&g.d(),w&&w.d(b)}}}function fZ(t){let e,r,n,i=[{use:t[1]},{class:t[8](t[2],t[7].root,{lineActive:t[9],active:t[10]})},t[12]];function l(a){t[27](a)}let o={$$slots:{default:[cZ]},$$scope:{ctx:t}};for(let a=0;a<i.length;a+=1)o=H(o,i[a]);return t[0]!==void 0&&(o.element=t[0]),e=new At({props:o}),ze.push(()=>$e(e,"element",l)),{c(){_e(e.$$.fragment)},m(a,s){me(e,a,s),n=!0},p(a,[s]){let u=s&6022?I(i,[s&2&&{use:a[1]},s&1924&&{class:a[8](a[2],a[7].root,{lineActive:a[9],active:a[10]})},s&4096&&Ie(a[12])]):{};s&268435960&&(u.$$scope={dirty:s,ctx:a}),!r&&s&1&&(r=!0,u.element=a[0],tt(()=>r=!1)),e.$set(u)},i(a){n||(te(e.$$.fragment,a),n=!0)},o(a){ne(e.$$.fragment,a),n=!1},d(a){ge(e,a)}}}function hZ(t,e,r){let n,i,l,o,a,s,u,c,f,h=["use","element","class","override","active","align","bullet","bulletSize","radius","color","lineActive","lineVariant","lineWidth","title"],g=D(e,h),p,{$$slots:w={},$$scope:b}=e,{use:v=[],element:S=void 0,class:P="",override:Z={},active:y=void 0,align:W=void 0,bullet:X=void 0,bulletSize:x=void 0,radius:le=void 0,color:oe=void 0,lineActive:$=void 0,lineVariant:ee="solid",lineWidth:ce=void 0,title:Te=void 0}=e,Pe=K(Md);R0(t,Pe,we=>r(25,p=we));function pe(){if(!S)return;let we=S.parentNode.children,ye=Array.prototype.indexOf.call(we,S);r(10,n=y!==void 0?y:p.reverseActive?p.active>=we.length-ye-1:p.active>=ye),r(9,i=$!==void 0?$:p.reverseActive?p.active>=we.length-ye-1:p.active-1>=ye)}El(()=>pe());function et(we){S=we,r(0,S)}return t.$$set=we=>{e=H(H({},e),j(we)),r(12,g=D(e,h)),"use"in we&&r(1,v=we.use),"element"in we&&r(0,S=we.element),"class"in we&&r(2,P=we.class),"override"in we&&r(13,Z=we.override),"active"in we&&r(14,y=we.active),"align"in we&&r(15,W=we.align),"bullet"in we&&r(3,X=we.bullet),"bulletSize"in we&&r(4,x=we.bulletSize),"radius"in we&&r(16,le=we.radius),"color"in we&&r(5,oe=we.color),"lineActive"in we&&r(17,$=we.lineActive),"lineVariant"in we&&r(18,ee=we.lineVariant),"lineWidth"in we&&r(19,ce=we.lineWidth),"title"in we&&r(6,Te=we.title),"$$scope"in we&&r(28,b=we.$$scope)},t.$$.update=()=>{t.$$.dirty&16384&&r(10,n=y),t.$$.dirty&131072&&r(9,i=$),t.$$.dirty&33587200&&r(24,l=W!==void 0?W:p.align),t.$$.dirty&33554464&&r(21,o=oe!==void 0?oe:p.color),t.$$.dirty&33619968&&r(22,a=le!==void 0?le:p.radius),t.$$.dirty&33554448&&r(23,s=x!==void 0?x:p.bulletSize),t.$$.dirty&34078720&&r(20,u=ce!==void 0?ce:p.lineWidth),t.$$.dirty&33554432&&pe(),t.$$.dirty&32776192&&r(8,{cx:c,classes:f}=Sv({align:l,bulletSize:s,radius:a,color:o,lineVariant:ee,lineWidth:u},{override:Z,name:"TimelineItem"}),c,(r(7,f),r(24,l),r(23,s),r(22,a),r(21,o),r(18,ee),r(20,u),r(13,Z),r(15,W),r(25,p),r(4,x),r(16,le),r(5,oe),r(19,ce)))},[S,v,P,X,x,oe,Te,f,c,i,n,Pe,g,Z,y,W,le,$,ee,ce,u,o,a,s,l,p,w,et,b]}var zd=class extends R{constructor(e){super(),O(this,e,hZ,fZ,B,{use:1,element:0,class:2,override:13,active:14,align:15,bullet:3,bulletSize:4,radius:16,color:5,lineActive:17,lineVariant:18,lineWidth:19,title:6})}},Hv=zd;Td.Item=Hv;var W0=Td;var Av=Symbol("Let zodToJsonSchema decide on which parser to use"),Pv={name:void 0,$refStrategy:"root",basePath:["#"],effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",removeAdditionalStrategy:"passthrough",definitionPath:"definitions",target:"jsonSchema7",strictUnions:!1,definitions:{},errorMessages:!1,markdownDescription:!1,patternStrategy:"escape",applyRegexFlags:!1,emailStrategy:"format:email",base64Strategy:"contentEncoding:base64",nameStrategy:"ref"},Rv=t=>typeof t=="string"?{...Pv,name:t}:{...Pv,...t};var Bv=t=>{let e=Rv(t),r=e.name!==void 0?[...e.basePath,e.definitionPath,e.name]:e.basePath;return{...e,currentPath:r,propertyPath:void 0,seen:new Map(Object.entries(e.definitions).map(([n,i])=>[i._def,{def:i._def,path:[...e.basePath,e.definitionPath,n],jsonSchema:void 0}]))}};function Hd(t,e,r,n){n!=null&&n.errorMessages&&r&&(t.errorMessage={...t.errorMessage,[e]:r})}function _t(t,e,r,n,i){t[e]=r,Hd(t,e,n,i)}var wt;(function(t){t.assertEqual=i=>i;function e(i){}t.assertIs=e;function r(i){throw new Error}t.assertNever=r,t.arrayToEnum=i=>{let l={};for(let o of i)l[o]=o;return l},t.getValidEnumValues=i=>{let l=t.objectKeys(i).filter(a=>typeof i[i[a]]!="number"),o={};for(let a of l)o[a]=i[a];return t.objectValues(o)},t.objectValues=i=>t.objectKeys(i).map(function(l){return i[l]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{let l=[];for(let o in i)Object.prototype.hasOwnProperty.call(i,o)&&l.push(o);return l},t.find=(i,l)=>{for(let o of i)if(l(o))return o},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function n(i,l=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(l)}t.joinValues=n,t.jsonStringifyReplacer=(i,l)=>typeof l=="bigint"?l.toString():l})(wt||(wt={}));var Ad;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(Ad||(Ad={}));var He=wt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),zl=t=>{switch(typeof t){case"undefined":return He.undefined;case"string":return He.string;case"number":return isNaN(t)?He.nan:He.number;case"boolean":return He.boolean;case"function":return He.function;case"bigint":return He.bigint;case"symbol":return He.symbol;case"object":return Array.isArray(t)?He.array:t===null?He.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?He.promise:typeof Map!="undefined"&&t instanceof Map?He.map:typeof Set!="undefined"&&t instanceof Set?He.set:typeof Date!="undefined"&&t instanceof Date?He.date:He.object;default:return He.unknown}},Ce=wt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),dZ=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:"),n1=class t extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};let r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}format(e){let r=e||function(l){return l.message},n={_errors:[]},i=l=>{for(let o of l.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let a=n,s=0;for(;s<o.path.length;){let u=o.path[s];s===o.path.length-1?(a[u]=a[u]||{_errors:[]},a[u]._errors.push(r(o))):a[u]=a[u]||{_errors:[]},a=a[u],s++}}};return i(this),n}static assert(e){if(!(e instanceof t))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,wt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){let r={},n=[];for(let i of this.issues)i.path.length>0?(r[i.path[0]]=r[i.path[0]]||[],r[i.path[0]].push(e(i))):n.push(e(i));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}};n1.create=t=>new n1(t);var G0=(t,e)=>{let r;switch(t.code){case Ce.invalid_type:t.received===He.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case Ce.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,wt.jsonStringifyReplacer)}`;break;case Ce.unrecognized_keys:r=`Unrecognized key(s) in object: ${wt.joinValues(t.keys,", ")}`;break;case Ce.invalid_union:r="Invalid input";break;case Ce.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${wt.joinValues(t.options)}`;break;case Ce.invalid_enum_value:r=`Invalid enum value. Expected ${wt.joinValues(t.options)}, received '${t.received}'`;break;case Ce.invalid_arguments:r="Invalid function arguments";break;case Ce.invalid_return_type:r="Invalid function return type";break;case Ce.invalid_date:r="Invalid date";break;case Ce.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:wt.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case Ce.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case Ce.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case Ce.custom:r="Invalid input";break;case Ce.invalid_intersection_types:r="Intersection results could not be merged";break;case Ce.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case Ce.not_finite:r="Number must be finite";break;default:r=e.defaultError,wt.assertNever(t)}return{message:r}},Zv=G0;function mZ(t){Zv=t}function gc(){return Zv}var _c=t=>{let{data:e,path:r,errorMaps:n,issueData:i}=t,l=[...r,...i.path||[]],o={...i,path:l};if(i.message!==void 0)return{...i,path:l,message:i.message};let a="",s=n.filter(u=>!!u).slice().reverse();for(let u of s)a=u(o,{data:e,defaultError:a}).message;return{...i,path:l,message:a}},gZ=[];function Ee(t,e){let r=gc(),n=_c({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===G0?void 0:G0].filter(i=>!!i)});t.common.issues.push(n)}var Kr=class t{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){let n=[];for(let i of r){if(i.status==="aborted")return Ue;i.status==="dirty"&&e.dirty(),n.push(i.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,r){let n=[];for(let i of r){let l=await i.key,o=await i.value;n.push({key:l,value:o})}return t.mergeObjectSync(e,n)}static mergeObjectSync(e,r){let n={};for(let i of r){let{key:l,value:o}=i;if(l.status==="aborted"||o.status==="aborted")return Ue;l.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),l.value!=="__proto__"&&(typeof o.value!="undefined"||i.alwaysSet)&&(n[l.value]=o.value)}return{status:e.value,value:n}}},Ue=Object.freeze({status:"aborted"}),Y0=t=>({status:"dirty",value:t}),un=t=>({status:"valid",value:t}),Rd=t=>t.status==="aborted",Bd=t=>t.status==="dirty",Ba=t=>t.status==="valid",l9=t=>typeof Promise!="undefined"&&t instanceof Promise;function pc(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)}function Iv(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r}var Ve;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(Ve||(Ve={}));var n9,i9,b1=class{constructor(e,r,n,i){this._cachedPath=[],this.parent=e,this.data=r,this._path=n,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}},Ov=(t,e)=>{if(Ba(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let r=new n1(t.common.issues);return this._error=r,this._error}}};function nt(t){if(!t)return{};let{errorMap:e,invalid_type_error:r,required_error:n,description:i}=t;if(e&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(o,a)=>{var s,u;let{message:c}=t;return o.code==="invalid_enum_value"?{message:c!=null?c:a.defaultError}:typeof a.data=="undefined"?{message:(s=c!=null?c:n)!==null&&s!==void 0?s:a.defaultError}:o.code!=="invalid_type"?{message:a.defaultError}:{message:(u=c!=null?c:r)!==null&&u!==void 0?u:a.defaultError}},description:i}}var it=class{get description(){return this._def.description}_getType(e){return zl(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:zl(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Kr,ctx:{common:e.parent.common,data:e.data,parsedType:zl(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){let r=this._parse(e);if(l9(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){let r=this._parse(e);return Promise.resolve(r)}parse(e,r){let n=this.safeParse(e,r);if(n.success)return n.data;throw n.error}safeParse(e,r){var n;let i={common:{issues:[],async:(n=r==null?void 0:r.async)!==null&&n!==void 0?n:!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:zl(e)},l=this._parseSync({data:e,path:i.path,parent:i});return Ov(i,l)}"~validate"(e){var r,n;let i={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:zl(e)};if(!this["~standard"].async)try{let l=this._parseSync({data:e,path:[],parent:i});return Ba(l)?{value:l.value}:{issues:i.common.issues}}catch(l){!((n=(r=l==null?void 0:l.message)===null||r===void 0?void 0:r.toLowerCase())===null||n===void 0)&&n.includes("encountered")&&(this["~standard"].async=!0),i.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:i}).then(l=>Ba(l)?{value:l.value}:{issues:i.common.issues})}async parseAsync(e,r){let n=await this.safeParseAsync(e,r);if(n.success)return n.data;throw n.error}async safeParseAsync(e,r){let n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:zl(e)},i=this._parse({data:e,path:n.path,parent:n}),l=await(l9(i)?i:Promise.resolve(i));return Ov(n,l)}refine(e,r){let n=i=>typeof r=="string"||typeof r=="undefined"?{message:r}:typeof r=="function"?r(i):r;return this._refinement((i,l)=>{let o=e(i),a=()=>l.addIssue({code:Ce.custom,...n(i)});return typeof Promise!="undefined"&&o instanceof Promise?o.then(s=>s?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(e,r){return this._refinement((n,i)=>e(n)?!0:(i.addIssue(typeof r=="function"?r(n,i):r),!1))}_refinement(e){return new i1({schema:this,typeName:be.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return zn.create(this,this._def)}nullable(){return Pi.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Pl.create(this)}promise(){return Ro.create(this,this._def)}or(e){return Fa.create([this,e],this._def)}and(e){return ja.create(this,e,this._def)}transform(e){return new i1({...nt(this._def),schema:this,typeName:be.ZodEffects,effect:{type:"transform",transform:e}})}default(e){let r=typeof e=="function"?e:()=>e;return new Ga({...nt(this._def),innerType:this,defaultValue:r,typeName:be.ZodDefault})}brand(){return new o9({typeName:be.ZodBranded,type:this,...nt(this._def)})}catch(e){let r=typeof e=="function"?e:()=>e;return new Ja({...nt(this._def),innerType:this,catchValue:r,typeName:be.ZodCatch})}describe(e){let r=this.constructor;return new r({...this._def,description:e})}pipe(e){return a9.create(this,e)}readonly(){return Ka.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}},_Z=/^c[^\s-]{8,}$/i,pZ=/^[0-9a-z]+$/,CZ=/^[0-9A-HJKMNP-TV-Z]{26}$/i,bZ=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,vZ=/^[a-z0-9_-]{21}$/i,wZ=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,kZ=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,yZ=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,LZ="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",Pd,EZ=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,SZ=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,MZ=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,TZ=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,zZ=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,HZ=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Dv="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",PZ=new RegExp(`^${Dv}$`);function Nv(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function AZ(t){return new RegExp(`^${Nv(t)}$`)}function Fv(t){let e=`${Dv}T${Nv(t)}`,r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${r.join("|")})`,new RegExp(`^${e}$`)}function RZ(t,e){return!!((e==="v4"||!e)&&EZ.test(t)||(e==="v6"||!e)&&MZ.test(t))}function BZ(t,e){if(!wZ.test(t))return!1;try{let[r]=t.split("."),n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),i=JSON.parse(atob(n));return!(typeof i!="object"||i===null||!i.typ||!i.alg||e&&i.alg!==e)}catch(r){return!1}}function OZ(t,e){return!!((e==="v4"||!e)&&SZ.test(t)||(e==="v6"||!e)&&TZ.test(t))}var Po=class t extends it{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==He.string){let l=this._getOrReturnCtx(e);return Ee(l,{code:Ce.invalid_type,expected:He.string,received:l.parsedType}),Ue}let n=new Kr,i;for(let l of this._def.checks)if(l.kind==="min")e.data.length<l.value&&(i=this._getOrReturnCtx(e,i),Ee(i,{code:Ce.too_small,minimum:l.value,type:"string",inclusive:!0,exact:!1,message:l.message}),n.dirty());else if(l.kind==="max")e.data.length>l.value&&(i=this._getOrReturnCtx(e,i),Ee(i,{code:Ce.too_big,maximum:l.value,type:"string",inclusive:!0,exact:!1,message:l.message}),n.dirty());else if(l.kind==="length"){let o=e.data.length>l.value,a=e.data.length<l.value;(o||a)&&(i=this._getOrReturnCtx(e,i),o?Ee(i,{code:Ce.too_big,maximum:l.value,type:"string",inclusive:!0,exact:!0,message:l.message}):a&&Ee(i,{code:Ce.too_small,minimum:l.value,type:"string",inclusive:!0,exact:!0,message:l.message}),n.dirty())}else if(l.kind==="email")yZ.test(e.data)||(i=this._getOrReturnCtx(e,i),Ee(i,{validation:"email",code:Ce.invalid_string,message:l.message}),n.dirty());else if(l.kind==="emoji")Pd||(Pd=new RegExp(LZ,"u")),Pd.test(e.data)||(i=this._getOrReturnCtx(e,i),Ee(i,{validation:"emoji",code:Ce.invalid_string,message:l.message}),n.dirty());else if(l.kind==="uuid")bZ.test(e.data)||(i=this._getOrReturnCtx(e,i),Ee(i,{validation:"uuid",code:Ce.invalid_string,message:l.message}),n.dirty());else if(l.kind==="nanoid")vZ.test(e.data)||(i=this._getOrReturnCtx(e,i),Ee(i,{validation:"nanoid",code:Ce.invalid_string,message:l.message}),n.dirty());else if(l.kind==="cuid")_Z.test(e.data)||(i=this._getOrReturnCtx(e,i),Ee(i,{validation:"cuid",code:Ce.invalid_string,message:l.message}),n.dirty());else if(l.kind==="cuid2")pZ.test(e.data)||(i=this._getOrReturnCtx(e,i),Ee(i,{validation:"cuid2",code:Ce.invalid_string,message:l.message}),n.dirty());else if(l.kind==="ulid")CZ.test(e.data)||(i=this._getOrReturnCtx(e,i),Ee(i,{validation:"ulid",code:Ce.invalid_string,message:l.message}),n.dirty());else if(l.kind==="url")try{new URL(e.data)}catch(o){i=this._getOrReturnCtx(e,i),Ee(i,{validation:"url",code:Ce.invalid_string,message:l.message}),n.dirty()}else l.kind==="regex"?(l.regex.lastIndex=0,l.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),Ee(i,{validation:"regex",code:Ce.invalid_string,message:l.message}),n.dirty())):l.kind==="trim"?e.data=e.data.trim():l.kind==="includes"?e.data.includes(l.value,l.position)||(i=this._getOrReturnCtx(e,i),Ee(i,{code:Ce.invalid_string,validation:{includes:l.value,position:l.position},message:l.message}),n.dirty()):l.kind==="toLowerCase"?e.data=e.data.toLowerCase():l.kind==="toUpperCase"?e.data=e.data.toUpperCase():l.kind==="startsWith"?e.data.startsWith(l.value)||(i=this._getOrReturnCtx(e,i),Ee(i,{code:Ce.invalid_string,validation:{startsWith:l.value},message:l.message}),n.dirty()):l.kind==="endsWith"?e.data.endsWith(l.value)||(i=this._getOrReturnCtx(e,i),Ee(i,{code:Ce.invalid_string,validation:{endsWith:l.value},message:l.message}),n.dirty()):l.kind==="datetime"?Fv(l).test(e.data)||(i=this._getOrReturnCtx(e,i),Ee(i,{code:Ce.invalid_string,validation:"datetime",message:l.message}),n.dirty()):l.kind==="date"?PZ.test(e.data)||(i=this._getOrReturnCtx(e,i),Ee(i,{code:Ce.invalid_string,validation:"date",message:l.message}),n.dirty()):l.kind==="time"?AZ(l).test(e.data)||(i=this._getOrReturnCtx(e,i),Ee(i,{code:Ce.invalid_string,validation:"time",message:l.message}),n.dirty()):l.kind==="duration"?kZ.test(e.data)||(i=this._getOrReturnCtx(e,i),Ee(i,{validation:"duration",code:Ce.invalid_string,message:l.message}),n.dirty()):l.kind==="ip"?RZ(e.data,l.version)||(i=this._getOrReturnCtx(e,i),Ee(i,{validation:"ip",code:Ce.invalid_string,message:l.message}),n.dirty()):l.kind==="jwt"?BZ(e.data,l.alg)||(i=this._getOrReturnCtx(e,i),Ee(i,{validation:"jwt",code:Ce.invalid_string,message:l.message}),n.dirty()):l.kind==="cidr"?OZ(e.data,l.version)||(i=this._getOrReturnCtx(e,i),Ee(i,{validation:"cidr",code:Ce.invalid_string,message:l.message}),n.dirty()):l.kind==="base64"?zZ.test(e.data)||(i=this._getOrReturnCtx(e,i),Ee(i,{validation:"base64",code:Ce.invalid_string,message:l.message}),n.dirty()):l.kind==="base64url"?HZ.test(e.data)||(i=this._getOrReturnCtx(e,i),Ee(i,{validation:"base64url",code:Ce.invalid_string,message:l.message}),n.dirty()):wt.assertNever(l);return{status:n.value,value:e.data}}_regex(e,r,n){return this.refinement(i=>e.test(i),{validation:r,code:Ce.invalid_string,...Ve.errToObj(n)})}_addCheck(e){return new t({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Ve.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Ve.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Ve.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Ve.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...Ve.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Ve.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Ve.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Ve.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...Ve.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...Ve.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...Ve.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Ve.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...Ve.errToObj(e)})}datetime(e){var r,n;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)=="undefined"?null:e==null?void 0:e.precision,offset:(r=e==null?void 0:e.offset)!==null&&r!==void 0?r:!1,local:(n=e==null?void 0:e.local)!==null&&n!==void 0?n:!1,...Ve.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)=="undefined"?null:e==null?void 0:e.precision,...Ve.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...Ve.errToObj(e)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...Ve.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r==null?void 0:r.position,...Ve.errToObj(r==null?void 0:r.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...Ve.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...Ve.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...Ve.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...Ve.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...Ve.errToObj(r)})}nonempty(e){return this.min(1,Ve.errToObj(e))}trim(){return new t({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new t({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new t({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}};Po.create=t=>{var e;return new Po({checks:[],typeName:be.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...nt(t)})};function VZ(t,e){let r=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,i=r>n?r:n,l=parseInt(t.toFixed(i).replace(".","")),o=parseInt(e.toFixed(i).replace(".",""));return l%o/Math.pow(10,i)}var Oa=class t extends it{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==He.number){let l=this._getOrReturnCtx(e);return Ee(l,{code:Ce.invalid_type,expected:He.number,received:l.parsedType}),Ue}let n,i=new Kr;for(let l of this._def.checks)l.kind==="int"?wt.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),Ee(n,{code:Ce.invalid_type,expected:"integer",received:"float",message:l.message}),i.dirty()):l.kind==="min"?(l.inclusive?e.data<l.value:e.data<=l.value)&&(n=this._getOrReturnCtx(e,n),Ee(n,{code:Ce.too_small,minimum:l.value,type:"number",inclusive:l.inclusive,exact:!1,message:l.message}),i.dirty()):l.kind==="max"?(l.inclusive?e.data>l.value:e.data>=l.value)&&(n=this._getOrReturnCtx(e,n),Ee(n,{code:Ce.too_big,maximum:l.value,type:"number",inclusive:l.inclusive,exact:!1,message:l.message}),i.dirty()):l.kind==="multipleOf"?VZ(e.data,l.value)!==0&&(n=this._getOrReturnCtx(e,n),Ee(n,{code:Ce.not_multiple_of,multipleOf:l.value,message:l.message}),i.dirty()):l.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),Ee(n,{code:Ce.not_finite,message:l.message}),i.dirty()):wt.assertNever(l);return{status:i.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,Ve.toString(r))}gt(e,r){return this.setLimit("min",e,!1,Ve.toString(r))}lte(e,r){return this.setLimit("max",e,!0,Ve.toString(r))}lt(e,r){return this.setLimit("max",e,!1,Ve.toString(r))}setLimit(e,r,n,i){return new t({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:Ve.toString(i)}]})}_addCheck(e){return new t({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Ve.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Ve.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Ve.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Ve.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Ve.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:Ve.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:Ve.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Ve.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Ve.toString(e)})}get minValue(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&wt.isInteger(e.value))}get isFinite(){let e=null,r=null;for(let n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(r)&&Number.isFinite(e)}};Oa.create=t=>new Oa({checks:[],typeName:be.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...nt(t)});var Va=class t extends it{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch(l){return this._getInvalidInput(e)}if(this._getType(e)!==He.bigint)return this._getInvalidInput(e);let n,i=new Kr;for(let l of this._def.checks)l.kind==="min"?(l.inclusive?e.data<l.value:e.data<=l.value)&&(n=this._getOrReturnCtx(e,n),Ee(n,{code:Ce.too_small,type:"bigint",minimum:l.value,inclusive:l.inclusive,message:l.message}),i.dirty()):l.kind==="max"?(l.inclusive?e.data>l.value:e.data>=l.value)&&(n=this._getOrReturnCtx(e,n),Ee(n,{code:Ce.too_big,type:"bigint",maximum:l.value,inclusive:l.inclusive,message:l.message}),i.dirty()):l.kind==="multipleOf"?e.data%l.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),Ee(n,{code:Ce.not_multiple_of,multipleOf:l.value,message:l.message}),i.dirty()):wt.assertNever(l);return{status:i.value,value:e.data}}_getInvalidInput(e){let r=this._getOrReturnCtx(e);return Ee(r,{code:Ce.invalid_type,expected:He.bigint,received:r.parsedType}),Ue}gte(e,r){return this.setLimit("min",e,!0,Ve.toString(r))}gt(e,r){return this.setLimit("min",e,!1,Ve.toString(r))}lte(e,r){return this.setLimit("max",e,!0,Ve.toString(r))}lt(e,r){return this.setLimit("max",e,!1,Ve.toString(r))}setLimit(e,r,n,i){return new t({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:Ve.toString(i)}]})}_addCheck(e){return new t({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Ve.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Ve.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Ve.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Ve.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:Ve.toString(r)})}get minValue(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}};Va.create=t=>{var e;return new Va({checks:[],typeName:be.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...nt(t)})};var Za=class extends it{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==He.boolean){let n=this._getOrReturnCtx(e);return Ee(n,{code:Ce.invalid_type,expected:He.boolean,received:n.parsedType}),Ue}return un(e.data)}};Za.create=t=>new Za({typeName:be.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...nt(t)});var Ia=class t extends it{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==He.date){let l=this._getOrReturnCtx(e);return Ee(l,{code:Ce.invalid_type,expected:He.date,received:l.parsedType}),Ue}if(isNaN(e.data.getTime())){let l=this._getOrReturnCtx(e);return Ee(l,{code:Ce.invalid_date}),Ue}let n=new Kr,i;for(let l of this._def.checks)l.kind==="min"?e.data.getTime()<l.value&&(i=this._getOrReturnCtx(e,i),Ee(i,{code:Ce.too_small,message:l.message,inclusive:!0,exact:!1,minimum:l.value,type:"date"}),n.dirty()):l.kind==="max"?e.data.getTime()>l.value&&(i=this._getOrReturnCtx(e,i),Ee(i,{code:Ce.too_big,message:l.message,inclusive:!0,exact:!1,maximum:l.value,type:"date"}),n.dirty()):wt.assertNever(l);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new t({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:Ve.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:Ve.toString(r)})}get minDate(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}};Ia.create=t=>new Ia({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:be.ZodDate,...nt(t)});var J0=class extends it{_parse(e){if(this._getType(e)!==He.symbol){let n=this._getOrReturnCtx(e);return Ee(n,{code:Ce.invalid_type,expected:He.symbol,received:n.parsedType}),Ue}return un(e.data)}};J0.create=t=>new J0({typeName:be.ZodSymbol,...nt(t)});var Da=class extends it{_parse(e){if(this._getType(e)!==He.undefined){let n=this._getOrReturnCtx(e);return Ee(n,{code:Ce.invalid_type,expected:He.undefined,received:n.parsedType}),Ue}return un(e.data)}};Da.create=t=>new Da({typeName:be.ZodUndefined,...nt(t)});var Na=class extends it{_parse(e){if(this._getType(e)!==He.null){let n=this._getOrReturnCtx(e);return Ee(n,{code:Ce.invalid_type,expected:He.null,received:n.parsedType}),Ue}return un(e.data)}};Na.create=t=>new Na({typeName:be.ZodNull,...nt(t)});var Ao=class extends it{constructor(){super(...arguments),this._any=!0}_parse(e){return un(e.data)}};Ao.create=t=>new Ao({typeName:be.ZodAny,...nt(t)});var Hl=class extends it{constructor(){super(...arguments),this._unknown=!0}_parse(e){return un(e.data)}};Hl.create=t=>new Hl({typeName:be.ZodUnknown,...nt(t)});var Q1=class extends it{_parse(e){let r=this._getOrReturnCtx(e);return Ee(r,{code:Ce.invalid_type,expected:He.never,received:r.parsedType}),Ue}};Q1.create=t=>new Q1({typeName:be.ZodNever,...nt(t)});var K0=class extends it{_parse(e){if(this._getType(e)!==He.undefined){let n=this._getOrReturnCtx(e);return Ee(n,{code:Ce.invalid_type,expected:He.void,received:n.parsedType}),Ue}return un(e.data)}};K0.create=t=>new K0({typeName:be.ZodVoid,...nt(t)});var Pl=class t extends it{_parse(e){let{ctx:r,status:n}=this._processInputParams(e),i=this._def;if(r.parsedType!==He.array)return Ee(r,{code:Ce.invalid_type,expected:He.array,received:r.parsedType}),Ue;if(i.exactLength!==null){let o=r.data.length>i.exactLength.value,a=r.data.length<i.exactLength.value;(o||a)&&(Ee(r,{code:o?Ce.too_big:Ce.too_small,minimum:a?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),n.dirty())}if(i.minLength!==null&&r.data.length<i.minLength.value&&(Ee(r,{code:Ce.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),n.dirty()),i.maxLength!==null&&r.data.length>i.maxLength.value&&(Ee(r,{code:Ce.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,a)=>i.type._parseAsync(new b1(r,o,r.path,a)))).then(o=>Kr.mergeArray(n,o));let l=[...r.data].map((o,a)=>i.type._parseSync(new b1(r,o,r.path,a)));return Kr.mergeArray(n,l)}get element(){return this._def.type}min(e,r){return new t({...this._def,minLength:{value:e,message:Ve.toString(r)}})}max(e,r){return new t({...this._def,maxLength:{value:e,message:Ve.toString(r)}})}length(e,r){return new t({...this._def,exactLength:{value:e,message:Ve.toString(r)}})}nonempty(e){return this.min(1,e)}};Pl.create=(t,e)=>new Pl({type:t,minLength:null,maxLength:null,exactLength:null,typeName:be.ZodArray,...nt(e)});function U0(t){if(t instanceof Hn){let e={};for(let r in t.shape){let n=t.shape[r];e[r]=zn.create(U0(n))}return new Hn({...t._def,shape:()=>e})}else return t instanceof Pl?new Pl({...t._def,type:U0(t.element)}):t instanceof zn?zn.create(U0(t.unwrap())):t instanceof Pi?Pi.create(U0(t.unwrap())):t instanceof Hi?Hi.create(t.items.map(e=>U0(e))):t}var Hn=class t extends it{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;let e=this._def.shape(),r=wt.objectKeys(e);return this._cached={shape:e,keys:r}}_parse(e){if(this._getType(e)!==He.object){let u=this._getOrReturnCtx(e);return Ee(u,{code:Ce.invalid_type,expected:He.object,received:u.parsedType}),Ue}let{status:n,ctx:i}=this._processInputParams(e),{shape:l,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof Q1&&this._def.unknownKeys==="strip"))for(let u in i.data)o.includes(u)||a.push(u);let s=[];for(let u of o){let c=l[u],f=i.data[u];s.push({key:{status:"valid",value:u},value:c._parse(new b1(i,f,i.path,u)),alwaysSet:u in i.data})}if(this._def.catchall instanceof Q1){let u=this._def.unknownKeys;if(u==="passthrough")for(let c of a)s.push({key:{status:"valid",value:c},value:{status:"valid",value:i.data[c]}});else if(u==="strict")a.length>0&&(Ee(i,{code:Ce.unrecognized_keys,keys:a}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{let u=this._def.catchall;for(let c of a){let f=i.data[c];s.push({key:{status:"valid",value:c},value:u._parse(new b1(i,f,i.path,c)),alwaysSet:c in i.data})}}return i.common.async?Promise.resolve().then(async()=>{let u=[];for(let c of s){let f=await c.key,h=await c.value;u.push({key:f,value:h,alwaysSet:c.alwaysSet})}return u}).then(u=>Kr.mergeObjectSync(n,u)):Kr.mergeObjectSync(n,s)}get shape(){return this._def.shape()}strict(e){return Ve.errToObj,new t({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,n)=>{var i,l,o,a;let s=(o=(l=(i=this._def).errorMap)===null||l===void 0?void 0:l.call(i,r,n).message)!==null&&o!==void 0?o:n.defaultError;return r.code==="unrecognized_keys"?{message:(a=Ve.errToObj(e).message)!==null&&a!==void 0?a:s}:{message:s}}}:{}})}strip(){return new t({...this._def,unknownKeys:"strip"})}passthrough(){return new t({...this._def,unknownKeys:"passthrough"})}extend(e){return new t({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new t({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:be.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new t({...this._def,catchall:e})}pick(e){let r={};return wt.objectKeys(e).forEach(n=>{e[n]&&this.shape[n]&&(r[n]=this.shape[n])}),new t({...this._def,shape:()=>r})}omit(e){let r={};return wt.objectKeys(this.shape).forEach(n=>{e[n]||(r[n]=this.shape[n])}),new t({...this._def,shape:()=>r})}deepPartial(){return U0(this)}partial(e){let r={};return wt.objectKeys(this.shape).forEach(n=>{let i=this.shape[n];e&&!e[n]?r[n]=i:r[n]=i.optional()}),new t({...this._def,shape:()=>r})}required(e){let r={};return wt.objectKeys(this.shape).forEach(n=>{if(e&&!e[n])r[n]=this.shape[n];else{let l=this.shape[n];for(;l instanceof zn;)l=l._def.innerType;r[n]=l}}),new t({...this._def,shape:()=>r})}keyof(){return jv(wt.objectKeys(this.shape))}};Hn.create=(t,e)=>new Hn({shape:()=>t,unknownKeys:"strip",catchall:Q1.create(),typeName:be.ZodObject,...nt(e)});Hn.strictCreate=(t,e)=>new Hn({shape:()=>t,unknownKeys:"strict",catchall:Q1.create(),typeName:be.ZodObject,...nt(e)});Hn.lazycreate=(t,e)=>new Hn({shape:t,unknownKeys:"strip",catchall:Q1.create(),typeName:be.ZodObject,...nt(e)});var Fa=class extends it{_parse(e){let{ctx:r}=this._processInputParams(e),n=this._def.options;function i(l){for(let a of l)if(a.result.status==="valid")return a.result;for(let a of l)if(a.result.status==="dirty")return r.common.issues.push(...a.ctx.common.issues),a.result;let o=l.map(a=>new n1(a.ctx.common.issues));return Ee(r,{code:Ce.invalid_union,unionErrors:o}),Ue}if(r.common.async)return Promise.all(n.map(async l=>{let o={...r,common:{...r.common,issues:[]},parent:null};return{result:await l._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(i);{let l,o=[];for(let s of n){let u={...r,common:{...r.common,issues:[]},parent:null},c=s._parseSync({data:r.data,path:r.path,parent:u});if(c.status==="valid")return c;c.status==="dirty"&&!l&&(l={result:c,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(l)return r.common.issues.push(...l.ctx.common.issues),l.result;let a=o.map(s=>new n1(s));return Ee(r,{code:Ce.invalid_union,unionErrors:a}),Ue}}get options(){return this._def.options}};Fa.create=(t,e)=>new Fa({options:t,typeName:be.ZodUnion,...nt(e)});var Tl=t=>t instanceof qa?Tl(t.schema):t instanceof i1?Tl(t.innerType()):t instanceof Wa?[t.value]:t instanceof Ua?t.options:t instanceof Ya?wt.objectValues(t.enum):t instanceof Ga?Tl(t._def.innerType):t instanceof Da?[void 0]:t instanceof Na?[null]:t instanceof zn?[void 0,...Tl(t.unwrap())]:t instanceof Pi?[null,...Tl(t.unwrap())]:t instanceof o9||t instanceof Ka?Tl(t.unwrap()):t instanceof Ja?Tl(t._def.innerType):[],Cc=class t extends it{_parse(e){let{ctx:r}=this._processInputParams(e);if(r.parsedType!==He.object)return Ee(r,{code:Ce.invalid_type,expected:He.object,received:r.parsedType}),Ue;let n=this.discriminator,i=r.data[n],l=this.optionsMap.get(i);return l?r.common.async?l._parseAsync({data:r.data,path:r.path,parent:r}):l._parseSync({data:r.data,path:r.path,parent:r}):(Ee(r,{code:Ce.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),Ue)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,r,n){let i=new Map;for(let l of r){let o=Tl(l.shape[e]);if(!o.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(let a of o){if(i.has(a))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);i.set(a,l)}}return new t({typeName:be.ZodDiscriminatedUnion,discriminator:e,options:r,optionsMap:i,...nt(n)})}};function Od(t,e){let r=zl(t),n=zl(e);if(t===e)return{valid:!0,data:t};if(r===He.object&&n===He.object){let i=wt.objectKeys(e),l=wt.objectKeys(t).filter(a=>i.indexOf(a)!==-1),o={...t,...e};for(let a of l){let s=Od(t[a],e[a]);if(!s.valid)return{valid:!1};o[a]=s.data}return{valid:!0,data:o}}else if(r===He.array&&n===He.array){if(t.length!==e.length)return{valid:!1};let i=[];for(let l=0;l<t.length;l++){let o=t[l],a=e[l],s=Od(o,a);if(!s.valid)return{valid:!1};i.push(s.data)}return{valid:!0,data:i}}else return r===He.date&&n===He.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}var ja=class extends it{_parse(e){let{status:r,ctx:n}=this._processInputParams(e),i=(l,o)=>{if(Rd(l)||Rd(o))return Ue;let a=Od(l.value,o.value);return a.valid?((Bd(l)||Bd(o))&&r.dirty(),{status:r.value,value:a.data}):(Ee(n,{code:Ce.invalid_intersection_types}),Ue)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([l,o])=>i(l,o)):i(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}};ja.create=(t,e,r)=>new ja({left:t,right:e,typeName:be.ZodIntersection,...nt(r)});var Hi=class t extends it{_parse(e){let{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==He.array)return Ee(n,{code:Ce.invalid_type,expected:He.array,received:n.parsedType}),Ue;if(n.data.length<this._def.items.length)return Ee(n,{code:Ce.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Ue;!this._def.rest&&n.data.length>this._def.items.length&&(Ee(n,{code:Ce.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());let l=[...n.data].map((o,a)=>{let s=this._def.items[a]||this._def.rest;return s?s._parse(new b1(n,o,n.path,a)):null}).filter(o=>!!o);return n.common.async?Promise.all(l).then(o=>Kr.mergeArray(r,o)):Kr.mergeArray(r,l)}get items(){return this._def.items}rest(e){return new t({...this._def,rest:e})}};Hi.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Hi({items:t,typeName:be.ZodTuple,rest:null,...nt(e)})};var bc=class t extends it{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==He.object)return Ee(n,{code:Ce.invalid_type,expected:He.object,received:n.parsedType}),Ue;let i=[],l=this._def.keyType,o=this._def.valueType;for(let a in n.data)i.push({key:l._parse(new b1(n,a,n.path,a)),value:o._parse(new b1(n,n.data[a],n.path,a)),alwaysSet:a in n.data});return n.common.async?Kr.mergeObjectAsync(r,i):Kr.mergeObjectSync(r,i)}get element(){return this._def.valueType}static create(e,r,n){return r instanceof it?new t({keyType:e,valueType:r,typeName:be.ZodRecord,...nt(n)}):new t({keyType:Po.create(),valueType:e,typeName:be.ZodRecord,...nt(r)})}},X0=class extends it{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==He.map)return Ee(n,{code:Ce.invalid_type,expected:He.map,received:n.parsedType}),Ue;let i=this._def.keyType,l=this._def.valueType,o=[...n.data.entries()].map(([a,s],u)=>({key:i._parse(new b1(n,a,n.path,[u,"key"])),value:l._parse(new b1(n,s,n.path,[u,"value"]))}));if(n.common.async){let a=new Map;return Promise.resolve().then(async()=>{for(let s of o){let u=await s.key,c=await s.value;if(u.status==="aborted"||c.status==="aborted")return Ue;(u.status==="dirty"||c.status==="dirty")&&r.dirty(),a.set(u.value,c.value)}return{status:r.value,value:a}})}else{let a=new Map;for(let s of o){let u=s.key,c=s.value;if(u.status==="aborted"||c.status==="aborted")return Ue;(u.status==="dirty"||c.status==="dirty")&&r.dirty(),a.set(u.value,c.value)}return{status:r.value,value:a}}}};X0.create=(t,e,r)=>new X0({valueType:e,keyType:t,typeName:be.ZodMap,...nt(r)});var Q0=class t extends it{_parse(e){let{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==He.set)return Ee(n,{code:Ce.invalid_type,expected:He.set,received:n.parsedType}),Ue;let i=this._def;i.minSize!==null&&n.data.size<i.minSize.value&&(Ee(n,{code:Ce.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),r.dirty()),i.maxSize!==null&&n.data.size>i.maxSize.value&&(Ee(n,{code:Ce.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),r.dirty());let l=this._def.valueType;function o(s){let u=new Set;for(let c of s){if(c.status==="aborted")return Ue;c.status==="dirty"&&r.dirty(),u.add(c.value)}return{status:r.value,value:u}}let a=[...n.data.values()].map((s,u)=>l._parse(new b1(n,s,n.path,u)));return n.common.async?Promise.all(a).then(s=>o(s)):o(a)}min(e,r){return new t({...this._def,minSize:{value:e,message:Ve.toString(r)}})}max(e,r){return new t({...this._def,maxSize:{value:e,message:Ve.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}};Q0.create=(t,e)=>new Q0({valueType:t,minSize:null,maxSize:null,typeName:be.ZodSet,...nt(e)});var vc=class t extends it{constructor(){super(...arguments),this.validate=this.implement}_parse(e){let{ctx:r}=this._processInputParams(e);if(r.parsedType!==He.function)return Ee(r,{code:Ce.invalid_type,expected:He.function,received:r.parsedType}),Ue;function n(a,s){return _c({data:a,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,gc(),G0].filter(u=>!!u),issueData:{code:Ce.invalid_arguments,argumentsError:s}})}function i(a,s){return _c({data:a,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,gc(),G0].filter(u=>!!u),issueData:{code:Ce.invalid_return_type,returnTypeError:s}})}let l={errorMap:r.common.contextualErrorMap},o=r.data;if(this._def.returns instanceof Ro){let a=this;return un(async function(...s){let u=new n1([]),c=await a._def.args.parseAsync(s,l).catch(g=>{throw u.addIssue(n(s,g)),u}),f=await Reflect.apply(o,this,c);return await a._def.returns._def.type.parseAsync(f,l).catch(g=>{throw u.addIssue(i(f,g)),u})})}else{let a=this;return un(function(...s){let u=a._def.args.safeParse(s,l);if(!u.success)throw new n1([n(s,u.error)]);let c=Reflect.apply(o,this,u.data),f=a._def.returns.safeParse(c,l);if(!f.success)throw new n1([i(c,f.error)]);return f.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new t({...this._def,args:Hi.create(e).rest(Hl.create())})}returns(e){return new t({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,r,n){return new t({args:e||Hi.create([]).rest(Hl.create()),returns:r||Hl.create(),typeName:be.ZodFunction,...nt(n)})}},qa=class extends it{get schema(){return this._def.getter()}_parse(e){let{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}};qa.create=(t,e)=>new qa({getter:t,typeName:be.ZodLazy,...nt(e)});var Wa=class extends it{_parse(e){if(e.data!==this._def.value){let r=this._getOrReturnCtx(e);return Ee(r,{received:r.data,code:Ce.invalid_literal,expected:this._def.value}),Ue}return{status:"valid",value:e.data}}get value(){return this._def.value}};Wa.create=(t,e)=>new Wa({value:t,typeName:be.ZodLiteral,...nt(e)});function jv(t,e){return new Ua({values:t,typeName:be.ZodEnum,...nt(e)})}var Ua=class t extends it{constructor(){super(...arguments),n9.set(this,void 0)}_parse(e){if(typeof e.data!="string"){let r=this._getOrReturnCtx(e),n=this._def.values;return Ee(r,{expected:wt.joinValues(n),received:r.parsedType,code:Ce.invalid_type}),Ue}if(pc(this,n9,"f")||Iv(this,n9,new Set(this._def.values),"f"),!pc(this,n9,"f").has(e.data)){let r=this._getOrReturnCtx(e),n=this._def.values;return Ee(r,{received:r.data,code:Ce.invalid_enum_value,options:n}),Ue}return un(e.data)}get options(){return this._def.values}get enum(){let e={};for(let r of this._def.values)e[r]=r;return e}get Values(){let e={};for(let r of this._def.values)e[r]=r;return e}get Enum(){let e={};for(let r of this._def.values)e[r]=r;return e}extract(e,r=this._def){return t.create(e,{...this._def,...r})}exclude(e,r=this._def){return t.create(this.options.filter(n=>!e.includes(n)),{...this._def,...r})}};n9=new WeakMap;Ua.create=jv;var Ya=class extends it{constructor(){super(...arguments),i9.set(this,void 0)}_parse(e){let r=wt.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==He.string&&n.parsedType!==He.number){let i=wt.objectValues(r);return Ee(n,{expected:wt.joinValues(i),received:n.parsedType,code:Ce.invalid_type}),Ue}if(pc(this,i9,"f")||Iv(this,i9,new Set(wt.getValidEnumValues(this._def.values)),"f"),!pc(this,i9,"f").has(e.data)){let i=wt.objectValues(r);return Ee(n,{received:n.data,code:Ce.invalid_enum_value,options:i}),Ue}return un(e.data)}get enum(){return this._def.values}};i9=new WeakMap;Ya.create=(t,e)=>new Ya({values:t,typeName:be.ZodNativeEnum,...nt(e)});var Ro=class extends it{unwrap(){return this._def.type}_parse(e){let{ctx:r}=this._processInputParams(e);if(r.parsedType!==He.promise&&r.common.async===!1)return Ee(r,{code:Ce.invalid_type,expected:He.promise,received:r.parsedType}),Ue;let n=r.parsedType===He.promise?r.data:Promise.resolve(r.data);return un(n.then(i=>this._def.type.parseAsync(i,{path:r.path,errorMap:r.common.contextualErrorMap})))}};Ro.create=(t,e)=>new Ro({type:t,typeName:be.ZodPromise,...nt(e)});var i1=class extends it{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===be.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){let{status:r,ctx:n}=this._processInputParams(e),i=this._def.effect||null,l={addIssue:o=>{Ee(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(l.addIssue=l.addIssue.bind(l),i.type==="preprocess"){let o=i.transform(n.data,l);if(n.common.async)return Promise.resolve(o).then(async a=>{if(r.value==="aborted")return Ue;let s=await this._def.schema._parseAsync({data:a,path:n.path,parent:n});return s.status==="aborted"?Ue:s.status==="dirty"||r.value==="dirty"?Y0(s.value):s});{if(r.value==="aborted")return Ue;let a=this._def.schema._parseSync({data:o,path:n.path,parent:n});return a.status==="aborted"?Ue:a.status==="dirty"||r.value==="dirty"?Y0(a.value):a}}if(i.type==="refinement"){let o=a=>{let s=i.refinement(a,l);if(n.common.async)return Promise.resolve(s);if(s instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(n.common.async===!1){let a=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?Ue:(a.status==="dirty"&&r.dirty(),o(a.value),{status:r.value,value:a.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(a=>a.status==="aborted"?Ue:(a.status==="dirty"&&r.dirty(),o(a.value).then(()=>({status:r.value,value:a.value}))))}if(i.type==="transform")if(n.common.async===!1){let o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!Ba(o))return o;let a=i.transform(o.value,l);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:a}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>Ba(o)?Promise.resolve(i.transform(o.value,l)).then(a=>({status:r.value,value:a})):o);wt.assertNever(i)}};i1.create=(t,e,r)=>new i1({schema:t,typeName:be.ZodEffects,effect:e,...nt(r)});i1.createWithPreprocess=(t,e,r)=>new i1({schema:e,effect:{type:"preprocess",transform:t},typeName:be.ZodEffects,...nt(r)});var zn=class extends it{_parse(e){return this._getType(e)===He.undefined?un(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};zn.create=(t,e)=>new zn({innerType:t,typeName:be.ZodOptional,...nt(e)});var Pi=class extends it{_parse(e){return this._getType(e)===He.null?un(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};Pi.create=(t,e)=>new Pi({innerType:t,typeName:be.ZodNullable,...nt(e)});var Ga=class extends it{_parse(e){let{ctx:r}=this._processInputParams(e),n=r.data;return r.parsedType===He.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}};Ga.create=(t,e)=>new Ga({innerType:t,typeName:be.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...nt(e)});var Ja=class extends it{_parse(e){let{ctx:r}=this._processInputParams(e),n={...r,common:{...r.common,issues:[]}},i=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return l9(i)?i.then(l=>({status:"valid",value:l.status==="valid"?l.value:this._def.catchValue({get error(){return new n1(n.common.issues)},input:n.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new n1(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}};Ja.create=(t,e)=>new Ja({innerType:t,typeName:be.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...nt(e)});var x0=class extends it{_parse(e){if(this._getType(e)!==He.nan){let n=this._getOrReturnCtx(e);return Ee(n,{code:Ce.invalid_type,expected:He.nan,received:n.parsedType}),Ue}return{status:"valid",value:e.data}}};x0.create=t=>new x0({typeName:be.ZodNaN,...nt(t)});var ZZ=Symbol("zod_brand"),o9=class extends it{_parse(e){let{ctx:r}=this._processInputParams(e),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}},a9=class t extends it{_parse(e){let{status:r,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{let l=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?Ue:l.status==="dirty"?(r.dirty(),Y0(l.value)):this._def.out._parseAsync({data:l.value,path:n.path,parent:n})})();{let i=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?Ue:i.status==="dirty"?(r.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:n.path,parent:n})}}static create(e,r){return new t({in:e,out:r,typeName:be.ZodPipeline})}},Ka=class extends it{_parse(e){let r=this._def.innerType._parse(e),n=i=>(Ba(i)&&(i.value=Object.freeze(i.value)),i);return l9(r)?r.then(i=>n(i)):n(r)}unwrap(){return this._def.innerType}};Ka.create=(t,e)=>new Ka({innerType:t,typeName:be.ZodReadonly,...nt(e)});function qv(t,e={},r){return t?Ao.create().superRefine((n,i)=>{var l,o;if(!t(n)){let a=typeof e=="function"?e(n):typeof e=="string"?{message:e}:e,s=(o=(l=a.fatal)!==null&&l!==void 0?l:r)!==null&&o!==void 0?o:!0,u=typeof a=="string"?{message:a}:a;i.addIssue({code:"custom",...u,fatal:s})}}):Ao.create()}var IZ={object:Hn.lazycreate},be;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(be||(be={}));var DZ=(t,e={message:`Input not instance of ${t.name}`})=>qv(r=>r instanceof t,e),Wv=Po.create,Uv=Oa.create,NZ=x0.create,FZ=Va.create,Yv=Za.create,jZ=Ia.create,qZ=J0.create,WZ=Da.create,UZ=Na.create,YZ=Ao.create,GZ=Hl.create,JZ=Q1.create,KZ=K0.create,XZ=Pl.create,QZ=Hn.create,xZ=Hn.strictCreate,$Z=Fa.create,eI=Cc.create,tI=ja.create,rI=Hi.create,nI=bc.create,iI=X0.create,lI=Q0.create,oI=vc.create,aI=qa.create,sI=Wa.create,uI=Ua.create,cI=Ya.create,fI=Ro.create,Vv=i1.create,hI=zn.create,dI=Pi.create,mI=i1.createWithPreprocess,gI=a9.create,_I=()=>Wv().optional(),pI=()=>Uv().optional(),CI=()=>Yv().optional(),bI={string:t=>Po.create({...t,coerce:!0}),number:t=>Oa.create({...t,coerce:!0}),boolean:t=>Za.create({...t,coerce:!0}),bigint:t=>Va.create({...t,coerce:!0}),date:t=>Ia.create({...t,coerce:!0})},vI=Ue,$0=Object.freeze({__proto__:null,defaultErrorMap:G0,setErrorMap:mZ,getErrorMap:gc,makeIssue:_c,EMPTY_PATH:gZ,addIssueToContext:Ee,ParseStatus:Kr,INVALID:Ue,DIRTY:Y0,OK:un,isAborted:Rd,isDirty:Bd,isValid:Ba,isAsync:l9,get util(){return wt},get objectUtil(){return Ad},ZodParsedType:He,getParsedType:zl,ZodType:it,datetimeRegex:Fv,ZodString:Po,ZodNumber:Oa,ZodBigInt:Va,ZodBoolean:Za,ZodDate:Ia,ZodSymbol:J0,ZodUndefined:Da,ZodNull:Na,ZodAny:Ao,ZodUnknown:Hl,ZodNever:Q1,ZodVoid:K0,ZodArray:Pl,ZodObject:Hn,ZodUnion:Fa,ZodDiscriminatedUnion:Cc,ZodIntersection:ja,ZodTuple:Hi,ZodRecord:bc,ZodMap:X0,ZodSet:Q0,ZodFunction:vc,ZodLazy:qa,ZodLiteral:Wa,ZodEnum:Ua,ZodNativeEnum:Ya,ZodPromise:Ro,ZodEffects:i1,ZodTransformer:i1,ZodOptional:zn,ZodNullable:Pi,ZodDefault:Ga,ZodCatch:Ja,ZodNaN:x0,BRAND:ZZ,ZodBranded:o9,ZodPipeline:a9,ZodReadonly:Ka,custom:qv,Schema:it,ZodSchema:it,late:IZ,get ZodFirstPartyTypeKind(){return be},coerce:bI,any:YZ,array:XZ,bigint:FZ,boolean:Yv,date:jZ,discriminatedUnion:eI,effect:Vv,enum:uI,function:oI,instanceof:DZ,intersection:tI,lazy:aI,literal:sI,map:iI,nan:NZ,nativeEnum:cI,never:JZ,null:UZ,nullable:dI,number:Uv,object:QZ,oboolean:CI,onumber:pI,optional:hI,ostring:_I,pipeline:gI,preprocess:mI,promise:fI,record:nI,set:lI,strictObject:xZ,string:Wv,symbol:qZ,transformer:Vv,tuple:rI,undefined:WZ,union:$Z,unknown:GZ,void:KZ,NEVER:vI,ZodIssueCode:Ce,quotelessJson:dZ,ZodError:n1});function Gv(){return{}}function Jv(t,e){var n,i,l;let r={type:"array"};return(n=t.type)!=null&&n._def&&((l=(i=t.type)==null?void 0:i._def)==null?void 0:l.typeName)!==be.ZodAny&&(r.items=qe(t.type._def,{...e,currentPath:[...e.currentPath,"items"]})),t.minLength&&_t(r,"minItems",t.minLength.value,t.minLength.message,e),t.maxLength&&_t(r,"maxItems",t.maxLength.value,t.maxLength.message,e),t.exactLength&&(_t(r,"minItems",t.exactLength.value,t.exactLength.message,e),_t(r,"maxItems",t.exactLength.value,t.exactLength.message,e)),r}function Kv(t,e){let r={type:"integer",format:"int64"};if(!t.checks)return r;for(let n of t.checks)switch(n.kind){case"min":e.target==="jsonSchema7"?n.inclusive?_t(r,"minimum",n.value,n.message,e):_t(r,"exclusiveMinimum",n.value,n.message,e):(n.inclusive||(r.exclusiveMinimum=!0),_t(r,"minimum",n.value,n.message,e));break;case"max":e.target==="jsonSchema7"?n.inclusive?_t(r,"maximum",n.value,n.message,e):_t(r,"exclusiveMaximum",n.value,n.message,e):(n.inclusive||(r.exclusiveMaximum=!0),_t(r,"maximum",n.value,n.message,e));break;case"multipleOf":_t(r,"multipleOf",n.value,n.message,e);break}return r}function Xv(){return{type:"boolean"}}function wc(t,e){return qe(t.type._def,e)}var Qv=(t,e)=>qe(t.innerType._def,e);function Vd(t,e,r){let n=r!=null?r:e.dateStrategy;if(Array.isArray(n))return{anyOf:n.map((i,l)=>Vd(t,e,i))};switch(n){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":return wI(t,e)}}var wI=(t,e)=>{let r={type:"integer",format:"unix-time"};if(e.target==="openApi3")return r;for(let n of t.checks)switch(n.kind){case"min":_t(r,"minimum",n.value,n.message,e);break;case"max":_t(r,"maximum",n.value,n.message,e);break}return r};function xv(t,e){return{...qe(t.innerType._def,e),default:t.defaultValue()}}function $v(t,e){return e.effectStrategy==="input"?qe(t.schema._def,e):{}}function ew(t){return{type:"string",enum:Array.from(t.values)}}var kI=t=>"type"in t&&t.type==="string"?!1:"allOf"in t;function tw(t,e){let r=[qe(t.left._def,{...e,currentPath:[...e.currentPath,"allOf","0"]}),qe(t.right._def,{...e,currentPath:[...e.currentPath,"allOf","1"]})].filter(l=>!!l),n=e.target==="jsonSchema2019-09"?{unevaluatedProperties:!1}:void 0,i=[];return r.forEach(l=>{if(kI(l))i.push(...l.allOf),l.unevaluatedProperties===void 0&&(n=void 0);else{let o=l;if("additionalProperties"in l&&l.additionalProperties===!1){let{additionalProperties:a,...s}=l;o=s}else n=void 0;i.push(o)}}),i.length?{allOf:i,...n}:void 0}function rw(t,e){let r=typeof t.value;return r!=="bigint"&&r!=="number"&&r!=="boolean"&&r!=="string"?{type:Array.isArray(t.value)?"array":"object"}:e.target==="openApi3"?{type:r==="bigint"?"integer":r,enum:[t.value]}:{type:r==="bigint"?"integer":r,const:t.value}}var Zd,x1={cuid:/^[cC][^\s-]{8,}$/,cuid2:/^[0-9a-z]+$/,ulid:/^[0-9A-HJKMNP-TV-Z]{26}$/,email:/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,emoji:()=>(Zd===void 0&&(Zd=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),Zd),uuid:/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/,ipv4:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ipv4Cidr:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ipv6:/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,ipv6Cidr:/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,base64:/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,base64url:/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,nanoid:/^[a-zA-Z0-9_-]{21}$/,jwt:/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/};function kc(t,e){let r={type:"string"};if(t.checks)for(let n of t.checks)switch(n.kind){case"min":_t(r,"minLength",typeof r.minLength=="number"?Math.max(r.minLength,n.value):n.value,n.message,e);break;case"max":_t(r,"maxLength",typeof r.maxLength=="number"?Math.min(r.maxLength,n.value):n.value,n.message,e);break;case"email":switch(e.emailStrategy){case"format:email":$1(r,"email",n.message,e);break;case"format:idn-email":$1(r,"idn-email",n.message,e);break;case"pattern:zod":cn(r,x1.email,n.message,e);break}break;case"url":$1(r,"uri",n.message,e);break;case"uuid":$1(r,"uuid",n.message,e);break;case"regex":cn(r,n.regex,n.message,e);break;case"cuid":cn(r,x1.cuid,n.message,e);break;case"cuid2":cn(r,x1.cuid2,n.message,e);break;case"startsWith":cn(r,RegExp(`^${Id(n.value,e)}`),n.message,e);break;case"endsWith":cn(r,RegExp(`${Id(n.value,e)}$`),n.message,e);break;case"datetime":$1(r,"date-time",n.message,e);break;case"date":$1(r,"date",n.message,e);break;case"time":$1(r,"time",n.message,e);break;case"duration":$1(r,"duration",n.message,e);break;case"length":_t(r,"minLength",typeof r.minLength=="number"?Math.max(r.minLength,n.value):n.value,n.message,e),_t(r,"maxLength",typeof r.maxLength=="number"?Math.min(r.maxLength,n.value):n.value,n.message,e);break;case"includes":{cn(r,RegExp(Id(n.value,e)),n.message,e);break}case"ip":{n.version!=="v6"&&$1(r,"ipv4",n.message,e),n.version!=="v4"&&$1(r,"ipv6",n.message,e);break}case"base64url":cn(r,x1.base64url,n.message,e);break;case"jwt":cn(r,x1.jwt,n.message,e);break;case"cidr":{n.version!=="v6"&&cn(r,x1.ipv4Cidr,n.message,e),n.version!=="v4"&&cn(r,x1.ipv6Cidr,n.message,e);break}case"emoji":cn(r,x1.emoji(),n.message,e);break;case"ulid":{cn(r,x1.ulid,n.message,e);break}case"base64":{switch(e.base64Strategy){case"format:binary":{$1(r,"binary",n.message,e);break}case"contentEncoding:base64":{_t(r,"contentEncoding","base64",n.message,e);break}case"pattern:zod":{cn(r,x1.base64,n.message,e);break}}break}case"nanoid":cn(r,x1.nanoid,n.message,e);case"toLowerCase":case"toUpperCase":case"trim":break;default:}return r}function Id(t,e){return e.patternStrategy==="escape"?LI(t):t}var yI=new Set("ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789");function LI(t){let e="";for(let r=0;r<t.length;r++)yI.has(t[r])||(e+="\\"),e+=t[r];return e}function $1(t,e,r,n){var i;t.format||(i=t.anyOf)!=null&&i.some(l=>l.format)?(t.anyOf||(t.anyOf=[]),t.format&&(t.anyOf.push({format:t.format,...t.errorMessage&&n.errorMessages&&{errorMessage:{format:t.errorMessage.format}}}),delete t.format,t.errorMessage&&(delete t.errorMessage.format,Object.keys(t.errorMessage).length===0&&delete t.errorMessage)),t.anyOf.push({format:e,...r&&n.errorMessages&&{errorMessage:{format:r}}})):_t(t,"format",e,r,n)}function cn(t,e,r,n){var i;t.pattern||(i=t.allOf)!=null&&i.some(l=>l.pattern)?(t.allOf||(t.allOf=[]),t.pattern&&(t.allOf.push({pattern:t.pattern,...t.errorMessage&&n.errorMessages&&{errorMessage:{pattern:t.errorMessage.pattern}}}),delete t.pattern,t.errorMessage&&(delete t.errorMessage.pattern,Object.keys(t.errorMessage).length===0&&delete t.errorMessage)),t.allOf.push({pattern:nw(e,n),...r&&n.errorMessages&&{errorMessage:{pattern:r}}})):_t(t,"pattern",nw(e,n),r,n)}function nw(t,e){var s;if(!e.applyRegexFlags||!t.flags)return t.source;let r={i:t.flags.includes("i"),m:t.flags.includes("m"),s:t.flags.includes("s")},n=r.i?t.source.toLowerCase():t.source,i="",l=!1,o=!1,a=!1;for(let u=0;u<n.length;u++){if(l){i+=n[u],l=!1;continue}if(r.i){if(o){if(n[u].match(/[a-z]/)){a?(i+=n[u],i+=`${n[u-2]}-${n[u]}`.toUpperCase(),a=!1):n[u+1]==="-"&&((s=n[u+2])!=null&&s.match(/[a-z]/))?(i+=n[u],a=!0):i+=`${n[u]}${n[u].toUpperCase()}`;continue}}else if(n[u].match(/[a-z]/)){i+=`[${n[u]}${n[u].toUpperCase()}]`;continue}}if(r.m){if(n[u]==="^"){i+=`(^|(?<=[\r
]))`;continue}else if(n[u]==="$"){i+=`($|(?=[\r
]))`;continue}}if(r.s&&n[u]==="."){i+=o?`${n[u]}\r
`:`[${n[u]}\r
]`;continue}i+=n[u],n[u]==="\\"?l=!0:o&&n[u]==="]"?o=!1:!o&&n[u]==="["&&(o=!0)}try{new RegExp(i)}catch(u){return console.warn(`Could not convert regex pattern at ${e.currentPath.join("/")} to a flag-independent form! Falling back to the flag-ignorant source`),t.source}return i}function yc(t,e){var n,i,l,o,a,s,u;if(e.target==="openAi"&&console.warn("Warning: OpenAI may not support records in schemas! Try an array of key-value pairs instead."),e.target==="openApi3"&&((n=t.keyType)==null?void 0:n._def.typeName)===be.ZodEnum)return{type:"object",required:t.keyType._def.values,properties:t.keyType._def.values.reduce((c,f)=>{var h;return{...c,[f]:(h=qe(t.valueType._def,{...e,currentPath:[...e.currentPath,"properties",f]}))!=null?h:{}}},{}),additionalProperties:!1};let r={type:"object",additionalProperties:(i=qe(t.valueType._def,{...e,currentPath:[...e.currentPath,"additionalProperties"]}))!=null?i:{}};if(e.target==="openApi3")return r;if(((l=t.keyType)==null?void 0:l._def.typeName)===be.ZodString&&((o=t.keyType._def.checks)!=null&&o.length)){let{type:c,...f}=kc(t.keyType._def,e);return{...r,propertyNames:f}}else{if(((a=t.keyType)==null?void 0:a._def.typeName)===be.ZodEnum)return{...r,propertyNames:{enum:t.keyType._def.values}};if(((s=t.keyType)==null?void 0:s._def.typeName)===be.ZodBranded&&t.keyType._def.type._def.typeName===be.ZodString&&((u=t.keyType._def.type._def.checks)!=null&&u.length)){let{type:c,...f}=wc(t.keyType._def,e);return{...r,propertyNames:f}}}return r}function iw(t,e){if(e.mapStrategy==="record")return yc(t,e);let r=qe(t.keyType._def,{...e,currentPath:[...e.currentPath,"items","items","0"]})||{},n=qe(t.valueType._def,{...e,currentPath:[...e.currentPath,"items","items","1"]})||{};return{type:"array",maxItems:125,items:{type:"array",items:[r,n],minItems:2,maxItems:2}}}function lw(t){let e=t.values,n=Object.keys(t.values).filter(l=>typeof e[e[l]]!="number").map(l=>e[l]),i=Array.from(new Set(n.map(l=>typeof l)));return{type:i.length===1?i[0]==="string"?"string":"number":["string","number"],enum:n}}function ow(){return{not:{}}}function aw(t){return t.target==="openApi3"?{enum:["null"],nullable:!0}:{type:"null"}}var s9={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"};function uw(t,e){if(e.target==="openApi3")return sw(t,e);let r=t.options instanceof Map?Array.from(t.options.values()):t.options;if(r.every(n=>n._def.typeName in s9&&(!n._def.checks||!n._def.checks.length))){let n=r.reduce((i,l)=>{let o=s9[l._def.typeName];return o&&!i.includes(o)?[...i,o]:i},[]);return{type:n.length>1?n:n[0]}}else if(r.every(n=>n._def.typeName==="ZodLiteral"&&!n.description)){let n=r.reduce((i,l)=>{let o=typeof l._def.value;switch(o){case"string":case"number":case"boolean":return[...i,o];case"bigint":return[...i,"integer"];case"object":if(l._def.value===null)return[...i,"null"];case"symbol":case"undefined":case"function":default:return i}},[]);if(n.length===r.length){let i=n.filter((l,o,a)=>a.indexOf(l)===o);return{type:i.length>1?i:i[0],enum:r.reduce((l,o)=>l.includes(o._def.value)?l:[...l,o._def.value],[])}}}else if(r.every(n=>n._def.typeName==="ZodEnum"))return{type:"string",enum:r.reduce((n,i)=>[...n,...i._def.values.filter(l=>!n.includes(l))],[])};return sw(t,e)}var sw=(t,e)=>{let r=(t.options instanceof Map?Array.from(t.options.values()):t.options).map((n,i)=>qe(n._def,{...e,currentPath:[...e.currentPath,"anyOf",`${i}`]})).filter(n=>!!n&&(!e.strictUnions||typeof n=="object"&&Object.keys(n).length>0));return r.length?{anyOf:r}:void 0};function cw(t,e){if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(t.innerType._def.typeName)&&(!t.innerType._def.checks||!t.innerType._def.checks.length))return e.target==="openApi3"?{type:s9[t.innerType._def.typeName],nullable:!0}:{type:[s9[t.innerType._def.typeName],"null"]};if(e.target==="openApi3"){let n=qe(t.innerType._def,{...e,currentPath:[...e.currentPath]});return n&&"$ref"in n?{allOf:[n],nullable:!0}:n&&{...n,nullable:!0}}let r=qe(t.innerType._def,{...e,currentPath:[...e.currentPath,"anyOf","0"]});return r&&{anyOf:[r,{type:"null"}]}}function fw(t,e){let r={type:"number"};if(!t.checks)return r;for(let n of t.checks)switch(n.kind){case"int":r.type="integer",Hd(r,"type",n.message,e);break;case"min":e.target==="jsonSchema7"?n.inclusive?_t(r,"minimum",n.value,n.message,e):_t(r,"exclusiveMinimum",n.value,n.message,e):(n.inclusive||(r.exclusiveMinimum=!0),_t(r,"minimum",n.value,n.message,e));break;case"max":e.target==="jsonSchema7"?n.inclusive?_t(r,"maximum",n.value,n.message,e):_t(r,"exclusiveMaximum",n.value,n.message,e):(n.inclusive||(r.exclusiveMaximum=!0),_t(r,"maximum",n.value,n.message,e));break;case"multipleOf":_t(r,"multipleOf",n.value,n.message,e);break}return r}function EI(t,e){var r,n;return e.removeAdditionalStrategy==="strict"?t.catchall._def.typeName==="ZodNever"?t.unknownKeys!=="strict":(r=qe(t.catchall._def,{...e,currentPath:[...e.currentPath,"additionalProperties"]}))!=null?r:!0:t.catchall._def.typeName==="ZodNever"?t.unknownKeys==="passthrough":(n=qe(t.catchall._def,{...e,currentPath:[...e.currentPath,"additionalProperties"]}))!=null?n:!0}function hw(t,e){let r=e.target==="openAi",n={type:"object",...Object.entries(t.shape()).reduce((i,[l,o])=>{if(o===void 0||o._def===void 0)return i;let a=o.isOptional();a&&r&&(o instanceof zn&&(o=o._def.innerType),o.isNullable()||(o=o.nullable()),a=!1);let s=qe(o._def,{...e,currentPath:[...e.currentPath,"properties",l],propertyPath:[...e.currentPath,"properties",l]});return s===void 0?i:{properties:{...i.properties,[l]:s},required:a?i.required:[...i.required,l]}},{properties:{},required:[]}),additionalProperties:EI(t,e)};return n.required.length||delete n.required,n}var dw=(t,e)=>{var n;if(e.currentPath.toString()===((n=e.propertyPath)==null?void 0:n.toString()))return qe(t.innerType._def,e);let r=qe(t.innerType._def,{...e,currentPath:[...e.currentPath,"anyOf","1"]});return r?{anyOf:[{not:{}},r]}:{}};var mw=(t,e)=>{if(e.pipeStrategy==="input")return qe(t.in._def,e);if(e.pipeStrategy==="output")return qe(t.out._def,e);let r=qe(t.in._def,{...e,currentPath:[...e.currentPath,"allOf","0"]}),n=qe(t.out._def,{...e,currentPath:[...e.currentPath,"allOf",r?"1":"0"]});return{allOf:[r,n].filter(i=>i!==void 0)}};function gw(t,e){return qe(t.type._def,e)}function _w(t,e){let n={type:"array",uniqueItems:!0,items:qe(t.valueType._def,{...e,currentPath:[...e.currentPath,"items"]})};return t.minSize&&_t(n,"minItems",t.minSize.value,t.minSize.message,e),t.maxSize&&_t(n,"maxItems",t.maxSize.value,t.maxSize.message,e),n}function pw(t,e){return t.rest?{type:"array",minItems:t.items.length,items:t.items.map((r,n)=>qe(r._def,{...e,currentPath:[...e.currentPath,"items",`${n}`]})).reduce((r,n)=>n===void 0?r:[...r,n],[]),additionalItems:qe(t.rest._def,{...e,currentPath:[...e.currentPath,"additionalItems"]})}:{type:"array",minItems:t.items.length,maxItems:t.items.length,items:t.items.map((r,n)=>qe(r._def,{...e,currentPath:[...e.currentPath,"items",`${n}`]})).reduce((r,n)=>n===void 0?r:[...r,n],[])}}function Cw(){return{not:{}}}function bw(){return{}}var vw=(t,e)=>qe(t.innerType._def,e);function qe(t,e,r=!1){var o;let n=e.seen.get(t);if(e.override){let a=(o=e.override)==null?void 0:o.call(e,t,e,n,r);if(a!==Av)return a}if(n&&!r){let a=SI(n,e);if(a!==void 0)return a}let i={def:t,path:e.currentPath,jsonSchema:void 0};e.seen.set(t,i);let l=TI(t,t.typeName,e);return l&&zI(t,e,l),i.jsonSchema=l,l}var SI=(t,e)=>{switch(e.$refStrategy){case"root":return{$ref:t.path.join("/")};case"relative":return{$ref:MI(e.currentPath,t.path)};case"none":case"seen":return t.path.length<e.currentPath.length&&t.path.every((r,n)=>e.currentPath[n]===r)?(console.warn(`Recursive reference detected at ${e.currentPath.join("/")}! Defaulting to any`),{}):e.$refStrategy==="seen"?{}:void 0}},MI=(t,e)=>{let r=0;for(;r<t.length&&r<e.length&&t[r]===e[r];r++);return[(t.length-r).toString(),...e.slice(r)].join("/")},TI=(t,e,r)=>{switch(e){case be.ZodString:return kc(t,r);case be.ZodNumber:return fw(t,r);case be.ZodObject:return hw(t,r);case be.ZodBigInt:return Kv(t,r);case be.ZodBoolean:return Xv();case be.ZodDate:return Vd(t,r);case be.ZodUndefined:return Cw();case be.ZodNull:return aw(r);case be.ZodArray:return Jv(t,r);case be.ZodUnion:case be.ZodDiscriminatedUnion:return uw(t,r);case be.ZodIntersection:return tw(t,r);case be.ZodTuple:return pw(t,r);case be.ZodRecord:return yc(t,r);case be.ZodLiteral:return rw(t,r);case be.ZodEnum:return ew(t);case be.ZodNativeEnum:return lw(t);case be.ZodNullable:return cw(t,r);case be.ZodOptional:return dw(t,r);case be.ZodMap:return iw(t,r);case be.ZodSet:return _w(t,r);case be.ZodLazy:return qe(t.getter()._def,r);case be.ZodPromise:return gw(t,r);case be.ZodNaN:case be.ZodNever:return ow();case be.ZodEffects:return $v(t,r);case be.ZodAny:return Gv();case be.ZodUnknown:return bw();case be.ZodDefault:return xv(t,r);case be.ZodBranded:return wc(t,r);case be.ZodReadonly:return vw(t,r);case be.ZodCatch:return Qv(t,r);case be.ZodPipeline:return mw(t,r);case be.ZodFunction:case be.ZodVoid:case be.ZodSymbol:return;default:return(n=>{})(e)}},zI=(t,e,r)=>(t.description&&(r.description=t.description,e.markdownDescription&&(r.markdownDescription=t.description)),r);var u9=(t,e)=>{var s;let r=Bv(e),n=typeof e=="object"&&e.definitions?Object.entries(e.definitions).reduce((u,[c,f])=>{var h;return{...u,[c]:(h=qe(f._def,{...r,currentPath:[...r.basePath,r.definitionPath,c]},!0))!=null?h:{}}},{}):void 0,i=typeof e=="string"?e:(e==null?void 0:e.nameStrategy)==="title"||e==null?void 0:e.name,l=(s=qe(t._def,i===void 0?r:{...r,currentPath:[...r.basePath,r.definitionPath,i]},!1))!=null?s:{},o=typeof e=="object"&&e.name!==void 0&&e.nameStrategy==="title"?e.name:void 0;o!==void 0&&(l.title=o);let a=i===void 0?n?{...l,[r.definitionPath]:n}:l:{$ref:[...r.$refStrategy==="relative"?[]:r.basePath,r.definitionPath,i].join("/"),[r.definitionPath]:{...n,[i]:l}};return r.target==="jsonSchema7"?a.$schema="http://json-schema.org/draft-07/schema#":(r.target==="jsonSchema2019-09"||r.target==="openAi")&&(a.$schema="https://json-schema.org/draft/2019-09/schema#"),r.target==="openAi"&&("anyOf"in a||"oneOf"in a||"allOf"in a||"type"in a&&Array.isArray(a.type))&&console.warn("Warning: OpenAI may not support schemas with unions as roots! Try wrapping it in an object property."),a};function ww(t){if(typeof t=="undefined")return null;try{return JSON.parse(t)}catch(l){}let e="",r=[],n=!1,i=!1;for(let l of t){if(n)l==='"'&&!i?n=!1:l===`
`&&!i?l="\\n":l==="\\"?i=!i:i=!1;else if(l==='"')n=!0,i=!1;else if(l==="{")r.push("}");else if(l==="[")r.push("]");else if(l==="}"||l==="]")if(r&&r[r.length-1]===l)r.pop();else return null;e+=l}n&&(e+='"');for(let l=r.length-1;l>=0;l-=1)e+=r[l];try{return JSON.parse(e)}catch(l){return null}}var Pw=qt(yw(),1),VI=qt(Hw(),1);function Aw(t,e){return(e==null?void 0:e[t])||(0,Pw.default)(t)}function Rw(t,e,r){let n={};for(let i in t)Object.hasOwn(t,i)&&(n[e(i,r)]=t[i]);return n}function Bw(t){return Array.isArray(t)?[...t]:{...t}}function ZI(t,e){let r=Bw(t);for(let[n,i]of Object.entries(e)){let[l,...o]=n.split(".").reverse(),a=r;for(let s of o.reverse()){if(a[s]===void 0)break;a[s]=Bw(a[s]),a=a[s]}a[l]!==void 0&&(a[l]={lc:1,type:"secret",id:[i]})}return r}function Nd(t){let e=Object.getPrototypeOf(t);return typeof t.lc_name=="function"&&(typeof e.lc_name!="function"||t.lc_name()!==e.lc_name())?t.lc_name():t.name}var ei=class t{static lc_name(){return this.name}get lc_id(){return[...this.lc_namespace,Nd(this.constructor)]}get lc_secrets(){}get lc_attributes(){}get lc_aliases(){}constructor(e,...r){Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"lc_kwargs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.lc_kwargs=e||{}}toJSON(){if(!this.lc_serializable)return this.toJSONNotImplemented();if(this.lc_kwargs instanceof t||typeof this.lc_kwargs!="object"||Array.isArray(this.lc_kwargs))return this.toJSONNotImplemented();let e={},r={},n=Object.keys(this.lc_kwargs).reduce((i,l)=>(i[l]=l in this?this[l]:this.lc_kwargs[l],i),{});for(let i=Object.getPrototypeOf(this);i;i=Object.getPrototypeOf(i))Object.assign(e,Reflect.get(i,"lc_aliases",this)),Object.assign(r,Reflect.get(i,"lc_secrets",this)),Object.assign(n,Reflect.get(i,"lc_attributes",this));return Object.keys(r).forEach(i=>{let l=this,o=n,[a,...s]=i.split(".").reverse();for(let u of s.reverse()){if(!(u in l)||l[u]===void 0)return;(!(u in o)||o[u]===void 0)&&(typeof l[u]=="object"&&l[u]!=null?o[u]={}:Array.isArray(l[u])&&(o[u]=[])),l=l[u],o=o[u]}a in l&&l[a]!==void 0&&(o[a]=o[a]||l[a])}),{lc:1,type:"constructor",id:this.lc_id,kwargs:Rw(Object.keys(r).length?ZI(n,r):n,Aw,e)}}toJSONNotImplemented(){return{lc:1,type:"not_implemented",id:this.lc_id}}};function Xa(t,e){var r;return typeof t=="string"?typeof e=="string"?t+e:[{type:"text",text:t},...e]:Array.isArray(e)?(r=Lc(t,e))!=null?r:[...t,...e]:[...t,{type:"text",text:e}]}function II(t,e){function r(n,i){if(typeof n!="object"||n===null||n===void 0)return n;if(i>=e)return Array.isArray(n)?"[Array]":"[Object]";if(Array.isArray(n))return n.map(o=>r(o,i+1));let l={};for(let o of Object.keys(n))l[o]=r(n[o],i+1);return l}return JSON.stringify(r(t,0),null,2)}var fn=class extends ei{get lc_aliases(){return{additional_kwargs:"additional_kwargs",response_metadata:"response_metadata"}}get text(){return typeof this.content=="string"?this.content:""}getType(){return this._getType()}constructor(e,r){typeof e=="string"&&(e={content:e,additional_kwargs:r,response_metadata:{}}),e.additional_kwargs||(e.additional_kwargs={}),e.response_metadata||(e.response_metadata={}),super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","messages"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"content",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"additional_kwargs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"response_metadata",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=e.name,this.content=e.content,this.additional_kwargs=e.additional_kwargs,this.response_metadata=e.response_metadata,this.id=e.id}toDict(){return{type:this._getType(),data:this.toJSON().kwargs}}static lc_name(){return"BaseMessage"}get _printableFields(){return{id:this.id,content:this.content,name:this.name,additional_kwargs:this.additional_kwargs,response_metadata:this.response_metadata}}_updateId(e){this.id=e,this.lc_kwargs.id=e}get[Symbol.toStringTag](){return this.constructor.lc_name()}[Symbol.for("nodejs.util.inspect.custom")](e){if(e===null)return this;let r=II(this._printableFields,Math.max(4,e));return`${this.constructor.lc_name()} ${r}`}};function Ai(t,e){let r={...t};for(let[n,i]of Object.entries(e))if(r[n]==null)r[n]=i;else{if(i==null)continue;if(typeof r[n]!=typeof i||Array.isArray(r[n])!==Array.isArray(i))throw new Error(`field[${n}] already exists in the message chunk, but with a different type.`);if(typeof r[n]=="string"){if(n==="type")continue;r[n]+=i}else if(typeof r[n]=="object"&&!Array.isArray(r[n]))r[n]=Ai(r[n],i);else if(Array.isArray(r[n]))r[n]=Lc(r[n],i);else{if(r[n]===i)continue;console.warn(`field[${n}] already exists in this message chunk and value has unsupported type.`)}}return r}function Lc(t,e){if(!(t===void 0&&e===void 0)){if(t===void 0||e===void 0)return t||e;{let r=[...t];for(let n of e)if(typeof n=="object"&&"index"in n&&typeof n.index=="number"){let i=r.findIndex(l=>l.index===n.index);i!==-1?r[i]=Ai(r[i],n):r.push(n)}else{if(typeof n=="object"&&"text"in n&&n.text==="")continue;r.push(n)}return r}}}var Al=class extends fn{};function Ow(t){return typeof t.role=="string"}function Vw(t){return typeof(t==null?void 0:t._getType)=="function"}var e2=class extends fn{static lc_name(){return"ToolMessage"}get lc_aliases(){return{tool_call_id:"tool_call_id"}}constructor(e,r,n){typeof e=="string"&&(e={content:e,name:n,tool_call_id:r}),super(e),Object.defineProperty(this,"lc_direct_tool_output",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tool_call_id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"artifact",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.tool_call_id=e.tool_call_id,this.artifact=e.artifact,this.status=e.status}_getType(){return"tool"}static isInstance(e){return e._getType()==="tool"}get _printableFields(){return{...super._printableFields,tool_call_id:this.tool_call_id,artifact:this.artifact}}};function Zw(t){let e=[],r=[];for(let n of t)if(n.function){let i=n.function.name;try{let l=JSON.parse(n.function.arguments),o={name:i||"",args:l||{},id:n.id};e.push(o)}catch(l){r.push({name:i,args:n.function.arguments,id:n.id,error:"Malformed args."})}}else continue;return[e,r]}var Rl=class extends fn{get lc_aliases(){return{...super.lc_aliases,tool_calls:"tool_calls",invalid_tool_calls:"invalid_tool_calls"}}constructor(e,r){var i,l,o,a,s;let n;if(typeof e=="string")n={content:e,tool_calls:[],invalid_tool_calls:[],additional_kwargs:r!=null?r:{}};else{n=e;let u=(i=n.additional_kwargs)==null?void 0:i.tool_calls,c=n.tool_calls;u!=null&&u.length>0&&(c===void 0||c.length===0)&&console.warn(["New LangChain packages are available that more efficiently handle",`tool calling.

Please upgrade your packages to versions that set`,"message tool calls. e.g., `yarn add @langchain/anthropic`,","yarn add @langchain/openai`, etc."].join(" "));try{if(u!=null&&c===void 0){let[f,h]=Zw(u);n.tool_calls=f!=null?f:[],n.invalid_tool_calls=h!=null?h:[]}else n.tool_calls=(l=n.tool_calls)!=null?l:[],n.invalid_tool_calls=(o=n.invalid_tool_calls)!=null?o:[]}catch(f){n.tool_calls=[],n.invalid_tool_calls=[]}}super(n),Object.defineProperty(this,"tool_calls",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"invalid_tool_calls",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"usage_metadata",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),typeof n!="string"&&(this.tool_calls=(a=n.tool_calls)!=null?a:this.tool_calls,this.invalid_tool_calls=(s=n.invalid_tool_calls)!=null?s:this.invalid_tool_calls),this.usage_metadata=n.usage_metadata}static lc_name(){return"AIMessage"}_getType(){return"ai"}get _printableFields(){return{...super._printableFields,tool_calls:this.tool_calls,invalid_tool_calls:this.invalid_tool_calls,usage_metadata:this.usage_metadata}}};function Fd(t){return t._getType()==="ai"}var Ri=class t extends Al{constructor(e){var n,i,l,o,a;let r;if(typeof e=="string")r={content:e,tool_calls:[],invalid_tool_calls:[],tool_call_chunks:[]};else if(e.tool_call_chunks===void 0)r={...e,tool_calls:(n=e.tool_calls)!=null?n:[],invalid_tool_calls:[],tool_call_chunks:[],usage_metadata:e.usage_metadata!==void 0?e.usage_metadata:void 0};else{let s=[],u=[];for(let c of e.tool_call_chunks){let f={};try{if(f=ww(c.args||"{}"),f===null||typeof f!="object"||Array.isArray(f))throw new Error("Malformed tool call chunk args.");s.push({name:(i=c.name)!=null?i:"",args:f,id:c.id,type:"tool_call"})}catch(h){u.push({name:c.name,args:c.args,id:c.id,error:"Malformed args.",type:"invalid_tool_call"})}}r={...e,tool_calls:s,invalid_tool_calls:u,usage_metadata:e.usage_metadata!==void 0?e.usage_metadata:void 0}}super(r),Object.defineProperty(this,"tool_calls",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"invalid_tool_calls",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"tool_call_chunks",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"usage_metadata",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.tool_call_chunks=(l=r.tool_call_chunks)!=null?l:this.tool_call_chunks,this.tool_calls=(o=r.tool_calls)!=null?o:this.tool_calls,this.invalid_tool_calls=(a=r.invalid_tool_calls)!=null?a:this.invalid_tool_calls,this.usage_metadata=r.usage_metadata}get lc_aliases(){return{...super.lc_aliases,tool_calls:"tool_calls",invalid_tool_calls:"invalid_tool_calls",tool_call_chunks:"tool_call_chunks"}}static lc_name(){return"AIMessageChunk"}_getType(){return"ai"}get _printableFields(){return{...super._printableFields,tool_calls:this.tool_calls,tool_call_chunks:this.tool_call_chunks,invalid_tool_calls:this.invalid_tool_calls,usage_metadata:this.usage_metadata}}concat(e){var n,i,l,o,a,s,u,c,f,h,g,p,w,b,v,S,P,Z,y,W,X,x,le,oe,$,ee,ce,Te,Pe,pe,et,we,ye,Dt,Rt,ke,ue,Jt,jt,gr,tn,Ur,mi,gi,el,uo,_i,pi,ve,la,co,Un,ar;let r={content:Xa(this.content,e.content),additional_kwargs:Ai(this.additional_kwargs,e.additional_kwargs),response_metadata:Ai(this.response_metadata,e.response_metadata),tool_call_chunks:[],id:(n=this.id)!=null?n:e.id};if(this.tool_call_chunks!==void 0||e.tool_call_chunks!==void 0){let Bt=Lc(this.tool_call_chunks,e.tool_call_chunks);Bt!==void 0&&Bt.length>0&&(r.tool_call_chunks=Bt)}if(this.usage_metadata!==void 0||e.usage_metadata!==void 0){let Bt={...(((l=(i=this.usage_metadata)==null?void 0:i.input_token_details)==null?void 0:l.audio)!==void 0||((a=(o=e.usage_metadata)==null?void 0:o.input_token_details)==null?void 0:a.audio)!==void 0)&&{audio:((c=(u=(s=this.usage_metadata)==null?void 0:s.input_token_details)==null?void 0:u.audio)!=null?c:0)+((g=(h=(f=e.usage_metadata)==null?void 0:f.input_token_details)==null?void 0:h.audio)!=null?g:0)},...(((w=(p=this.usage_metadata)==null?void 0:p.input_token_details)==null?void 0:w.cache_read)!==void 0||((v=(b=e.usage_metadata)==null?void 0:b.input_token_details)==null?void 0:v.cache_read)!==void 0)&&{cache_read:((Z=(P=(S=this.usage_metadata)==null?void 0:S.input_token_details)==null?void 0:P.cache_read)!=null?Z:0)+((X=(W=(y=e.usage_metadata)==null?void 0:y.input_token_details)==null?void 0:W.cache_read)!=null?X:0)},...(((le=(x=this.usage_metadata)==null?void 0:x.input_token_details)==null?void 0:le.cache_creation)!==void 0||(($=(oe=e.usage_metadata)==null?void 0:oe.input_token_details)==null?void 0:$.cache_creation)!==void 0)&&{cache_creation:((Te=(ce=(ee=this.usage_metadata)==null?void 0:ee.input_token_details)==null?void 0:ce.cache_creation)!=null?Te:0)+((et=(pe=(Pe=e.usage_metadata)==null?void 0:Pe.input_token_details)==null?void 0:pe.cache_creation)!=null?et:0)}},rn={...(((ye=(we=this.usage_metadata)==null?void 0:we.output_token_details)==null?void 0:ye.audio)!==void 0||((Rt=(Dt=e.usage_metadata)==null?void 0:Dt.output_token_details)==null?void 0:Rt.audio)!==void 0)&&{audio:((Jt=(ue=(ke=this.usage_metadata)==null?void 0:ke.output_token_details)==null?void 0:ue.audio)!=null?Jt:0)+((tn=(gr=(jt=e.usage_metadata)==null?void 0:jt.output_token_details)==null?void 0:gr.audio)!=null?tn:0)},...(((mi=(Ur=this.usage_metadata)==null?void 0:Ur.output_token_details)==null?void 0:mi.reasoning)!==void 0||((el=(gi=e.usage_metadata)==null?void 0:gi.output_token_details)==null?void 0:el.reasoning)!==void 0)&&{reasoning:((pi=(_i=(uo=this.usage_metadata)==null?void 0:uo.output_token_details)==null?void 0:_i.reasoning)!=null?pi:0)+((co=(la=(ve=e.usage_metadata)==null?void 0:ve.output_token_details)==null?void 0:la.reasoning)!=null?co:0)}},c1=(Un=this.usage_metadata)!=null?Un:{input_tokens:0,output_tokens:0,total_tokens:0},sr=(ar=e.usage_metadata)!=null?ar:{input_tokens:0,output_tokens:0,total_tokens:0},js={input_tokens:c1.input_tokens+sr.input_tokens,output_tokens:c1.output_tokens+sr.output_tokens,total_tokens:c1.total_tokens+sr.total_tokens,...Object.keys(Bt).length>0&&{input_token_details:Bt},...Object.keys(rn).length>0&&{output_token_details:rn}};r.usage_metadata=js}return new t(r)}};var t2=class t extends fn{static lc_name(){return"ChatMessage"}static _chatMessageClass(){return t}constructor(e,r){typeof e=="string"&&(e={content:e,role:r}),super(e),Object.defineProperty(this,"role",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.role=e.role}_getType(){return"generic"}static isInstance(e){return e._getType()==="generic"}get _printableFields(){return{...super._printableFields,role:this.role}}};var Pn=class extends fn{static lc_name(){return"HumanMessage"}_getType(){return"human"}};var Bl=class extends fn{static lc_name(){return"SystemMessage"}_getType(){return"system"}};function Iw(t,e){return t.lc_error_code=e,t.message=`${t.message}

Troubleshooting URL: https://js.langchain.com/docs/troubleshooting/errors/${e}/
`,t}function Sc(t){return!!(t&&typeof t=="object"&&"type"in t&&t.type==="tool_call")}var Ec=class extends Error{constructor(e,r){super(e),Object.defineProperty(this,"output",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.output=r}};function WI(t){return Sc(t)?t:typeof t.id=="string"&&t.type==="function"&&typeof t.function=="object"&&t.function!==null&&"arguments"in t.function&&typeof t.function.arguments=="string"&&"name"in t.function&&typeof t.function.name=="string"?{id:t.id,args:JSON.parse(t.function.arguments),name:t.function.name,type:"tool_call"}:t}function UI(t){return typeof t=="object"&&t!=null&&t.lc===1&&Array.isArray(t.id)&&t.kwargs!=null&&typeof t.kwargs=="object"}function jd(t){let e,r;if(UI(t)){let n=t.id.at(-1);n==="HumanMessage"||n==="HumanMessageChunk"?e="user":n==="AIMessage"||n==="AIMessageChunk"?e="assistant":n==="SystemMessage"||n==="SystemMessageChunk"?e="system":e="unknown",r=t.kwargs}else{let{type:n,...i}=t;e=n,r=i}if(e==="human"||e==="user")return new Pn(r);if(e==="ai"||e==="assistant"){let{tool_calls:n,...i}=r;if(!Array.isArray(n))return new Rl(r);let l=n.map(WI);return new Rl({...i,tool_calls:l})}else{if(e==="system")return new Bl(r);if(e==="tool"&&"tool_call_id"in r)return new e2({...r,content:r.content,tool_call_id:r.tool_call_id,name:r.name});throw Iw(new Error(`Unable to coerce message from array: only human, AI, system, or tool message coercion is currently supported.

Received: ${JSON.stringify(t,null,2)}`),"MESSAGE_COERCION_FAILURE")}}function Qa(t){if(typeof t=="string")return new Pn(t);if(Vw(t))return t;if(Array.isArray(t)){let[e,r]=t;return jd({type:e,content:r})}else if(Ow(t)){let{role:e,...r}=t;return jd({...r,type:e})}else return jd(t)}function Mc(t,e="Human",r="AI"){let n=[];for(let i of t){let l;if(i._getType()==="human")l=e;else if(i._getType()==="ai")l=r;else if(i._getType()==="system")l="System";else if(i._getType()==="function")l="Function";else if(i._getType()==="tool")l="Tool";else if(i._getType()==="generic")l=i.role;else throw new Error(`Got unsupported message type: ${i._getType()}`);let o=i.name?`${i.name}, `:"",a=typeof i.content=="string"?i.content:JSON.stringify(i.content,null,2);n.push(`${l}: ${o}${a}`)}return n.join(`
`)}var tm=qt(Hc(),1);var hn=qt(hk(),1),g5e=hn.default.v1,_5e=hn.default.v1ToV6,p5e=hn.default.v3,_r=hn.default.v4,C5e=hn.default.v5,b5e=hn.default.v6,v5e=hn.default.v6ToV1,w5e=hn.default.v7,k5e=hn.default.NIL,y5e=hn.default.MAX,L5e=hn.default.version,es=hn.default.validate,E5e=hn.default.stringify,S5e=hn.default.parse;var kk=qt(Hc(),1),t7=qt(e7(),1);var SN=(...t)=>fetch(...t),MN=Symbol.for("ls:fetch_implementation");var Ne=()=>{var t;return(t=globalThis[MN])!=null?t:SN};var TN=[400,401,403,404,405,406,407,408],zN=[409],m9=class{constructor(e){var r,n;Object.defineProperty(this,"maxConcurrency",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"maxRetries",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"queue",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"onFailedResponseHook",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxConcurrency=(r=e.maxConcurrency)!=null?r:1/0,this.maxRetries=(n=e.maxRetries)!=null?n:6,"default"in t7.default?this.queue=new t7.default.default({concurrency:this.maxConcurrency}):this.queue=new t7.default({concurrency:this.maxConcurrency}),this.onFailedResponseHook=e==null?void 0:e.onFailedResponseHook}call(e,...r){let n=this.onFailedResponseHook;return this.queue.add(()=>(0,kk.default)(()=>e(...r).catch(i=>{throw i instanceof Error?i:new Error(i)}),{async onFailedAttempt(i){if(i.message.startsWith("Cancel")||i.message.startsWith("TimeoutError")||i.message.startsWith("AbortError")||(i==null?void 0:i.code)==="ECONNABORTED")throw i;let l=i==null?void 0:i.response,o=l==null?void 0:l.status;if(o){if(TN.includes(+o))throw i;if(zN.includes(+o))return;n&&await n(l)}},retries:this.maxRetries,randomize:!0}),{throwOnTimeout:!0})}callWithOptions(e,r,...n){return e.signal?Promise.race([this.call(r,...n),new Promise((i,l)=>{var o;(o=e.signal)==null||o.addEventListener("abort",()=>{l(new Error("AbortError"))})})]):this.call(r,...n)}fetch(...e){return this.call(()=>Ne()(...e).then(r=>r.ok?r:Promise.reject(r)))}};function l6(t){return typeof(t==null?void 0:t._getType)=="function"}function o6(t){let e={type:t._getType(),data:{content:t.content}};return t!=null&&t.additional_kwargs&&Object.keys(t.additional_kwargs).length>0&&(e.data.additional_kwargs={...t.additional_kwargs}),e}function dt(t,e){if(!es(t)){let r=e!==void 0?`Invalid UUID for ${e}: ${t}`:`Invalid UUID: ${t}`;throw new Error(r)}return t}var yk={};function r7(t){yk[t]||(console.warn(t),yk[t]=!0)}var Lq=qt(d7(),1);function Zl(t){if(!t||t.split("/").length>2||t.startsWith("/")||t.endsWith("/")||t.split(":").length>2)throw new Error(`Invalid identifier format: ${t}`);let[e,r]=t.split(":"),n=r||"latest";if(e.includes("/")){let[i,l]=e.split("/",2);if(!i||!l)throw new Error(`Invalid identifier format: ${t}`);return[i,l,n]}else{if(!e)throw new Error(`Invalid identifier format: ${t}`);return["-",e,n]}}var E6=class extends Error{constructor(e){super(e),this.name="LangSmithConflictError"}};async function ft(t,e,r){let n;if(t.ok){r&&(n=await t.text());return}n=await t.text();let i=`Failed to ${e}. Received status [${t.status}]: ${t.statusText}. Server response: ${n}`;throw t.status===409?new E6(i):new Error(i)}var mL="[...]",Eq={result:"[Circular]"},m7=[],i2=[];function Sq(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function Bn(t,e,r,n){var o;try{return JSON.stringify(t,e,r)}catch(a){if(!((o=a.message)!=null&&o.includes("Converting circular structure to JSON")))return console.warn("[WARNING]: LangSmith received unserializable value."),"[Unserializable]";console.warn("[WARNING]: LangSmith received circular JSON. This will decrease tracer performance."),typeof n=="undefined"&&(n=Sq()),M6(t,"",0,[],void 0,0,n);var i;try{i2.length===0?i=JSON.stringify(t,e,r):i=JSON.stringify(t,Mq(e),r)}catch(s){return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;m7.length!==0;){var l=m7.pop();l.length===4?Object.defineProperty(l[0],l[1],l[3]):l[0][l[1]]=l[2]}}return i}}function S6(t,e,r,n){var i=Object.getOwnPropertyDescriptor(n,r);i.get!==void 0?i.configurable?(Object.defineProperty(n,r,{value:t}),m7.push([n,r,e,i])):i2.push([e,r,t]):(n[r]=t,m7.push([n,r,e]))}function M6(t,e,r,n,i,l,o){l+=1;var a;if(typeof t=="object"&&t!==null){for(a=0;a<n.length;a++)if(n[a]===t){S6(Eq,t,e,i);return}if(typeof o.depthLimit!="undefined"&&l>o.depthLimit){S6(mL,t,e,i);return}if(typeof o.edgesLimit!="undefined"&&r+1>o.edgesLimit){S6(mL,t,e,i);return}if(n.push(t),Array.isArray(t))for(a=0;a<t.length;a++)M6(t[a],a,a,n,t,l,o);else{var s=Object.keys(t);for(a=0;a<s.length;a++){var u=s[a];M6(t[u],u,a,n,t,l,o)}}n.pop()}}function Mq(t){return t=typeof t!="undefined"?t:function(e,r){return r},function(e,r){if(i2.length>0)for(var n=0;n<i2.length;n++){var i=i2[n];if(i[1]===e&&i[0]===r){r=i[2],i2.splice(n,1);break}}return t.call(this,e,r)}}function gL(t){var l,o;let e=_7(),r=_L(),n=(l=t.extra)!=null?l:{},i=n.metadata;return t.extra={...n,runtime:{...e,...n==null?void 0:n.runtime},metadata:{...r,...r.revision_id||t.revision_id?{revision_id:(o=t.revision_id)!=null?o:r.revision_id}:{},...i}},t}var Tq=()=>{let t=Il("TRACING_SAMPLING_RATE");if(t===void 0)return;let e=parseFloat(t);if(e<0||e>1)throw new Error(`LANGSMITH_TRACING_SAMPLING_RATE must be between 0 and 1 if set. Got: ${e}`);return e},zq=t=>{let r=t.replace("http://","").replace("https://","").split("/")[0].split(":")[0];return r==="localhost"||r==="127.0.0.1"||r==="::1"};async function Hq(t){let e=[];for await(let r of t)e.push(r);return e}function T6(t){if(t!==void 0)return t.trim().replace(/^"(.*)"$/,"$1").replace(/^'(.*)'$/,"$1")}var Pq=async t=>{var e;if((t==null?void 0:t.status)===429){let r=parseInt((e=t.headers.get("retry-after"))!=null?e:"30",10)*1e3;if(r>0)return await new Promise(n=>setTimeout(n,r)),!0}return!1},z6=class{constructor(){Object.defineProperty(this,"items",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"sizeBytes",{enumerable:!0,configurable:!0,writable:!0,value:0})}peek(){return this.items[0]}push(e){let r,n=new Promise(l=>{r=l}),i=Bn(e.item).length;return this.items.push({action:e.action,payload:e.item,itemPromiseResolve:r,itemPromise:n,size:i}),this.sizeBytes+=i,n}pop(e){var i,l;if(e<1)throw new Error("Number of bytes to pop off may not be less than 1.");let r=[],n=0;for(;n+((l=(i=this.peek())==null?void 0:i.size)!=null?l:0)<e&&this.items.length>0;){let o=this.items.shift();o&&(r.push(o),n+=o.size,this.sizeBytes-=o.size)}if(r.length===0&&this.items.length>0){let o=this.items.shift();r.push(o),n+=o.size,this.sizeBytes-=o.size}return[r.map(o=>({action:o.action,item:o.payload})),()=>r.forEach(o=>o.itemPromiseResolve())]}},Aq=20971520,Rq=2500,rs=class t{constructor(e={}){var n,i,l,o,a,s,u,c,f,h,g,p,w,b,v;Object.defineProperty(this,"apiKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"apiUrl",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"webUrl",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"caller",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"batchIngestCaller",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"timeout_ms",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tenantId",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"hideInputs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"hideOutputs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tracingSampleRate",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"filteredPostUuids",{enumerable:!0,configurable:!0,writable:!0,value:new Set}),Object.defineProperty(this,"autoBatchTracing",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"autoBatchQueue",{enumerable:!0,configurable:!0,writable:!0,value:new z6}),Object.defineProperty(this,"autoBatchTimeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"autoBatchAggregationDelayMs",{enumerable:!0,configurable:!0,writable:!0,value:250}),Object.defineProperty(this,"batchSizeBytesLimit",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fetchOptions",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"settings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"blockOnRootRunFinalization",{enumerable:!0,configurable:!0,writable:!0,value:Bi("LANGSMITH_TRACING_BACKGROUND")==="false"}),Object.defineProperty(this,"traceBatchConcurrency",{enumerable:!0,configurable:!0,writable:!0,value:5}),Object.defineProperty(this,"_serverInfo",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_getServerInfoPromise",{enumerable:!0,configurable:!0,writable:!0,value:void 0});let r=t.getDefaultClientConfig();if(this.tracingSampleRate=Tq(),this.apiUrl=(i=T6((n=e.apiUrl)!=null?n:r.apiUrl))!=null?i:"",this.apiUrl.endsWith("/")&&(this.apiUrl=this.apiUrl.slice(0,-1)),this.apiKey=T6((l=e.apiKey)!=null?l:r.apiKey),this.webUrl=T6((o=e.webUrl)!=null?o:r.webUrl),(a=this.webUrl)!=null&&a.endsWith("/")&&(this.webUrl=this.webUrl.slice(0,-1)),this.timeout_ms=(s=e.timeout_ms)!=null?s:9e4,this.caller=new m9((u=e.callerOptions)!=null?u:{}),this.traceBatchConcurrency=(c=e.traceBatchConcurrency)!=null?c:this.traceBatchConcurrency,this.traceBatchConcurrency<1)throw new Error("Trace batch concurrency must be positive.");this.batchIngestCaller=new m9({maxRetries:2,maxConcurrency:this.traceBatchConcurrency,...(f=e.callerOptions)!=null?f:{},onFailedResponseHook:Pq}),this.hideInputs=(g=(h=e.hideInputs)!=null?h:e.anonymizer)!=null?g:r.hideInputs,this.hideOutputs=(w=(p=e.hideOutputs)!=null?p:e.anonymizer)!=null?w:r.hideOutputs,this.autoBatchTracing=(b=e.autoBatchTracing)!=null?b:this.autoBatchTracing,this.blockOnRootRunFinalization=(v=e.blockOnRootRunFinalization)!=null?v:this.blockOnRootRunFinalization,this.batchSizeBytesLimit=e.batchSizeBytesLimit,this.fetchOptions=e.fetchOptions||{}}static getDefaultClientConfig(){var l;let e=Il("API_KEY"),r=(l=Il("ENDPOINT"))!=null?l:"https://api.smith.langchain.com",n=Il("HIDE_INPUTS")==="true",i=Il("HIDE_OUTPUTS")==="true";return{apiUrl:r,apiKey:e,webUrl:void 0,hideInputs:n,hideOutputs:i}}getHostUrl(){return this.webUrl?this.webUrl:zq(this.apiUrl)?(this.webUrl="http://localhost:3000",this.webUrl):this.apiUrl.includes("/api")&&!this.apiUrl.split(".",1)[0].endsWith("api")?(this.webUrl=this.apiUrl.replace("/api",""),this.webUrl):this.apiUrl.split(".",1)[0].includes("dev")?(this.webUrl="https://dev.smith.langchain.com",this.webUrl):this.apiUrl.split(".",1)[0].includes("eu")?(this.webUrl="https://eu.smith.langchain.com",this.webUrl):(this.webUrl="https://smith.langchain.com",this.webUrl)}get headers(){let e={"User-Agent":`langsmith-js/${g7}`};return this.apiKey&&(e["x-api-key"]=`${this.apiKey}`),e}processInputs(e){return this.hideInputs===!1?e:this.hideInputs===!0?{}:typeof this.hideInputs=="function"?this.hideInputs(e):e}processOutputs(e){return this.hideOutputs===!1?e:this.hideOutputs===!0?{}:typeof this.hideOutputs=="function"?this.hideOutputs(e):e}prepareRunCreateOrUpdateInputs(e){let r={...e};return r.inputs!==void 0&&(r.inputs=this.processInputs(r.inputs)),r.outputs!==void 0&&(r.outputs=this.processOutputs(r.outputs)),r}async _getResponse(e,r){var o;let n=(o=r==null?void 0:r.toString())!=null?o:"",i=`${this.apiUrl}${e}?${n}`,l=await this.caller.call(Ne(),i,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await ft(l,`Failed to fetch ${e}`),l}async _get(e,r){return(await this._getResponse(e,r)).json()}async*_getPaginated(e,r=new URLSearchParams,n){let i=Number(r.get("offset"))||0,l=Number(r.get("limit"))||100;for(;;){r.set("offset",String(i)),r.set("limit",String(l));let o=`${this.apiUrl}${e}?${r}`,a=await this.caller.call(Ne(),o,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await ft(a,`Failed to fetch ${e}`);let s=n?n(await a.json()):await a.json();if(s.length===0||(yield s,s.length<l))break;i+=s.length}}async*_getCursorPaginatedList(e,r=null,n="POST",i="runs"){let l=r?{...r}:{};for(;;){let a=await(await this.caller.call(Ne(),`${this.apiUrl}${e}`,{method:n,headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:JSON.stringify(l)})).json();if(!a||!a[i])break;yield a[i];let s=a.cursors;if(!s||!s.next)break;l.cursor=s.next}}_filterForSampling(e,r=!1){if(this.tracingSampleRate===void 0)return e;if(r){let n=[];for(let i of e)this.filteredPostUuids.has(i.id)?this.filteredPostUuids.delete(i.id):n.push(i);return n}else{let n=[];for(let i of e)i.id!==i.trace_id&&!this.filteredPostUuids.has(i.trace_id)||Math.random()<this.tracingSampleRate?n.push(i):this.filteredPostUuids.add(i.id);return n}}async _getBatchSizeLimitBytes(){var r,n,i;let e=await this._ensureServerInfo();return(i=(n=this.batchSizeBytesLimit)!=null?n:(r=e.batch_ingest_config)==null?void 0:r.size_limit_bytes)!=null?i:Aq}async _getMultiPartSupport(){var r,n;return(n=(r=(await this._ensureServerInfo()).instance_flags)==null?void 0:r.dataset_examples_multipart_enabled)!=null?n:!1}drainAutoBatchQueue(e){for(;this.autoBatchQueue.items.length>0;){let[r,n]=this.autoBatchQueue.pop(e);if(!r.length){n();break}this._processBatch(r,n).catch(console.error)}}async _processBatch(e,r){var n;if(!e.length){r();return}try{let i={runCreates:e.filter(o=>o.action==="create").map(o=>o.item),runUpdates:e.filter(o=>o.action==="update").map(o=>o.item)},l=await this._ensureServerInfo();(n=l==null?void 0:l.batch_ingest_config)!=null&&n.use_multipart_endpoint?await this.multipartIngestRuns(i):await this.batchIngestRuns(i)}finally{r()}}async processRunOperation(e){clearTimeout(this.autoBatchTimeout),this.autoBatchTimeout=void 0,e.action==="create"&&(e.item=gL(e.item));let r=this.autoBatchQueue.push(e),n=await this._getBatchSizeLimitBytes();return this.autoBatchQueue.sizeBytes>n&&this.drainAutoBatchQueue(n),this.autoBatchQueue.items.length>0&&(this.autoBatchTimeout=setTimeout(()=>{this.autoBatchTimeout=void 0,this.drainAutoBatchQueue(n)},this.autoBatchAggregationDelayMs)),r}async _getServerInfo(){let e=await Ne()(`${this.apiUrl}/info`,{method:"GET",headers:{Accept:"application/json"},signal:AbortSignal.timeout(Rq),...this.fetchOptions});return await ft(e,"get server info"),e.json()}async _ensureServerInfo(){return this._getServerInfoPromise===void 0&&(this._getServerInfoPromise=(async()=>{var e;if(this._serverInfo===void 0)try{this._serverInfo=await this._getServerInfo()}catch(r){console.warn("[WARNING]: LangSmith failed to fetch info on supported operations. Falling back to batch operations and default limits.")}return(e=this._serverInfo)!=null?e:{}})()),this._getServerInfoPromise.then(e=>(this._serverInfo===void 0&&(this._getServerInfoPromise=void 0),e))}async _getSettings(){return this.settings||(this.settings=this._get("/settings")),await this.settings}async createRun(e){var a;if(!this._filterForSampling([e]).length)return;let r={...this.headers,"Content-Type":"application/json"},n=e.project_name;delete e.project_name;let i=this.prepareRunCreateOrUpdateInputs({session_name:n,...e,start_time:(a=e.start_time)!=null?a:Date.now()});if(this.autoBatchTracing&&i.trace_id!==void 0&&i.dotted_order!==void 0){this.processRunOperation({action:"create",item:i}).catch(console.error);return}let l=gL(i),o=await this.caller.call(Ne(),`${this.apiUrl}/runs`,{method:"POST",headers:r,body:Bn(l),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await ft(o,"create run",!0)}async batchIngestRuns({runCreates:e,runUpdates:r}){var a,s;if(e===void 0&&r===void 0)return;let n=(a=e==null?void 0:e.map(u=>this.prepareRunCreateOrUpdateInputs(u)))!=null?a:[],i=(s=r==null?void 0:r.map(u=>this.prepareRunCreateOrUpdateInputs(u)))!=null?s:[];if(n.length>0&&i.length>0){let u=n.reduce((f,h)=>(h.id&&(f[h.id]=h),f),{}),c=[];for(let f of i)f.id!==void 0&&u[f.id]?u[f.id]={...u[f.id],...f}:c.push(f);n=Object.values(u),i=c}let l={post:this._filterForSampling(n),patch:this._filterForSampling(i,!0)};if(!l.post.length&&!l.patch.length)return;let o={post:[],patch:[]};for(let u of["post","patch"]){let c=u,f=l[c].reverse(),h=f.pop();for(;h!==void 0;)o[c].push(h),h=f.pop()}(o.post.length>0||o.patch.length>0)&&await this._postBatchIngestRuns(Bn(o))}async _postBatchIngestRuns(e){let r={...this.headers,"Content-Type":"application/json",Accept:"application/json"},n=await this.batchIngestCaller.call(Ne(),`${this.apiUrl}/runs/batch`,{method:"POST",headers:r,body:e,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await ft(n,"batch create run",!0)}async multipartIngestRuns({runCreates:e,runUpdates:r}){if(e===void 0&&r===void 0)return;let n={},i=[];for(let c of e!=null?e:[]){let f=this.prepareRunCreateOrUpdateInputs(c);f.id!==void 0&&f.attachments!==void 0&&(n[f.id]=f.attachments),delete f.attachments,i.push(f)}let l=[];for(let c of r!=null?r:[])l.push(this.prepareRunCreateOrUpdateInputs(c));if(i.find(c=>c.trace_id===void 0||c.dotted_order===void 0)!==void 0)throw new Error('Multipart ingest requires "trace_id" and "dotted_order" to be set when creating a run');if(l.find(c=>c.trace_id===void 0||c.dotted_order===void 0)!==void 0)throw new Error('Multipart ingest requires "trace_id" and "dotted_order" to be set when updating a run');if(i.length>0&&l.length>0){let c=i.reduce((h,g)=>(g.id&&(h[g.id]=g),h),{}),f=[];for(let h of l)h.id!==void 0&&c[h.id]?c[h.id]={...c[h.id],...h}:f.push(h);i=Object.values(c),l=f}if(i.length===0&&l.length===0)return;let s=[],u=[];for(let[c,f]of[["post",i],["patch",l]])for(let h of f){let{inputs:g,outputs:p,events:w,attachments:b,...v}=h,S={inputs:g,outputs:p,events:w},P=Bn(v);u.push({name:`${c}.${v.id}`,payload:new Blob([P],{type:`application/json; length=${P.length}`})});for(let[Z,y]of Object.entries(S)){if(y===void 0)continue;let W=Bn(y);u.push({name:`${c}.${v.id}.${Z}`,payload:new Blob([W],{type:`application/json; length=${W.length}`})})}if(v.id!==void 0){let Z=n[v.id];if(Z){delete n[v.id];for(let[y,W]of Object.entries(Z)){let X,x;if(Array.isArray(W)?[X,x]=W:(X=W.mimeType,x=W.data),y.includes(".")){console.warn(`Skipping attachment '${y}' for run ${v.id}: Invalid attachment name. Attachment names must not contain periods ('.'). Please rename the attachment and try again.`);continue}u.push({name:`attachment.${v.id}.${y}`,payload:new Blob([x],{type:`${X}; length=${x.byteLength}`})})}}}s.push(`trace=${v.trace_id},id=${v.id}`)}await this._sendMultipartRequest(u,s.join("; "))}async _sendMultipartRequest(e,r){try{let n="----LangSmithFormBoundary"+Math.random().toString(36).slice(2),i=[];for(let s of e)i.push(new Blob([`--${n}\r
`])),i.push(new Blob([`Content-Disposition: form-data; name="${s.name}"\r
`,`Content-Type: ${s.payload.type}\r
\r
`])),i.push(s.payload),i.push(new Blob([`\r
`]));i.push(new Blob([`--${n}--\r
`]));let o=await new Blob(i).arrayBuffer(),a=await this.batchIngestCaller.call(Ne(),`${this.apiUrl}/runs/multipart`,{method:"POST",headers:{...this.headers,"Content-Type":`multipart/form-data; boundary=${n}`},body:o,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await ft(a,"ingest multipart runs",!0)}catch(n){console.warn(`${n.message.trim()}

Context: ${r}`)}}async updateRun(e,r){dt(e),r.inputs&&(r.inputs=this.processInputs(r.inputs)),r.outputs&&(r.outputs=this.processOutputs(r.outputs));let n={...r,id:e};if(!this._filterForSampling([n],!0).length)return;if(this.autoBatchTracing&&n.trace_id!==void 0&&n.dotted_order!==void 0){if(r.end_time!==void 0&&n.parent_run_id===void 0&&this.blockOnRootRunFinalization){await this.processRunOperation({action:"update",item:n}).catch(console.error);return}else this.processRunOperation({action:"update",item:n}).catch(console.error);return}let i={...this.headers,"Content-Type":"application/json"},l=await this.caller.call(Ne(),`${this.apiUrl}/runs/${e}`,{method:"PATCH",headers:i,body:Bn(r),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await ft(l,"update run",!0)}async readRun(e,{loadChildRuns:r}={loadChildRuns:!1}){dt(e);let n=await this._get(`/runs/${e}`);return r&&n.child_run_ids&&(n=await this._loadChildRuns(n)),n}async getRunUrl({runId:e,run:r,projectOpts:n}){if(r!==void 0){let i;r.session_id?i=r.session_id:n!=null&&n.projectName?i=(await this.readProject({projectName:n==null?void 0:n.projectName})).id:n!=null&&n.projectId?i=n==null?void 0:n.projectId:i=(await this.readProject({projectName:Il("PROJECT")||"default"})).id;let l=await this._getTenantId();return`${this.getHostUrl()}/o/${l}/projects/p/${i}/r/${r.id}?poll=true`}else if(e!==void 0){let i=await this.readRun(e);if(!i.app_path)throw new Error(`Run ${e} has no app_path`);return`${this.getHostUrl()}${i.app_path}`}else throw new Error("Must provide either runId or run")}async _loadChildRuns(e){let r=await Hq(this.listRuns({id:e.child_run_ids})),n={},i={};r.sort((l,o)=>{var a,s;return((a=l==null?void 0:l.dotted_order)!=null?a:"").localeCompare((s=o==null?void 0:o.dotted_order)!=null?s:"")});for(let l of r){if(l.parent_run_id===null||l.parent_run_id===void 0)throw new Error(`Child run ${l.id} has no parent`);l.parent_run_id in n||(n[l.parent_run_id]=[]),n[l.parent_run_id].push(l),i[l.id]=l}e.child_runs=n[e.id]||[];for(let l in n)l!==e.id&&(i[l].child_runs=n[l]);return e}async*listRuns(e){let{projectId:r,projectName:n,parentRunId:i,traceId:l,referenceExampleId:o,startTime:a,executionOrder:s,isRoot:u,runType:c,error:f,id:h,query:g,filter:p,traceFilter:w,treeFilter:b,limit:v,select:S}=e,P=[];if(r&&(P=Array.isArray(r)?r:[r]),n){let X=Array.isArray(n)?n:[n],x=await Promise.all(X.map(le=>this.readProject({projectName:le}).then(oe=>oe.id)));P.push(...x)}let Z=["app_path","child_run_ids","completion_cost","completion_tokens","dotted_order","end_time","error","events","extra","feedback_stats","first_token_time","id","inputs","name","outputs","parent_run_id","parent_run_ids","prompt_cost","prompt_tokens","reference_example_id","run_type","session_id","start_time","status","tags","total_cost","total_tokens","trace_id"],y={session:P.length?P:null,run_type:c,reference_example:o,query:g,filter:p,trace_filter:w,tree_filter:b,execution_order:s,parent_run:i,start_time:a?a.toISOString():null,error:f,id:h,limit:v,trace:l,select:S||Z,is_root:u},W=0;for await(let X of this._getCursorPaginatedList("/runs/query",y))if(v){if(W>=v)break;if(X.length+W>v){yield*X.slice(0,v-W);break}W+=X.length,yield*X}else yield*X}async getRunStats({id:e,trace:r,parentRun:n,runType:i,projectNames:l,projectIds:o,referenceExampleIds:a,startTime:s,endTime:u,error:c,query:f,filter:h,traceFilter:g,treeFilter:p,isRoot:w,dataSourceType:b}){let v=o||[];l&&(v=[...o||[],...await Promise.all(l.map(W=>this.readProject({projectName:W}).then(X=>X.id)))]);let P=Object.fromEntries(Object.entries({id:e,trace:r,parent_run:n,run_type:i,session:v,reference_example:a,start_time:s,end_time:u,error:c,query:f,filter:h,trace_filter:g,tree_filter:p,is_root:w,data_source_type:b}).filter(([W,X])=>X!==void 0));return await(await this.caller.call(Ne(),`${this.apiUrl}/runs/stats`,{method:"POST",headers:this.headers,body:JSON.stringify(P),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions})).json()}async shareRun(e,{shareId:r}={}){let n={run_id:e,share_token:r||_r()};dt(e);let l=await(await this.caller.call(Ne(),`${this.apiUrl}/runs/${e}/share`,{method:"PUT",headers:this.headers,body:JSON.stringify(n),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions})).json();if(l===null||!("share_token"in l))throw new Error("Invalid response from server");return`${this.getHostUrl()}/public/${l.share_token}/r`}async unshareRun(e){dt(e);let r=await this.caller.call(Ne(),`${this.apiUrl}/runs/${e}/share`,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await ft(r,"unshare run",!0)}async readRunSharedLink(e){dt(e);let n=await(await this.caller.call(Ne(),`${this.apiUrl}/runs/${e}/share`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions})).json();if(!(n===null||!("share_token"in n)))return`${this.getHostUrl()}/public/${n.share_token}/r`}async listSharedRuns(e,{runIds:r}={}){let n=new URLSearchParams({share_token:e});if(r!==void 0)for(let o of r)n.append("id",o);return dt(e),await(await this.caller.call(Ne(),`${this.apiUrl}/public/${e}/runs${n}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions})).json()}async readDatasetSharedSchema(e,r){if(!e&&!r)throw new Error("Either datasetId or datasetName must be given");e||(e=(await this.readDataset({datasetName:r})).id),dt(e);let i=await(await this.caller.call(Ne(),`${this.apiUrl}/datasets/${e}/share`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions})).json();return i.url=`${this.getHostUrl()}/public/${i.share_token}/d`,i}async shareDataset(e,r){if(!e&&!r)throw new Error("Either datasetId or datasetName must be given");e||(e=(await this.readDataset({datasetName:r})).id);let n={dataset_id:e};dt(e);let l=await(await this.caller.call(Ne(),`${this.apiUrl}/datasets/${e}/share`,{method:"PUT",headers:this.headers,body:JSON.stringify(n),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions})).json();return l.url=`${this.getHostUrl()}/public/${l.share_token}/d`,l}async unshareDataset(e){dt(e);let r=await this.caller.call(Ne(),`${this.apiUrl}/datasets/${e}/share`,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await ft(r,"unshare dataset",!0)}async readSharedDataset(e){return dt(e),await(await this.caller.call(Ne(),`${this.apiUrl}/public/${e}/datasets`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions})).json()}async listSharedExamples(e,r){let n={};r!=null&&r.exampleIds&&(n.id=r.exampleIds);let i=new URLSearchParams;Object.entries(n).forEach(([a,s])=>{Array.isArray(s)?s.forEach(u=>i.append(a,u)):i.append(a,s)});let l=await this.caller.call(Ne(),`${this.apiUrl}/public/${e}/examples?${i.toString()}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions}),o=await l.json();if(!l.ok)throw"detail"in o?new Error(`Failed to list shared examples.
Status: ${l.status}
Message: ${o.detail.join(`
`)}`):new Error(`Failed to list shared examples: ${l.status} ${l.statusText}`);return o.map(a=>({...a,_hostUrl:this.getHostUrl()}))}async createProject({projectName:e,description:r=null,metadata:n=null,upsert:i=!1,projectExtra:l=null,referenceDatasetId:o=null}){let a=i?"?upsert=true":"",s=`${this.apiUrl}/sessions${a}`,u=l||{};n&&(u.metadata=n);let c={name:e,extra:u,description:r};o!==null&&(c.reference_dataset_id=o);let f=await this.caller.call(Ne(),s,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(c),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await ft(f,"create project"),await f.json()}async updateProject(e,{name:r=null,description:n=null,metadata:i=null,projectExtra:l=null,endTime:o=null}){let a=`${this.apiUrl}/sessions/${e}`,s=l;i&&(s={...s||{},metadata:i});let u={name:r,extra:s,description:n,end_time:o?new Date(o).toISOString():null},c=await this.caller.call(Ne(),a,{method:"PATCH",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(u),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await ft(c,"update project"),await c.json()}async hasProject({projectId:e,projectName:r}){let n="/sessions",i=new URLSearchParams;if(e!==void 0&&r!==void 0)throw new Error("Must provide either projectName or projectId, not both");if(e!==void 0)dt(e),n+=`/${e}`;else if(r!==void 0)i.append("name",r);else throw new Error("Must provide projectName or projectId");let l=await this.caller.call(Ne(),`${this.apiUrl}${n}?${i}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});try{let o=await l.json();return l.ok?Array.isArray(o)?o.length>0:!0:!1}catch(o){return!1}}async readProject({projectId:e,projectName:r,includeStats:n}){let i="/sessions",l=new URLSearchParams;if(e!==void 0&&r!==void 0)throw new Error("Must provide either projectName or projectId, not both");if(e!==void 0)dt(e),i+=`/${e}`;else if(r!==void 0)l.append("name",r);else throw new Error("Must provide projectName or projectId");n!==void 0&&l.append("include_stats",n.toString());let o=await this._get(i,l),a;if(Array.isArray(o)){if(o.length===0)throw new Error(`Project[id=${e}, name=${r}] not found`);a=o[0]}else a=o;return a}async getProjectUrl({projectId:e,projectName:r}){if(e===void 0&&r===void 0)throw new Error("Must provide either projectName or projectId");let n=await this.readProject({projectId:e,projectName:r}),i=await this._getTenantId();return`${this.getHostUrl()}/o/${i}/projects/p/${n.id}`}async getDatasetUrl({datasetId:e,datasetName:r}){if(e===void 0&&r===void 0)throw new Error("Must provide either datasetName or datasetId");let n=await this.readDataset({datasetId:e,datasetName:r}),i=await this._getTenantId();return`${this.getHostUrl()}/o/${i}/datasets/${n.id}`}async _getTenantId(){if(this._tenantId!==null)return this._tenantId;let e=new URLSearchParams({limit:"1"});for await(let r of this._getPaginated("/sessions",e))return this._tenantId=r[0].tenant_id,r[0].tenant_id;throw new Error("No projects found to resolve tenant.")}async*listProjects({projectIds:e,name:r,nameContains:n,referenceDatasetId:i,referenceDatasetName:l,referenceFree:o,metadata:a}={}){let s=new URLSearchParams;if(e!==void 0)for(let u of e)s.append("id",u);if(r!==void 0&&s.append("name",r),n!==void 0&&s.append("name_contains",n),i!==void 0)s.append("reference_dataset",i);else if(l!==void 0){let u=await this.readDataset({datasetName:l});s.append("reference_dataset",u.id)}o!==void 0&&s.append("reference_free",o.toString()),a!==void 0&&s.append("metadata",JSON.stringify(a));for await(let u of this._getPaginated("/sessions",s))yield*u}async deleteProject({projectId:e,projectName:r}){let n;if(e===void 0&&r===void 0)throw new Error("Must provide projectName or projectId");if(e!==void 0&&r!==void 0)throw new Error("Must provide either projectName or projectId, not both");e===void 0?n=(await this.readProject({projectName:r})).id:n=e,dt(n);let i=await this.caller.call(Ne(),`${this.apiUrl}/sessions/${n}`,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await ft(i,`delete session ${n} (${r})`,!0)}async uploadCsv({csvFile:e,fileName:r,inputKeys:n,outputKeys:i,description:l,dataType:o,name:a}){let s=`${this.apiUrl}/datasets/upload`,u=new FormData;u.append("file",e,r),n.forEach(h=>{u.append("input_keys",h)}),i.forEach(h=>{u.append("output_keys",h)}),l&&u.append("description",l),o&&u.append("data_type",o),a&&u.append("name",a);let c=await this.caller.call(Ne(),s,{method:"POST",headers:this.headers,body:u,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await ft(c,"upload CSV"),await c.json()}async createDataset(e,{description:r,dataType:n,inputsSchema:i,outputsSchema:l,metadata:o}={}){let a={name:e,description:r,extra:o?{metadata:o}:void 0};n&&(a.data_type=n),i&&(a.inputs_schema_definition=i),l&&(a.outputs_schema_definition=l);let s=await this.caller.call(Ne(),`${this.apiUrl}/datasets`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(a),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await ft(s,"create dataset"),await s.json()}async readDataset({datasetId:e,datasetName:r}){let n="/datasets",i=new URLSearchParams({limit:"1"});if(e!==void 0&&r!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");if(e!==void 0)dt(e),n+=`/${e}`;else if(r!==void 0)i.append("name",r);else throw new Error("Must provide datasetName or datasetId");let l=await this._get(n,i),o;if(Array.isArray(l)){if(l.length===0)throw new Error(`Dataset[id=${e}, name=${r}] not found`);o=l[0]}else o=l;return o}async hasDataset({datasetId:e,datasetName:r}){try{return await this.readDataset({datasetId:e,datasetName:r}),!0}catch(n){if(n instanceof Error&&n.message.toLocaleLowerCase().includes("not found"))return!1;throw n}}async diffDatasetVersions({datasetId:e,datasetName:r,fromVersion:n,toVersion:i}){let l=e;if(l===void 0&&r===void 0)throw new Error("Must provide either datasetName or datasetId");if(l!==void 0&&r!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");l===void 0&&(l=(await this.readDataset({datasetName:r})).id);let o=new URLSearchParams({from_version:typeof n=="string"?n:n.toISOString(),to_version:typeof i=="string"?i:i.toISOString()});return await this._get(`/datasets/${l}/versions/diff`,o)}async readDatasetOpenaiFinetuning({datasetId:e,datasetName:r}){let n="/datasets";if(e===void 0)if(r!==void 0)e=(await this.readDataset({datasetName:r})).id;else throw new Error("Must provide datasetName or datasetId");return(await(await this._getResponse(`${n}/${e}/openai_ft`)).text()).trim().split(`
`).map(a=>JSON.parse(a))}async*listDatasets({limit:e=100,offset:r=0,datasetIds:n,datasetName:i,datasetNameContains:l,metadata:o}={}){let a="/datasets",s=new URLSearchParams({limit:e.toString(),offset:r.toString()});if(n!==void 0)for(let u of n)s.append("id",u);i!==void 0&&s.append("name",i),l!==void 0&&s.append("name_contains",l),o!==void 0&&s.append("metadata",JSON.stringify(o));for await(let u of this._getPaginated(a,s))yield*u}async updateDataset(e){let{datasetId:r,datasetName:n,...i}=e;if(!r&&!n)throw new Error("Must provide either datasetName or datasetId");let l=r!=null?r:(await this.readDataset({datasetName:n})).id;dt(l);let o=await this.caller.call(Ne(),`${this.apiUrl}/datasets/${l}`,{method:"PATCH",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(i),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await ft(o,"update dataset"),await o.json()}async deleteDataset({datasetId:e,datasetName:r}){let n="/datasets",i=e;if(e!==void 0&&r!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");if(r!==void 0&&(i=(await this.readDataset({datasetName:r})).id),i!==void 0)dt(i),n+=`/${i}`;else throw new Error("Must provide datasetName or datasetId");let l=await this.caller.call(Ne(),this.apiUrl+n,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await ft(l,`delete ${n}`),await l.json()}async indexDataset({datasetId:e,datasetName:r,tag:n}){let i=e;if(!i&&!r)throw new Error("Must provide either datasetName or datasetId");if(i&&r)throw new Error("Must provide either datasetName or datasetId, not both");i||(i=(await this.readDataset({datasetName:r})).id),dt(i);let l={tag:n},o=await this.caller.call(Ne(),`${this.apiUrl}/datasets/${i}/index`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(l),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await ft(o,"index dataset"),await o.json()}async similarExamples(e,r,n,{filter:i}={}){let l={limit:n,inputs:e};i!==void 0&&(l.filter=i),dt(r);let o=await this.caller.call(Ne(),`${this.apiUrl}/datasets/${r}/search`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(l),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await ft(o,"fetch similar examples"),(await o.json()).examples}async createExample(e,r,{datasetId:n,datasetName:i,createdAt:l,exampleId:o,metadata:a,split:s,sourceRunId:u}){let c=n;if(c===void 0&&i===void 0)throw new Error("Must provide either datasetName or datasetId");if(c!==void 0&&i!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");c===void 0&&(c=(await this.readDataset({datasetName:i})).id);let f=l||new Date,h={dataset_id:c,inputs:e,outputs:r,created_at:f==null?void 0:f.toISOString(),id:o,metadata:a,split:s,source_run_id:u},g=await this.caller.call(Ne(),`${this.apiUrl}/examples`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(h),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await ft(g,"create example"),await g.json()}async createExamples(e){let{inputs:r,outputs:n,metadata:i,sourceRunIds:l,exampleIds:o,datasetId:a,datasetName:s}=e,u=a;if(u===void 0&&s===void 0)throw new Error("Must provide either datasetName or datasetId");if(u!==void 0&&s!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");u===void 0&&(u=(await this.readDataset({datasetName:s})).id);let c=r.map((g,p)=>({dataset_id:u,inputs:g,outputs:n?n[p]:void 0,metadata:i?i[p]:void 0,split:e.splits?e.splits[p]:void 0,id:o?o[p]:void 0,source_run_id:l?l[p]:void 0})),f=await this.caller.call(Ne(),`${this.apiUrl}/examples/bulk`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(c),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await ft(f,"create examples"),await f.json()}async createLLMExample(e,r,n){return this.createExample({input:e},{output:r},n)}async createChatExample(e,r,n){let i=e.map(o=>l6(o)?o6(o):o),l=l6(r)?o6(r):r;return this.createExample({input:i},{output:l},n)}async readExample(e){dt(e);let r=`/examples/${e}`,n=await this._get(r),{attachment_urls:i,...l}=n,o=l;return i&&(o.attachments=Object.entries(i).reduce((a,[s,u])=>(a[s.slice(11)]={presigned_url:u.presigned_url},a),{})),o}async*listExamples({datasetId:e,datasetName:r,exampleIds:n,asOf:i,splits:l,inlineS3Urls:o,metadata:a,limit:s,offset:u,filter:c,includeAttachments:f}={}){let h;if(e!==void 0&&r!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");if(e!==void 0)h=e;else if(r!==void 0)h=(await this.readDataset({datasetName:r})).id;else throw new Error("Must provide a datasetName or datasetId");let g=new URLSearchParams({dataset:h}),p=i?typeof i=="string"?i:i==null?void 0:i.toISOString():void 0;p&&g.append("as_of",p);let w=o!=null?o:!0;if(g.append("inline_s3_urls",w.toString()),n!==void 0)for(let v of n)g.append("id",v);if(l!==void 0)for(let v of l)g.append("splits",v);if(a!==void 0){let v=JSON.stringify(a);g.append("metadata",v)}s!==void 0&&g.append("limit",s.toString()),u!==void 0&&g.append("offset",u.toString()),c!==void 0&&g.append("filter",c),f===!0&&["attachment_urls","outputs","metadata"].forEach(v=>g.append("select",v));let b=0;for await(let v of this._getPaginated("/examples",g)){for(let S of v){let{attachment_urls:P,...Z}=S,y=Z;P&&(y.attachments=Object.entries(P).reduce((W,[X,x])=>(W[X.slice(11)]={presigned_url:x.presigned_url},W),{})),yield y,b++}if(s!==void 0&&b>=s)break}}async deleteExample(e){dt(e);let r=`/examples/${e}`,n=await this.caller.call(Ne(),this.apiUrl+r,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await ft(n,`delete ${r}`),await n.json()}async updateExample(e,r){dt(e);let n=await this.caller.call(Ne(),`${this.apiUrl}/examples/${e}`,{method:"PATCH",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(r),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await ft(n,"update example"),await n.json()}async updateExamples(e){let r=await this.caller.call(Ne(),`${this.apiUrl}/examples/bulk`,{method:"PATCH",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(e),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await ft(r,"update examples"),await r.json()}async listDatasetSplits({datasetId:e,datasetName:r,asOf:n}){let i;if(e===void 0&&r===void 0)throw new Error("Must provide dataset name or ID");if(e!==void 0&&r!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");e===void 0?i=(await this.readDataset({datasetName:r})).id:i=e,dt(i);let l=new URLSearchParams,o=n?typeof n=="string"?n:n==null?void 0:n.toISOString():void 0;return o&&l.append("as_of",o),await this._get(`/datasets/${i}/splits`,l)}async updateDatasetSplits({datasetId:e,datasetName:r,splitName:n,exampleIds:i,remove:l=!1}){let o;if(e===void 0&&r===void 0)throw new Error("Must provide dataset name or ID");if(e!==void 0&&r!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");e===void 0?o=(await this.readDataset({datasetName:r})).id:o=e,dt(o);let a={split_name:n,examples:i.map(u=>(dt(u),u)),remove:l},s=await this.caller.call(Ne(),`${this.apiUrl}/datasets/${o}/splits`,{method:"PUT",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(a),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await ft(s,"update dataset splits",!0)}async evaluateRun(e,r,{sourceInfo:n,loadChildRuns:i,referenceExample:l}={loadChildRuns:!1}){r7("This method is deprecated and will be removed in future LangSmith versions, use `evaluate` from `langsmith/evaluation` instead.");let o;if(typeof e=="string")o=await this.readRun(e,{loadChildRuns:i});else if(typeof e=="object"&&"id"in e)o=e;else throw new Error(`Invalid run type: ${typeof e}`);o.reference_example_id!==null&&o.reference_example_id!==void 0&&(l=await this.readExample(o.reference_example_id));let a=await r.evaluateRun(o,l),[s,u]=await this._logEvaluationFeedback(a,o,n);return u[0]}async createFeedback(e,r,{score:n,value:i,correction:l,comment:o,sourceInfo:a,feedbackSourceType:s="api",sourceRunId:u,feedbackId:c,feedbackConfig:f,projectId:h,comparativeExperimentId:g}){var S;if(!e&&!h)throw new Error("One of runId or projectId must be provided");if(e&&h)throw new Error("Only one of runId or projectId can be provided");let p={type:s!=null?s:"api",metadata:a!=null?a:{}};u!==void 0&&(p==null?void 0:p.metadata)!==void 0&&!p.metadata.__run&&(p.metadata.__run={run_id:u}),(p==null?void 0:p.metadata)!==void 0&&((S=p.metadata.__run)==null?void 0:S.run_id)!==void 0&&dt(p.metadata.__run.run_id);let w={id:c!=null?c:_r(),run_id:e,key:r,score:n,value:i,correction:l,comment:o,feedback_source:p,comparative_experiment_id:g,feedbackConfig:f,session_id:h},b=`${this.apiUrl}/feedback`,v=await this.caller.call(Ne(),b,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(w),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await ft(v,"create feedback",!0),w}async updateFeedback(e,{score:r,value:n,correction:i,comment:l}){let o={};r!=null&&(o.score=r),n!=null&&(o.value=n),i!=null&&(o.correction=i),l!=null&&(o.comment=l),dt(e);let a=await this.caller.call(Ne(),`${this.apiUrl}/feedback/${e}`,{method:"PATCH",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(o),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await ft(a,"update feedback",!0)}async readFeedback(e){dt(e);let r=`/feedback/${e}`;return await this._get(r)}async deleteFeedback(e){dt(e);let r=`/feedback/${e}`,n=await this.caller.call(Ne(),this.apiUrl+r,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await ft(n,`delete ${r}`),await n.json()}async*listFeedback({runIds:e,feedbackKeys:r,feedbackSourceTypes:n}={}){let i=new URLSearchParams;if(e&&i.append("run",e.join(",")),r)for(let l of r)i.append("key",l);if(n)for(let l of n)i.append("source",l);for await(let l of this._getPaginated("/feedback",i))yield*l}async createPresignedFeedbackToken(e,r,{expiration:n,feedbackConfig:i}={}){let l={run_id:e,feedback_key:r,feedback_config:i};return n?typeof n=="string"?l.expires_at=n:(n!=null&&n.hours||n!=null&&n.minutes||n!=null&&n.days)&&(l.expires_in=n):l.expires_in={hours:3},await(await this.caller.call(Ne(),`${this.apiUrl}/feedback/tokens`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(l),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions})).json()}async createComparativeExperiment({name:e,experimentIds:r,referenceDatasetId:n,createdAt:i,description:l,metadata:o,id:a}){var c;if(r.length===0)throw new Error("At least one experiment is required");if(n||(n=(await this.readProject({projectId:r[0]})).reference_dataset_id),!n==null)throw new Error("A reference dataset is required");let s={id:a,name:e,experiment_ids:r,reference_dataset_id:n,description:l,created_at:(c=i!=null?i:new Date)==null?void 0:c.toISOString(),extra:{}};return o&&(s.extra.metadata=o),await(await this.caller.call(Ne(),`${this.apiUrl}/datasets/comparative`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(s),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions})).json()}async*listPresignedFeedbackTokens(e){dt(e);let r=new URLSearchParams({run_id:e});for await(let n of this._getPaginated("/feedback/tokens",r))yield*n}_selectEvalResults(e){let r;return"results"in e?r=e.results:r=[e],r}async _logEvaluationFeedback(e,r,n){let i=this._selectEvalResults(e),l=[];for(let o of i){let a=n||{};o.evaluatorInfo&&(a={...o.evaluatorInfo,...a});let s=null;o.targetRunId?s=o.targetRunId:r&&(s=r.id),l.push(await this.createFeedback(s,o.key,{score:o.score,value:o.value,comment:o.comment,correction:o.correction,sourceInfo:a,sourceRunId:o.sourceRunId,feedbackConfig:o.feedbackConfig,feedbackSourceType:"model"}))}return[i,l]}async logEvaluationFeedback(e,r,n){let[i]=await this._logEvaluationFeedback(e,r,n);return i}async*listAnnotationQueues(e={}){let{queueIds:r,name:n,nameContains:i,limit:l}=e,o=new URLSearchParams;r&&r.forEach((s,u)=>{dt(s,`queueIds[${u}]`),o.append("ids",s)}),n&&o.append("name",n),i&&o.append("name_contains",i),o.append("limit",(l!==void 0?Math.min(l,100):100).toString());let a=0;for await(let s of this._getPaginated("/annotation-queues",o))if(yield*s,a++,l!==void 0&&a>=l)break}async createAnnotationQueue(e){let{name:r,description:n,queueId:i}=e,l={name:r,description:n,id:i||_r()},o=await this.caller.call(Ne(),`${this.apiUrl}/annotation-queues`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(Object.fromEntries(Object.entries(l).filter(([s,u])=>u!==void 0))),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await ft(o,"create annotation queue"),await o.json()}async readAnnotationQueue(e){let r=await this.listAnnotationQueues({queueIds:[e]}).next();if(r.done)throw new Error(`Annotation queue with ID ${e} not found`);return r.value}async updateAnnotationQueue(e,r){let{name:n,description:i}=r,l=await this.caller.call(Ne(),`${this.apiUrl}/annotation-queues/${dt(e,"queueId")}`,{method:"PATCH",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify({name:n,description:i}),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await ft(l,"update annotation queue")}async deleteAnnotationQueue(e){let r=await this.caller.call(Ne(),`${this.apiUrl}/annotation-queues/${dt(e,"queueId")}`,{method:"DELETE",headers:{...this.headers,Accept:"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await ft(r,"delete annotation queue")}async addRunsToAnnotationQueue(e,r){let n=await this.caller.call(Ne(),`${this.apiUrl}/annotation-queues/${dt(e,"queueId")}/runs`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(r.map((i,l)=>dt(i,`runIds[${l}]`).toString())),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await ft(n,"add runs to annotation queue")}async getRunFromAnnotationQueue(e,r){let n=`/annotation-queues/${dt(e,"queueId")}/run`,i=await this.caller.call(Ne(),`${this.apiUrl}${n}/${r}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await ft(i,"get run from annotation queue"),await i.json()}async _currentTenantIsOwner(e){let r=await this._getSettings();return e=="-"||r.tenant_handle===e}async _ownerConflictError(e,r){let n=await this._getSettings();return new Error(`Cannot ${e} for another tenant.

      Current tenant: ${n.tenant_handle}

      Requested tenant: ${r}`)}async _getLatestCommitHash(e){let r=await this.caller.call(Ne(),`${this.apiUrl}/commits/${e}/?limit=1&offset=0`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions}),n=await r.json();if(!r.ok){let i=typeof n.detail=="string"?n.detail:JSON.stringify(n.detail),l=new Error(`Error ${r.status}: ${r.statusText}
${i}`);throw l.statusCode=r.status,l}if(n.commits.length!==0)return n.commits[0].commit_hash}async _likeOrUnlikePrompt(e,r){let[n,i,l]=Zl(e),o=await this.caller.call(Ne(),`${this.apiUrl}/likes/${n}/${i}`,{method:"POST",body:JSON.stringify({like:r}),headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await ft(o,`${r?"like":"unlike"} prompt`),await o.json()}async _getPromptUrl(e){let[r,n,i]=Zl(e);if(await this._currentTenantIsOwner(r)){let l=await this._getSettings();return i!=="latest"?`${this.getHostUrl()}/prompts/${n}/${i.substring(0,8)}?organizationId=${l.id}`:`${this.getHostUrl()}/prompts/${n}?organizationId=${l.id}`}else return i!=="latest"?`${this.getHostUrl()}/hub/${r}/${n}/${i.substring(0,8)}`:`${this.getHostUrl()}/hub/${r}/${n}`}async promptExists(e){return!!await this.getPrompt(e)}async likePrompt(e){return this._likeOrUnlikePrompt(e,!0)}async unlikePrompt(e){return this._likeOrUnlikePrompt(e,!1)}async*listCommits(e){for await(let r of this._getPaginated(`/commits/${e}/`,new URLSearchParams,n=>n.commits))yield*r}async*listPrompts(e){var n;let r=new URLSearchParams;r.append("sort_field",(n=e==null?void 0:e.sortField)!=null?n:"updated_at"),r.append("sort_direction","desc"),r.append("is_archived",(!!(e!=null&&e.isArchived)).toString()),(e==null?void 0:e.isPublic)!==void 0&&r.append("is_public",e.isPublic.toString()),e!=null&&e.query&&r.append("query",e.query);for await(let i of this._getPaginated("/repos",r,l=>l.repos))yield*i}async getPrompt(e){let[r,n,i]=Zl(e),l=await this.caller.call(Ne(),`${this.apiUrl}/repos/${r}/${n}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});if(l.status===404)return null;await ft(l,"get prompt");let o=await l.json();return o.repo?o.repo:null}async createPrompt(e,r){let n=await this._getSettings();if(r!=null&&r.isPublic&&!n.tenant_handle)throw new Error(`Cannot create a public prompt without first

        creating a LangChain Hub handle. 
        You can add a handle by creating a public prompt at:

        https://smith.langchain.com/prompts`);let[i,l,o]=Zl(e);if(!await this._currentTenantIsOwner(i))throw await this._ownerConflictError("create a prompt",i);let a={repo_handle:l,...(r==null?void 0:r.description)&&{description:r.description},...(r==null?void 0:r.readme)&&{readme:r.readme},...(r==null?void 0:r.tags)&&{tags:r.tags},is_public:!!(r!=null&&r.isPublic)},s=await this.caller.call(Ne(),`${this.apiUrl}/repos/`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(a),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await ft(s,"create prompt");let{repo:u}=await s.json();return u}async createCommit(e,r,n){if(!await this.promptExists(e))throw new Error("Prompt does not exist, you must create it first.");let[i,l,o]=Zl(e),a=(n==null?void 0:n.parentCommitHash)==="latest"||!(n!=null&&n.parentCommitHash)?await this._getLatestCommitHash(`${i}/${l}`):n==null?void 0:n.parentCommitHash,s={manifest:JSON.parse(JSON.stringify(r)),parent_commit:a},u=await this.caller.call(Ne(),`${this.apiUrl}/commits/${i}/${l}`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(s),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await ft(u,"create commit");let c=await u.json();return this._getPromptUrl(`${i}/${l}${c.commit_hash?`:${c.commit_hash}`:""}`)}async updateExamplesMultipart(e,r=[]){if(!await this._getMultiPartSupport())throw new Error("Your LangSmith version does not allow using the multipart examples endpoint, please update to the latest version.");let n=new FormData;for(let o of r){let a=o.id,s={...o.metadata&&{metadata:o.metadata},...o.split&&{split:o.split}},u=Bn(s),c=new Blob([u],{type:"application/json"});if(n.append(a,c),o.inputs){let f=Bn(o.inputs),h=new Blob([f],{type:"application/json"});n.append(`${a}.inputs`,h)}if(o.outputs){let f=Bn(o.outputs),h=new Blob([f],{type:"application/json"});n.append(`${a}.outputs`,h)}if(o.attachments)for(let[f,h]of Object.entries(o.attachments)){let g,p;Array.isArray(h)?[g,p]=h:(g=h.mimeType,p=h.data);let w=new Blob([p],{type:`${g}; length=${p.byteLength}`});n.append(`${a}.attachment.${f}`,w)}if(o.attachments_operations){let f=Bn(o.attachments_operations),h=new Blob([f],{type:"application/json"});n.append(`${a}.attachments_operations`,h)}}return await(await this.caller.call(Ne(),`${this.apiUrl}/v1/platform/datasets/${e}/examples`,{method:"PATCH",headers:this.headers,body:n})).json()}async uploadExamplesMultipart(e,r=[]){var o;if(!await this._getMultiPartSupport())throw new Error("Your LangSmith version does not allow using the multipart examples endpoint, please update to the latest version.");let n=new FormData;for(let a of r){let s=((o=a.id)!=null?o:_r()).toString(),u={created_at:a.created_at,...a.metadata&&{metadata:a.metadata},...a.split&&{split:a.split}},c=Bn(u),f=new Blob([c],{type:"application/json"});n.append(s,f);let h=Bn(a.inputs),g=new Blob([h],{type:"application/json"});if(n.append(`${s}.inputs`,g),a.outputs){let p=Bn(a.outputs),w=new Blob([p],{type:"application/json"});n.append(`${s}.outputs`,w)}if(a.attachments)for(let[p,w]of Object.entries(a.attachments)){let b,v;Array.isArray(w)?[b,v]=w:(b=w.mimeType,v=w.data);let S=new Blob([v],{type:`${b}; length=${v.byteLength}`});n.append(`${s}.attachment.${p}`,S)}}return await(await this.caller.call(Ne(),`${this.apiUrl}/v1/platform/datasets/${e}/examples`,{method:"POST",headers:this.headers,body:n})).json()}async updatePrompt(e,r){if(!await this.promptExists(e))throw new Error("Prompt does not exist, you must create it first.");let[n,i]=Zl(e);if(!await this._currentTenantIsOwner(n))throw await this._ownerConflictError("update a prompt",n);let l={};if((r==null?void 0:r.description)!==void 0&&(l.description=r.description),(r==null?void 0:r.readme)!==void 0&&(l.readme=r.readme),(r==null?void 0:r.tags)!==void 0&&(l.tags=r.tags),(r==null?void 0:r.isPublic)!==void 0&&(l.is_public=r.isPublic),(r==null?void 0:r.isArchived)!==void 0&&(l.is_archived=r.isArchived),Object.keys(l).length===0)throw new Error("No valid update options provided");let o=await this.caller.call(Ne(),`${this.apiUrl}/repos/${n}/${i}`,{method:"PATCH",body:JSON.stringify(l),headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await ft(o,"update prompt"),o.json()}async deletePrompt(e){if(!await this.promptExists(e))throw new Error("Prompt does not exist, you must create it first.");let[r,n,i]=Zl(e);if(!await this._currentTenantIsOwner(r))throw await this._ownerConflictError("delete a prompt",r);return await(await this.caller.call(Ne(),`${this.apiUrl}/repos/${r}/${n}`,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions})).json()}async pullPromptCommit(e,r){let[n,i,l]=Zl(e),o=await this.caller.call(Ne(),`${this.apiUrl}/commits/${n}/${i}/${l}${r!=null&&r.includeModel?"?include_model=true":""}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await ft(o,"pull prompt commit");let a=await o.json();return{owner:n,repo:i,commit_hash:a.commit_hash,manifest:a.manifest,examples:a.examples}}async _pullPrompt(e,r){let n=await this.pullPromptCommit(e,{includeModel:r==null?void 0:r.includeModel});return JSON.stringify(n.manifest)}async pushPrompt(e,r){return await this.promptExists(e)?r&&Object.keys(r).some(i=>i!=="object")&&await this.updatePrompt(e,{description:r==null?void 0:r.description,readme:r==null?void 0:r.readme,tags:r==null?void 0:r.tags,isPublic:r==null?void 0:r.isPublic}):await this.createPrompt(e,{description:r==null?void 0:r.description,readme:r==null?void 0:r.readme,tags:r==null?void 0:r.tags,isPublic:r==null?void 0:r.isPublic}),r!=null&&r.object?await this.createCommit(e,r==null?void 0:r.object,{parentCommitHash:r==null?void 0:r.parentCommitHash}):await this._getPromptUrl(e)}async clonePublicDataset(e,r={}){var h,g;let{sourceApiUrl:n=this.apiUrl,datasetName:i}=r,[l,o]=this.parseTokenOrUrl(e,n),a=new t({apiUrl:l,apiKey:"placeholder"}),s=await a.readSharedDataset(o),u=i||s.name;try{if(await this.hasDataset({datasetId:u})){console.log(`Dataset ${u} already exists in your tenant. Skipping.`);return}}catch(p){}let c=await a.listSharedExamples(o),f=await this.createDataset(u,{description:s.description,dataType:s.data_type||"kv",inputsSchema:(h=s.inputs_schema_definition)!=null?h:void 0,outputsSchema:(g=s.outputs_schema_definition)!=null?g:void 0});try{await this.createExamples({inputs:c.map(p=>p.inputs),outputs:c.flatMap(p=>p.outputs?[p.outputs]:[]),datasetId:f.id})}catch(p){throw console.error(`An error occurred while creating dataset ${u}. You should delete it manually.`),p}}parseTokenOrUrl(e,r,n=2,i="dataset"){try{return dt(e),[r,e]}catch(l){}try{let o=new URL(e).pathname.split("/").filter(a=>a!=="");if(o.length>=n){let a=o[o.length-n];return[r,a]}else throw new Error(`Invalid public ${i} URL: ${e}`)}catch(l){throw new Error(`Invalid public ${i} URL or token: ${e}`)}}awaitPendingTraceBatches(){return Promise.all([...this.autoBatchQueue.items.map(({itemPromise:e})=>e),this.batchIngestCaller.queue.onIdle()])}};var g7="0.2.13";var Nl,Bq=()=>typeof window!="undefined"&&typeof window.document!="undefined",Oq=()=>typeof globalThis=="object"&&globalThis.constructor&&globalThis.constructor.name==="DedicatedWorkerGlobalScope",Vq=()=>typeof window!="undefined"&&window.name==="nodejs"||typeof navigator!="undefined"&&(navigator.userAgent.includes("Node.js")||navigator.userAgent.includes("jsdom")),pL=()=>typeof Deno!="undefined",Zq=()=>typeof process!="undefined"&&typeof process.versions!="undefined"&&typeof process.versions.node!="undefined"&&!pL(),Iq=()=>Nl||(Bq()?Nl="browser":Zq()?Nl="node":Oq()?Nl="webworker":Vq()?Nl="jsdom":pL()?Nl="deno":Nl="other",Nl),H6;function _7(){if(H6===void 0){let t=Iq(),e=Nq();H6={library:"langsmith",runtime:t,sdk:"langsmith-js",sdk_version:g7,...e}}return H6}function _L(){let t=Dq()||{},e={},r=["LANGCHAIN_API_KEY","LANGCHAIN_ENDPOINT","LANGCHAIN_TRACING_V2","LANGCHAIN_PROJECT","LANGCHAIN_SESSION","LANGSMITH_API_KEY","LANGSMITH_ENDPOINT","LANGSMITH_TRACING_V2","LANGSMITH_PROJECT","LANGSMITH_SESSION"];for(let[n,i]of Object.entries(t))(n.startsWith("LANGCHAIN_")||n.startsWith("LANGSMITH_"))&&typeof i=="string"&&!r.includes(n)&&!n.toLowerCase().includes("key")&&!n.toLowerCase().includes("secret")&&!n.toLowerCase().includes("token")&&(n==="LANGCHAIN_REVISION_ID"?e.revision_id=i:e[n]=i);return e}function Dq(){try{return typeof process!="undefined"&&process.env?Object.entries(process.env).reduce((t,[e,r])=>(t[e]=String(r),t),{}):void 0}catch(t){return}}function Bi(t){var e;try{return typeof process!="undefined"?(e=process.env)==null?void 0:e[t]:void 0}catch(r){return}}function Il(t){return Bi(`LANGSMITH_${t}`)||Bi(`LANGCHAIN_${t}`)}var P6;function Nq(){if(P6!==void 0)return P6;let t=["VERCEL_GIT_COMMIT_SHA","NEXT_PUBLIC_VERCEL_GIT_COMMIT_SHA","COMMIT_REF","RENDER_GIT_COMMIT","CI_COMMIT_SHA","CIRCLE_SHA1","CF_PAGES_COMMIT_SHA","REACT_APP_GIT_SHA","SOURCE_VERSION","GITHUB_SHA","TRAVIS_COMMIT","GIT_COMMIT","BUILD_VCS_NUMBER","bamboo_planRepository_revision","Build.SourceVersion","BITBUCKET_COMMIT","DRONE_COMMIT_SHA","SEMAPHORE_GIT_SHA","BUILDKITE_COMMIT"],e={};for(let r of t){let n=Bi(r);n!==void 0&&(e[r]=n)}return P6=e,e}var CL=t=>t!==void 0?t:!!["TRACING_V2","TRACING"].find(r=>Il(r)==="true");var p7=Symbol.for("lc:context_variables");function Fq(t){return t.replace(/[-:.]/g,"")}function jq(t,e,r=1){let n=r.toFixed(0).slice(0,3).padStart(3,"0");return Fq(`${new Date(t).toISOString().slice(0,-1)}${n}Z`)+e}var C7=class t{constructor(e,r){Object.defineProperty(this,"metadata",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.metadata=e,this.tags=r}static fromHeader(e){let r=e.split(","),n={},i=[];for(let l of r){let[o,a]=l.split("="),s=decodeURIComponent(a);o==="langsmith-metadata"?n=JSON.parse(s):o==="langsmith-tags"&&(i=s.split(","))}return new t(n,i)}toHeader(){let e=[];return this.metadata&&Object.keys(this.metadata).length>0&&e.push(`langsmith-metadata=${encodeURIComponent(JSON.stringify(this.metadata))}`),this.tags&&this.tags.length>0&&e.push(`langsmith-tags=${encodeURIComponent(this.tags.join(","))}`),e.join(",")}},Dl=class t{constructor(e){var a,s,u,c,f;if(Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"run_type",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"project_name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"parent_run",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"child_runs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"start_time",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"end_time",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"extra",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"error",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"serialized",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"inputs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"outputs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reference_example_id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"events",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"trace_id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"dotted_order",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tracingEnabled",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"execution_order",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"child_execution_order",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"attachments",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),b7(e)){Object.assign(this,{...e});return}let r=t.getDefaultConfig(),{metadata:n,...i}=e,l=(a=i.client)!=null?a:t.getSharedClient(),o={...n,...(s=i==null?void 0:i.extra)==null?void 0:s.metadata};if(i.extra={...i.extra,metadata:o},Object.assign(this,{...r,...i,client:l}),this.trace_id||(this.parent_run?this.trace_id=(u=this.parent_run.trace_id)!=null?u:this.id:this.trace_id=this.id),(c=this.execution_order)!=null||(this.execution_order=1),(f=this.child_execution_order)!=null||(this.child_execution_order=1),!this.dotted_order){let h=jq(this.start_time,this.id,this.execution_order);this.parent_run?this.dotted_order=this.parent_run.dotted_order+"."+h:this.dotted_order=h}}static getDefaultConfig(){var e,r,n;return{id:_r(),run_type:"chain",project_name:(r=(e=Bi("LANGCHAIN_PROJECT"))!=null?e:Bi("LANGCHAIN_SESSION"))!=null?r:"default",child_runs:[],api_url:(n=Bi("LANGCHAIN_ENDPOINT"))!=null?n:"http://localhost:1984",api_key:Bi("LANGCHAIN_API_KEY"),caller_options:{},start_time:Date.now(),serialized:{},inputs:{},extra:{}}}static getSharedClient(){return t.sharedClient||(t.sharedClient=new rs),t.sharedClient}createChild(e){var s,u,c,f,h,g,p;let r=this.child_execution_order+1,n=new t({...e,parent_run:this,project_name:this.project_name,client:this.client,tracingEnabled:this.tracingEnabled,execution_order:r,child_execution_order:r});p7 in this&&(n[p7]=this[p7]);let i=Symbol.for("lc:child_config"),l=(u=(s=e.extra)==null?void 0:s[i])!=null?u:this.extra[i];if(Wq(l)){let w={...l},b=qq(w.callbacks)?(f=(c=w.callbacks).copy)==null?void 0:f.call(c):void 0;b&&(Object.assign(b,{_parentRunId:n.id}),(p=(g=(h=b.handlers)==null?void 0:h.find(vL))==null?void 0:g.updateFromRunTree)==null||p.call(g,n),w.callbacks=b),n.extra[i]=w}let o=new Set,a=this;for(;a!=null&&!o.has(a.id);)o.add(a.id),a.child_execution_order=Math.max(a.child_execution_order,r),a=a.parent_run;return this.child_runs.push(n),n}async end(e,r,n=Date.now(),i){var l,o,a;this.outputs=(l=this.outputs)!=null?l:e,this.error=(o=this.error)!=null?o:r,this.end_time=(a=this.end_time)!=null?a:n,i&&Object.keys(i).length>0&&(this.extra=this.extra?{...this.extra,metadata:{...this.extra.metadata,...i}}:{metadata:i})}_convertToCreate(e,r,n=!0){var s,u;let i=(s=e.extra)!=null?s:{};if(i.runtime||(i.runtime={}),r)for(let[c,f]of Object.entries(r))i.runtime[c]||(i.runtime[c]=f);let l,o;return n?(o=(u=e.parent_run)==null?void 0:u.id,l=[]):(l=e.child_runs.map(c=>this._convertToCreate(c,r,n)),o=void 0),{id:e.id,name:e.name,start_time:e.start_time,end_time:e.end_time,run_type:e.run_type,reference_example_id:e.reference_example_id,extra:i,serialized:e.serialized,error:e.error,inputs:e.inputs,outputs:e.outputs,session_name:e.project_name,child_runs:l,parent_run_id:o,trace_id:e.trace_id,dotted_order:e.dotted_order,tags:e.tags,attachments:e.attachments}}async postRun(e=!0){try{let r=_7(),n=await this._convertToCreate(this,r,!0);if(await this.client.createRun(n),!e){r7("Posting with excludeChildRuns=false is deprecated and will be removed in a future version.");for(let i of this.child_runs)await i.postRun(!1)}}catch(r){console.error(`Error in postRun for run ${this.id}:`,r)}}async patchRun(){var e;try{let r={end_time:this.end_time,error:this.error,inputs:this.inputs,outputs:this.outputs,parent_run_id:(e=this.parent_run)==null?void 0:e.id,reference_example_id:this.reference_example_id,extra:this.extra,events:this.events,dotted_order:this.dotted_order,trace_id:this.trace_id,tags:this.tags,attachments:this.attachments};await this.client.updateRun(this.id,r)}catch(r){console.error(`Error in patchRun for run ${this.id}`,r)}}toJSON(){return this._convertToCreate(this,void 0,!1)}static fromRunnableConfig(e,r){var u,c,f,h,g,p,w;let n=e==null?void 0:e.callbacks,i,l,o,a=CL();if(n){let b=(c=(u=n==null?void 0:n.getParentRunId)==null?void 0:u.call(n))!=null?c:"",v=(f=n==null?void 0:n.handlers)==null?void 0:f.find(S=>(S==null?void 0:S.name)=="langchain_tracer");i=(h=v==null?void 0:v.getRun)==null?void 0:h.call(v,b),l=v==null?void 0:v.projectName,o=v==null?void 0:v.client,a=a||!!v}return i?new t({name:i.name,id:i.id,trace_id:i.trace_id,dotted_order:i.dotted_order,client:o,tracingEnabled:a,project_name:l,tags:[...new Set(((g=i==null?void 0:i.tags)!=null?g:[]).concat((p=e==null?void 0:e.tags)!=null?p:[]))],extra:{metadata:{...(w=i==null?void 0:i.extra)==null?void 0:w.metadata,...e==null?void 0:e.metadata}}}).createChild(r):new t({...r,client:o,tracingEnabled:a,project_name:l})}static fromDottedOrder(e){return this.fromHeaders({"langsmith-trace":e})}static fromHeaders(e,r){var u,c,f,h;let n="get"in e&&typeof e.get=="function"?{"langsmith-trace":e.get("langsmith-trace"),baggage:e.get("baggage")}:e,i=n["langsmith-trace"];if(!i||typeof i!="string")return;let l=i.trim(),o=l.split(".").map(g=>{let[p,w]=g.split("Z");return{strTime:p,time:Date.parse(p+"Z"),uuid:w}}),a=o[0].uuid,s={...r,name:(u=r==null?void 0:r.name)!=null?u:"parent",run_type:(c=r==null?void 0:r.run_type)!=null?c:"chain",start_time:(f=r==null?void 0:r.start_time)!=null?f:Date.now(),id:(h=o.at(-1))==null?void 0:h.uuid,trace_id:a,dotted_order:l};if(n.baggage&&typeof n.baggage=="string"){let g=C7.fromHeader(n.baggage);s.metadata=g.metadata,s.tags=g.tags}return new t(s)}toHeaders(e){var n;let r={"langsmith-trace":this.dotted_order,baggage:new C7((n=this.extra)==null?void 0:n.metadata,this.tags).toHeader()};if(e)for(let[i,l]of Object.entries(r))e.set(i,l);return r}};Object.defineProperty(Dl,"sharedClient",{enumerable:!0,configurable:!0,writable:!0,value:null});function b7(t){return t!==void 0&&typeof t.createChild=="function"&&typeof t.postRun=="function"}function vL(t){return typeof t=="object"&&t!=null&&typeof t.name=="string"&&t.name==="langchain_tracer"}function bL(t){return Array.isArray(t)&&t.some(e=>vL(e))}function qq(t){return typeof t=="object"&&t!=null&&Array.isArray(t.handlers)}function Wq(t){var e;return t!==void 0&&typeof t.callbacks=="object"&&(bL((e=t.callbacks)==null?void 0:e.handlers)||bL(t.callbacks))}var R6=class{getStore(){}run(e,r){return r()}},A6=Symbol.for("ls:tracing_async_local_storage"),Uq=new R6,B6=class{getInstance(){var e;return(e=globalThis[A6])!=null?e:Uq}initializeGlobalInstance(e){globalThis[A6]===void 0&&(globalThis[A6]=e)}},Yq=new B6,wL=()=>{let t=Yq.getInstance().getStore();if(!b7(t))throw new Error(["Could not get the current run tree.","","Please make sure you are calling this method within a traceable function or the tracing is enabled."].join(`
`));return t};var oce=Symbol.for("langsmith:traceable:root");function v7(t){return typeof t=="function"&&"langsmith:traceable"in t}var O6={};t8(O6,{JsonPatchError:()=>cr,_areEquals:()=>y9,applyOperation:()=>is,applyPatch:()=>ls,applyReducer:()=>Xq,deepClone:()=>Jq,getValueByPointer:()=>L7,validate:()=>EL,validator:()=>E7});var Gq=Object.prototype.hasOwnProperty;function yL(t,e){return Gq.call(t,e)}function LL(t){if(Array.isArray(t)){let r=new Array(t.length);for(let n=0;n<r.length;n++)r[n]=""+n;return r}if(Object.keys)return Object.keys(t);let e=[];for(let r in t)yL(t,r)&&e.push(r);return e}function y1(t){switch(typeof t){case"object":return JSON.parse(JSON.stringify(t));case"undefined":return null;default:return t}}function k7(t){let e=0,r=t.length,n;for(;e<r;){if(n=t.charCodeAt(e),n>=48&&n<=57){e++;continue}return!1}return!0}function y7(t){return t.indexOf("/")===-1&&t.indexOf("~")===-1?t:t.replace(/~/g,"~0").replace(/\//g,"~1")}function k9(t){return t.replace(/~1/g,"/").replace(/~0/g,"~")}function w7(t){if(t===void 0)return!0;if(t){if(Array.isArray(t)){for(let r=0,n=t.length;r<n;r++)if(w7(t[r]))return!0}else if(typeof t=="object"){let r=LL(t),n=r.length;for(var e=0;e<n;e++)if(w7(t[r[e]]))return!0}}return!1}function kL(t,e){let r=[t];for(let n in e){let i=typeof e[n]=="object"?JSON.stringify(e[n],null,2):e[n];typeof i!="undefined"&&r.push(`${n}: ${i}`)}return r.join(`
`)}var ns=class extends Error{constructor(e,r,n,i,l){super(kL(e,{name:r,index:n,operation:i,tree:l})),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"index",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"operation",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"tree",{enumerable:!0,configurable:!0,writable:!0,value:l}),Object.setPrototypeOf(this,new.target.prototype),this.message=kL(e,{name:r,index:n,operation:i,tree:l})}};var cr=ns,Jq=y1,l2={add:function(t,e,r){return t[e]=this.value,{newDocument:r}},remove:function(t,e,r){var n=t[e];return delete t[e],{newDocument:r,removed:n}},replace:function(t,e,r){var n=t[e];return t[e]=this.value,{newDocument:r,removed:n}},move:function(t,e,r){let n=L7(r,this.path);n&&(n=y1(n));let i=is(r,{op:"remove",path:this.from}).removed;return is(r,{op:"add",path:this.path,value:i}),{newDocument:r,removed:n}},copy:function(t,e,r){let n=L7(r,this.from);return is(r,{op:"add",path:this.path,value:y1(n)}),{newDocument:r}},test:function(t,e,r){return{newDocument:r,test:y9(t[e],this.value)}},_get:function(t,e,r){return this.value=t[e],{newDocument:r}}},Kq={add:function(t,e,r){return k7(e)?t.splice(e,0,this.value):t[e]=this.value,{newDocument:r,index:e}},remove:function(t,e,r){var n=t.splice(e,1);return{newDocument:r,removed:n[0]}},replace:function(t,e,r){var n=t[e];return t[e]=this.value,{newDocument:r,removed:n}},move:l2.move,copy:l2.copy,test:l2.test,_get:l2._get};function L7(t,e){if(e=="")return t;var r={op:"_get",path:e};return is(t,r),r.value}function is(t,e,r=!1,n=!0,i=!0,l=0){if(r&&(typeof r=="function"?r(e,0,t,e.path):E7(e,0)),e.path===""){let o={newDocument:t};if(e.op==="add")return o.newDocument=e.value,o;if(e.op==="replace")return o.newDocument=e.value,o.removed=t,o;if(e.op==="move"||e.op==="copy")return o.newDocument=L7(t,e.from),e.op==="move"&&(o.removed=t),o;if(e.op==="test"){if(o.test=y9(t,e.value),o.test===!1)throw new cr("Test operation failed","TEST_OPERATION_FAILED",l,e,t);return o.newDocument=t,o}else{if(e.op==="remove")return o.removed=t,o.newDocument=null,o;if(e.op==="_get")return e.value=t,o;if(r)throw new cr("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",l,e,t);return o}}else{n||(t=y1(t));let a=(e.path||"").split("/"),s=t,u=1,c=a.length,f,h,g;for(typeof r=="function"?g=r:g=E7;;){if(h=a[u],h&&h.indexOf("~")!=-1&&(h=k9(h)),i&&(h=="__proto__"||h=="prototype"&&u>0&&a[u-1]=="constructor"))throw new TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(r&&f===void 0&&(s[h]===void 0?f=a.slice(0,u).join("/"):u==c-1&&(f=e.path),f!==void 0&&g(e,0,t,f)),u++,Array.isArray(s)){if(h==="-")h=s.length;else{if(r&&!k7(h))throw new cr("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",l,e,t);k7(h)&&(h=~~h)}if(u>=c){if(r&&e.op==="add"&&h>s.length)throw new cr("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",l,e,t);let p=Kq[e.op].call(e,s,h,t);if(p.test===!1)throw new cr("Test operation failed","TEST_OPERATION_FAILED",l,e,t);return p}}else if(u>=c){let p=l2[e.op].call(e,s,h,t);if(p.test===!1)throw new cr("Test operation failed","TEST_OPERATION_FAILED",l,e,t);return p}if(s=s[h],r&&u<c&&(!s||typeof s!="object"))throw new cr("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",l,e,t)}}}function ls(t,e,r,n=!0,i=!0){if(r&&!Array.isArray(e))throw new cr("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");n||(t=y1(t));let l=new Array(e.length);for(let o=0,a=e.length;o<a;o++)l[o]=is(t,e[o],r,!0,i,o),t=l[o].newDocument;return l.newDocument=t,l}function Xq(t,e,r){let n=is(t,e);if(n.test===!1)throw new cr("Test operation failed","TEST_OPERATION_FAILED",r,e,t);return n.newDocument}function E7(t,e,r,n){if(typeof t!="object"||t===null||Array.isArray(t))throw new cr("Operation is not an object","OPERATION_NOT_AN_OBJECT",e,t,r);if(l2[t.op]){if(typeof t.path!="string")throw new cr("Operation `path` property is not a string","OPERATION_PATH_INVALID",e,t,r);if(t.path.indexOf("/")!==0&&t.path.length>0)throw new cr('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",e,t,r);if((t.op==="move"||t.op==="copy")&&typeof t.from!="string")throw new cr("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",e,t,r);if((t.op==="add"||t.op==="replace"||t.op==="test")&&t.value===void 0)throw new cr("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",e,t,r);if((t.op==="add"||t.op==="replace"||t.op==="test")&&w7(t.value))throw new cr("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",e,t,r);if(r){if(t.op=="add"){var i=t.path.split("/").length,l=n.split("/").length;if(i!==l+1&&i!==l)throw new cr("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",e,t,r)}else if(t.op==="replace"||t.op==="remove"||t.op==="_get"){if(t.path!==n)throw new cr("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",e,t,r)}else if(t.op==="move"||t.op==="copy"){var o={op:"_get",path:t.from,value:void 0},a=EL([o],r);if(a&&a.name==="OPERATION_PATH_UNRESOLVABLE")throw new cr("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",e,t,r)}}}else throw new cr("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",e,t,r)}function EL(t,e,r){try{if(!Array.isArray(t))throw new cr("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(e)ls(y1(e),y1(t),r||!0);else{r=r||E7;for(var n=0;n<t.length;n++)r(t[n],n,e,void 0)}}catch(i){if(i instanceof cr)return i;throw i}}function y9(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){var r=Array.isArray(t),n=Array.isArray(e),i,l,o;if(r&&n){if(l=t.length,l!=e.length)return!1;for(i=l;i--!==0;)if(!y9(t[i],e[i]))return!1;return!0}if(r!=n)return!1;var a=Object.keys(t);if(l=a.length,l!==Object.keys(e).length)return!1;for(i=l;i--!==0;)if(!e.hasOwnProperty(a[i]))return!1;for(i=l;i--!==0;)if(o=a[i],!y9(t[o],e[o]))return!1;return!0}return t!==t&&e!==e}var _ce={...O6,JsonPatchError:ns,deepClone:y1,escapePathComponent:y7,unescapePathComponent:k9};var Qq=()=>typeof window!="undefined"&&typeof window.document!="undefined",xq=()=>typeof globalThis=="object"&&globalThis.constructor&&globalThis.constructor.name==="DedicatedWorkerGlobalScope",$q=()=>typeof window!="undefined"&&window.name==="nodejs"||typeof navigator!="undefined"&&(navigator.userAgent.includes("Node.js")||navigator.userAgent.includes("jsdom")),Z6=()=>typeof Deno!="undefined",eW=()=>typeof process!="undefined"&&typeof process.versions!="undefined"&&typeof process.versions.node!="undefined"&&!Z6(),tW=()=>{let t;return Qq()?t="browser":eW()?t="node":xq()?t="webworker":$q()?t="jsdom":Z6()?t="deno":t="other",t},V6;async function SL(){return V6===void 0&&(V6={library:"langchain-js",runtime:tW()}),V6}function _n(t){var e;try{return typeof process!="undefined"?(e=process.env)==null?void 0:e[t]:Z6()?Deno==null?void 0:Deno.env.get(t):void 0}catch(r){return}}var I6=class{},os=class t extends I6{get lc_namespace(){return["langchain_core","callbacks",this.name]}get lc_secrets(){}get lc_attributes(){}get lc_aliases(){}static lc_name(){return this.name}get lc_id(){return[...this.lc_namespace,Nd(this.constructor)]}constructor(e){var r,n,i,l,o,a,s;super(),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"lc_kwargs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"ignoreLLM",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"ignoreChain",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"ignoreAgent",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"ignoreRetriever",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"ignoreCustomEvent",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"raiseError",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"awaitHandlers",{enumerable:!0,configurable:!0,writable:!0,value:_n("LANGCHAIN_CALLBACKS_BACKGROUND")==="false"}),this.lc_kwargs=e||{},e&&(this.ignoreLLM=(r=e.ignoreLLM)!=null?r:this.ignoreLLM,this.ignoreChain=(n=e.ignoreChain)!=null?n:this.ignoreChain,this.ignoreAgent=(i=e.ignoreAgent)!=null?i:this.ignoreAgent,this.ignoreRetriever=(l=e.ignoreRetriever)!=null?l:this.ignoreRetriever,this.ignoreCustomEvent=(o=e.ignoreCustomEvent)!=null?o:this.ignoreCustomEvent,this.raiseError=(a=e.raiseError)!=null?a:this.raiseError,this.awaitHandlers=this.raiseError||((s=e._awaitHandler)!=null?s:this.awaitHandlers))}copy(){return new this.constructor(this)}toJSON(){return ei.prototype.toJSON.call(this)}toJSONNotImplemented(){return ei.prototype.toJSONNotImplemented.call(this)}static fromMethods(e){class r extends t{constructor(){super(),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:_r()}),Object.assign(this,e)}}return new r}},ML=t=>{let e=t;return e!==void 0&&typeof e.copy=="function"&&typeof e.name=="string"&&typeof e.awaitHandlers=="boolean"};function D6(t,e){return t&&!Array.isArray(t)&&typeof t=="object"?t:{[e]:t}}function rW(t){return t.replace(/[-:.]/g,"")}function nW(t,e,r){let n=r.toFixed(0).slice(0,3).padStart(3,"0");return rW(`${new Date(t).toISOString().slice(0,-1)}${n}Z`)+e}function o2(t){return typeof t._addRunToRunMap=="function"}var L1=class extends os{constructor(e){super(...arguments),Object.defineProperty(this,"runMap",{enumerable:!0,configurable:!0,writable:!0,value:new Map})}copy(){return this}stringifyError(e){return e instanceof Error?e.message+(e!=null&&e.stack?`

${e.stack}`:""):typeof e=="string"?e:`${e}`}_addChildRun(e,r){e.child_runs.push(r)}_addRunToRunMap(e){let r=nW(e.start_time,e.id,e.execution_order),n={...e};if(n.parent_run_id!==void 0){let i=this.runMap.get(n.parent_run_id);i&&(this._addChildRun(i,n),i.child_execution_order=Math.max(i.child_execution_order,n.child_execution_order),n.trace_id=i.trace_id,i.dotted_order!==void 0&&(n.dotted_order=[i.dotted_order,r].join(".")))}else n.trace_id=n.id,n.dotted_order=r;return this.runMap.set(n.id,n),n}async _endTrace(e){var n;let r=e.parent_run_id!==void 0&&this.runMap.get(e.parent_run_id);r?r.child_execution_order=Math.max(r.child_execution_order,e.child_execution_order):await this.persistRun(e),this.runMap.delete(e.id),await((n=this.onRunUpdate)==null?void 0:n.call(this,e))}_getExecutionOrder(e){let r=e!==void 0&&this.runMap.get(e);return r?r.child_execution_order+1:1}_createRunForLLMStart(e,r,n,i,l,o,a,s){let u=this._getExecutionOrder(i),c=Date.now(),f=a?{...l,metadata:a}:l,h={id:n,name:s!=null?s:e.id[e.id.length-1],parent_run_id:i,start_time:c,serialized:e,events:[{name:"start",time:new Date(c).toISOString()}],inputs:{prompts:r},execution_order:u,child_runs:[],child_execution_order:u,run_type:"llm",extra:f!=null?f:{},tags:o||[]};return this._addRunToRunMap(h)}async handleLLMStart(e,r,n,i,l,o,a,s){var c,f,h;let u=(c=this.runMap.get(n))!=null?c:this._createRunForLLMStart(e,r,n,i,l,o,a,s);return await((f=this.onRunCreate)==null?void 0:f.call(this,u)),await((h=this.onLLMStart)==null?void 0:h.call(this,u)),u}_createRunForChatModelStart(e,r,n,i,l,o,a,s){let u=this._getExecutionOrder(i),c=Date.now(),f=a?{...l,metadata:a}:l,h={id:n,name:s!=null?s:e.id[e.id.length-1],parent_run_id:i,start_time:c,serialized:e,events:[{name:"start",time:new Date(c).toISOString()}],inputs:{messages:r},execution_order:u,child_runs:[],child_execution_order:u,run_type:"llm",extra:f!=null?f:{},tags:o||[]};return this._addRunToRunMap(h)}async handleChatModelStart(e,r,n,i,l,o,a,s){var c,f,h;let u=(c=this.runMap.get(n))!=null?c:this._createRunForChatModelStart(e,r,n,i,l,o,a,s);return await((f=this.onRunCreate)==null?void 0:f.call(this,u)),await((h=this.onLLMStart)==null?void 0:h.call(this,u)),u}async handleLLMEnd(e,r){var i;let n=this.runMap.get(r);if(!n||(n==null?void 0:n.run_type)!=="llm")throw new Error("No LLM run to end.");return n.end_time=Date.now(),n.outputs=e,n.events.push({name:"end",time:new Date(n.end_time).toISOString()}),await((i=this.onLLMEnd)==null?void 0:i.call(this,n)),await this._endTrace(n),n}async handleLLMError(e,r){var i;let n=this.runMap.get(r);if(!n||(n==null?void 0:n.run_type)!=="llm")throw new Error("No LLM run to end.");return n.end_time=Date.now(),n.error=this.stringifyError(e),n.events.push({name:"error",time:new Date(n.end_time).toISOString()}),await((i=this.onLLMError)==null?void 0:i.call(this,n)),await this._endTrace(n),n}_createRunForChainStart(e,r,n,i,l,o,a,s){let u=this._getExecutionOrder(i),c=Date.now(),f={id:n,name:s!=null?s:e.id[e.id.length-1],parent_run_id:i,start_time:c,serialized:e,events:[{name:"start",time:new Date(c).toISOString()}],inputs:r,execution_order:u,child_execution_order:u,run_type:a!=null?a:"chain",child_runs:[],extra:o?{metadata:o}:{},tags:l||[]};return this._addRunToRunMap(f)}async handleChainStart(e,r,n,i,l,o,a,s){var c,f,h;let u=(c=this.runMap.get(n))!=null?c:this._createRunForChainStart(e,r,n,i,l,o,a,s);return await((f=this.onRunCreate)==null?void 0:f.call(this,u)),await((h=this.onChainStart)==null?void 0:h.call(this,u)),u}async handleChainEnd(e,r,n,i,l){var a;let o=this.runMap.get(r);if(!o)throw new Error("No chain run to end.");return o.end_time=Date.now(),o.outputs=D6(e,"output"),o.events.push({name:"end",time:new Date(o.end_time).toISOString()}),(l==null?void 0:l.inputs)!==void 0&&(o.inputs=D6(l.inputs,"input")),await((a=this.onChainEnd)==null?void 0:a.call(this,o)),await this._endTrace(o),o}async handleChainError(e,r,n,i,l){var a;let o=this.runMap.get(r);if(!o)throw new Error("No chain run to end.");return o.end_time=Date.now(),o.error=this.stringifyError(e),o.events.push({name:"error",time:new Date(o.end_time).toISOString()}),(l==null?void 0:l.inputs)!==void 0&&(o.inputs=D6(l.inputs,"input")),await((a=this.onChainError)==null?void 0:a.call(this,o)),await this._endTrace(o),o}_createRunForToolStart(e,r,n,i,l,o,a){let s=this._getExecutionOrder(i),u=Date.now(),c={id:n,name:a!=null?a:e.id[e.id.length-1],parent_run_id:i,start_time:u,serialized:e,events:[{name:"start",time:new Date(u).toISOString()}],inputs:{input:r},execution_order:s,child_execution_order:s,run_type:"tool",child_runs:[],extra:o?{metadata:o}:{},tags:l||[]};return this._addRunToRunMap(c)}async handleToolStart(e,r,n,i,l,o,a){var u,c,f;let s=(u=this.runMap.get(n))!=null?u:this._createRunForToolStart(e,r,n,i,l,o,a);return await((c=this.onRunCreate)==null?void 0:c.call(this,s)),await((f=this.onToolStart)==null?void 0:f.call(this,s)),s}async handleToolEnd(e,r){var i;let n=this.runMap.get(r);if(!n||(n==null?void 0:n.run_type)!=="tool")throw new Error("No tool run to end");return n.end_time=Date.now(),n.outputs={output:e},n.events.push({name:"end",time:new Date(n.end_time).toISOString()}),await((i=this.onToolEnd)==null?void 0:i.call(this,n)),await this._endTrace(n),n}async handleToolError(e,r){var i;let n=this.runMap.get(r);if(!n||(n==null?void 0:n.run_type)!=="tool")throw new Error("No tool run to end");return n.end_time=Date.now(),n.error=this.stringifyError(e),n.events.push({name:"error",time:new Date(n.end_time).toISOString()}),await((i=this.onToolError)==null?void 0:i.call(this,n)),await this._endTrace(n),n}async handleAgentAction(e,r){var l;let n=this.runMap.get(r);if(!n||(n==null?void 0:n.run_type)!=="chain")return;let i=n;i.actions=i.actions||[],i.actions.push(e),i.events.push({name:"agent_action",time:new Date().toISOString(),kwargs:{action:e}}),await((l=this.onAgentAction)==null?void 0:l.call(this,n))}async handleAgentEnd(e,r){var i;let n=this.runMap.get(r);!n||(n==null?void 0:n.run_type)!=="chain"||(n.events.push({name:"agent_end",time:new Date().toISOString(),kwargs:{action:e}}),await((i=this.onAgentEnd)==null?void 0:i.call(this,n)))}_createRunForRetrieverStart(e,r,n,i,l,o,a){let s=this._getExecutionOrder(i),u=Date.now(),c={id:n,name:a!=null?a:e.id[e.id.length-1],parent_run_id:i,start_time:u,serialized:e,events:[{name:"start",time:new Date(u).toISOString()}],inputs:{query:r},execution_order:s,child_execution_order:s,run_type:"retriever",child_runs:[],extra:o?{metadata:o}:{},tags:l||[]};return this._addRunToRunMap(c)}async handleRetrieverStart(e,r,n,i,l,o,a){var u,c,f;let s=(u=this.runMap.get(n))!=null?u:this._createRunForRetrieverStart(e,r,n,i,l,o,a);return await((c=this.onRunCreate)==null?void 0:c.call(this,s)),await((f=this.onRetrieverStart)==null?void 0:f.call(this,s)),s}async handleRetrieverEnd(e,r){var i;let n=this.runMap.get(r);if(!n||(n==null?void 0:n.run_type)!=="retriever")throw new Error("No retriever run to end");return n.end_time=Date.now(),n.outputs={documents:e},n.events.push({name:"end",time:new Date(n.end_time).toISOString()}),await((i=this.onRetrieverEnd)==null?void 0:i.call(this,n)),await this._endTrace(n),n}async handleRetrieverError(e,r){var i;let n=this.runMap.get(r);if(!n||(n==null?void 0:n.run_type)!=="retriever")throw new Error("No retriever run to end");return n.end_time=Date.now(),n.error=this.stringifyError(e),n.events.push({name:"error",time:new Date(n.end_time).toISOString()}),await((i=this.onRetrieverError)==null?void 0:i.call(this,n)),await this._endTrace(n),n}async handleText(e,r){var i;let n=this.runMap.get(r);!n||(n==null?void 0:n.run_type)!=="chain"||(n.events.push({name:"text",time:new Date().toISOString(),kwargs:{text:e}}),await((i=this.onText)==null?void 0:i.call(this,n)))}async handleLLMNewToken(e,r,n,i,l,o){var s;let a=this.runMap.get(n);if(!a||(a==null?void 0:a.run_type)!=="llm")throw new Error('Invalid "runId" provided to "handleLLMNewToken" callback.');return a.events.push({name:"new_token",time:new Date().toISOString(),kwargs:{token:e,idx:r,chunk:o==null?void 0:o.chunk}}),await((s=this.onLLMNewToken)==null?void 0:s.call(this,a,e,{chunk:o==null?void 0:o.chunk})),a}};var N6=qt(PL(),1);function pn(t,e){return`${t.open}${e}${t.close}`}function E1(t,e){try{return JSON.stringify(t,null,2)}catch(r){return e}}function AL(t){return typeof t=="string"?t.trim():t==null?t:E1(t,t.toString())}function Bo(t){if(!t.end_time)return"";let e=t.end_time-t.start_time;return e<1e3?`${e}ms`:`${(e/1e3).toFixed(2)}s`}var{color:On}=N6.default,L9=class extends L1{constructor(){super(...arguments),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"console_callback_handler"})}persistRun(e){return Promise.resolve()}getParents(e){let r=[],n=e;for(;n.parent_run_id;){let i=this.runMap.get(n.parent_run_id);if(i)r.push(i),n=i;else break}return r}getBreadcrumbs(e){let n=[...this.getParents(e).reverse(),e].map((i,l,o)=>{let a=`${i.execution_order}:${i.run_type}:${i.name}`;return l===o.length-1?pn(N6.default.bold,a):a}).join(" > ");return pn(On.grey,n)}onChainStart(e){let r=this.getBreadcrumbs(e);console.log(`${pn(On.green,"[chain/start]")} [${r}] Entering Chain run with input: ${E1(e.inputs,"[inputs]")}`)}onChainEnd(e){let r=this.getBreadcrumbs(e);console.log(`${pn(On.cyan,"[chain/end]")} [${r}] [${Bo(e)}] Exiting Chain run with output: ${E1(e.outputs,"[outputs]")}`)}onChainError(e){let r=this.getBreadcrumbs(e);console.log(`${pn(On.red,"[chain/error]")} [${r}] [${Bo(e)}] Chain run errored with error: ${E1(e.error,"[error]")}`)}onLLMStart(e){let r=this.getBreadcrumbs(e),n="prompts"in e.inputs?{prompts:e.inputs.prompts.map(i=>i.trim())}:e.inputs;console.log(`${pn(On.green,"[llm/start]")} [${r}] Entering LLM run with input: ${E1(n,"[inputs]")}`)}onLLMEnd(e){let r=this.getBreadcrumbs(e);console.log(`${pn(On.cyan,"[llm/end]")} [${r}] [${Bo(e)}] Exiting LLM run with output: ${E1(e.outputs,"[response]")}`)}onLLMError(e){let r=this.getBreadcrumbs(e);console.log(`${pn(On.red,"[llm/error]")} [${r}] [${Bo(e)}] LLM run errored with error: ${E1(e.error,"[error]")}`)}onToolStart(e){let r=this.getBreadcrumbs(e);console.log(`${pn(On.green,"[tool/start]")} [${r}] Entering Tool run with input: "${AL(e.inputs.input)}"`)}onToolEnd(e){var n;let r=this.getBreadcrumbs(e);console.log(`${pn(On.cyan,"[tool/end]")} [${r}] [${Bo(e)}] Exiting Tool run with output: "${AL((n=e.outputs)==null?void 0:n.output)}"`)}onToolError(e){let r=this.getBreadcrumbs(e);console.log(`${pn(On.red,"[tool/error]")} [${r}] [${Bo(e)}] Tool run errored with error: ${E1(e.error,"[error]")}`)}onRetrieverStart(e){let r=this.getBreadcrumbs(e);console.log(`${pn(On.green,"[retriever/start]")} [${r}] Entering Retriever run with input: ${E1(e.inputs,"[inputs]")}`)}onRetrieverEnd(e){let r=this.getBreadcrumbs(e);console.log(`${pn(On.cyan,"[retriever/end]")} [${r}] [${Bo(e)}] Exiting Retriever run with output: ${E1(e.outputs,"[outputs]")}`)}onRetrieverError(e){let r=this.getBreadcrumbs(e);console.log(`${pn(On.red,"[retriever/error]")} [${r}] [${Bo(e)}] Retriever run errored with error: ${E1(e.error,"[error]")}`)}onAgentAction(e){let r=e,n=this.getBreadcrumbs(e);console.log(`${pn(On.blue,"[agent/action]")} [${n}] Agent selected action: ${E1(r.actions[r.actions.length-1],"[action]")}`)}};var F6,RL=()=>{if(F6===void 0){let t=_n("LANGCHAIN_CALLBACKS_BACKGROUND")==="false"?{blockOnRootRunFinalization:!0}:{};F6=new rs(t)}return F6};var a2=class t extends L1{constructor(e={}){var o;super(e),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"langchain_tracer"}),Object.defineProperty(this,"projectName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"exampleId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:void 0});let{exampleId:r,projectName:n,client:i}=e;this.projectName=(o=n!=null?n:_n("LANGCHAIN_PROJECT"))!=null?o:_n("LANGCHAIN_SESSION"),this.exampleId=r,this.client=i!=null?i:RL();let l=t.getTraceableRunTree();l&&this.updateFromRunTree(l)}async _convertToCreate(e,r=void 0){return{...e,extra:{...e.extra,runtime:await SL()},child_runs:void 0,session_name:this.projectName,reference_example_id:e.parent_run_id?void 0:r}}async persistRun(e){}async onRunCreate(e){let r=await this._convertToCreate(e,this.exampleId);await this.client.createRun(r)}async onRunUpdate(e){let r={end_time:e.end_time,error:e.error,outputs:e.outputs,events:e.events,inputs:e.inputs,trace_id:e.trace_id,dotted_order:e.dotted_order,parent_run_id:e.parent_run_id};await this.client.updateRun(e.id,r)}getRun(e){return this.runMap.get(e)}updateFromRunTree(e){var l,o,a;let r=e,n=new Set;for(;r.parent_run&&!(n.has(r.id)||(n.add(r.id),!r.parent_run));)r=r.parent_run;n.clear();let i=[r];for(;i.length>0;){let s=i.shift();!s||n.has(s.id)||(n.add(s.id),this.runMap.set(s.id,s),s.child_runs&&i.push(...s.child_runs))}this.client=(l=e.client)!=null?l:this.client,this.projectName=(o=e.project_name)!=null?o:this.projectName,this.exampleId=(a=e.reference_example_id)!=null?a:this.exampleId}convertToRunTree(e){let r={},n=[];for(let[i,l]of this.runMap){let o=new Dl({...l,child_runs:[],parent_run:void 0,client:this.client,project_name:this.projectName,reference_example_id:this.exampleId,tracingEnabled:!0});r[i]=o,n.push([i,l.dotted_order])}n.sort((i,l)=>!i[1]||!l[1]?0:i[1].localeCompare(l[1]));for(let[i]of n){let l=this.runMap.get(i),o=r[i];if(!(!l||!o)&&l.parent_run_id){let a=r[l.parent_run_id];a&&(a.child_runs.push(o),o.parent_run=a)}}return r[e]}static getTraceableRunTree(){try{return wL()}catch(e){return}}};var S7=qt(e7(),1);var BL=Symbol.for("ls:tracing_async_local_storage"),as=Symbol.for("lc:context_variables"),OL=t=>{globalThis[BL]=t},Oo=()=>globalThis[BL];var E9;function lW(){let t="default"in S7.default?S7.default.default:S7.default;return new t({autoStart:!0,concurrency:1})}function oW(){return typeof E9=="undefined"&&(E9=lW()),E9}async function hr(t,e){if(e===!0){let r=Oo();r!==void 0?await r.run(void 0,async()=>t()):await t()}else E9=oW(),E9.add(async()=>{let r=Oo();r!==void 0?await r.run(void 0,async()=>t()):await t()})}var VL=t=>t!==void 0?t:!!["LANGSMITH_TRACING_V2","LANGCHAIN_TRACING_V2","LANGSMITH_TRACING","LANGCHAIN_TRACING"].find(r=>_n(r)==="true");function j6(t){var n;let e=Oo();if(e===void 0)return;let r=e.getStore();return(n=r==null?void 0:r[as])==null?void 0:n[t]}var aW=Symbol("lc:configure_hooks"),ZL=()=>j6(aW)||[];var q6=class{setHandler(e){return this.setHandlers([e])}},s2=class{constructor(e,r,n,i,l,o,a,s){Object.defineProperty(this,"runId",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"handlers",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"inheritableHandlers",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"tags",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"inheritableTags",{enumerable:!0,configurable:!0,writable:!0,value:l}),Object.defineProperty(this,"metadata",{enumerable:!0,configurable:!0,writable:!0,value:o}),Object.defineProperty(this,"inheritableMetadata",{enumerable:!0,configurable:!0,writable:!0,value:a}),Object.defineProperty(this,"_parentRunId",{enumerable:!0,configurable:!0,writable:!0,value:s})}get parentRunId(){return this._parentRunId}async handleText(e){await Promise.all(this.handlers.map(r=>hr(async()=>{var n;try{await((n=r.handleText)==null?void 0:n.call(r,e,this.runId,this._parentRunId,this.tags))}catch(i){if((r.raiseError?console.error:console.warn)(`Error in handler ${r.constructor.name}, handleText: ${i}`),r.raiseError)throw i}},r.awaitHandlers)))}async handleCustomEvent(e,r,n,i,l){await Promise.all(this.handlers.map(o=>hr(async()=>{var a;try{await((a=o.handleCustomEvent)==null?void 0:a.call(o,e,r,this.runId,this.tags,this.metadata))}catch(s){if((o.raiseError?console.error:console.warn)(`Error in handler ${o.constructor.name}, handleCustomEvent: ${s}`),o.raiseError)throw s}},o.awaitHandlers)))}},W6=class extends s2{getChild(e){let r=new Vn(this.runId);return r.setHandlers(this.inheritableHandlers),r.addTags(this.inheritableTags),r.addMetadata(this.inheritableMetadata),e&&r.addTags([e],!1),r}async handleRetrieverEnd(e){await Promise.all(this.handlers.map(r=>hr(async()=>{var n;if(!r.ignoreRetriever)try{await((n=r.handleRetrieverEnd)==null?void 0:n.call(r,e,this.runId,this._parentRunId,this.tags))}catch(i){if((r.raiseError?console.error:console.warn)(`Error in handler ${r.constructor.name}, handleRetriever`),r.raiseError)throw i}},r.awaitHandlers)))}async handleRetrieverError(e){await Promise.all(this.handlers.map(r=>hr(async()=>{var n;if(!r.ignoreRetriever)try{await((n=r.handleRetrieverError)==null?void 0:n.call(r,e,this.runId,this._parentRunId,this.tags))}catch(i){if((r.raiseError?console.error:console.warn)(`Error in handler ${r.constructor.name}, handleRetrieverError: ${i}`),r.raiseError)throw e}},r.awaitHandlers)))}},M7=class extends s2{async handleLLMNewToken(e,r,n,i,l,o){await Promise.all(this.handlers.map(a=>hr(async()=>{var s;if(!a.ignoreLLM)try{await((s=a.handleLLMNewToken)==null?void 0:s.call(a,e,r!=null?r:{prompt:0,completion:0},this.runId,this._parentRunId,this.tags,o))}catch(u){if((a.raiseError?console.error:console.warn)(`Error in handler ${a.constructor.name}, handleLLMNewToken: ${u}`),a.raiseError)throw u}},a.awaitHandlers)))}async handleLLMError(e){await Promise.all(this.handlers.map(r=>hr(async()=>{var n;if(!r.ignoreLLM)try{await((n=r.handleLLMError)==null?void 0:n.call(r,e,this.runId,this._parentRunId,this.tags))}catch(i){if((r.raiseError?console.error:console.warn)(`Error in handler ${r.constructor.name}, handleLLMError: ${i}`),r.raiseError)throw i}},r.awaitHandlers)))}async handleLLMEnd(e){await Promise.all(this.handlers.map(r=>hr(async()=>{var n;if(!r.ignoreLLM)try{await((n=r.handleLLMEnd)==null?void 0:n.call(r,e,this.runId,this._parentRunId,this.tags))}catch(i){if((r.raiseError?console.error:console.warn)(`Error in handler ${r.constructor.name}, handleLLMEnd: ${i}`),r.raiseError)throw i}},r.awaitHandlers)))}},U6=class extends s2{getChild(e){let r=new Vn(this.runId);return r.setHandlers(this.inheritableHandlers),r.addTags(this.inheritableTags),r.addMetadata(this.inheritableMetadata),e&&r.addTags([e],!1),r}async handleChainError(e,r,n,i,l){await Promise.all(this.handlers.map(o=>hr(async()=>{var a;if(!o.ignoreChain)try{await((a=o.handleChainError)==null?void 0:a.call(o,e,this.runId,this._parentRunId,this.tags,l))}catch(s){if((o.raiseError?console.error:console.warn)(`Error in handler ${o.constructor.name}, handleChainError: ${s}`),o.raiseError)throw s}},o.awaitHandlers)))}async handleChainEnd(e,r,n,i,l){await Promise.all(this.handlers.map(o=>hr(async()=>{var a;if(!o.ignoreChain)try{await((a=o.handleChainEnd)==null?void 0:a.call(o,e,this.runId,this._parentRunId,this.tags,l))}catch(s){if((o.raiseError?console.error:console.warn)(`Error in handler ${o.constructor.name}, handleChainEnd: ${s}`),o.raiseError)throw s}},o.awaitHandlers)))}async handleAgentAction(e){await Promise.all(this.handlers.map(r=>hr(async()=>{var n;if(!r.ignoreAgent)try{await((n=r.handleAgentAction)==null?void 0:n.call(r,e,this.runId,this._parentRunId,this.tags))}catch(i){if((r.raiseError?console.error:console.warn)(`Error in handler ${r.constructor.name}, handleAgentAction: ${i}`),r.raiseError)throw i}},r.awaitHandlers)))}async handleAgentEnd(e){await Promise.all(this.handlers.map(r=>hr(async()=>{var n;if(!r.ignoreAgent)try{await((n=r.handleAgentEnd)==null?void 0:n.call(r,e,this.runId,this._parentRunId,this.tags))}catch(i){if((r.raiseError?console.error:console.warn)(`Error in handler ${r.constructor.name}, handleAgentEnd: ${i}`),r.raiseError)throw i}},r.awaitHandlers)))}},Y6=class extends s2{getChild(e){let r=new Vn(this.runId);return r.setHandlers(this.inheritableHandlers),r.addTags(this.inheritableTags),r.addMetadata(this.inheritableMetadata),e&&r.addTags([e],!1),r}async handleToolError(e){await Promise.all(this.handlers.map(r=>hr(async()=>{var n;if(!r.ignoreAgent)try{await((n=r.handleToolError)==null?void 0:n.call(r,e,this.runId,this._parentRunId,this.tags))}catch(i){if((r.raiseError?console.error:console.warn)(`Error in handler ${r.constructor.name}, handleToolError: ${i}`),r.raiseError)throw i}},r.awaitHandlers)))}async handleToolEnd(e){await Promise.all(this.handlers.map(r=>hr(async()=>{var n;if(!r.ignoreAgent)try{await((n=r.handleToolEnd)==null?void 0:n.call(r,e,this.runId,this._parentRunId,this.tags))}catch(i){if((r.raiseError?console.error:console.warn)(`Error in handler ${r.constructor.name}, handleToolEnd: ${i}`),r.raiseError)throw i}},r.awaitHandlers)))}},Vn=class t extends q6{constructor(e,r){var n,i,l,o,a,s;super(),Object.defineProperty(this,"handlers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"inheritableHandlers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"tags",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"inheritableTags",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"metadata",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"inheritableMetadata",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"callback_manager"}),Object.defineProperty(this,"_parentRunId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.handlers=(n=r==null?void 0:r.handlers)!=null?n:this.handlers,this.inheritableHandlers=(i=r==null?void 0:r.inheritableHandlers)!=null?i:this.inheritableHandlers,this.tags=(l=r==null?void 0:r.tags)!=null?l:this.tags,this.inheritableTags=(o=r==null?void 0:r.inheritableTags)!=null?o:this.inheritableTags,this.metadata=(a=r==null?void 0:r.metadata)!=null?a:this.metadata,this.inheritableMetadata=(s=r==null?void 0:r.inheritableMetadata)!=null?s:this.inheritableMetadata,this._parentRunId=e}getParentRunId(){return this._parentRunId}async handleLLMStart(e,r,n=void 0,i=void 0,l=void 0,o=void 0,a=void 0,s=void 0){return Promise.all(r.map(async(u,c)=>{let f=c===0&&n?n:_r();return await Promise.all(this.handlers.map(h=>{if(!h.ignoreLLM)return o2(h)&&h._createRunForLLMStart(e,[u],f,this._parentRunId,l,this.tags,this.metadata,s),hr(async()=>{var g;try{await((g=h.handleLLMStart)==null?void 0:g.call(h,e,[u],f,this._parentRunId,l,this.tags,this.metadata,s))}catch(p){if((h.raiseError?console.error:console.warn)(`Error in handler ${h.constructor.name}, handleLLMStart: ${p}`),h.raiseError)throw p}},h.awaitHandlers)})),new M7(f,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}))}async handleChatModelStart(e,r,n=void 0,i=void 0,l=void 0,o=void 0,a=void 0,s=void 0){return Promise.all(r.map(async(u,c)=>{let f=c===0&&n?n:_r();return await Promise.all(this.handlers.map(h=>{if(!h.ignoreLLM)return o2(h)&&h._createRunForChatModelStart(e,[u],f,this._parentRunId,l,this.tags,this.metadata,s),hr(async()=>{var g,p;try{if(h.handleChatModelStart)await((g=h.handleChatModelStart)==null?void 0:g.call(h,e,[u],f,this._parentRunId,l,this.tags,this.metadata,s));else if(h.handleLLMStart){let w=Mc(u);await((p=h.handleLLMStart)==null?void 0:p.call(h,e,[w],f,this._parentRunId,l,this.tags,this.metadata,s))}}catch(w){if((h.raiseError?console.error:console.warn)(`Error in handler ${h.constructor.name}, handleLLMStart: ${w}`),h.raiseError)throw w}},h.awaitHandlers)})),new M7(f,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}))}async handleChainStart(e,r,n=_r(),i=void 0,l=void 0,o=void 0,a=void 0){return await Promise.all(this.handlers.map(s=>{if(!s.ignoreChain)return o2(s)&&s._createRunForChainStart(e,r,n,this._parentRunId,this.tags,this.metadata,i,a),hr(async()=>{var u;try{await((u=s.handleChainStart)==null?void 0:u.call(s,e,r,n,this._parentRunId,this.tags,this.metadata,i,a))}catch(c){if((s.raiseError?console.error:console.warn)(`Error in handler ${s.constructor.name}, handleChainStart: ${c}`),s.raiseError)throw c}},s.awaitHandlers)})),new U6(n,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}async handleToolStart(e,r,n=_r(),i=void 0,l=void 0,o=void 0,a=void 0){return await Promise.all(this.handlers.map(s=>{if(!s.ignoreAgent)return o2(s)&&s._createRunForToolStart(e,r,n,this._parentRunId,this.tags,this.metadata,a),hr(async()=>{var u;try{await((u=s.handleToolStart)==null?void 0:u.call(s,e,r,n,this._parentRunId,this.tags,this.metadata,a))}catch(c){if((s.raiseError?console.error:console.warn)(`Error in handler ${s.constructor.name}, handleToolStart: ${c}`),s.raiseError)throw c}},s.awaitHandlers)})),new Y6(n,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}async handleRetrieverStart(e,r,n=_r(),i=void 0,l=void 0,o=void 0,a=void 0){return await Promise.all(this.handlers.map(s=>{if(!s.ignoreRetriever)return o2(s)&&s._createRunForRetrieverStart(e,r,n,this._parentRunId,this.tags,this.metadata,a),hr(async()=>{var u;try{await((u=s.handleRetrieverStart)==null?void 0:u.call(s,e,r,n,this._parentRunId,this.tags,this.metadata,a))}catch(c){if((s.raiseError?console.error:console.warn)(`Error in handler ${s.constructor.name}, handleRetrieverStart: ${c}`),s.raiseError)throw c}},s.awaitHandlers)})),new W6(n,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}async handleCustomEvent(e,r,n,i,l){await Promise.all(this.handlers.map(o=>hr(async()=>{var a;if(!o.ignoreCustomEvent)try{await((a=o.handleCustomEvent)==null?void 0:a.call(o,e,r,n,this.tags,this.metadata))}catch(s){if((o.raiseError?console.error:console.warn)(`Error in handler ${o.constructor.name}, handleCustomEvent: ${s}`),o.raiseError)throw s}},o.awaitHandlers)))}addHandler(e,r=!0){this.handlers.push(e),r&&this.inheritableHandlers.push(e)}removeHandler(e){this.handlers=this.handlers.filter(r=>r!==e),this.inheritableHandlers=this.inheritableHandlers.filter(r=>r!==e)}setHandlers(e,r=!0){this.handlers=[],this.inheritableHandlers=[];for(let n of e)this.addHandler(n,r)}addTags(e,r=!0){this.removeTags(e),this.tags.push(...e),r&&this.inheritableTags.push(...e)}removeTags(e){this.tags=this.tags.filter(r=>!e.includes(r)),this.inheritableTags=this.inheritableTags.filter(r=>!e.includes(r))}addMetadata(e,r=!0){this.metadata={...this.metadata,...e},r&&(this.inheritableMetadata={...this.inheritableMetadata,...e})}removeMetadata(e){for(let r of Object.keys(e))delete this.metadata[r],delete this.inheritableMetadata[r]}copy(e=[],r=!0){let n=new t(this._parentRunId);for(let i of this.handlers){let l=this.inheritableHandlers.includes(i);n.addHandler(i,l)}for(let i of this.tags){let l=this.inheritableTags.includes(i);n.addTags([i],l)}for(let i of Object.keys(this.metadata)){let l=Object.keys(this.inheritableMetadata).includes(i);n.addMetadata({[i]:this.metadata[i]},l)}for(let i of e)n.handlers.filter(l=>l.name==="console_callback_handler").some(l=>l.name===i.name)||n.addHandler(i,r);return n}static fromHandlers(e){class r extends os{constructor(){super(),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:_r()}),Object.assign(this,e)}}let n=new this;return n.addHandler(new r),n}static configure(e,r,n,i,l,o,a){return this._configureSync(e,r,n,i,l,o,a)}static _configureSync(e,r,n,i,l,o,a){var h,g,p,w,b;let s;(e||r)&&(Array.isArray(e)||!e?(s=new t,s.setHandlers((h=e==null?void 0:e.map(S9))!=null?h:[],!0)):s=e,s=s.copy(Array.isArray(r)?r.map(S9):r==null?void 0:r.handlers,!1));let u=_n("LANGCHAIN_VERBOSE")==="true"||(a==null?void 0:a.verbose),c=((g=a2.getTraceableRunTree())==null?void 0:g.tracingEnabled)||VL(),f=c||((p=_n("LANGCHAIN_TRACING"))!=null?p:!1);if(u||f){if(s||(s=new t),u&&!s.handlers.some(v=>v.name===L9.prototype.name)){let v=new L9;s.addHandler(v,!0)}if(f&&!s.handlers.some(v=>v.name==="langchain_tracer")&&c){let v=new a2;s.addHandler(v,!0),s._parentRunId=(b=(w=a2.getTraceableRunTree())==null?void 0:w.id)!=null?b:s._parentRunId}}(n||i)&&s&&(s.addTags(n!=null?n:[]),s.addTags(i!=null?i:[],!1)),(l||o)&&s&&(s.addMetadata(l!=null?l:{}),s.addMetadata(o!=null?o:{},!1));for(let{contextVar:v,inheritable:S=!0,handlerClass:P,envVar:Z}of ZL()){let y=Z&&_n(Z)==="true"&&P,W,X=v!==void 0?j6(v):void 0;X&&ML(X)?W=X:y&&(W=new P({})),W!==void 0&&(s!=null&&s.handlers.some(x=>x.name===W.name)||s==null||s.addHandler(W,S))}return s}};function S9(t){return"name"in t?t:os.fromMethods(t)}var T7=class{getStore(){}run(e,r){return r()}enterWith(e){}},sW=new T7,IL=Symbol.for("lc:child_config"),G6=class{getInstance(){var e;return(e=Oo())!=null?e:sW}getRunnableConfig(){var r,n;return(n=(r=this.getInstance().getStore())==null?void 0:r.extra)==null?void 0:n[IL]}runWithConfig(e,r,n){var c;let i=Vn._configureSync(e==null?void 0:e.callbacks,void 0,e==null?void 0:e.tags,void 0,e==null?void 0:e.metadata),l=this.getInstance(),o=l.getStore(),a=i==null?void 0:i.getParentRunId(),s=(c=i==null?void 0:i.handlers)==null?void 0:c.find(f=>(f==null?void 0:f.name)==="langchain_tracer"),u;return s&&a?u=s.convertToRunTree(a):n||(u=new Dl({name:"<runnable_lambda>",tracingEnabled:!1})),u&&(u.extra={...u.extra,[IL]:e}),o!==void 0&&o[as]!==void 0&&(u[as]=o[as]),l.run(u,r)}initializeGlobalInstance(e){Oo()===void 0&&OL(e)}},S1=new G6;var z7=25;async function M1(t){return Vn._configureSync(t==null?void 0:t.callbacks,void 0,t==null?void 0:t.tags,void 0,t==null?void 0:t.metadata)}function J6(...t){var r,n,i;let e={};for(let l of t.filter(o=>!!o))for(let o of Object.keys(l))if(o==="metadata")e[o]={...e[o],...l[o]};else if(o==="tags"){let a=(r=e[o])!=null?r:[];e[o]=[...new Set(a.concat((n=l[o])!=null?n:[]))]}else if(o==="configurable")e[o]={...e[o],...l[o]};else if(o==="timeout")e.timeout===void 0?e.timeout=l.timeout:l.timeout!==void 0&&(e.timeout=Math.min(e.timeout,l.timeout));else if(o==="signal")e.signal===void 0?e.signal=l.signal:l.signal!==void 0&&("any"in AbortSignal?e.signal=AbortSignal.any([e.signal,l.signal]):e.signal=l.signal);else if(o==="callbacks"){let a=e.callbacks,s=l.callbacks;if(Array.isArray(s))if(!a)e.callbacks=s;else if(Array.isArray(a))e.callbacks=a.concat(s);else{let u=a.copy();for(let c of s)u.addHandler(S9(c),!0);e.callbacks=u}else if(s)if(!a)e.callbacks=s;else if(Array.isArray(a)){let u=s.copy();for(let c of a)u.addHandler(S9(c),!0);e.callbacks=u}else e.callbacks=new Vn(s._parentRunId,{handlers:a.handlers.concat(s.handlers),inheritableHandlers:a.inheritableHandlers.concat(s.inheritableHandlers),tags:Array.from(new Set(a.tags.concat(s.tags))),inheritableTags:Array.from(new Set(a.inheritableTags.concat(s.inheritableTags))),metadata:{...a.metadata,...s.metadata}})}else{let a=o;e[a]=(i=l[a])!=null?i:e[a]}return e}var uW=new Set(["string","number","boolean"]);function yt(t){var n;let e=S1.getRunnableConfig(),r={tags:[],metadata:{},recursionLimit:25,runId:void 0};if(e){let{runId:i,runName:l,...o}=e;r=Object.entries(o).reduce((a,[s,u])=>(u!==void 0&&(a[s]=u),a),r)}if(t&&(r=Object.entries(t).reduce((i,[l,o])=>(o!==void 0&&(i[l]=o),i),r)),r!=null&&r.configurable)for(let i of Object.keys(r.configurable))uW.has(typeof r.configurable[i])&&!((n=r.metadata)!=null&&n[i])&&(r.metadata||(r.metadata={}),r.metadata[i]=r.configurable[i]);if(r.timeout!==void 0){if(r.timeout<=0)throw new Error("Timeout must be a positive number");let i=AbortSignal.timeout(r.timeout);r.signal!==void 0?"any"in AbortSignal&&(r.signal=AbortSignal.any([r.signal,i])):r.signal=i,delete r.timeout}return r}function Nr(t={},{callbacks:e,maxConcurrency:r,recursionLimit:n,runName:i,configurable:l,runId:o}={}){let a=yt(t);return e!==void 0&&(delete a.runName,a.callbacks=e),n!==void 0&&(a.recursionLimit=n),r!==void 0&&(a.maxConcurrency=r),i!==void 0&&(a.runName=i),l!==void 0&&(a.configurable={...a.configurable,...l}),o!==void 0&&delete a.runId,a}function Fl(t){return t?{configurable:t.configurable,recursionLimit:t.recursionLimit,callbacks:t.callbacks,tags:t.tags,metadata:t.metadata,maxConcurrency:t.maxConcurrency,timeout:t.timeout,signal:t.signal}:void 0}async function Oi(t,e){if(e===void 0)return t;let r;return Promise.race([t.catch(n=>{if(!(e!=null&&e.aborted))throw n}),new Promise((n,i)=>{r=()=>{i(new Error("Aborted"))},e.addEventListener("abort",r),e.aborted&&i(new Error("Aborted"))})]).finally(()=>e.removeEventListener("abort",r))}var Rr=class t extends ReadableStream{constructor(){super(...arguments),Object.defineProperty(this,"reader",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}ensureReader(){this.reader||(this.reader=this.getReader())}async next(){this.ensureReader();try{let e=await this.reader.read();return e.done?(this.reader.releaseLock(),{done:!0,value:void 0}):{done:!1,value:e.value}}catch(e){throw this.reader.releaseLock(),e}}async return(){if(this.ensureReader(),this.locked){let e=this.reader.cancel();this.reader.releaseLock(),await e}return{done:!0,value:void 0}}async throw(e){if(this.ensureReader(),this.locked){let r=this.reader.cancel();this.reader.releaseLock(),await r}throw e}[Symbol.asyncIterator](){return this}async[Symbol.asyncDispose](){await this.return()}static fromReadableStream(e){let r=e.getReader();return new t({start(n){return i();function i(){return r.read().then(({done:l,value:o})=>{if(l){n.close();return}return n.enqueue(o),i()})}},cancel(){r.releaseLock()}})}static fromAsyncGenerator(e){return new t({async pull(r){let{value:n,done:i}=await e.next();i&&r.close(),r.enqueue(n)},async cancel(r){await e.return(r)}})}};function K6(t,e=2){let r=Array.from({length:e},()=>[]);return r.map(async function*(i){for(;;)if(i.length===0){let l=await t.next();for(let o of r)o.push(l)}else{if(i[0].done)return;yield i.shift().value}})}function Zn(t,e){if(Array.isArray(t)&&Array.isArray(e))return t.concat(e);if(typeof t=="string"&&typeof e=="string")return t+e;if(typeof t=="number"&&typeof e=="number")return t+e;if("concat"in t&&typeof t.concat=="function")return t.concat(e);if(typeof t=="object"&&typeof e=="object"){let r={...t};for(let[n,i]of Object.entries(e))n in r&&!Array.isArray(r[n])?r[n]=Zn(r[n],i):r[n]=i;return r}else throw new Error(`Cannot concat ${typeof t} and ${typeof e}`)}var jl=class{constructor(e){var r,n;Object.defineProperty(this,"generator",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"setup",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"config",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signal",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"firstResult",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"firstResultUsed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),this.generator=e.generator,this.config=e.config,this.signal=(n=e.signal)!=null?n:(r=this.config)==null?void 0:r.signal,this.setup=new Promise((i,l)=>{S1.runWithConfig(Fl(e.config),async()=>{this.firstResult=e.generator.next(),e.startSetup?this.firstResult.then(e.startSetup).then(i,l):this.firstResult.then(o=>i(void 0),l)},!0)})}async next(...e){var r;return(r=this.signal)==null||r.throwIfAborted(),this.firstResultUsed?S1.runWithConfig(Fl(this.config),this.signal?async()=>Oi(this.generator.next(...e),this.signal):async()=>this.generator.next(...e),!0):(this.firstResultUsed=!0,this.firstResult)}async return(e){return this.generator.return(e)}async throw(e){return this.generator.throw(e)}[Symbol.asyncIterator](){return this}async[Symbol.asyncDispose](){await this.return()}};async function DL(t,e,r,n,...i){let l=new jl({generator:e,startSetup:r,signal:n}),o=await l.setup;return{output:t(l,o,...i),setup:o}}var ri=class{constructor(e){var r;Object.defineProperty(this,"ops",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.ops=(r=e.ops)!=null?r:[]}concat(e){let r=this.ops.concat(e.ops),n=ls({},r);return new M9({ops:r,state:n[n.length-1].newDocument})}},M9=class t extends ri{constructor(e){super(e),Object.defineProperty(this,"state",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.state=e.state}concat(e){let r=this.ops.concat(e.ops),n=ls(this.state,e.ops);return new t({ops:r,state:n[n.length-1].newDocument})}static fromRunLogPatch(e){let r=ls({},e.ops);return new t({ops:e.ops,state:r[r.length-1].newDocument})}},H7=t=>t.name==="log_stream_tracer";async function NL(t,e){if(e==="original")throw new Error("Do not assign inputs with original schema drop the key for now. When inputs are added to streamLog they should be added with standardized schema for streaming events.");let{inputs:r}=t;if(["retriever","llm","prompt"].includes(t.run_type))return r;if(!(Object.keys(r).length===1&&(r==null?void 0:r.input)===""))return r.input}async function FL(t,e){let{outputs:r}=t;return e==="original"||["retriever","llm","prompt"].includes(t.run_type)?r:r!==void 0&&Object.keys(r).length===1&&(r==null?void 0:r.output)!==void 0?r.output:r}function cW(t){return t!==void 0&&t.message!==void 0}var T9=class extends L1{constructor(e){var r,n;super({_awaitHandler:!0,...e}),Object.defineProperty(this,"autoClose",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"includeNames",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"includeTypes",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"includeTags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"excludeNames",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"excludeTypes",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"excludeTags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_schemaFormat",{enumerable:!0,configurable:!0,writable:!0,value:"original"}),Object.defineProperty(this,"rootId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"keyMapByRunId",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"counterMapByRunName",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"transformStream",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"writer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"receiveStream",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"log_stream_tracer"}),this.autoClose=(r=e==null?void 0:e.autoClose)!=null?r:!0,this.includeNames=e==null?void 0:e.includeNames,this.includeTypes=e==null?void 0:e.includeTypes,this.includeTags=e==null?void 0:e.includeTags,this.excludeNames=e==null?void 0:e.excludeNames,this.excludeTypes=e==null?void 0:e.excludeTypes,this.excludeTags=e==null?void 0:e.excludeTags,this._schemaFormat=(n=e==null?void 0:e._schemaFormat)!=null?n:this._schemaFormat,this.transformStream=new TransformStream,this.writer=this.transformStream.writable.getWriter(),this.receiveStream=Rr.fromReadableStream(this.transformStream.readable)}[Symbol.asyncIterator](){return this.receiveStream}async persistRun(e){}_includeRun(e){var i;if(e.id===this.rootId)return!1;let r=(i=e.tags)!=null?i:[],n=this.includeNames===void 0&&this.includeTags===void 0&&this.includeTypes===void 0;return this.includeNames!==void 0&&(n=n||this.includeNames.includes(e.name)),this.includeTypes!==void 0&&(n=n||this.includeTypes.includes(e.run_type)),this.includeTags!==void 0&&(n=n||r.find(l=>{var o;return(o=this.includeTags)==null?void 0:o.includes(l)})!==void 0),this.excludeNames!==void 0&&(n=n&&!this.excludeNames.includes(e.name)),this.excludeTypes!==void 0&&(n=n&&!this.excludeTypes.includes(e.run_type)),this.excludeTags!==void 0&&(n=n&&r.every(l=>{var o;return!((o=this.excludeTags)!=null&&o.includes(l))})),n}async*tapOutputIterable(e,r){for await(let n of r){if(e!==this.rootId){let i=this.keyMapByRunId[e];i&&await this.writer.write(new ri({ops:[{op:"add",path:`/logs/${i}/streamed_output/-`,value:n}]}))}yield n}}async onRunCreate(e){var i,l,o;if(this.rootId===void 0&&(this.rootId=e.id,await this.writer.write(new ri({ops:[{op:"replace",path:"",value:{id:e.id,name:e.name,type:e.run_type,streamed_output:[],final_output:void 0,logs:{}}}]}))),!this._includeRun(e))return;this.counterMapByRunName[e.name]===void 0&&(this.counterMapByRunName[e.name]=0),this.counterMapByRunName[e.name]+=1;let r=this.counterMapByRunName[e.name];this.keyMapByRunId[e.id]=r===1?e.name:`${e.name}:${r}`;let n={id:e.id,name:e.name,type:e.run_type,tags:(i=e.tags)!=null?i:[],metadata:(o=(l=e.extra)==null?void 0:l.metadata)!=null?o:{},start_time:new Date(e.start_time).toISOString(),streamed_output:[],streamed_output_str:[],final_output:void 0,end_time:void 0};this._schemaFormat==="streaming_events"&&(n.inputs=await NL(e,this._schemaFormat)),await this.writer.write(new ri({ops:[{op:"add",path:`/logs/${this.keyMapByRunId[e.id]}`,value:n}]}))}async onRunUpdate(e){try{let r=this.keyMapByRunId[e.id];if(r===void 0)return;let n=[];this._schemaFormat==="streaming_events"&&n.push({op:"replace",path:`/logs/${r}/inputs`,value:await NL(e,this._schemaFormat)}),n.push({op:"add",path:`/logs/${r}/final_output`,value:await FL(e,this._schemaFormat)}),e.end_time!==void 0&&n.push({op:"add",path:`/logs/${r}/end_time`,value:new Date(e.end_time).toISOString()});let i=new ri({ops:n});await this.writer.write(i)}finally{if(e.id===this.rootId){let r=new ri({ops:[{op:"replace",path:"/final_output",value:await FL(e,this._schemaFormat)}]});await this.writer.write(r),this.autoClose&&await this.writer.close()}}}async onLLMNewToken(e,r,n){let i=this.keyMapByRunId[e.id];if(i===void 0)return;let l=e.inputs.messages!==void 0,o;l?cW(n==null?void 0:n.chunk)?o=n==null?void 0:n.chunk:o=new Ri({id:`run-${e.id}`,content:r}):o=r;let a=new ri({ops:[{op:"add",path:`/logs/${i}/streamed_output_str/-`,value:r},{op:"add",path:`/logs/${i}/streamed_output/-`,value:o}]});await this.writer.write(a)}};var X6="__run",u2=class t{constructor(e){Object.defineProperty(this,"text",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"generationInfo",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.text=e.text,this.generationInfo=e.generationInfo}concat(e){return new t({text:this.text+e.text,generationInfo:{...this.generationInfo,...e.generationInfo}})}},P7=class t extends u2{constructor(e){super(e),Object.defineProperty(this,"message",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.message=e.message}concat(e){return new t({text:this.text+e.text,generationInfo:{...this.generationInfo,...e.generationInfo},message:this.message.concat(e.message)})}};function A7({name:t,serialized:e}){return t!==void 0?t:(e==null?void 0:e.name)!==void 0?e.name:(e==null?void 0:e.id)!==void 0&&Array.isArray(e==null?void 0:e.id)?e.id[e.id.length-1]:"Unnamed"}var B7=t=>t.name==="event_stream_tracer",R7=class extends L1{constructor(e){var r;super({_awaitHandler:!0,...e}),Object.defineProperty(this,"autoClose",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"includeNames",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"includeTypes",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"includeTags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"excludeNames",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"excludeTypes",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"excludeTags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"runInfoMap",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"tappedPromises",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"transformStream",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"writer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"receiveStream",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"event_stream_tracer"}),this.autoClose=(r=e==null?void 0:e.autoClose)!=null?r:!0,this.includeNames=e==null?void 0:e.includeNames,this.includeTypes=e==null?void 0:e.includeTypes,this.includeTags=e==null?void 0:e.includeTags,this.excludeNames=e==null?void 0:e.excludeNames,this.excludeTypes=e==null?void 0:e.excludeTypes,this.excludeTags=e==null?void 0:e.excludeTags,this.transformStream=new TransformStream,this.writer=this.transformStream.writable.getWriter(),this.receiveStream=Rr.fromReadableStream(this.transformStream.readable)}[Symbol.asyncIterator](){return this.receiveStream}async persistRun(e){}_includeRun(e){var i;let r=(i=e.tags)!=null?i:[],n=this.includeNames===void 0&&this.includeTags===void 0&&this.includeTypes===void 0;return this.includeNames!==void 0&&(n=n||this.includeNames.includes(e.name)),this.includeTypes!==void 0&&(n=n||this.includeTypes.includes(e.runType)),this.includeTags!==void 0&&(n=n||r.find(l=>{var o;return(o=this.includeTags)==null?void 0:o.includes(l)})!==void 0),this.excludeNames!==void 0&&(n=n&&!this.excludeNames.includes(e.name)),this.excludeTypes!==void 0&&(n=n&&!this.excludeTypes.includes(e.runType)),this.excludeTags!==void 0&&(n=n&&r.every(l=>{var o;return!((o=this.excludeTags)!=null&&o.includes(l))})),n}async*tapOutputIterable(e,r){let n=await r.next();if(n.done)return;let i=this.runInfoMap.get(e);if(i===void 0){yield n.value;return}function l(a,s){return a==="llm"&&typeof s=="string"?new u2({text:s}):s}let o=this.tappedPromises.get(e);if(o===void 0){let a;o=new Promise(s=>{a=s}),this.tappedPromises.set(e,o);try{let s={event:`on_${i.runType}_stream`,run_id:e,name:i.name,tags:i.tags,metadata:i.metadata,data:{}};await this.send({...s,data:{chunk:l(i.runType,n.value)}},i),yield n.value;for await(let u of r)i.runType!=="tool"&&i.runType!=="retriever"&&await this.send({...s,data:{chunk:l(i.runType,u)}},i),yield u}finally{a()}}else{yield n.value;for await(let a of r)yield a}}async send(e,r){this._includeRun(r)&&await this.writer.write(e)}async sendEndEvent(e,r){let n=this.tappedPromises.get(e.run_id);n!==void 0?n.then(()=>{this.send(e,r)}):await this.send(e,r)}async onLLMStart(e){var o,a,s,u,c,f;let r=A7(e),n=e.inputs.messages!==void 0?"chat_model":"llm",i={tags:(o=e.tags)!=null?o:[],metadata:(s=(a=e.extra)==null?void 0:a.metadata)!=null?s:{},name:r,runType:n,inputs:e.inputs};this.runInfoMap.set(e.id,i);let l=`on_${n}_start`;await this.send({event:l,data:{input:e.inputs},name:r,tags:(u=e.tags)!=null?u:[],run_id:e.id,metadata:(f=(c=e.extra)==null?void 0:c.metadata)!=null?f:{}},i)}async onLLMNewToken(e,r,n){let i=this.runInfoMap.get(e.id),l,o;if(i===void 0)throw new Error(`onLLMNewToken: Run ID ${e.id} not found in run map.`);if(this.runInfoMap.size!==1){if(i.runType==="chat_model")o="on_chat_model_stream",(n==null?void 0:n.chunk)===void 0?l=new Ri({content:r,id:`run-${e.id}`}):l=n.chunk.message;else if(i.runType==="llm")o="on_llm_stream",(n==null?void 0:n.chunk)===void 0?l=new u2({text:r}):l=n.chunk;else throw new Error(`Unexpected run type ${i.runType}`);await this.send({event:o,data:{chunk:l},run_id:e.id,name:i.name,tags:i.tags,metadata:i.metadata},i)}}async onLLMEnd(e){var o,a,s,u;let r=this.runInfoMap.get(e.id);this.runInfoMap.delete(e.id);let n;if(r===void 0)throw new Error(`onLLMEnd: Run ID ${e.id} not found in run map.`);let i=(o=e.outputs)==null?void 0:o.generations,l;if(r.runType==="chat_model"){for(let c of i!=null?i:[]){if(l!==void 0)break;l=(a=c[0])==null?void 0:a.message}n="on_chat_model_end"}else if(r.runType==="llm")l={generations:i==null?void 0:i.map(c=>c.map(f=>({text:f.text,generationInfo:f.generationInfo}))),llmOutput:(u=(s=e.outputs)==null?void 0:s.llmOutput)!=null?u:{}},n="on_llm_end";else throw new Error(`onLLMEnd: Unexpected run type: ${r.runType}`);await this.sendEndEvent({event:n,data:{output:l,input:r.inputs},run_id:e.id,name:r.name,tags:r.tags,metadata:r.metadata},r)}async onChainStart(e){var o,a,s,u,c,f,h;let r=A7(e),n=(o=e.run_type)!=null?o:"chain",i={tags:(a=e.tags)!=null?a:[],metadata:(u=(s=e.extra)==null?void 0:s.metadata)!=null?u:{},name:r,runType:e.run_type},l={};e.inputs.input===""&&Object.keys(e.inputs).length===1?(l={},i.inputs={}):e.inputs.input!==void 0?(l.input=e.inputs.input,i.inputs=e.inputs.input):(l.input=e.inputs,i.inputs=e.inputs),this.runInfoMap.set(e.id,i),await this.send({event:`on_${n}_start`,data:l,name:r,tags:(c=e.tags)!=null?c:[],run_id:e.id,metadata:(h=(f=e.extra)==null?void 0:f.metadata)!=null?h:{}},i)}async onChainEnd(e){var a,s,u,c,f;let r=this.runInfoMap.get(e.id);if(this.runInfoMap.delete(e.id),r===void 0)throw new Error(`onChainEnd: Run ID ${e.id} not found in run map.`);let n=`on_${e.run_type}_end`,i=(s=(a=e.inputs)!=null?a:r.inputs)!=null?s:{},o={output:(c=(u=e.outputs)==null?void 0:u.output)!=null?c:e.outputs,input:i};i.input&&Object.keys(i).length===1&&(o.input=i.input,r.inputs=i.input),await this.sendEndEvent({event:n,data:o,run_id:e.id,name:r.name,tags:r.tags,metadata:(f=r.metadata)!=null?f:{}},r)}async onToolStart(e){var i,l,o,a,s,u,c,f;let r=A7(e),n={tags:(i=e.tags)!=null?i:[],metadata:(o=(l=e.extra)==null?void 0:l.metadata)!=null?o:{},name:r,runType:"tool",inputs:(a=e.inputs)!=null?a:{}};this.runInfoMap.set(e.id,n),await this.send({event:"on_tool_start",data:{input:(s=e.inputs)!=null?s:{}},name:r,run_id:e.id,tags:(u=e.tags)!=null?u:[],metadata:(f=(c=e.extra)==null?void 0:c.metadata)!=null?f:{}},n)}async onToolEnd(e){var i;let r=this.runInfoMap.get(e.id);if(this.runInfoMap.delete(e.id),r===void 0)throw new Error(`onToolEnd: Run ID ${e.id} not found in run map.`);if(r.inputs===void 0)throw new Error(`onToolEnd: Run ID ${e.id} is a tool call, and is expected to have traced inputs.`);let n=((i=e.outputs)==null?void 0:i.output)===void 0?e.outputs:e.outputs.output;await this.sendEndEvent({event:"on_tool_end",data:{output:n,input:r.inputs},run_id:e.id,name:r.name,tags:r.tags,metadata:r.metadata},r)}async onRetrieverStart(e){var l,o,a,s,u,c;let r=A7(e),i={tags:(l=e.tags)!=null?l:[],metadata:(a=(o=e.extra)==null?void 0:o.metadata)!=null?a:{},name:r,runType:"retriever",inputs:{query:e.inputs.query}};this.runInfoMap.set(e.id,i),await this.send({event:"on_retriever_start",data:{input:{query:e.inputs.query}},name:r,tags:(s=e.tags)!=null?s:[],run_id:e.id,metadata:(c=(u=e.extra)==null?void 0:u.metadata)!=null?c:{}},i)}async onRetrieverEnd(e){var n,i;let r=this.runInfoMap.get(e.id);if(this.runInfoMap.delete(e.id),r===void 0)throw new Error(`onRetrieverEnd: Run ID ${e.id} not found in run map.`);await this.sendEndEvent({event:"on_retriever_end",data:{output:(i=(n=e.outputs)==null?void 0:n.documents)!=null?i:e.outputs,input:r.inputs},run_id:e.id,name:r.name,tags:r.tags,metadata:r.metadata},r)}async handleCustomEvent(e,r,n){let i=this.runInfoMap.get(n);if(i===void 0)throw new Error(`handleCustomEvent: Run ID ${n} not found in run map.`);await this.send({event:"on_custom_event",run_id:n,name:e,tags:i.tags,metadata:i.metadata,data:r},i)}async finish(){let e=[...this.tappedPromises.values()];Promise.all(e).finally(()=>{this.writer.close()})}};var jL=qt(Hc(),1),O7=qt(e7(),1),fW=[400,401,402,403,404,405,406,407,409],hW=t=>{var r,n,i;if(t.message.startsWith("Cancel")||t.message.startsWith("AbortError")||t.name==="AbortError"||(t==null?void 0:t.code)==="ECONNABORTED")throw t;let e=(n=(r=t==null?void 0:t.response)==null?void 0:r.status)!=null?n:t==null?void 0:t.status;if(e&&fW.includes(+e))throw t;if(((i=t==null?void 0:t.error)==null?void 0:i.code)==="insufficient_quota"){let l=new Error(t==null?void 0:t.message);throw l.name="InsufficientQuotaError",l}},Vo=class{constructor(e){var n,i,l;Object.defineProperty(this,"maxConcurrency",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"maxRetries",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"onFailedAttempt",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"queue",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxConcurrency=(n=e.maxConcurrency)!=null?n:1/0,this.maxRetries=(i=e.maxRetries)!=null?i:6,this.onFailedAttempt=(l=e.onFailedAttempt)!=null?l:hW;let r="default"in O7.default?O7.default.default:O7.default;this.queue=new r({concurrency:this.maxConcurrency})}call(e,...r){return this.queue.add(()=>(0,jL.default)(()=>e(...r).catch(n=>{throw n instanceof Error?n:new Error(n)}),{onFailedAttempt:this.onFailedAttempt,retries:this.maxRetries,randomize:!0}),{throwOnTimeout:!0})}callWithOptions(e,r,...n){return e.signal?Promise.race([this.call(r,...n),new Promise((i,l)=>{var o;(o=e.signal)==null||o.addEventListener("abort",()=>{l(new Error("AbortError"))})})]):this.call(r,...n)}fetch(...e){return this.call(()=>fetch(...e).then(r=>r.ok?r:Promise.reject(r)))}};var z9=class extends L1{constructor({config:e,onStart:r,onEnd:n,onError:i}){super({_awaitHandler:!0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RootListenersTracer"}),Object.defineProperty(this,"rootId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"config",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"argOnStart",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"argOnEnd",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"argOnError",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.config=e,this.argOnStart=r,this.argOnEnd=n,this.argOnError=i}persistRun(e){return Promise.resolve()}async onRunCreate(e){this.rootId||(this.rootId=e.id,this.argOnStart&&await this.argOnStart(e,this.config))}async onRunUpdate(e){e.id===this.rootId&&(e.error?this.argOnError&&await this.argOnError(e,this.config):this.argOnEnd&&await this.argOnEnd(e,this.config))}};function H9(t){return t?t.lc_runnable:!1}var V7=class{constructor(e){Object.defineProperty(this,"includeNames",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"includeTypes",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"includeTags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"excludeNames",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"excludeTypes",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"excludeTags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.includeNames=e.includeNames,this.includeTypes=e.includeTypes,this.includeTags=e.includeTags,this.excludeNames=e.excludeNames,this.excludeTypes=e.excludeTypes,this.excludeTags=e.excludeTags}includeEvent(e,r){var l;let n=this.includeNames===void 0&&this.includeTypes===void 0&&this.includeTags===void 0,i=(l=e.tags)!=null?l:[];return this.includeNames!==void 0&&(n=n||this.includeNames.includes(e.name)),this.includeTypes!==void 0&&(n=n||this.includeTypes.includes(r)),this.includeTags!==void 0&&(n=n||i.some(o=>{var a;return(a=this.includeTags)==null?void 0:a.includes(o)})),this.excludeNames!==void 0&&(n=n&&!this.excludeNames.includes(e.name)),this.excludeTypes!==void 0&&(n=n&&!this.excludeTypes.includes(r)),this.excludeTags!==void 0&&(n=n&&i.every(o=>{var a;return!((a=this.excludeTags)!=null&&a.includes(o))})),n}};function Q6(t){return t.replace(/[^a-zA-Z-_0-9]/g,"_")}var dW=["*","_","`"];function mW(t){let e="";for(let[r,n]of Object.entries(t))e+=`	classDef ${r} ${n};
`;return e}function qL(t,e,r){var g,p,w,b,v;let{firstNode:n,lastNode:i,nodeColors:l,withStyles:o=!0,curveStyle:a="linear",wrapLabelNWords:s=9}=r!=null?r:{},u=o?`%%{init: {'flowchart': {'curve': '${a}'}}}%%
graph TD;
`:`graph TD;
`;if(o){let S="default",P={[S]:"{0}({1})"};n!==void 0&&(P[n]="{0}([{1}]):::first"),i!==void 0&&(P[i]="{0}([{1}]):::last");for(let[Z,y]of Object.entries(t)){let W=(g=y.name.split(":").pop())!=null?g:"",x=dW.some(oe=>W.startsWith(oe)&&W.endsWith(oe))?`<p>${W}</p>`:W;Object.keys((p=y.metadata)!=null?p:{}).length&&(x+=`<hr/><small><em>${Object.entries((w=y.metadata)!=null?w:{}).map(([oe,$])=>`${oe} = ${$}`).join(`
`)}</em></small>`);let le=((b=P[Z])!=null?b:P[S]).replace("{0}",Q6(Z)).replace("{1}",x);u+=`	${le}
`}}let c={};for(let S of e){let P=S.source.split(":"),Z=S.target.split(":"),y=P.filter((W,X)=>W===Z[X]).join(":");c[y]||(c[y]=[]),c[y].push(S)}let f=new Set;function h(S,P){let Z=S.length===1&&S[0].source===S[0].target;if(P&&!Z){let y=P.split(":").pop();if(f.has(y))throw new Error(`Found duplicate subgraph '${y}' -- this likely means that you're reusing a subgraph node with the same name. Please adjust your graph to have subgraph nodes with unique names.`);f.add(y),u+=`	subgraph ${y}
`}for(let y of S){let{source:W,target:X,data:x,conditional:le}=y,oe="";if(x!==void 0){let $=x,ee=$.split(" ");ee.length>s&&($=Array.from({length:Math.ceil(ee.length/s)},(ce,Te)=>ee.slice(Te*s,(Te+1)*s).join(" ")).join("&nbsp;<br>&nbsp;")),oe=le?` -. &nbsp;${$}&nbsp; .-> `:` -- &nbsp;${$}&nbsp; --> `}else oe=le?" -.-> ":" --> ";u+=`	${Q6(W)}${oe}${Q6(X)};
`}for(let y in c)y.startsWith(`${P}:`)&&y!==P&&h(c[y],y);P&&!Z&&(u+=`	end
`)}h((v=c[""])!=null?v:[],"");for(let S in c)!S.includes(":")&&S!==""&&h(c[S],S);return o&&(u+=mW(l!=null?l:{})),u}async function WL(t,e){let{backgroundColor:r="white"}=e!=null?e:{},n=btoa(t);r!==void 0&&(/^#(?:[0-9a-fA-F]{3}){1,2}$/.test(r)||(r=`!${r}`));let i=`https://mermaid.ink/img/${n}?bgColor=${r}`,l=await fetch(i);if(!l.ok)throw new Error(["Failed to render the graph using the Mermaid.INK API.",`Status code: ${l.status}`,`Status text: ${l.statusText}`].join(`
`));return await l.blob()}function gW(t,e){var r;if(t!==void 0&&!es(t))return t;if(H9(e))try{let n=e.getName();return n=n.startsWith("Runnable")?n.slice(8):n,n}catch(n){return e.getName()}else return(r=e.name)!=null?r:"UnknownSchema"}function _W(t){return H9(t.data)?{type:"runnable",data:{id:t.data.lc_id,name:t.data.getName()}}:{type:"schema",data:{...u9(t.data.schema),title:t.data.name}}}var P9=class t{constructor(e){var r,n;Object.defineProperty(this,"nodes",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"edges",{enumerable:!0,configurable:!0,writable:!0,value:[]}),this.nodes=(r=e==null?void 0:e.nodes)!=null?r:this.nodes,this.edges=(n=e==null?void 0:e.edges)!=null?n:this.edges}toJSON(){let e={};return Object.values(this.nodes).forEach((r,n)=>{e[r.id]=es(r.id)?n:r.id}),{nodes:Object.values(this.nodes).map(r=>({id:e[r.id],..._W(r)})),edges:this.edges.map(r=>{let n={source:e[r.source],target:e[r.target]};return typeof r.data!="undefined"&&(n.data=r.data),typeof r.conditional!="undefined"&&(n.conditional=r.conditional),n})}}addNode(e,r,n){if(r!==void 0&&this.nodes[r]!==void 0)throw new Error(`Node with id ${r} already exists`);let i=r!=null?r:_r(),l={id:i,data:e,name:gW(r,e),metadata:n};return this.nodes[i]=l,l}removeNode(e){delete this.nodes[e.id],this.edges=this.edges.filter(r=>r.source!==e.id&&r.target!==e.id)}addEdge(e,r,n,i){if(this.nodes[e.id]===void 0)throw new Error(`Source node ${e.id} not in graph`);if(this.nodes[r.id]===void 0)throw new Error(`Target node ${r.id} not in graph`);let l={source:e.id,target:r.id,data:n,conditional:i};return this.edges.push(l),l}firstNode(){return UL(this)}lastNode(){return YL(this)}extend(e,r=""){let n=r;Object.values(e.nodes).map(u=>u.id).every(es)&&(n="");let l=u=>n?`${n}:${u}`:u;Object.entries(e.nodes).forEach(([u,c])=>{this.nodes[l(u)]={...c,id:l(u)}});let o=e.edges.map(u=>({...u,source:l(u.source),target:l(u.target)}));this.edges=[...this.edges,...o];let a=e.firstNode(),s=e.lastNode();return[a?{id:l(a.id),data:a.data}:void 0,s?{id:l(s.id),data:s.data}:void 0]}trimFirstNode(){let e=this.firstNode();e&&UL(this,[e.id])&&this.removeNode(e)}trimLastNode(){let e=this.lastNode();e&&YL(this,[e.id])&&this.removeNode(e)}reid(){let e=Object.fromEntries(Object.values(this.nodes).map(i=>[i.id,i.name])),r=new Map;Object.values(e).forEach(i=>{r.set(i,(r.get(i)||0)+1)});let n=i=>{let l=e[i];return es(i)&&r.get(l)===1?l:i};return new t({nodes:Object.fromEntries(Object.entries(this.nodes).map(([i,l])=>[n(i),{...l,id:n(i)}])),edges:this.edges.map(i=>({...i,source:n(i.source),target:n(i.target)}))})}drawMermaid(e){let{withStyles:r,curveStyle:n,nodeColors:i={default:"fill:#f2f0ff,line-height:1.2",first:"fill-opacity:0",last:"fill:#bfb6fc"},wrapLabelNWords:l}=e!=null?e:{},o=this.reid(),a=o.firstNode(),s=o.lastNode();return qL(o.nodes,o.edges,{firstNode:a==null?void 0:a.id,lastNode:s==null?void 0:s.id,withStyles:r,curveStyle:n,nodeColors:i,wrapLabelNWords:l})}async drawMermaidPng(e){let r=this.drawMermaid(e);return WL(r,{backgroundColor:e==null?void 0:e.backgroundColor})}};function UL(t,e=[]){let r=new Set(t.edges.filter(i=>!e.includes(i.source)).map(i=>i.target)),n=[];for(let i of Object.values(t.nodes))!e.includes(i.id)&&!r.has(i.id)&&n.push(i);return n.length===1?n[0]:void 0}function YL(t,e=[]){let r=new Set(t.edges.filter(i=>!e.includes(i.target)).map(i=>i.source)),n=[];for(let i of Object.values(t.nodes))!e.includes(i.id)&&!r.has(i.id)&&n.push(i);return n.length===1?n[0]:void 0}function GL(t){let e=new TextEncoder,r=new ReadableStream({async start(n){for await(let i of t)n.enqueue(e.encode(`event: data
data: ${JSON.stringify(i)}

`));n.enqueue(e.encode(`event: end

`)),n.close()}});return Rr.fromReadableStream(r)}function x6(t){return typeof t=="object"&&t!==null&&typeof t[Symbol.iterator]=="function"&&typeof t.next=="function"}var JL=t=>t!=null&&typeof t=="object"&&"next"in t&&typeof t.next=="function";function Z7(t){return typeof t=="object"&&t!==null&&typeof t[Symbol.asyncIterator]=="function"}function*$6(t,e){for(;;){let{value:r,done:n}=S1.runWithConfig(Fl(t),e.next.bind(e),!0);if(n)break;yield r}}async function*em(t,e){let r=e[Symbol.asyncIterator]();for(;;){let{value:n,done:i}=await S1.runWithConfig(Fl(t),r.next.bind(e),!0);if(i)break;yield n}}function Br(t,e){return t&&!Array.isArray(t)&&!(t instanceof Date)&&typeof t=="object"?t:{[e]:t}}var pr=class extends ei{constructor(){super(...arguments),Object.defineProperty(this,"lc_runnable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}getName(e){var n,i;let r=(i=(n=this.name)!=null?n:this.constructor.lc_name())!=null?i:this.constructor.name;return e?`${r}${e}`:r}bind(e){return new us({bound:this,kwargs:e,config:{}})}map(){return new rm({bound:this})}withRetry(e){return new nm({bound:this,kwargs:{},config:{},maxAttemptNumber:e==null?void 0:e.stopAfterAttempt,...e})}withConfig(e){return new us({bound:this,config:e,kwargs:{}})}withFallbacks(e){let r=Array.isArray(e)?e:e.fallbacks;return new lm({runnable:this,fallbacks:r})}_getOptionsList(e,r=0){if(Array.isArray(e)&&e.length!==r)throw new Error(`Passed "options" must be an array with the same length as the inputs, but got ${e.length} options for ${r} inputs`);if(Array.isArray(e))return e.map(yt);if(r>1&&!Array.isArray(e)&&e.runId){console.warn("Provided runId will be used only for the first element of the batch.");let n=Object.fromEntries(Object.entries(e).filter(([i])=>i!=="runId"));return Array.from({length:r},(i,l)=>yt(l===0?e:n))}return Array.from({length:r},()=>yt(e))}async batch(e,r,n){var s,u;let i=this._getOptionsList(r!=null?r:{},e.length),l=(u=(s=i[0])==null?void 0:s.maxConcurrency)!=null?u:n==null?void 0:n.maxConcurrency,o=new Vo({maxConcurrency:l,onFailedAttempt:c=>{throw c}}),a=e.map((c,f)=>o.call(async()=>{try{return await this.invoke(c,i[f])}catch(h){if(n!=null&&n.returnExceptions)return h;throw h}}));return Promise.all(a)}async*_streamIterator(e,r){yield this.invoke(e,r)}async stream(e,r){let n=yt(r),i=new jl({generator:this._streamIterator(e,n),config:n});return await i.setup,Rr.fromAsyncGenerator(i)}_separateRunnableConfigFromCallOptions(e){let r;e===void 0?r=yt(e):r=yt({callbacks:e.callbacks,tags:e.tags,metadata:e.metadata,runName:e.runName,configurable:e.configurable,recursionLimit:e.recursionLimit,maxConcurrency:e.maxConcurrency,runId:e.runId,timeout:e.timeout,signal:e.signal});let n={...e};return delete n.callbacks,delete n.tags,delete n.metadata,delete n.runName,delete n.configurable,delete n.recursionLimit,delete n.maxConcurrency,delete n.runId,delete n.timeout,delete n.signal,[r,n]}async _callWithConfig(e,r,n){var s;let i=yt(n),l=await M1(i),o=await(l==null?void 0:l.handleChainStart(this.toJSON(),Br(r,"input"),i.runId,i==null?void 0:i.runType,void 0,void 0,(s=i==null?void 0:i.runName)!=null?s:this.getName()));delete i.runId;let a;try{let u=e.call(this,r,i,o);a=await Oi(u,n==null?void 0:n.signal)}catch(u){throw await(o==null?void 0:o.handleChainError(u)),u}return await(o==null?void 0:o.handleChainEnd(Br(a,"output"))),a}async _batchWithConfig(e,r,n,i){var u;let l=this._getOptionsList(n!=null?n:{},r.length),o=await Promise.all(l.map(M1)),a=await Promise.all(o.map(async(c,f)=>{var g;let h=await(c==null?void 0:c.handleChainStart(this.toJSON(),Br(r[f],"input"),l[f].runId,l[f].runType,void 0,void 0,(g=l[f].runName)!=null?g:this.getName()));return delete l[f].runId,h})),s;try{let c=e.call(this,r,l,a,i);s=await Oi(c,(u=l==null?void 0:l[0])==null?void 0:u.signal)}catch(c){throw await Promise.all(a.map(f=>f==null?void 0:f.handleChainError(c))),c}return await Promise.all(a.map(c=>c==null?void 0:c.handleChainEnd(Br(s,"output")))),s}async*_transformStreamWithConfig(e,r,n){let i,l=!0,o,a=!0,s=yt(n),u=await M1(s);async function*c(){for await(let h of e){if(l)if(i===void 0)i=h;else try{i=Zn(i,h)}catch(g){i=void 0,l=!1}yield h}}let f;try{let h=await DL(r.bind(this),c(),async()=>{var b;return u==null?void 0:u.handleChainStart(this.toJSON(),{input:""},s.runId,s.runType,void 0,void 0,(b=s.runName)!=null?b:this.getName())},n==null?void 0:n.signal,s);delete s.runId,f=h.setup;let g=f==null?void 0:f.handlers.find(B7),p=h.output;g!==void 0&&f!==void 0&&(p=g.tapOutputIterable(f.runId,p));let w=f==null?void 0:f.handlers.find(H7);w!==void 0&&f!==void 0&&(p=w.tapOutputIterable(f.runId,p));for await(let b of p)if(yield b,a)if(o===void 0)o=b;else try{o=Zn(o,b)}catch(v){o=void 0,a=!1}}catch(h){throw await(f==null?void 0:f.handleChainError(h,void 0,void 0,void 0,{inputs:Br(i,"input")})),h}await(f==null?void 0:f.handleChainEnd(o!=null?o:{},void 0,void 0,void 0,{inputs:Br(i,"input")}))}getGraph(e){let r=new P9,n=r.addNode({name:`${this.getName()}Input`,schema:$0.any()}),i=r.addNode(this),l=r.addNode({name:`${this.getName()}Output`,schema:$0.any()});return r.addEdge(n,i),r.addEdge(i,l),r}pipe(e){return new c2({first:this,last:ss(e)})}pick(e){return this.pipe(new om(e))}assign(e){return this.pipe(new A9(new cs({steps:e})))}async*transform(e,r){let n;for await(let i of e)n===void 0?n=i:n=Zn(n,i);yield*this._streamIterator(n,yt(r))}async*streamLog(e,r,n){let i=new T9({...n,autoClose:!1,_schemaFormat:"original"}),l=yt(r);yield*this._streamLog(e,i,l)}async*_streamLog(e,r,n){let{callbacks:i}=n;if(i===void 0)n.callbacks=[r];else if(Array.isArray(i))n.callbacks=i.concat([r]);else{let s=i.copy();s.addHandler(r,!0),n.callbacks=s}let l=this.stream(e,n);async function o(){try{let s=await l;for await(let u of s){let c=new ri({ops:[{op:"add",path:"/streamed_output/-",value:u}]});await r.writer.write(c)}}finally{await r.writer.close()}}let a=o();try{for await(let s of r)yield s}finally{await a}}streamEvents(e,r,n){let i;if(r.version==="v1")i=this._streamEventsV1(e,r,n);else if(r.version==="v2")i=this._streamEventsV2(e,r,n);else throw new Error('Only versions "v1" and "v2" of the schema are currently supported.');return r.encoding==="text/event-stream"?GL(i):Rr.fromAsyncGenerator(i)}async*_streamEventsV2(e,r,n){var g,p;let i=new R7({...n,autoClose:!1}),l=yt(r),o=(g=l.runId)!=null?g:_r();l.runId=o;let a=l.callbacks;if(a===void 0)l.callbacks=[i];else if(Array.isArray(a))l.callbacks=a.concat(i);else{let w=a.copy();w.addHandler(i,!0),l.callbacks=w}let s=this;async function u(){try{let w=await s.stream(e,l),b=i.tapOutputIterable(o,w);for await(let v of b);}finally{await i.finish()}}let c=u(),f=!1,h;try{for await(let w of i){if(!f){w.data.input=e,f=!0,h=w.run_id,yield w;continue}w.run_id===h&&w.event.endsWith("_end")&&(p=w.data)!=null&&p.input&&delete w.data.input,yield w}}finally{await c}}async*_streamEventsV1(e,r,n){var p,w,b;let i,l=!1,o=yt(r),a=(p=o.tags)!=null?p:[],s=(w=o.metadata)!=null?w:{},u=(b=o.runName)!=null?b:this.getName(),c=new T9({...n,autoClose:!1,_schemaFormat:"streaming_events"}),f=new V7({...n}),h=this._streamLog(e,c,o);for await(let v of h){if(i?i=i.concat(v):i=M9.fromRunLogPatch(v),i.state===void 0)throw new Error('Internal error: "streamEvents" state is missing. Please open a bug report.');if(!l){l=!0;let y={...i.state},W={run_id:y.id,event:`on_${y.type}_start`,name:u,tags:a,metadata:s,data:{input:e}};f.includeEvent(W,y.type)&&(yield W)}let S=v.ops.filter(y=>y.path.startsWith("/logs/")).map(y=>y.path.split("/")[2]),P=[...new Set(S)];for(let y of P){let W,X={},x=i.state.logs[y];if(x.end_time===void 0?x.streamed_output.length>0?W="stream":W="start":W="end",W==="start")x.inputs!==void 0&&(X.input=x.inputs);else if(W==="end")x.inputs!==void 0&&(X.input=x.inputs),X.output=x.final_output;else if(W==="stream"){let le=x.streamed_output.length;if(le!==1)throw new Error(`Expected exactly one chunk of streamed output, got ${le} instead. Encountered in: "${x.name}"`);X={chunk:x.streamed_output[0]},x.streamed_output=[]}yield{event:`on_${x.type}_${W}`,name:x.name,run_id:x.id,tags:x.tags,metadata:x.metadata,data:X}}let{state:Z}=i;if(Z.streamed_output.length>0){let y=Z.streamed_output.length;if(y!==1)throw new Error(`Expected exactly one chunk of streamed output, got ${y} instead. Encountered in: "${Z.name}"`);let W={chunk:Z.streamed_output[0]};Z.streamed_output=[];let X={event:`on_${Z.type}_stream`,run_id:Z.id,tags:a,metadata:s,name:u,data:W};f.includeEvent(X,Z.type)&&(yield X)}}let g=i==null?void 0:i.state;if(g!==void 0){let v={event:`on_${g.type}_end`,name:u,run_id:g.id,tags:a,metadata:s,data:{output:g.final_output}};f.includeEvent(v,g.type)&&(yield v)}}static isRunnable(e){return H9(e)}withListeners({onStart:e,onEnd:r,onError:n}){return new us({bound:this,config:{},configFactories:[i=>({callbacks:[new z9({config:i,onStart:e,onEnd:r,onError:n})]})]})}asTool(e){return CW(this,e)}},us=class t extends pr{static lc_name(){return"RunnableBinding"}constructor(e){super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"bound",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"config",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"kwargs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"configFactories",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.bound=e.bound,this.kwargs=e.kwargs,this.config=e.config,this.configFactories=e.configFactories}getName(e){return this.bound.getName(e)}async _mergeConfig(...e){let r=J6(this.config,...e);return J6(r,...this.configFactories?await Promise.all(this.configFactories.map(async n=>await n(r))):[])}bind(e){return new this.constructor({bound:this.bound,kwargs:{...this.kwargs,...e},config:this.config})}withConfig(e){return new this.constructor({bound:this.bound,kwargs:this.kwargs,config:{...this.config,...e}})}withRetry(e){return new this.constructor({bound:this.bound.withRetry(e),kwargs:this.kwargs,config:this.config})}async invoke(e,r){return this.bound.invoke(e,await this._mergeConfig(yt(r),this.kwargs))}async batch(e,r,n){let i=Array.isArray(r)?await Promise.all(r.map(async l=>this._mergeConfig(yt(l),this.kwargs))):await this._mergeConfig(yt(r),this.kwargs);return this.bound.batch(e,i,n)}async*_streamIterator(e,r){yield*this.bound._streamIterator(e,await this._mergeConfig(yt(r),this.kwargs))}async stream(e,r){return this.bound.stream(e,await this._mergeConfig(yt(r),this.kwargs))}async*transform(e,r){yield*this.bound.transform(e,await this._mergeConfig(yt(r),this.kwargs))}streamEvents(e,r,n){let i=this,l=async function*(){yield*i.bound.streamEvents(e,{...await i._mergeConfig(yt(r),i.kwargs),version:r.version},n)};return Rr.fromAsyncGenerator(l())}static isRunnableBinding(e){return e.bound&&pr.isRunnable(e.bound)}withListeners({onStart:e,onEnd:r,onError:n}){return new t({bound:this.bound,kwargs:this.kwargs,config:this.config,configFactories:[i=>({callbacks:[new z9({config:i,onStart:e,onEnd:r,onError:n})]})]})}},rm=class t extends pr{static lc_name(){return"RunnableEach"}constructor(e){super(e),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"bound",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.bound=e.bound}bind(e){return new t({bound:this.bound.bind(e)})}async invoke(e,r){return this._callWithConfig(this._invoke.bind(this),e,r)}async _invoke(e,r,n){return this.bound.batch(e,Nr(r,{callbacks:n==null?void 0:n.getChild()}))}withListeners({onStart:e,onEnd:r,onError:n}){return new t({bound:this.bound.withListeners({onStart:e,onEnd:r,onError:n})})}},nm=class extends us{static lc_name(){return"RunnableRetry"}constructor(e){var r,n;super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"maxAttemptNumber",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"onFailedAttempt",{enumerable:!0,configurable:!0,writable:!0,value:()=>{}}),this.maxAttemptNumber=(r=e.maxAttemptNumber)!=null?r:this.maxAttemptNumber,this.onFailedAttempt=(n=e.onFailedAttempt)!=null?n:this.onFailedAttempt}_patchConfigForRetry(e,r,n){let i=e>1?`retry:attempt:${e}`:void 0;return Nr(r,{callbacks:n==null?void 0:n.getChild(i)})}async _invoke(e,r,n){return(0,tm.default)(i=>super.invoke(e,this._patchConfigForRetry(i,r,n)),{onFailedAttempt:i=>this.onFailedAttempt(i,e),retries:Math.max(this.maxAttemptNumber-1,0),randomize:!0})}async invoke(e,r){return this._callWithConfig(this._invoke.bind(this),e,r)}async _batch(e,r,n,i){let l={};try{await(0,tm.default)(async o=>{let a=e.map((h,g)=>g).filter(h=>l[h.toString()]===void 0||l[h.toString()]instanceof Error),s=a.map(h=>e[h]),u=a.map(h=>this._patchConfigForRetry(o,r==null?void 0:r[h],n==null?void 0:n[h])),c=await super.batch(s,u,{...i,returnExceptions:!0}),f;for(let h=0;h<c.length;h+=1){let g=c[h],p=a[h];g instanceof Error&&f===void 0&&(f=g,f.input=s[h]),l[p.toString()]=g}if(f)throw f;return c},{onFailedAttempt:o=>this.onFailedAttempt(o,o.input),retries:Math.max(this.maxAttemptNumber-1,0),randomize:!0})}catch(o){if((i==null?void 0:i.returnExceptions)!==!0)throw o}return Object.keys(l).sort((o,a)=>parseInt(o,10)-parseInt(a,10)).map(o=>l[parseInt(o,10)])}async batch(e,r,n){return this._batchWithConfig(this._batch.bind(this),e,r,n)}},c2=class t extends pr{static lc_name(){return"RunnableSequence"}constructor(e){var r,n;super(e),Object.defineProperty(this,"first",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"middle",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"last",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"omitSequenceTags",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),this.first=e.first,this.middle=(r=e.middle)!=null?r:this.middle,this.last=e.last,this.name=e.name,this.omitSequenceTags=(n=e.omitSequenceTags)!=null?n:this.omitSequenceTags}get steps(){return[this.first,...this.middle,this.last]}async invoke(e,r){var s;let n=yt(r),i=await M1(n),l=await(i==null?void 0:i.handleChainStart(this.toJSON(),Br(e,"input"),n.runId,void 0,void 0,void 0,n==null?void 0:n.runName));delete n.runId;let o=e,a;try{let u=[this.first,...this.middle];for(let c=0;c<u.length;c+=1){let h=u[c].invoke(o,Nr(n,{callbacks:l==null?void 0:l.getChild(this.omitSequenceTags?void 0:`seq:step:${c+1}`)}));o=await Oi(h,r==null?void 0:r.signal)}if((s=r==null?void 0:r.signal)!=null&&s.aborted)throw new Error("Aborted");a=await this.last.invoke(o,Nr(n,{callbacks:l==null?void 0:l.getChild(this.omitSequenceTags?void 0:`seq:step:${this.steps.length}`)}))}catch(u){throw await(l==null?void 0:l.handleChainError(u)),u}return await(l==null?void 0:l.handleChainEnd(Br(a,"output"))),a}async batch(e,r,n){var s;let i=this._getOptionsList(r!=null?r:{},e.length),l=await Promise.all(i.map(M1)),o=await Promise.all(l.map(async(u,c)=>{let f=await(u==null?void 0:u.handleChainStart(this.toJSON(),Br(e[c],"input"),i[c].runId,void 0,void 0,void 0,i[c].runName));return delete i[c].runId,f})),a=e;try{for(let u=0;u<this.steps.length;u+=1){let f=this.steps[u].batch(a,o.map((h,g)=>{let p=h==null?void 0:h.getChild(this.omitSequenceTags?void 0:`seq:step:${u+1}`);return Nr(i[g],{callbacks:p})}),n);a=await Oi(f,(s=i[0])==null?void 0:s.signal)}}catch(u){throw await Promise.all(o.map(c=>c==null?void 0:c.handleChainError(u))),u}return await Promise.all(o.map(u=>u==null?void 0:u.handleChainEnd(Br(a,"output")))),a}async*_streamIterator(e,r){var f;let n=await M1(r),{runId:i,...l}=r!=null?r:{},o=await(n==null?void 0:n.handleChainStart(this.toJSON(),Br(e,"input"),i,void 0,void 0,void 0,l==null?void 0:l.runName)),a=[this.first,...this.middle,this.last],s=!0,u;async function*c(){yield e}try{let h=a[0].transform(c(),Nr(l,{callbacks:o==null?void 0:o.getChild(this.omitSequenceTags?void 0:"seq:step:1")}));for(let g=1;g<a.length;g+=1)h=await a[g].transform(h,Nr(l,{callbacks:o==null?void 0:o.getChild(this.omitSequenceTags?void 0:`seq:step:${g+1}`)}));for await(let g of h)if((f=r==null?void 0:r.signal)==null||f.throwIfAborted(),yield g,s)if(u===void 0)u=g;else try{u=Zn(u,g)}catch(p){u=void 0,s=!1}}catch(h){throw await(o==null?void 0:o.handleChainError(h)),h}await(o==null?void 0:o.handleChainEnd(Br(u,"output")))}getGraph(e){let r=new P9,n=null;return this.steps.forEach((i,l)=>{let o=i.getGraph(e);l!==0&&o.trimFirstNode(),l!==this.steps.length-1&&o.trimLastNode(),r.extend(o);let a=o.firstNode();if(!a)throw new Error(`Runnable ${i} has no first node`);n&&r.addEdge(n,a),n=o.lastNode()}),r}pipe(e){var r;return t.isRunnableSequence(e)?new t({first:this.first,middle:this.middle.concat([this.last,e.first,...e.middle]),last:e.last,name:(r=this.name)!=null?r:e.name}):new t({first:this.first,middle:[...this.middle,this.last],last:ss(e),name:this.name})}static isRunnableSequence(e){return Array.isArray(e.middle)&&pr.isRunnable(e)}static from([e,...r],n){let i={};return typeof n=="string"?i.name=n:n!==void 0&&(i=n),new t({...i,first:ss(e),middle:r.slice(0,-1).map(ss),last:ss(r[r.length-1])})}},cs=class t extends pr{static lc_name(){return"RunnableMap"}getStepsKeys(){return Object.keys(this.steps)}constructor(e){super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"steps",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.steps={};for(let[r,n]of Object.entries(e.steps))this.steps[r]=ss(n)}static from(e){return new t({steps:e})}async invoke(e,r){let n=yt(r),i=await M1(n),l=await(i==null?void 0:i.handleChainStart(this.toJSON(),{input:e},n.runId,void 0,void 0,void 0,n==null?void 0:n.runName));delete n.runId;let o={};try{let a=Object.entries(this.steps).map(async([s,u])=>{o[s]=await u.invoke(e,Nr(n,{callbacks:l==null?void 0:l.getChild(`map:key:${s}`)}))});await Oi(Promise.all(a),r==null?void 0:r.signal)}catch(a){throw await(l==null?void 0:l.handleChainError(a)),a}return await(l==null?void 0:l.handleChainEnd(o)),o}async*_transform(e,r,n){let i={...this.steps},l=K6(e,Object.keys(i).length),o=new Map(Object.entries(i).map(([a,s],u)=>{let c=s.transform(l[u],Nr(n,{callbacks:r==null?void 0:r.getChild(`map:key:${a}`)}));return[a,c.next().then(f=>({key:a,gen:c,result:f}))]}));for(;o.size;){let a=Promise.race(o.values()),{key:s,result:u,gen:c}=await Oi(a,n==null?void 0:n.signal);o.delete(s),u.done||(yield{[s]:u.value},o.set(s,c.next().then(f=>({key:s,gen:c,result:f}))))}}transform(e,r){return this._transformStreamWithConfig(e,this._transform.bind(this),r)}async stream(e,r){async function*n(){yield e}let i=yt(r),l=new jl({generator:this.transform(n(),i),config:i});return await l.setup,Rr.fromAsyncGenerator(l)}},im=class t extends pr{constructor(e){if(super(e),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"func",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),!v7(e.func))throw new Error("RunnableTraceable requires a function that is wrapped in traceable higher-order function");this.func=e.func}async invoke(e,r){let[n]=this._getOptionsList(r!=null?r:{},1),i=await M1(n),l=this.func(Nr(n,{callbacks:i}),e);return Oi(l,n==null?void 0:n.signal)}async*_streamIterator(e,r){var l,o;let[n]=this._getOptionsList(r!=null?r:{},1),i=await this.invoke(e,r);if(Z7(i)){for await(let a of i)(l=n==null?void 0:n.signal)==null||l.throwIfAborted(),yield a;return}if(JL(i)){for(;;){(o=n==null?void 0:n.signal)==null||o.throwIfAborted();let a=i.next();if(a.done)break;yield a.value}return}yield i}static from(e){return new t({func:e})}};function pW(t){if(v7(t))throw new Error("RunnableLambda requires a function that is not wrapped in traceable higher-order function. This shouldn't happen.")}var fs=class t extends pr{static lc_name(){return"RunnableLambda"}constructor(e){if(v7(e.func))return im.from(e.func);super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"func",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),pW(e.func),this.func=e.func}static from(e){return new t({func:e})}async _invoke(e,r,n){return new Promise((i,l)=>{var a;let o=Nr(r,{callbacks:n==null?void 0:n.getChild(),recursionLimit:((a=r==null?void 0:r.recursionLimit)!=null?a:z7)-1});S1.runWithConfig(Fl(o),async()=>{var s,u,c;try{let f=await this.func(e,{...o});if(f&&pr.isRunnable(f)){if((r==null?void 0:r.recursionLimit)===0)throw new Error("Recursion limit reached.");f=await f.invoke(e,{...o,recursionLimit:((s=o.recursionLimit)!=null?s:z7)-1})}else if(Z7(f)){let h;for await(let g of em(o,f))if((u=r==null?void 0:r.signal)==null||u.throwIfAborted(),h===void 0)h=g;else try{h=Zn(h,g)}catch(p){h=g}f=h}else if(x6(f)){let h;for(let g of $6(o,f))if((c=r==null?void 0:r.signal)==null||c.throwIfAborted(),h===void 0)h=g;else try{h=Zn(h,g)}catch(p){h=g}f=h}i(f)}catch(f){l(f)}})})}async invoke(e,r){return this._callWithConfig(this._invoke.bind(this),e,r)}async*_transform(e,r,n){var a,s,u;let i;for await(let c of e)if(i===void 0)i=c;else try{i=Zn(i,c)}catch(f){i=c}let l=Nr(n,{callbacks:r==null?void 0:r.getChild(),recursionLimit:((a=n==null?void 0:n.recursionLimit)!=null?a:z7)-1}),o=await new Promise((c,f)=>{S1.runWithConfig(Fl(l),async()=>{try{let h=await this.func(i,{...l,config:l});c(h)}catch(h){f(h)}})});if(o&&pr.isRunnable(o)){if((n==null?void 0:n.recursionLimit)===0)throw new Error("Recursion limit reached.");let c=await o.stream(i,l);for await(let f of c)yield f}else if(Z7(o))for await(let c of em(l,o))(s=n==null?void 0:n.signal)==null||s.throwIfAborted(),yield c;else if(x6(o))for(let c of $6(l,o))(u=n==null?void 0:n.signal)==null||u.throwIfAborted(),yield c;else yield o}transform(e,r){return this._transformStreamWithConfig(e,this._transform.bind(this),r)}async stream(e,r){async function*n(){yield e}let i=yt(r),l=new jl({generator:this.transform(n(),i),config:i});return await l.setup,Rr.fromAsyncGenerator(l)}};var lm=class extends pr{static lc_name(){return"RunnableWithFallbacks"}constructor(e){super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"runnable",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fallbacks",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.runnable=e.runnable,this.fallbacks=e.fallbacks}*runnables(){yield this.runnable;for(let e of this.fallbacks)yield e}async invoke(e,r){var u;let n=yt(r),i=await M1(r),{runId:l,...o}=n,a=await(i==null?void 0:i.handleChainStart(this.toJSON(),Br(e,"input"),l,void 0,void 0,void 0,o==null?void 0:o.runName)),s;for(let c of this.runnables()){(u=n==null?void 0:n.signal)==null||u.throwIfAborted();try{let f=await c.invoke(e,Nr(o,{callbacks:a==null?void 0:a.getChild()}));return await(a==null?void 0:a.handleChainEnd(Br(f,"output"))),f}catch(f){s===void 0&&(s=f)}}throw s===void 0?new Error("No error stored at end of fallback."):(await(a==null?void 0:a.handleChainError(s)),s)}async*_streamIterator(e,r){var f;let n=yt(r),i=await M1(r),{runId:l,...o}=n,a=await(i==null?void 0:i.handleChainStart(this.toJSON(),Br(e,"input"),l,void 0,void 0,void 0,o==null?void 0:o.runName)),s,u;for(let h of this.runnables()){(f=n==null?void 0:n.signal)==null||f.throwIfAborted();let g=Nr(o,{callbacks:a==null?void 0:a.getChild()});try{u=await h.stream(e,g);break}catch(p){s===void 0&&(s=p)}}if(u===void 0){let h=s!=null?s:new Error("No error stored at end of fallback.");throw await(a==null?void 0:a.handleChainError(h)),h}let c;try{for await(let h of u){yield h;try{c=c===void 0?c:Zn(c,h)}catch(g){c=void 0}}}catch(h){throw await(a==null?void 0:a.handleChainError(h)),h}await(a==null?void 0:a.handleChainEnd(Br(c,"output")))}async batch(e,r,n){var s;if(n!=null&&n.returnExceptions)throw new Error("Not implemented.");let i=this._getOptionsList(r!=null?r:{},e.length),l=await Promise.all(i.map(u=>M1(u))),o=await Promise.all(l.map(async(u,c)=>{let f=await(u==null?void 0:u.handleChainStart(this.toJSON(),Br(e[c],"input"),i[c].runId,void 0,void 0,void 0,i[c].runName));return delete i[c].runId,f})),a;for(let u of this.runnables()){(s=i[0].signal)==null||s.throwIfAborted();try{let c=await u.batch(e,o.map((f,h)=>Nr(i[h],{callbacks:f==null?void 0:f.getChild()})),n);return await Promise.all(o.map((f,h)=>f==null?void 0:f.handleChainEnd(Br(c[h],"output")))),c}catch(c){a===void 0&&(a=c)}}throw a?(await Promise.all(o.map(u=>u==null?void 0:u.handleChainError(a))),a):new Error("No error stored at end of fallbacks.")}};function ss(t){if(typeof t=="function")return new fs({func:t});if(pr.isRunnable(t))return t;if(!Array.isArray(t)&&typeof t=="object"){let e={};for(let[r,n]of Object.entries(t))e[r]=ss(n);return new cs({steps:e})}else throw new Error(`Expected a Runnable, function or object.
Instead got an unsupported type.`)}var A9=class extends pr{static lc_name(){return"RunnableAssign"}constructor(e){e instanceof cs&&(e={mapper:e}),super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"mapper",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.mapper=e.mapper}async invoke(e,r){let n=await this.mapper.invoke(e,r);return{...e,...n}}async*_transform(e,r,n){let i=this.mapper.getStepsKeys(),[l,o]=K6(e),a=this.mapper.transform(o,Nr(n,{callbacks:r==null?void 0:r.getChild()})),s=a.next();for await(let u of l){if(typeof u!="object"||Array.isArray(u))throw new Error(`RunnableAssign can only be used with objects as input, got ${typeof u}`);let c=Object.fromEntries(Object.entries(u).filter(([f])=>!i.includes(f)));Object.keys(c).length>0&&(yield c)}yield(await s).value;for await(let u of a)yield u}transform(e,r){return this._transformStreamWithConfig(e,this._transform.bind(this),r)}async stream(e,r){async function*n(){yield e}let i=yt(r),l=new jl({generator:this.transform(n(),i),config:i});return await l.setup,Rr.fromAsyncGenerator(l)}},om=class extends pr{static lc_name(){return"RunnablePick"}constructor(e){(typeof e=="string"||Array.isArray(e))&&(e={keys:e}),super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"keys",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.keys=e.keys}async _pick(e){if(typeof this.keys=="string")return e[this.keys];{let r=this.keys.map(n=>[n,e[n]]).filter(n=>n[1]!==void 0);return r.length===0?void 0:Object.fromEntries(r)}}async invoke(e,r){return this._callWithConfig(this._pick.bind(this),e,r)}async*_transform(e){for await(let r of e){let n=await this._pick(r);n!==void 0&&(yield n)}}transform(e,r){return this._transformStreamWithConfig(e,this._transform.bind(this),r)}async stream(e,r){async function*n(){yield e}let i=yt(r),l=new jl({generator:this.transform(n(),i),config:i});return await l.setup,Rr.fromAsyncGenerator(l)}},I7=class extends us{constructor(e){var n;let r=c2.from([fs.from(async i=>{let l;if(Sc(i))try{l=await this.schema.parseAsync(i.args)}catch(o){throw new Ec("Received tool input did not match expected schema",JSON.stringify(i.args))}else l=i;return l}).withConfig({runName:`${e.name}:parse_input`}),e.bound]).withConfig({runName:e.name});super({bound:r,config:(n=e.config)!=null?n:{}}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"description",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"schema",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=e.name,this.description=e.description,this.schema=e.schema}static lc_name(){return"RunnableToolLike"}};function CW(t,e){var i,l,o;let r=(i=e.name)!=null?i:t.getName(),n=(o=e.description)!=null?o:(l=e.schema)==null?void 0:l.description;return e.schema.constructor===$0.ZodString?new I7({name:r,description:n,schema:$0.object({input:$0.string()}).transform(a=>a.input),bound:t}):new I7({name:r,description:n,schema:e.schema,bound:t})}var vW=typeof window=="object"?window:{},ut="0123456789abcdef".split(""),wW=[-2147483648,8388608,32768,128],ni=[24,16,8,0];var Or=[];function ii(t){t?(Or[0]=Or[16]=Or[1]=Or[2]=Or[3]=Or[4]=Or[5]=Or[6]=Or[7]=Or[8]=Or[9]=Or[10]=Or[11]=Or[12]=Or[13]=Or[14]=Or[15]=0,this.blocks=Or):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.h0=1732584193,this.h1=4023233417,this.h2=2562383102,this.h3=271733878,this.h4=3285377520,this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0}ii.prototype.update=function(t){if(!this.finalized){var e=typeof t!="string";e&&t.constructor===vW.ArrayBuffer&&(t=new Uint8Array(t));for(var r,n=0,i,l=t.length||0,o=this.blocks;n<l;){if(this.hashed&&(this.hashed=!1,o[0]=this.block,o[16]=o[1]=o[2]=o[3]=o[4]=o[5]=o[6]=o[7]=o[8]=o[9]=o[10]=o[11]=o[12]=o[13]=o[14]=o[15]=0),e)for(i=this.start;n<l&&i<64;++n)o[i>>2]|=t[n]<<ni[i++&3];else for(i=this.start;n<l&&i<64;++n)r=t.charCodeAt(n),r<128?o[i>>2]|=r<<ni[i++&3]:r<2048?(o[i>>2]|=(192|r>>6)<<ni[i++&3],o[i>>2]|=(128|r&63)<<ni[i++&3]):r<55296||r>=57344?(o[i>>2]|=(224|r>>12)<<ni[i++&3],o[i>>2]|=(128|r>>6&63)<<ni[i++&3],o[i>>2]|=(128|r&63)<<ni[i++&3]):(r=65536+((r&1023)<<10|t.charCodeAt(++n)&1023),o[i>>2]|=(240|r>>18)<<ni[i++&3],o[i>>2]|=(128|r>>12&63)<<ni[i++&3],o[i>>2]|=(128|r>>6&63)<<ni[i++&3],o[i>>2]|=(128|r&63)<<ni[i++&3]);this.lastByteIndex=i,this.bytes+=i-this.start,i>=64?(this.block=o[16],this.start=i-64,this.hash(),this.hashed=!0):this.start=i}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}};ii.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var t=this.blocks,e=this.lastByteIndex;t[16]=this.block,t[e>>2]|=wW[e&3],this.block=t[16],e>=56&&(this.hashed||this.hash(),t[0]=this.block,t[16]=t[1]=t[2]=t[3]=t[4]=t[5]=t[6]=t[7]=t[8]=t[9]=t[10]=t[11]=t[12]=t[13]=t[14]=t[15]=0),t[14]=this.hBytes<<3|this.bytes>>>29,t[15]=this.bytes<<3,this.hash()}};ii.prototype.hash=function(){var t=this.h0,e=this.h1,r=this.h2,n=this.h3,i=this.h4,l,o,a,s=this.blocks;for(o=16;o<80;++o)a=s[o-3]^s[o-8]^s[o-14]^s[o-16],s[o]=a<<1|a>>>31;for(o=0;o<20;o+=5)l=e&r|~e&n,a=t<<5|t>>>27,i=a+l+i+1518500249+s[o]<<0,e=e<<30|e>>>2,l=t&e|~t&r,a=i<<5|i>>>27,n=a+l+n+1518500249+s[o+1]<<0,t=t<<30|t>>>2,l=i&t|~i&e,a=n<<5|n>>>27,r=a+l+r+1518500249+s[o+2]<<0,i=i<<30|i>>>2,l=n&i|~n&t,a=r<<5|r>>>27,e=a+l+e+1518500249+s[o+3]<<0,n=n<<30|n>>>2,l=r&n|~r&i,a=e<<5|e>>>27,t=a+l+t+1518500249+s[o+4]<<0,r=r<<30|r>>>2;for(;o<40;o+=5)l=e^r^n,a=t<<5|t>>>27,i=a+l+i+1859775393+s[o]<<0,e=e<<30|e>>>2,l=t^e^r,a=i<<5|i>>>27,n=a+l+n+1859775393+s[o+1]<<0,t=t<<30|t>>>2,l=i^t^e,a=n<<5|n>>>27,r=a+l+r+1859775393+s[o+2]<<0,i=i<<30|i>>>2,l=n^i^t,a=r<<5|r>>>27,e=a+l+e+1859775393+s[o+3]<<0,n=n<<30|n>>>2,l=r^n^i,a=e<<5|e>>>27,t=a+l+t+1859775393+s[o+4]<<0,r=r<<30|r>>>2;for(;o<60;o+=5)l=e&r|e&n|r&n,a=t<<5|t>>>27,i=a+l+i-1894007588+s[o]<<0,e=e<<30|e>>>2,l=t&e|t&r|e&r,a=i<<5|i>>>27,n=a+l+n-1894007588+s[o+1]<<0,t=t<<30|t>>>2,l=i&t|i&e|t&e,a=n<<5|n>>>27,r=a+l+r-1894007588+s[o+2]<<0,i=i<<30|i>>>2,l=n&i|n&t|i&t,a=r<<5|r>>>27,e=a+l+e-1894007588+s[o+3]<<0,n=n<<30|n>>>2,l=r&n|r&i|n&i,a=e<<5|e>>>27,t=a+l+t-1894007588+s[o+4]<<0,r=r<<30|r>>>2;for(;o<80;o+=5)l=e^r^n,a=t<<5|t>>>27,i=a+l+i-899497514+s[o]<<0,e=e<<30|e>>>2,l=t^e^r,a=i<<5|i>>>27,n=a+l+n-899497514+s[o+1]<<0,t=t<<30|t>>>2,l=i^t^e,a=n<<5|n>>>27,r=a+l+r-899497514+s[o+2]<<0,i=i<<30|i>>>2,l=n^i^t,a=r<<5|r>>>27,e=a+l+e-899497514+s[o+3]<<0,n=n<<30|n>>>2,l=r^n^i,a=e<<5|e>>>27,t=a+l+t-899497514+s[o+4]<<0,r=r<<30|r>>>2;this.h0=this.h0+t<<0,this.h1=this.h1+e<<0,this.h2=this.h2+r<<0,this.h3=this.h3+n<<0,this.h4=this.h4+i<<0};ii.prototype.hex=function(){this.finalize();var t=this.h0,e=this.h1,r=this.h2,n=this.h3,i=this.h4;return ut[t>>28&15]+ut[t>>24&15]+ut[t>>20&15]+ut[t>>16&15]+ut[t>>12&15]+ut[t>>8&15]+ut[t>>4&15]+ut[t&15]+ut[e>>28&15]+ut[e>>24&15]+ut[e>>20&15]+ut[e>>16&15]+ut[e>>12&15]+ut[e>>8&15]+ut[e>>4&15]+ut[e&15]+ut[r>>28&15]+ut[r>>24&15]+ut[r>>20&15]+ut[r>>16&15]+ut[r>>12&15]+ut[r>>8&15]+ut[r>>4&15]+ut[r&15]+ut[n>>28&15]+ut[n>>24&15]+ut[n>>20&15]+ut[n>>16&15]+ut[n>>12&15]+ut[n>>8&15]+ut[n>>4&15]+ut[n&15]+ut[i>>28&15]+ut[i>>24&15]+ut[i>>20&15]+ut[i>>16&15]+ut[i>>12&15]+ut[i>>8&15]+ut[i>>4&15]+ut[i&15]};ii.prototype.toString=ii.prototype.hex;ii.prototype.digest=function(){this.finalize();var t=this.h0,e=this.h1,r=this.h2,n=this.h3,i=this.h4;return[t>>24&255,t>>16&255,t>>8&255,t&255,e>>24&255,e>>16&255,e>>8&255,e&255,r>>24&255,r>>16&255,r>>8&255,r&255,n>>24&255,n>>16&255,n>>8&255,n&255,i>>24&255,i>>16&255,i>>8&255,i&255]};ii.prototype.array=ii.prototype.digest;ii.prototype.arrayBuffer=function(){this.finalize();var t=new ArrayBuffer(20),e=new DataView(t);return e.setUint32(0,this.h0),e.setUint32(4,this.h1),e.setUint32(8,this.h2),e.setUint32(12,this.h3),e.setUint32(16,this.h4),t};var am=t=>new ii(!0).update(t).hex();var KL=(...t)=>am(t.join("_"));var sm=class{},kW=new Map,D7=class t extends sm{constructor(e){super(),Object.defineProperty(this,"cache",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cache=e!=null?e:new Map}lookup(e,r){var n;return Promise.resolve((n=this.cache.get(KL(e,r)))!=null?n:null)}async update(e,r,n){this.cache.set(KL(e,r),n)}static global(){return new t(kW)}};var N7=class extends ei{},F7=class extends N7{static lc_name(){return"StringPromptValue"}constructor(e){super({value:e}),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","prompt_values"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.value=e}toString(){return this.value}toChatMessages(){return[new Pn(this.value)]}},j7=class extends N7{static lc_name(){return"ChatPromptValue"}constructor(e){Array.isArray(e)&&(e={messages:e}),super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","prompt_values"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"messages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.messages=e.messages}toString(){return Mc(this.messages)}toChatMessages(){return this.messages}};var $L=qt(xL(),1);var HW=Object.defineProperty,PW=(t,e,r)=>e in t?HW(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,AW=(t,e,r)=>(PW(t,typeof e!="symbol"?e+"":e,r),r);function RW(t,e){let r=Array.from({length:t.length},(n,i)=>({start:i,end:i+1}));for(;r.length>1;){let n=null;for(let i=0;i<r.length-1;i++){let l=t.slice(r[i].start,r[i+1].end),o=e.get(l.join(","));o!=null&&(n==null||o<n[0])&&(n=[o,i])}if(n!=null){let i=n[1];r[i]={start:r[i].start,end:r[i+1].end},r.splice(i+1,1)}else break}return r}function BW(t,e){return t.length===1?[e.get(t.join(","))]:RW(t,e).map(r=>e.get(t.slice(r.start,r.end).join(","))).filter(r=>r!=null)}function OW(t){return t.replace(/[\\^$*+?.()|[\]{}]/g,"\\$&")}var cm=class{constructor(t,e){Le(this,"specialTokens");Le(this,"inverseSpecialTokens");Le(this,"patStr");Le(this,"textEncoder",new TextEncoder);Le(this,"textDecoder",new TextDecoder("utf-8"));Le(this,"rankMap",new Map);Le(this,"textMap",new Map);this.patStr=t.pat_str;let r=t.bpe_ranks.split(`
`).filter(Boolean).reduce((n,i)=>{let[l,o,...a]=i.split(" "),s=Number.parseInt(o,10);return a.forEach((u,c)=>n[u]=s+c),n},{});for(let[n,i]of Object.entries(r)){let l=$L.default.toByteArray(n);this.rankMap.set(l.join(","),i),this.textMap.set(i,l)}this.specialTokens={...t.special_tokens,...e},this.inverseSpecialTokens=Object.entries(this.specialTokens).reduce((n,[i,l])=>(n[l]=this.textEncoder.encode(i),n),{})}encode(t,e=[],r="all"){var u;let n=new RegExp(this.patStr,"ug"),i=cm.specialTokenRegex(Object.keys(this.specialTokens)),l=[],o=new Set(e==="all"?Object.keys(this.specialTokens):e),a=new Set(r==="all"?Object.keys(this.specialTokens).filter(c=>!o.has(c)):r);if(a.size>0){let c=cm.specialTokenRegex([...a]),f=t.match(c);if(f!=null)throw new Error(`The text contains a special token that is not allowed: ${f[0]}`)}let s=0;for(;;){let c=null,f=s;for(;i.lastIndex=f,c=i.exec(t),!(c==null||o.has(c[0]));)f=c.index+1;let h=(u=c==null?void 0:c.index)!=null?u:t.length;for(let p of t.substring(s,h).matchAll(n)){let w=this.textEncoder.encode(p[0]),b=this.rankMap.get(w.join(","));if(b!=null){l.push(b);continue}l.push(...BW(w,this.rankMap))}if(c==null)break;let g=this.specialTokens[c[0]];l.push(g),s=c.index+c[0].length}return l}decode(t){var l;let e=[],r=0;for(let o=0;o<t.length;++o){let a=t[o],s=(l=this.textMap.get(a))!=null?l:this.inverseSpecialTokens[a];s!=null&&(e.push(s),r+=s.length)}let n=new Uint8Array(r),i=0;for(let o of e)n.set(o,i),i+=o.length;return this.textDecoder.decode(n)}},W7=cm;AW(W7,"specialTokenRegex",t=>new RegExp(t.map(e=>OW(e)).join("|"),"g"));function fm(t){switch(t){case"gpt2":return"gpt2";case"code-cushman-001":case"code-cushman-002":case"code-davinci-001":case"code-davinci-002":case"cushman-codex":case"davinci-codex":case"davinci-002":case"text-davinci-002":case"text-davinci-003":return"p50k_base";case"code-davinci-edit-001":case"text-davinci-edit-001":return"p50k_edit";case"ada":case"babbage":case"babbage-002":case"code-search-ada-code-001":case"code-search-babbage-code-001":case"curie":case"davinci":case"text-ada-001":case"text-babbage-001":case"text-curie-001":case"text-davinci-001":case"text-search-ada-doc-001":case"text-search-babbage-doc-001":case"text-search-curie-doc-001":case"text-search-davinci-doc-001":case"text-similarity-ada-001":case"text-similarity-babbage-001":case"text-similarity-curie-001":case"text-similarity-davinci-001":return"r50k_base";case"gpt-3.5-turbo-instruct-0914":case"gpt-3.5-turbo-instruct":case"gpt-3.5-turbo-16k-0613":case"gpt-3.5-turbo-16k":case"gpt-3.5-turbo-0613":case"gpt-3.5-turbo-0301":case"gpt-3.5-turbo":case"gpt-4-32k-0613":case"gpt-4-32k-0314":case"gpt-4-32k":case"gpt-4-0613":case"gpt-4-0314":case"gpt-4":case"gpt-3.5-turbo-1106":case"gpt-35-turbo":case"gpt-4-1106-preview":case"gpt-4-vision-preview":case"gpt-3.5-turbo-0125":case"gpt-4-turbo":case"gpt-4-turbo-2024-04-09":case"gpt-4-turbo-preview":case"gpt-4-0125-preview":case"text-embedding-ada-002":case"text-embedding-3-small":case"text-embedding-3-large":return"cl100k_base";case"gpt-4o":case"gpt-4o-2024-05-13":case"gpt-4o-2024-08-06":case"gpt-4o-mini-2024-07-18":case"gpt-4o-mini":case"o1-mini":case"o1-preview":case"o1-preview-2024-09-12":case"o1-mini-2024-09-12":case"chatgpt-4o-latest":case"gpt-4o-realtime":case"gpt-4o-realtime-preview-2024-10-01":return"o200k_base";default:throw new Error("Unknown model")}}var U7={},VW=new Vo({});async function ZW(t){return t in U7||(U7[t]=VW.fetch(`https://tiktoken.pages.dev/js/${t}.json`).then(e=>e.json()).then(e=>new W7(e)).catch(e=>{throw delete U7[t],e})),await U7[t]}async function eE(t){return ZW(fm(t))}var IW=t=>t.startsWith("gpt-3.5-turbo-16k")?"gpt-3.5-turbo-16k":t.startsWith("gpt-3.5-turbo-")?"gpt-3.5-turbo":t.startsWith("gpt-4-32k")?"gpt-4-32k":t.startsWith("gpt-4-")?"gpt-4":t.startsWith("gpt-4o")?"gpt-4o":t;var DW=()=>!1,hm=class extends pr{get lc_attributes(){return{callbacks:void 0,verbose:void 0}}constructor(e){var r,n,i;super(e),Object.defineProperty(this,"verbose",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"callbacks",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metadata",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.verbose=(r=e.verbose)!=null?r:DW(),this.callbacks=e.callbacks,this.tags=(n=e.tags)!=null?n:[],this.metadata=(i=e.metadata)!=null?i:{}}},Y7=class extends hm{get callKeys(){return["stop","timeout","signal","tags","metadata","callbacks"]}constructor({callbacks:e,callbackManager:r,...n}){let{cache:i,...l}=n;super({callbacks:e!=null?e:r,...l}),Object.defineProperty(this,"caller",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cache",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_encoding",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),typeof i=="object"?this.cache=i:i?this.cache=D7.global():this.cache=void 0,this.caller=new Vo(n!=null?n:{})}async getNumTokens(e){if(typeof e!="string")return 0;let r=Math.ceil(e.length/4);if(!this._encoding)try{this._encoding=await eE("modelName"in this?IW(this.modelName):"gpt2")}catch(n){console.warn("Failed to calculate number of tokens, falling back to approximate count",n)}if(this._encoding)try{r=this._encoding.encode(e).length}catch(n){console.warn("Failed to calculate number of tokens, falling back to approximate count",n)}return r}static _convertInputToPromptValue(e){return typeof e=="string"?new F7(e):Array.isArray(e)?new j7(e.map(Qa)):e}_identifyingParams(){return{}}_getSerializedCacheKeyParametersForCall({config:e,...r}){let n={...this._identifyingParams(),...r,_type:this._llmType(),_model:this._modelType()};return Object.entries(n).filter(([o,a])=>a!==void 0).map(([o,a])=>`${o}:${JSON.stringify(a)}`).sort().join(",")}serialize(){return{...this._identifyingParams(),_type:this._llmType(),_model:this._modelType()}}static async deserialize(e){throw new Error("Use .toJSON() instead")}};var R9=class extends pr{static lc_name(){return"RunnablePassthrough"}constructor(e){super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"func",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),e&&(this.func=e.func)}async invoke(e,r){let n=yt(r);return this.func&&await this.func(e,n),this._callWithConfig(i=>Promise.resolve(i),e,n)}async*transform(e,r){let n=yt(r),i,l=!0;for await(let o of this._transformStreamWithConfig(e,a=>a,n))if(yield o,l)if(i===void 0)i=o;else try{i=Zn(i,o)}catch(a){i=void 0,l=!1}this.func&&i!==void 0&&await this.func(i,n)}static assign(e){return new A9(new cs({steps:e}))}};function tE(t){return typeof(t==null?void 0:t.parse)=="function"}var G7=class t extends Y7{constructor(e){super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","chat_models",this._llmType()]})}_separateRunnableConfigFromCallOptionsCompat(e){let[r,n]=super._separateRunnableConfigFromCallOptions(e);return n.signal=r.signal,[r,n]}async invoke(e,r){let n=t._convertInputToPromptValue(e);return(await this.generatePrompt([n],r,r==null?void 0:r.callbacks)).generations[0][0].message}async*_streamResponseChunks(e,r,n){throw new Error("Not implemented.")}async*_streamIterator(e,r){var n;if(this._streamResponseChunks===t.prototype._streamResponseChunks)yield this.invoke(e,r);else{let l=t._convertInputToPromptValue(e).toChatMessages(),[o,a]=this._separateRunnableConfigFromCallOptionsCompat(r),s={...o.metadata,...this.getLsParams(a)},u=await Vn.configure(o.callbacks,this.callbacks,o.tags,this.tags,s,this.metadata,{verbose:this.verbose}),c={options:a,invocation_params:this==null?void 0:this.invocationParams(a),batch_size:1},f=await(u==null?void 0:u.handleChatModelStart(this.toJSON(),[l],o.runId,void 0,c,void 0,void 0,o.runName)),h,g;try{for await(let p of this._streamResponseChunks(l,a,f==null?void 0:f[0])){if(p.message.id==null){let w=(n=f==null?void 0:f.at(0))==null?void 0:n.runId;w!=null&&p.message._updateId(`run-${w}`)}p.message.response_metadata={...p.generationInfo,...p.message.response_metadata},yield p.message,h?h=h.concat(p):h=p,Fd(p.message)&&p.message.usage_metadata!==void 0&&(g={tokenUsage:{promptTokens:p.message.usage_metadata.input_tokens,completionTokens:p.message.usage_metadata.output_tokens,totalTokens:p.message.usage_metadata.total_tokens}})}}catch(p){throw await Promise.all((f!=null?f:[]).map(w=>w==null?void 0:w.handleLLMError(p))),p}await Promise.all((f!=null?f:[]).map(p=>p==null?void 0:p.handleLLMEnd({generations:[[h]],llmOutput:g})))}}getLsParams(e){let r=this.getName().startsWith("Chat")?this.getName().replace("Chat",""):this.getName();return{ls_model_type:"chat",ls_stop:e.stop,ls_provider:r}}async _generateUncached(e,r,n){var g,p;let i=e.map(w=>w.map(Qa)),l={...n.metadata,...this.getLsParams(r)},o=await Vn.configure(n.callbacks,this.callbacks,n.tags,this.tags,l,this.metadata,{verbose:this.verbose}),a={options:r,invocation_params:this==null?void 0:this.invocationParams(r),batch_size:1},s=await(o==null?void 0:o.handleChatModelStart(this.toJSON(),i,n.runId,void 0,a,void 0,void 0,n.runName)),u=[],c=[];if(!!(s!=null&&s[0].handlers.find(w=>B7(w)||H7(w)))&&i.length===1&&this._streamResponseChunks!==t.prototype._streamResponseChunks)try{let w=await this._streamResponseChunks(i[0],r,s==null?void 0:s[0]),b,v;for await(let S of w){if(S.message.id==null){let P=(g=s==null?void 0:s.at(0))==null?void 0:g.runId;P!=null&&S.message._updateId(`run-${P}`)}b===void 0?b=S:b=Zn(b,S),Fd(S.message)&&S.message.usage_metadata!==void 0&&(v={tokenUsage:{promptTokens:S.message.usage_metadata.input_tokens,completionTokens:S.message.usage_metadata.output_tokens,totalTokens:S.message.usage_metadata.total_tokens}})}if(b===void 0)throw new Error("Received empty response from chat model call.");u.push([b]),await(s==null?void 0:s[0].handleLLMEnd({generations:u,llmOutput:v}))}catch(w){throw await(s==null?void 0:s[0].handleLLMError(w)),w}else{let w=await Promise.allSettled(i.map((b,v)=>this._generate(b,{...r,promptIndex:v},s==null?void 0:s[v])));await Promise.all(w.map(async(b,v)=>{var S,P,Z;if(b.status==="fulfilled"){let y=b.value;for(let W of y.generations){if(W.message.id==null){let X=(S=s==null?void 0:s.at(0))==null?void 0:S.runId;X!=null&&W.message._updateId(`run-${X}`)}W.message.response_metadata={...W.generationInfo,...W.message.response_metadata}}return y.generations.length===1&&(y.generations[0].message.response_metadata={...y.llmOutput,...y.generations[0].message.response_metadata}),u[v]=y.generations,c[v]=y.llmOutput,(P=s==null?void 0:s[v])==null?void 0:P.handleLLMEnd({generations:[y.generations],llmOutput:y.llmOutput})}else return await((Z=s==null?void 0:s[v])==null?void 0:Z.handleLLMError(b.reason)),Promise.reject(b.reason)}))}let h={generations:u,llmOutput:c.length?(p=this._combineLLMOutput)==null?void 0:p.call(this,...c):void 0};return Object.defineProperty(h,X6,{value:s?{runIds:s==null?void 0:s.map(w=>w.runId)}:void 0,configurable:!0}),h}async _generateCached({messages:e,cache:r,llmStringKey:n,parsedOptions:i,handledOptions:l}){let o=e.map(b=>b.map(Qa)),a={...l.metadata,...this.getLsParams(i)},s=await Vn.configure(l.callbacks,this.callbacks,l.tags,this.tags,a,this.metadata,{verbose:this.verbose}),u={options:i,invocation_params:this==null?void 0:this.invocationParams(i),batch_size:1,cached:!0},c=await(s==null?void 0:s.handleChatModelStart(this.toJSON(),o,l.runId,void 0,u,void 0,void 0,l.runName)),f=[],g=(await Promise.allSettled(o.map(async(b,v)=>{let S=t._convertInputToPromptValue(b).toString(),P=await r.lookup(S,n);return P==null&&f.push(v),P}))).map((b,v)=>({result:b,runManager:c==null?void 0:c[v]})).filter(({result:b})=>b.status==="fulfilled"&&b.value!=null||b.status==="rejected"),p=[];await Promise.all(g.map(async({result:b,runManager:v},S)=>{if(b.status==="fulfilled"){let P=b.value;return p[S]=P,P.length&&await(v==null?void 0:v.handleLLMNewToken(P[0].text)),v==null?void 0:v.handleLLMEnd({generations:[P]})}else return await(v==null?void 0:v.handleLLMError(b.reason)),Promise.reject(b.reason)}));let w={generations:p,missingPromptIndices:f};return Object.defineProperty(w,X6,{value:c?{runIds:c==null?void 0:c.map(b=>b.runId)}:void 0,configurable:!0}),w}async generate(e,r,n){var g,p;let i;Array.isArray(r)?i={stop:r}:i=r;let l=e.map(w=>w.map(Qa)),[o,a]=this._separateRunnableConfigFromCallOptionsCompat(i);if(o.callbacks=(g=o.callbacks)!=null?g:n,!this.cache)return this._generateUncached(l,a,o);let{cache:s}=this,u=this._getSerializedCacheKeyParametersForCall(a),{generations:c,missingPromptIndices:f}=await this._generateCached({messages:l,cache:s,llmStringKey:u,parsedOptions:a,handledOptions:o}),h={};if(f.length>0){let w=await this._generateUncached(f.map(b=>l[b]),a,o);await Promise.all(w.generations.map(async(b,v)=>{let S=f[v];c[S]=b;let P=t._convertInputToPromptValue(l[S]).toString();return s.update(P,u,b)})),h=(p=w.llmOutput)!=null?p:{}}return{generations:c,llmOutput:h}}invocationParams(e){return{}}_modelType(){return"base_chat_model"}serialize(){return{...this.invocationParams(),_type:this._llmType(),_model:this._modelType()}}async generatePrompt(e,r,n){let i=e.map(l=>l.toChatMessages());return this.generate(i,r,n)}async call(e,r,n){return(await this.generate([e.map(Qa)],r,n)).generations[0][0].message}async callPrompt(e,r,n){let i=e.toChatMessages();return this.call(i,r,n)}async predictMessages(e,r,n){return this.call(e,r,n)}async predict(e,r,n){let i=new Pn(e),l=await this.call([i],r,n);if(typeof l.content!="string")throw new Error("Cannot use predict when output is not a string.");return l.content}withStructuredOutput(e,r){var w;if(typeof this.bindTools!="function")throw new Error('Chat model must implement ".bindTools()" to use withStructuredOutput.');if(r!=null&&r.strict)throw new Error('"strict" mode is not supported for this model by default.');let n=e,i=r==null?void 0:r.name,l=(w=n.description)!=null?w:"A function available to call.",o=r==null?void 0:r.method,a=r==null?void 0:r.includeRaw;if(o==="jsonMode")throw new Error('Base withStructuredOutput implementation only supports "functionCalling" as a method.');let s=i!=null?i:"extract",u;tE(n)?u=[{type:"function",function:{name:s,description:l,parameters:u9(n)}}]:("name"in n&&(s=n.name),u=[{type:"function",function:{name:s,description:l,parameters:n}}]);let c=this.bindTools(u),f=fs.from(b=>{if(!b.tool_calls||b.tool_calls.length===0)throw new Error("No tool calls found in the response.");let v=b.tool_calls.find(S=>S.name===s);if(!v)throw new Error(`No tool call found with name ${s}.`);return v.args});if(!a)return c.pipe(f).withConfig({runName:"StructuredOutput"});let h=R9.assign({parsed:(b,v)=>f.invoke(b.raw,v)}),g=R9.assign({parsed:()=>null}),p=h.withFallbacks({fallbacks:[g]});return c2.from([{raw:c},p]).withConfig({runName:"StructuredOutputRunnable"})}};function NW(t){return["system","assistant","user"].includes(t.role)===!1&&console.warn(`Unknown message role: ${t.role}`),t.role}function rE(t){let e=t._getType();switch(e){case"ai":return"assistant";case"human":return"user";case"system":return"system";case"function":throw new Error("Function messages not supported");case"generic":{if(!t2.isInstance(t))throw new Error("Invalid generic chat message");return NW(t)}default:throw new Error(`Unknown message type: ${e}`)}}var f2=class extends G7{static lc_name(){return"ChatAlibabaTongyi"}get callKeys(){return["stop","signal","options"]}get lc_secrets(){return{alibabaApiKey:"ALIBABA_API_KEY"}}get lc_aliases(){}constructor(e={}){var r,n,i,l,o;if(super(e),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"alibabaApiKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"streaming",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"prefixMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"modelName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"model",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"apiUrl",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"maxTokens",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"temperature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"topP",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"topK",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"repetitionPenalty",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"seed",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"enableSearch",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.alibabaApiKey=(r=e==null?void 0:e.alibabaApiKey)!=null?r:_n("ALIBABA_API_KEY"),!this.alibabaApiKey)throw new Error("Ali API key not found");this.apiUrl="https://dashscope.aliyuncs.com/api/v1/services/aigc/text-generation/generation",this.lc_serializable=!0,this.streaming=(n=e.streaming)!=null?n:!1,this.prefixMessages=(i=e.prefixMessages)!=null?i:[],this.temperature=e.temperature,this.topP=e.topP,this.topK=e.topK,this.seed=e.seed,this.maxTokens=e.maxTokens,this.repetitionPenalty=e.repetitionPenalty,this.enableSearch=e.enableSearch,this.modelName=(o=(l=e==null?void 0:e.model)!=null?l:e.modelName)!=null?o:"qwen-turbo",this.model=this.modelName}invocationParams(){let e={stream:this.streaming,temperature:this.temperature,top_p:this.topP,top_k:this.topK,seed:this.seed,max_tokens:this.maxTokens,result_format:"text",enable_search:this.enableSearch};return this.streaming?e.incremental_output=!0:e.repetition_penalty=this.repetitionPenalty,e}identifyingParams(){return{model:this.model,...this.invocationParams()}}async _generate(e,r,n){let i=this.invocationParams(),l=e.map(f=>({role:rE(f),content:f.content})),o=i.stream?await new Promise((f,h)=>{let g,p=!1,w=!1;this.completionWithRetry({model:this.model,parameters:i,input:{messages:l}},!0,r==null?void 0:r.signal,b=>{let v=JSON.parse(b.data);if(v!=null&&v.code){if(p)return;p=!0,h(new Error(v==null?void 0:v.message));return}let{text:S,finish_reason:P}=v.output;if(g?(g.output.text+=S,g.output.finish_reason=P,g.usage=v.usage):g=v,n==null||n.handleLLMNewToken(S!=null?S:""),P&&P!=="null"){if(w||p)return;w=!0,f(g)}}).catch(b=>{p||(p=!0,h(b))})}):await this.completionWithRetry({model:this.model,parameters:i,input:{messages:l}},!1,r==null?void 0:r.signal).then(f=>{if(f!=null&&f.code)throw new Error(f==null?void 0:f.message);return f}),{input_tokens:a=0,output_tokens:s=0,total_tokens:u=0}=o.usage,{text:c}=o.output;return{generations:[{text:c,message:new Rl(c)}],llmOutput:{tokenUsage:{promptTokens:a,completionTokens:s,totalTokens:u}}}}async completionWithRetry(e,r,n,i){let l=async()=>{var a;let o=await fetch(this.apiUrl,{method:"POST",headers:{...r?{Accept:"text/event-stream"}:{},Authorization:`Bearer ${this.alibabaApiKey}`,"Content-Type":"application/json"},body:JSON.stringify(e),signal:n});if(!r)return o.json();if(o.body){if(!((a=o.headers.get("content-type"))!=null&&a.startsWith("text/event-stream"))){i==null||i(new MessageEvent("message",{data:await o.text()}));return}let s=o.body.getReader(),u=new TextDecoder("utf-8"),c="",f=!0;for(;f;){let{done:h,value:g}=await s.read();if(h){f=!1;break}c+=u.decode(g);let p=!0;for(;p;){let w=c.indexOf(`
`);if(w===-1){p=!1;break}let b=c.slice(0,w);if(c=c.slice(w+1),b.startsWith("data:")){let v=new MessageEvent("message",{data:b.slice(5).trim()});i==null||i(v)}}}}};return this.caller.call(l)}async*_streamResponseChunks(e,r,n){let i={...this.invocationParams(),stream:!0,incremental_output:!0},l=e.map(a=>({role:rE(a),content:a.content})),o=await this.caller.call(async()=>this.createTongyiStream({model:this.model,parameters:i,input:{messages:l}},r==null?void 0:r.signal));for await(let a of o){let{text:s,finish_reason:u}=a.output;yield new P7({text:s,message:new Ri({content:s}),generationInfo:u==="stop"?{finish_reason:u,request_id:a.request_id,usage:a.usage}:void 0}),await(n==null?void 0:n.handleLLMNewToken(s))}}async*createTongyiStream(e,r){let n=await fetch(this.apiUrl,{method:"POST",headers:{Authorization:`Bearer ${this.alibabaApiKey}`,Accept:"text/event-stream","Content-Type":"application/json"},body:JSON.stringify(e),signal:r});if(!n.ok){let a,s=await n.text();try{let u=JSON.parse(s);a=new Error(`Tongyi call failed with status code ${n.status}: ${u.error}`)}catch(u){a=new Error(`Tongyi call failed with status code ${n.status}: ${s}`)}throw a.response=n,a}if(!n.body)throw new Error("Could not begin Tongyi stream. Please check the given URL and try again.");let i=Rr.fromReadableStream(n.body),l=new TextDecoder,o="";for await(let a of i){let u=(o+l.decode(a)).split(`
`);o=u.pop()||"";for(let c of u)if(c.startsWith("data:"))try{yield JSON.parse(c.slice(5).trim())}catch(f){console.warn(`Received a non-JSON parseable chunk: ${c}`)}}}_llmType(){return"alibaba_tongyi"}_combineLLMOutput(){return[]}};var e_=require("obsidian"),hz=qt(fz());var vn={PluginAST:'<svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="100" height="100" viewBox="0 0 172 172" style=" fill:#000000;"><g fill="none" fill-rule="nonzero" stroke="none" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter" stroke-miterlimit="10" stroke-dasharray="" stroke-dashoffset="0" font-family="none" font-weight="none" font-size="none" text-anchor="none" style="mix-blend-mode: normal"><path d="M0,172v-172h172v172z" fill="none"></path><g fill="currentColor"><path d="M53.75,21.5c-8.27246,0 -14.86523,5.20703 -18.39257,12.09375c-8.39844,1.76368 -15.91504,6.84473 -19.31641,15.03321c-6.50879,15.5371 -16.04102,41.53027 -16.04102,64.24804c0,20.70215 16.92285,37.625 37.625,37.625c14.90723,0 27.75683,-8.86035 33.84571,-21.5h29.05859c6.08886,12.63965 18.93847,21.5 33.8457,21.5c20.70215,0 37.625,-16.92285 37.625,-37.625c0,-8.44043 -2.60351,-19.44239 -5.87891,-30.90625c-3.31739,-11.50585 -7.39062,-23.26367 -10.58203,-32.08203c-3.10742,-8.44043 -10.41406,-13.85742 -18.77051,-15.99902c-3.48534,-7.05469 -10.12011,-12.3877 -18.51855,-12.3877c-7.68457,0 -13.73145,4.61915 -17.51074,10.75h-29.47852c-3.77929,-6.13085 -9.82617,-10.75 -17.51074,-10.75zM53.75,32.25c4.70313,0 8.6084,3.02344 10.07813,7.18067l1.25977,3.56933h41.82422l1.25976,-3.56933c1.46973,-4.15723 5.375,-7.18067 10.07813,-7.18067c4.8291,0 8.77636,3.19141 10.16211,7.5166l1.00781,3.14942l3.27539,0.50391c5.87891,0.92382 10.70801,4.61914 12.76563,10.1621c2.81348,7.72656 6.21484,17.7627 9.19629,27.71484c-5.87891,-3.77929 -12.80761,-6.04687 -20.28223,-6.04687c-14.90723,0 -27.75683,8.86035 -33.8457,21.5h-29.05859c-6.08888,-12.63965 -18.93848,-21.5 -33.84571,-21.5c-8.18848,0 -15.74707,2.72949 -21.91992,7.22266c3.06543,-11.21192 7.01269,-21.87793 10.24609,-29.68848c2.22558,-5.375 7.22266,-8.86034 13.10156,-9.49023l3.44335,-0.37793l1.0918,-3.2754c1.42773,-4.2832 5.375,-7.39062 10.1621,-7.39062zM37.625,86c14.90723,0 26.875,11.96777 26.875,26.875c0,14.90723 -11.96777,26.875 -26.875,26.875c-14.90723,0 -26.875,-11.96777 -26.875,-26.875c0,-14.90723 11.96777,-26.875 26.875,-26.875zM134.375,86c14.90723,0 26.875,11.96777 26.875,26.875c0,14.90723 -11.96777,26.875 -26.875,26.875c-14.90723,0 -26.875,-11.96777 -26.875,-26.875c0,-14.90723 11.96777,-26.875 26.875,-26.875zM74.7041,107.5h22.59179c-0.25195,1.76368 -0.5459,3.52734 -0.5459,5.375c0,1.84766 0.29395,3.61133 0.5459,5.375h-22.59179c0.25195,-1.76367 0.5459,-3.52734 0.5459,-5.375c0,-1.84766 -0.29395,-3.61132 -0.5459,-5.375z"></path></g></g></svg>',PluginAST_STATUSBAR:'<svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="100" height="100" viewBox="0 0 172 172"><g fill="currentColor" fill-rule="nonzero" stroke="none" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter" stroke-miterlimit="10" stroke-dasharray="" stroke-dashoffset="0" font-family="none" font-weight="none" font-size="none" text-anchor="none" style="mix-blend-mode: normal"><path d="M0,172v-172h172v172z" fill="none"></path><g id="svg-animate" fill="currentColor"><path d="M53.75,21.5c-8.27246,0 -14.86523,5.20703 -18.39257,12.09375c-8.39844,1.76368 -15.91504,6.84473 -19.31641,15.03321c-6.50879,15.5371 -16.04102,41.53027 -16.04102,64.24804c0,20.70215 16.92285,37.625 37.625,37.625c14.90723,0 27.75683,-8.86035 33.84571,-21.5h29.05859c6.08886,12.63965 18.93847,21.5 33.8457,21.5c20.70215,0 37.625,-16.92285 37.625,-37.625c0,-8.44043 -2.60351,-19.44239 -5.87891,-30.90625c-3.31739,-11.50585 -7.39062,-23.26367 -10.58203,-32.08203c-3.10742,-8.44043 -10.41406,-13.85742 -18.77051,-15.99902c-3.48534,-7.05469 -10.12011,-12.3877 -18.51855,-12.3877c-7.68457,0 -13.73145,4.61915 -17.51074,10.75h-29.47852c-3.77929,-6.13085 -9.82617,-10.75 -17.51074,-10.75zM53.75,32.25c4.70313,0 8.6084,3.02344 10.07813,7.18067l1.25977,3.56933h41.82422l1.25976,-3.56933c1.46973,-4.15723 5.375,-7.18067 10.07813,-7.18067c4.8291,0 8.77636,3.19141 10.16211,7.5166l1.00781,3.14942l3.27539,0.50391c5.87891,0.92382 10.70801,4.61914 12.76563,10.1621c2.81348,7.72656 6.21484,17.7627 9.19629,27.71484c-5.87891,-3.77929 -12.80761,-6.04687 -20.28223,-6.04687c-14.90723,0 -27.75683,8.86035 -33.8457,21.5h-29.05859c-6.08888,-12.63965 -18.93848,-21.5 -33.84571,-21.5c-8.18848,0 -15.74707,2.72949 -21.91992,7.22266c3.06543,-11.21192 7.01269,-21.87793 10.24609,-29.68848c2.22558,-5.375 7.22266,-8.86034 13.10156,-9.49023l3.44335,-0.37793l1.0918,-3.2754c1.42773,-4.2832 5.375,-7.39062 10.1621,-7.39062zM37.625,86c14.90723,0 26.875,11.96777 26.875,26.875c0,14.90723 -11.96777,26.875 -26.875,26.875c-14.90723,0 -26.875,-11.96777 -26.875,-26.875c0,-14.90723 11.96777,-26.875 26.875,-26.875zM134.375,86c14.90723,0 26.875,11.96777 26.875,26.875c0,14.90723 -11.96777,26.875 -26.875,26.875c-14.90723,0 -26.875,-11.96777 -26.875,-26.875c0,-14.90723 11.96777,-26.875 26.875,-26.875zM74.7041,107.5h22.59179c-0.25195,1.76368 -0.5459,3.52734 -0.5459,5.375c0,1.84766 0.29395,3.61133 0.5459,5.375h-22.59179c0.25195,-1.76367 0.5459,-3.52734 0.5459,-5.375c0,-1.84766 -0.29395,-3.61132 -0.5459,-5.375z"></path></g></g></svg>',PluginAST_PREVIEW:'<svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="100" height="100" viewBox="0 0 172 172"><g fill="blue" fill-rule="nonzero" stroke="none" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter" stroke-miterlimit="10" stroke-dasharray="5,5" stroke-dashoffset="0" font-family="none" font-weight="none" font-size="none" text-anchor="none" style="mix-blend-mode: normal"><path d="M0,172v-172h172v172z" fill="none"></path><g id="svg-animate" fill="#2fcc70ee" fill-rule="nonzero"><path d="M53.75,21.5c-8.27246,0 -14.86523,5.20703 -18.39257,12.09375c-8.39844,1.76368 -15.91504,6.84473 -19.31641,15.03321c-6.50879,15.5371 -16.04102,41.53027 -16.04102,64.24804c0,20.70215 16.92285,37.625 37.625,37.625c14.90723,0 27.75683,-8.86035 33.84571,-21.5h29.05859c6.08886,12.63965 18.93847,21.5 33.8457,21.5c20.70215,0 37.625,-16.92285 37.625,-37.625c0,-8.44043 -2.60351,-19.44239 -5.87891,-30.90625c-3.31739,-11.50585 -7.39062,-23.26367 -10.58203,-32.08203c-3.10742,-8.44043 -10.41406,-13.85742 -18.77051,-15.99902c-3.48534,-7.05469 -10.12011,-12.3877 -18.51855,-12.3877c-7.68457,0 -13.73145,4.61915 -17.51074,10.75h-29.47852c-3.77929,-6.13085 -9.82617,-10.75 -17.51074,-10.75zM53.75,32.25c4.70313,0 8.6084,3.02344 10.07813,7.18067l1.25977,3.56933h41.82422l1.25976,-3.56933c1.46973,-4.15723 5.375,-7.18067 10.07813,-7.18067c4.8291,0 8.77636,3.19141 10.16211,7.5166l1.00781,3.14942l3.27539,0.50391c5.87891,0.92382 10.70801,4.61914 12.76563,10.1621c2.81348,7.72656 6.21484,17.7627 9.19629,27.71484c-5.87891,-3.77929 -12.80761,-6.04687 -20.28223,-6.04687c-14.90723,0 -27.75683,8.86035 -33.8457,21.5h-29.05859c-6.08888,-12.63965 -18.93848,-21.5 -33.84571,-21.5c-8.18848,0 -15.74707,2.72949 -21.91992,7.22266c3.06543,-11.21192 7.01269,-21.87793 10.24609,-29.68848c2.22558,-5.375 7.22266,-8.86034 13.10156,-9.49023l3.44335,-0.37793l1.0918,-3.2754c1.42773,-4.2832 5.375,-7.39062 10.1621,-7.39062zM37.625,86c14.90723,0 26.875,11.96777 26.875,26.875c0,14.90723 -11.96777,26.875 -26.875,26.875c-14.90723,0 -26.875,-11.96777 -26.875,-26.875c0,-14.90723 11.96777,-26.875 26.875,-26.875zM134.375,86c14.90723,0 26.875,11.96777 26.875,26.875c0,14.90723 -11.96777,26.875 -26.875,26.875c-14.90723,0 -26.875,-11.96777 -26.875,-26.875c0,-14.90723 11.96777,-26.875 26.875,-26.875zM74.7041,107.5h22.59179c-0.25195,1.76368 -0.5459,3.52734 -0.5459,5.375c0,1.84766 0.29395,3.61133 0.5459,5.375h-22.59179c0.25195,-1.76367 0.5459,-3.52734 0.5459,-5.375c0,-1.84766 -0.29395,-3.61132 -0.5459,-5.375z"></path></g></g></svg>',PluginAST_STAT:'<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-bar-chart-3"><path d="M3 3v18h18"/><path stroke-width="3" stroke="green" d="M18 17V9"/><path stroke-width="3" stroke="red" d="M13 17V5"/><path stroke-width="3" stroke="goldenrod" d="M8 17v-3"/></svg>',SWITCH_ON_STATUS:'<svg width="99px" height="99px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g fill="green" fill-rule="nonzero"><path d="M18.25,3 C19.7687831,3 21,4.23121694 21,5.75 L21,18.25 C21,19.7687831 19.7687831,21 18.25,21 L5.75,21 C4.23121694,21 3,19.7687831 3,18.25 L3,5.75 C3,4.23121694 4.23121694,3 5.75,3 L18.25,3 Z M18.25,4.5 L5.75,4.5 C5.05964406,4.5 4.5,5.05964406 4.5,5.75 L4.5,18.25 C4.5,18.9403559 5.05964406,19.5 5.75,19.5 L18.25,19.5 C18.9403559,19.5 19.5,18.9403559 19.5,18.25 L19.5,5.75 C19.5,5.05964406 18.9403559,4.5 18.25,4.5 Z M10,14.4393398 L16.4696699,7.96966991 C16.7625631,7.6767767 17.2374369,7.6767767 17.5303301,7.96966991 C17.7965966,8.23593648 17.8208027,8.65260016 17.6029482,8.94621165 L17.5303301,9.03033009 L10.5303301,16.0303301 C10.2640635,16.2965966 9.84739984,16.3208027 9.55378835,16.1029482 L9.46966991,16.0303301 L6.46966991,13.0303301 C6.1767767,12.7374369 6.1767767,12.2625631 6.46966991,11.9696699 C6.73593648,11.7034034 7.15260016,11.6791973 7.44621165,11.8970518 L7.53033009,11.9696699 L10,14.4393398 L16.4696699,7.96966991 L10,14.4393398 Z"></path></g></g></svg>',SWITCH_OFF_STATUS:'<svg width="99px" height="99px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g fill="red" fill-rule="nonzero"><path d="M5.75,3 L18.25,3 C19.7687831,3 21,4.23121694 21,5.75 L21,18.25 C21,19.7687831 19.7687831,21 18.25,21 L5.75,21 C4.23121694,21 3,19.7687831 3,18.25 L3,5.75 C3,4.23121694 4.23121694,3 5.75,3 Z M5.75,4.5 C5.05964406,4.5 4.5,5.05964406 4.5,5.75 L4.5,18.25 C4.5,18.9403559 5.05964406,19.5 5.75,19.5 L18.25,19.5 C18.9403559,19.5 19.5,18.9403559 19.5,18.25 L19.5,5.75 C19.5,5.05964406 18.9403559,4.5 18.25,4.5 L5.75,4.5 Z"></path></g></g></svg>',PLUGIN_UPDATE_STATUS:`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="48" height="48"><path fill='red' d="M2,7H0V3C0,1.35,1.35,0,3,0H7V2H3c-.55,0-1,.45-1,1V7Zm0,14v-4H0v4c0,1.65,1.35,3,3,3H7v-2H3c-.55,0-1-.45-1-1Zm20,0c0,.55-.45,1-1,1h-4v2h4c1.65,0,3-1.35,3-3v-4h-2v4Zm-4-10.08v-.92h-4.33l-1.18-4.5h-.97l-1.18,4.5H6v.92l3.32,1.85-1.3,4.08,.72,.54,3.27-2.53,3.26,2.52,.75-.52-1.33-4.03,3.3-1.91ZM17,0V8l7-4L17,0Z"/></svg>`,PLUGIN_UPDATED_STATUS:'<svg xmlns="http://www.w3.org/2000/svg" width="99px" height="99px" viewBox="0 -960 960 960" width="48"><path fill="green" d="M229.911-160Q201-160 180.5-180.589q-20.5-20.588-20.5-49.5Q160-259 180.589-279.5q20.588-20.5 49.5-20.5Q259-300 279.5-279.411q20.5 20.588 20.5 49.5Q300-201 279.411-180.5q-20.588 20.5-49.5 20.5Zm335 0Q536-160 515.5-180.589q-20.5-20.588-20.5-49.5Q495-259 515.589-279.5q20.588-20.5 49.5-20.5Q594-300 614.5-279.411q20.5 20.588 20.5 49.5Q635-201 614.411-180.5q-20.588 20.5-49.5 20.5Zm-170-165Q366-325 345.5-345.589q-20.5-20.588-20.5-49.5Q325-424 345.589-444.5q20.588-20.5 49.5-20.5Q424-465 444.5-444.411q20.5 20.588 20.5 49.5Q465-366 444.411-345.5q-20.588 20.5-49.5 20.5Zm335 0Q701-325 680.5-345.589q-20.5-20.588-20.5-49.5Q660-424 680.589-444.5q20.588-20.5 49.5-20.5Q759-465 779.5-444.411q20.5 20.588 20.5 49.5Q800-366 779.411-345.5q-20.588 20.5-49.5 20.5Zm-500-170Q201-495 180.5-515.589q-20.5-20.588-20.5-49.5Q160-594 180.589-614.5q20.588-20.5 49.5-20.5Q259-635 279.5-614.411q20.5 20.588 20.5 49.5Q300-536 279.411-515.5q-20.588 20.5-49.5 20.5Zm335 0Q536-495 515.5-515.589q-20.5-20.588-20.5-49.5Q495-594 515.589-614.5q20.588-20.5 49.5-20.5Q594-635 614.5-614.411q20.5 20.588 20.5 49.5Q635-536 614.411-515.5q-20.588 20.5-49.5 20.5Zm-170-165Q366-660 345.5-680.589q-20.5-20.588-20.5-49.5Q325-759 345.589-779.5q20.588-20.5 49.5-20.5Q424-800 444.5-779.411q20.5 20.588 20.5 49.5Q465-701 444.411-680.5q-20.588 20.5-49.5 20.5Zm335 0Q701-660 680.5-680.589q-20.5-20.588-20.5-49.5Q660-759 680.589-779.5q20.588-20.5 49.5-20.5Q759-800 779.5-779.411q20.5 20.588 20.5 49.5Q800-701 779.411-680.5q-20.588 20.5-49.5 20.5Z"/></svg>'},dz=()=>Math.floor(Math.random()*Date.now()).toString(6),mz=async t=>(await(0,e_.requestUrl)({url:t})).arrayBuffer;var t_=async(t,e)=>{let r=new hz.default;r=await r.loadAsync(t);let n=new RegExp(`.*${e}$`),i=r.file(n);return i?await i[0].async("string"):null},xg=16,$g=new TextEncoder,sK=new TextDecoder,uK=1e3,cK=$g.encode("XHWnDAT6ehMVY2zD"),Jo="personal-assistant-plugin-api-token",gz="X-Api-Auth=36fb38ddc202fec",Wi=class{async deriveKey(e){let r=$g.encode(e),n=await crypto.subtle.importKey("raw",r,{name:"PBKDF2"},!1,["deriveKey"]);return crypto.subtle.deriveKey({name:"PBKDF2",hash:{name:"SHA-256"},iterations:uK,salt:cK},n,{name:"AES-GCM",length:256},!1,["encrypt","decrypt"])}async encryptToBytes(e,r){let n=await this.deriveKey(r),i=$g.encode(e),l=crypto.getRandomValues(new Uint8Array(xg)),o=new Uint8Array(await crypto.subtle.encrypt({name:"AES-GCM",iv:l},n,i)),a=new Uint8Array(l.byteLength+o.byteLength);return a.set(l,0),a.set(o,l.byteLength),a}convertToString(e){let r="";for(let n=0;n<e.length;n++)r+=String.fromCharCode(e[n]);return r}async encryptToBase64(e,r){let n=await this.encryptToBytes(e,r);return btoa(this.convertToString(n))}stringToArray(e){let r=[];for(let n=0;n<e.length;n++)r.push(e.charCodeAt(n));return new Uint8Array(r)}async decryptFromBytes(e,r){try{let n=e.slice(0,xg),i=e.slice(xg),l=await this.deriveKey(r),o=await crypto.subtle.decrypt({name:"AES-GCM",iv:n},l,i);return sK.decode(o)}catch(n){return console.error(n),null}}async decryptFromBase64(e,r){try{let n=this.stringToArray(atob(e));return await this.decryptFromBytes(n,r)}catch(n){return console.error(n),null}}};var N4=class{constructor(e,r,n){this.query="";this.plugin=e,this.editor=r;let i=this.editor.getValue();this.fontmatterInfo=(0,Vr.getFrontMatterInfo)(i),this.query=i.slice(this.fontmatterInfo.contentStart),this.view=n.editor.cm}async generate(){let e=document.createDocumentFragment(),r=e.createEl("div",{attr:{id:"ai-breahting-icon",style:"background: white;"}}),n=new mc({target:r,props:{title:"AI is Thinking...",color:"green",loading:!0,withCloseButton:!1,override:{"border-width":"0px",color:"white !important"}}}),i=new Vr.Notice(e,0);i.noticeEl.style.backgroundColor="white";let l=await this.qwenLLM(this.query);if(l.length<=0){n.$destroy(),i.hide(),new Vr.Notice("AI is not available.");return}let{summary:o,keywords:a}=JSON.parse(l),s=`https://webhook.worker.edony.ink/unsplash?query=${encodeURI(a[0])}&${gz}`,c=await(await J1(s)).text(),f=q4.StateEffect.define({map:(p,w)=>({from:w.mapPos(p.from),to:w.mapPos(p.to,1),id:p.id})}),h=J3(),g;this.fontmatterInfo.exists?g=this.view.state.doc.lineAt(this.fontmatterInfo.contentStart):g=this.view.state.doc.lineAt(0),this.view.dispatch({changes:[{from:g.from,insert:`
>[!personal-assistant]+ AI
> ![](${c})
> 
> ${o}

`}],effects:[f.of({from:g.to,to:g.to,id:h})]}),i.hide()}async qwenLLM(e){let r=this.plugin.settings.apiToken,i=await new Wi().decryptFromBase64(r,Jo);if(!i)return new Vr.Notice("Prepare LLM failed!",3e3),"";let l=new f2({model:"qwen-max",temperature:.8,alibabaApiKey:i}),o=`\u4F60\u662F\u4E00\u4E2A\u4E13\u4E1A\u7F16\u8F91\uFF0C\u64C5\u957F\u6587\u5B57\u603B\u7ED3\u3001\u6982\u62EC\u7B49\u5DE5\u4F5C\u3002
**\u4F60\u7684\u4EFB\u52A1\u662F\uFF1A**
1. \u8DDF\u6839\u636E\u7ED9\u51FA\u7684\u6587\u5B57\u5185\u5BB9\u8FDB\u884C\u6982\u62EC\u603B\u7ED3
2. \u6839\u636E\u6587\u5B57\u5185\u5BB9\u63D0\u70BC\u6700\u80FD\u4F53\u73B0\u6587\u5B57\u5185\u5BB9\u7684\u5173\u952E\u8BCD

**\u8981\u6C42\uFF1A**
- \u6982\u62EC\u603B\u7ED3\u7684\u5B57\u6570\u8981\u6C42\u4E0D\u8D85\u8FC7120\u5B57
- \u63D0\u70BC\u7684\u5173\u952E\u8BCD\u6570\u76EE\u8981\u6C42\u662F2\u4E2A
- \u63D0\u70BC\u7684\u5173\u952E\u8BCD\u8981\u6C42\u662F\u82F1\u6587
- \u8F93\u51FA\u7ED3\u679C\u7684\u683C\u5F0F\u4E3A\uFF1A
{
  "summary": "...",
  "keywords": ["...", "..."]
}
`,a=new Bl(o),s=`**\u6587\u5B57\u5185\u5BB9\uFF1A**${e}`,u=new Pn(s),c=[a,u],f=globalThis.fetch,h=globalThis.Headers,g=globalThis.Request,p=globalThis.Response;globalThis.fetch=J1,globalThis.Headers=wr,globalThis.Request=xn,globalThis.Response=zr;let w=await l.invoke(c);return globalThis.fetch=f,globalThis.Headers=h,globalThis.Request=g,globalThis.Response=p,this.plugin.log(w.content),w.content.toString()}},F4=class{constructor(e,r,n,i,l){this.query="";this.selected="";this.plugin=e,this.editor=r;let o=this.editor.getValue();this.fontmatterInfo=(0,Vr.getFrontMatterInfo)(o),this.query=o.slice(this.fontmatterInfo.contentStart),this.view=n.editor.cm,this.selected=l,this.tags=Object.keys(i.metadataCache.getTags())}async assitantTags(){let e=`\u4F60\u662F\u4E00\u4E2A\u4E13\u4E1A\u7F16\u8F91\uFF0C\u64C5\u957F\u6587\u5B57\u603B\u7ED3\u3001\u6982\u62EC\u7B49\u5DE5\u4F5C\u3002
**\u4F60\u7684\u4EFB\u52A1\u662F\uFF1A**
\u5BF9\u7ED9\u51FA\u7684\u6587\u5B57\u5185\u5BB9\u8FDB\u884C\u5206\u6790\u548C\u603B\u7ED3\uFF0C\u5728\u7ED9\u51FA\u7684\u6807\u7B7E\u5217\u8868\u4E2D\u627E\u52303\u4E2A\u6700\u80FD\u8868\u8FBE\u6587\u5B57\u5185\u5BB9\u7684\u6807\u7B7E


**\u8981\u6C42\uFF1A**
- \u7ED9\u51FA\u7684\u6807\u7B7E\u5185\u5BB9\u5982\u679C\u80FD\u5728\u7ED9\u5B9A\u7684\u5217\u8868\u4E2D\u627E\u5230\uFF0C\u5219\u8981\u6C42\u8F93\u51FA\u5185\u5BB9\u8DDF\u5217\u8868\u4E00\u81F4
- \u5982\u679C\u6700\u80FD\u4F53\u73B0\u6587\u5B57\u5185\u5BB9\u7684\u5173\u952E\u8BCD\u4E0D\u5728\u7ED9\u5B9A\u7684\u5217\u8868\u4E2D\uFF0C\u53EF\u4EE5\u81EA\u5DF1\u589E\u52A0\u6807\u7B7E\u5185\u5BB9\uFF0C\u6807\u7B7E\u7684\u683C\u5F0F\u5FC5\u987B\u662F\uFF1A'''#<<\u5173\u952E\u8BCD>>'''
- \u8F93\u51FA\u7ED3\u679C\u7684\u683C\u5F0F\u4E3A\uFF1A
["#<<\u5173\u952E\u8BCD1>>", "#<<\u5173\u952E\u8BCD2>>", "#<<\u5173\u952E\u8BCD3>>", ...]
`,r=`**\u6587\u5B57\u5185\u5BB9\uFF1A**${this.query}
**\u6807\u7B7E\u5217\u8868\uFF1A**${this.tags}`,n=new Bl(e),i=new Pn(r),l=[n,i],o=await this.qwenLLM(l),a=JSON.parse(o),s=q4.StateEffect.define({map:(h,g)=>({from:g.mapPos(h.from),to:g.mapPos(h.to,1),id:h.id})}),u=J3(),c=this.view.state.doc.lineAt(this.view.state.doc.length),f=a.join(" ");return this.view.dispatch({changes:[{from:c.to,insert:`

 ${f} `}],effects:[s.of({from:c.to,to:c.to,id:u})]}),f}async qwenLLM(e){let r=this.plugin.settings.apiToken,i=await new Wi().decryptFromBase64(r,Jo);if(!i)return new Vr.Notice("Prepare LLM failed!",3e3),"";let l=new f2({model:"qwen-max",temperature:.8,alibabaApiKey:i}),o=globalThis.fetch,a=globalThis.Headers,s=globalThis.Request,u=globalThis.Response;globalThis.fetch=J1,globalThis.Headers=wr,globalThis.Request=xn,globalThis.Response=zr;let c=await l.invoke(e);return globalThis.fetch=o,globalThis.Headers=a,globalThis.Request=s,globalThis.Response=u,this.plugin.log(c.content),c.content.toString()}},j4=class{constructor(e,r,n,i){this.query="";this.app=e,this.plugin=r,this.log=r.log,this.editor=n;let l=this.editor.getValue();this.fontmatterInfo=(0,Vr.getFrontMatterInfo)(l),this.query=l.slice(this.fontmatterInfo.contentStart),this.view=i.editor.cm}async generate(){var c;let e=document.createDocumentFragment(),r=e.createEl("div",{attr:{id:"ai-breahting-icon",style:"background: white;"}}),n=new mc({target:r,props:{title:"AI is Generating Featured Images...",color:"green",loading:!0,withCloseButton:!1,override:{"border-width":"0px",color:"white !important"}}}),i=new Vr.Notice(e,0);i.noticeEl.style.backgroundColor="white",(c=i.noticeEl.parentElement)==null||c.setCssStyles({backgroundColor:"white"}),i.noticeEl.createEl("hr",{attr:{id:"ai-featured-image-progress-hr",style:"margin:unset;"}});let l=i.noticeEl.createEl("div",{attr:{id:"ai-featured-image-progress-1",style:"background: white;color: black;margin-top: 4px;"}});l.setText("    \u{1F6A7}   Agent Generating Prompt...");let o=await this.qwenLLMImageDes(this.query);if(o.length<=0){n.$destroy(),i.hide(),new Vr.Notice("AI is not available.");return}l.setText("    \u2705   Generating Prompt Success!");let a=i.noticeEl.createEl("div",{attr:{id:"ai-featured-image-progress-2",style:"background: white;color: black;margin-top: 4px;"}});a.setText("    \u{1F6A7}   Agent Generating Images...");let s=await this.generateImage(o);a.setText("    \u2705   Generating Images Success!");let u=i.noticeEl.createEl("div",{attr:{id:"ai-featured-image-progress-3",style:"background: white;color: black;margin-top: 4px;"}});if(u.setText("    \u{1F6A7}   Agent Downloading Images..."),s){let f=await this.getImage(s);if(f){let h=q4.StateEffect.define({map:(S,P)=>({from:P.mapPos(S.from),to:P.mapPos(S.to,1),id:S.id})}),g=J3(),p;this.fontmatterInfo.exists?p=this.view.state.doc.lineAt(this.fontmatterInfo.contentStart):p=this.view.state.doc.lineAt(0);let w="",b=this.plugin.settings.featuredImagePath;for(let S=0;S<f.length;S++){let P=f[S].url,Z=await this.downloadImageToVault(this.app,P,b);Z&&(w+=`![[${Z}]]
> `)}u.setText("    \u2705   Downloading Images Success!"),w+=`

`,this.view.dispatch({changes:[{from:p.from,insert:`
>[!personal-assistant]+ Featured Images
> ${w}`}],effects:[h.of({from:p.to,to:p.to,id:g})]}),i.noticeEl.createEl("div",{attr:{id:"ai-featured-image-progress-4",style:"background: white;color: black;margin-top: 4px;"}}).setText("    \u2705   Generating Featured Images Success!"),n.$destroy(),i.hide()}}else{n.$destroy(),i.hide(),new Vr.Notice("AI feautured image generation failed.");return}}async qwenLLMImageDes(e){let r=this.plugin.settings.apiToken,i=await new Wi().decryptFromBase64(r,Jo);if(!i)return new Vr.Notice("Prepare LLM failed!",3e3),"";let l=new f2({model:"qwen-max",temperature:.8,alibabaApiKey:i}),o=`\u4F60\u662F\u4E00\u4E2A\u7CBE\u901A\u6587\u5B57\u7F16\u8F91\u548C\u56FE\u7247\u5904\u7406\u7684\u4E13\u5BB6\uFF0C\u4F60\u4F1A\u6839\u636E\u6211\u7ED9\u51FA\u7684\u6587\u5B57\u5185\u5BB9\u751F\u6210\u4E00\u6BB5\u56FE\u7247\u63CF\u8FF0\uFF0C\u8BE5\u56FE\u7247\u4F1A\u4F5C\u4E3A\u7ED9\u51FA\u7684\u6587\u5B57\u5185\u5BB9\u7684\u7279\u8272\u56FE\u7247\uFF08\u7279\u8272\u56FE\u7247featured image\u4EE3\u8868\u535A\u5BA2\u6216\u9875\u9762\u7684\u6587\u5B57\u5185\u5BB9\uFF0C\u60C5\u7EEA\u6216\u4E3B\u9898\uFF0C\u5E76\u5728\u6574\u4E2A\u7F51\u7AD9\u4E2D\u4F7F\u7528\uFF09\uFF0C\u8981\u6C42\uFF1A
1. \u8BE5\u63CF\u8FF0\u80FD\u591F\u5E2E\u52A9AI\u7406\u89E3\u5E76\u751F\u6210\u4E0E\u6587\u5B57\u5185\u5BB9\u76F8\u5173\u7684\u56FE\u7247\uFF1B
2. \u8BE5\u63CF\u8FF0\u80FD\u591F\u6982\u62EC\u51FA\u6587\u5B57\u5185\u5BB9\u4E2D\u7684\u4E3B\u8981\u4FE1\u606F\u548C\u4E3B\u9898\uFF0C\u4E3A\u4E86\u8BA9\u56FE\u7247\u66F4\u6709\u521B\u610F\u6027\uFF0C\u4F60\u53EF\u9002\u5F53\u7684\u589E\u52A0\u5929\u9A6C\u884C\u7A7A\u7684\u5143\u7D20\u548C\u63CF\u8FF0\uFF1B
3. \u4F60\u4F1A\u4ECE\u56FE\u7247\u4E13\u5BB6\u7684\u89D2\u5EA6\u601D\u8003\uFF0C\u63CF\u8FF0\u4E2D\u5C3D\u91CF\u5305\u62EC\u56FE\u7247\u4E2D\u5FC3\u4E3B\u9898\uFF0C\u73AF\u5883\u4FE1\u606F\uFF0C\u56FE\u7247\u4E2D\u7684\u7269\u4F53\u4F4D\u7F6E\u3001\u56FE\u7247\u4E2D\u7684\u7269\u4F53\u5927\u5C0F\u3001\u56FE\u7247\u4E2D\u7684\u7269\u4F53\u989C\u8272\u3001\u56FE\u7247\u4E2D\u7684\u7269\u4F53\u5F62\u72B6\u3001\u56FE\u7247\u4E2D\u7684\u7269\u4F53\u6750\u8D28\u3001\u56FE\u7247\u4E2D\u7684\u7269\u4F53\u98CE\u683C\u3001\u56FE\u7247\u4E2D\u7684\u7269\u4F53\u6570\u91CF\u3001\u56FE\u7247\u4E2D\u7684\u7269\u4F53\u5173\u7CFB\u7B49\u7B49\uFF1B
4. \u540C\u65F6\u4F60\u8FD8\u4F1A\u7ED9\u51FA\u56FE\u7247\u827A\u672F\u98CE\u683C\u7684\u63CF\u8FF0\uFF0C\u5177\u4F53\u56FE\u7247\u827A\u672F\u98CE\u683C\u4F60\u53EF\u4EE5\u6839\u636E\u81EA\u5DF1\u5BF9\u7ED9\u51FA\u7684\u6587\u5B57\u5185\u5BB9\u7684\u7406\u89E3\u81EA\u884C\u51B3\u5B9A\uFF0C\u56FE\u7247\u98CE\u683C\u4F60\u53EA\u53EF\u4EE5\u4ECE\u5982\u4E0B\u9009\u9879\u4E2D\u9009\u62E9\uFF1A
    - <photography>\uFF1A\u6444\u5F71\u3002
    - <portrait>\uFF1A\u4EBA\u50CF\u5199\u771F\u3002
    - <3d cartoon>\uFF1A3D\u5361\u901A\u3002
    - <anime>\uFF1A\u52A8\u753B\u3002
    - <oil painting>\uFF1A\u6CB9\u753B\u3002
    - <watercolor>\uFF1A\u6C34\u5F69\u3002
    - <sketch>\uFF1A\u7D20\u63CF\u3002
    - <chinese painting>\uFF1A\u4E2D\u56FD\u753B\u3002
    - <flat illustration>\uFF1A\u6241\u5E73\u63D2\u753B\u3002\uFF1B
5. \u4F60\u4F1A\u4ECE\u56FE\u7247\u4E13\u5BB6\u7684\u89D2\u5EA6\u601D\u8003\uFF0C\u7ED9\u51FA\u4E00\u4E9B\u7528\u4E8EAI\u751F\u6210\u56FE\u7247\u65F6\u53EF\u4EE5\u5229\u7528\u7684\u6280\u672F\u53C2\u6570\u4ECE\u800C\u8BA9\u56FE\u7247\u53D8\u5F97\u66F4\u52A0\u7F8E\u89C2\uFF0C\u4F60\u53EF\u4EE5\u6839\u636E\u81EA\u8EAB\u5BF9\u56FE\u7247\u4EE5\u53CA\u7F8E\u89C2\u7684\u7406\u89E3\u81EA\u884C\u9009\u62E9\u9700\u8981\u8BBE\u7F6E\u7684\u56FE\u7247\u6280\u672F\u53C2\u6570\u4F8B\u5982\u8FD1\u666F\u955C\u5934\u3001\u534A\u8EAB\u7279\u5199\u3001\u9510\u5316\u7B49\u7B49\uFF1B`,a=new Bl(o),s=`**\u6587\u5B57\u5185\u5BB9\uFF1A**${e}`,u=new Pn(s),c=[a,u],f=globalThis.fetch,h=globalThis.Headers,g=globalThis.Request,p=globalThis.Response;globalThis.fetch=J1,globalThis.Headers=wr,globalThis.Request=xn,globalThis.Response=zr;let w=await l.invoke(c);return globalThis.fetch=f,globalThis.Headers=h,globalThis.Request=g,globalThis.Response=p,this.plugin.log(w.content),w.content.toString()}async generateImage(e){let r=this.plugin.settings.apiToken,i=await new Wi().decryptFromBase64(r,Jo);if(!i)return new Vr.Notice("Prepare LLM failed!",3e3),null;let l=globalThis.fetch,o=globalThis.Headers,a=globalThis.Request,s=globalThis.Response;globalThis.fetch=J1,globalThis.Headers=wr,globalThis.Request=xn,globalThis.Response=zr;let u=await globalThis.fetch("https://dashscope.aliyuncs.com/api/v1/services/aigc/text2image/image-synthesis",{method:"POST",headers:{"Content-Type":"application/json","X-DashScope-Async":"enable",Authorization:"Bearer "+i},body:JSON.stringify({model:"wanx-v1",input:{prompt:e},parameters:{size:"1024*1024",n:this.plugin.settings.numFeaturedImages,seed:42,strength:.5,ref_mode:"repaint"}})});if(globalThis.fetch=l,globalThis.Headers=o,globalThis.Request=a,globalThis.Response=s,u.ok){let c=await u.json();return this.plugin.log(c),c}else return null}async getImage(e){let r=this.plugin.settings.apiToken,i=await new Wi().decryptFromBase64(r,Jo);if(!i)return new Vr.Notice("Prepare LLM failed!",3e3),null;let l=e.output.task_id,o=async(f,h,g=3e5)=>{let p=Date.now();for(;Date.now()-p<=g;)try{let w=globalThis.fetch,b=globalThis.Headers,v=globalThis.Request,S=globalThis.Response;globalThis.fetch=J1,globalThis.Headers=wr,globalThis.Request=xn,globalThis.Response=zr;let P=await J1(`${h}/${f}`,{method:"GET",headers:{Authorization:"Bearer "+i}});if(globalThis.fetch=w,globalThis.Headers=b,globalThis.Request=v,globalThis.Response=S,P.ok){let Z=await P.json();if(Z.output.task_status==="SUCCEEDED")return Z}await new Promise(Z=>setTimeout(Z,6e4))}catch(w){throw console.error("Error polling task:",w),w}return null},a="https://dashscope.aliyuncs.com/api/v1/tasks",s=l,u=10*60*1e3,c=await o(s,a,u);return c&&c.output.task_status==="SUCCEEDED"?(this.plugin.log(c),c.output.results):(new Vr.Notice("Failed to get image: Task did not succeed or timed out.",3e3),null)}async downloadImageToVault(e,r,n){var i;try{let l=((i=r.split("/").pop())==null?void 0:i.split("?")[0])||"image.png",o=`${n}/${l}`;e.vault.getAbstractFileByPath(n)||await e.vault.createFolder(n);let s=await J1(r);if(!s.ok)throw new Error(`Failed to download image: ${s.statusText}`);let u=await s.arrayBuffer();return await e.vault.createBinary(o,u),new Vr.Notice(`Image downloaded successfully to ${o}`),o}catch(l){throw new Vr.Notice(`Failed to download image: ${l}`),l}}};var s1=require("obsidian");var d5=class extends s1.SuggestModal{constructor(r){super(r);this.enabledColor="green";this.disabledColor="red";this.obsidianPlugins=r.plugins}getSuggestions(r){"use strict";let n=[],i=[],l=[];for(let o of Object.keys(this.app.plugins.manifests)){let a={name:this.obsidianPlugins.manifests[o].name,id:this.obsidianPlugins.manifests[o].id,desc:this.obsidianPlugins.manifests[o].description,enbaled:!1};this.obsidianPlugins.enabledPlugins.has(this.obsidianPlugins.manifests[o].id)?(a.enbaled=!0,i.push(a)):(a.enbaled=!1,n.push(a)),l.push(a)}return l.filter(o=>o.name.toLowerCase().includes(r.toLowerCase()))}renderSuggestion(r,n){var o;let i=r.enbaled?this.enabledColor:this.disabledColor;(0,s1.addIcon)("SWITCH_ON_STATUS",vn.SWITCH_ON_STATUS),(0,s1.addIcon)("SWITCH_OFF_STATUS",vn.SWITCH_OFF_STATUS);let l=n.createEl("div",{attr:{style:`color: ${i}`}});r.enbaled?(0,s1.setIcon)(l,"SWITCH_ON_STATUS"):(0,s1.setIcon)(l,"SWITCH_OFF_STATUS"),(o=l.querySelector("svg"))==null||o.addClass("plugin-swith-on-off-svg"),l.createSpan({text:r.name,attr:{style:"color: var(--text-normal)"}}),n.createEl("small",{text:r.desc})}onChooseSuggestion(r,n){r.enbaled?this.obsidianPlugins.disablePluginAndSave(r.id)?new s1.Notice(`disable plugin[${r.name}] successfully`):new s1.Notice(`disable plugin[${r.name}] failed, try it again`):this.obsidianPlugins.enablePluginAndSave(r.id)?new s1.Notice(`enable plugin[${r.name}] successfully`):new s1.Notice(`enable plugin[${r.name}] failed, try it again`)}};var m5=require("obsidian");var W4=class extends m5.Modal{constructor(e){super(e),this.obsidianPlugins=e.plugins,this.contentEl.createEl("h3",{text:"Batch Plugin Management",attr:{style:"text-align:center;"}});let r=[],n=[],i=[],l=[],o=[];for(let a of Object.keys(this.app.plugins.manifests)){let s={name:this.obsidianPlugins.manifests[a].name,id:this.obsidianPlugins.manifests[a].id,desc:this.obsidianPlugins.manifests[a].description,enbaled:!1};this.obsidianPlugins.enabledPlugins.has(this.obsidianPlugins.manifests[a].id)?(s.enbaled=!0,n.push(s)):(s.enbaled=!1,r.push(s)),i.push(s)}for(let a of i)new m5.Setting(this.contentEl).setName(a.name).setDesc(a.desc).addToggle(s=>{s.setValue(a.enbaled).onChange(async u=>{u?l.push(a):o.push(a)})});new m5.Setting(this.contentEl).addButton(a=>a.setButtonText("OK").setCta().onClick(()=>{for(let s of l)console.log(`enable ${s.name}`),this.obsidianPlugins.enablePlugin(s.id);for(let s of o)console.log(`disable ${s.name}`),this.obsidianPlugins.disablePlugin(s.id);this.close()}))}};var Et=require("obsidian");var l_=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},o_=function(){function t(e,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),U4=function(){function t(e,r){var n=[],i=!0,l=!1,o=void 0;try{for(var a=e[Symbol.iterator](),s;!(i=(s=a.next()).done)&&(n.push(s.value),!(r&&n.length===r));i=!0);}catch(u){l=!0,o=u}finally{try{!i&&a.return&&a.return()}finally{if(l)throw o}}return n}return function(e,r){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();String.prototype.startsWith=String.prototype.startsWith||function(t){return this.indexOf(t)===0};String.prototype.padStart=String.prototype.padStart||function(t,e){for(var r=this;r.length<t;)r=e+r;return r};var fK={cb:"0f8ff",tqw:"aebd7",q:"-ffff",qmrn:"7fffd4",zr:"0ffff",bg:"5f5dc",bsq:"e4c4",bck:"---",nch:"ebcd",b:"--ff",bvt:"8a2be2",brwn:"a52a2a",brw:"deb887",ctb:"5f9ea0",hrt:"7fff-",chcT:"d2691e",cr:"7f50",rnw:"6495ed",crns:"8dc",crms:"dc143c",cn:"-ffff",Db:"--8b",Dcn:"-8b8b",Dgnr:"b8860b",Dgr:"a9a9a9",Dgrn:"-64-",Dkhk:"bdb76b",Dmgn:"8b-8b",Dvgr:"556b2f",Drng:"8c-",Drch:"9932cc",Dr:"8b--",Dsmn:"e9967a",Dsgr:"8fbc8f",DsTb:"483d8b",DsTg:"2f4f4f",Dtrq:"-ced1",Dvt:"94-d3",ppnk:"1493",pskb:"-bfff",mgr:"696969",grb:"1e90ff",rbrc:"b22222",rwht:"af0",stg:"228b22",chs:"-ff",gnsb:"dcdcdc",st:"8f8ff",g:"d7-",gnr:"daa520",gr:"808080",grn:"-8-0",grnw:"adff2f",hnw:"0fff0",htpn:"69b4",nnr:"cd5c5c",ng:"4b-82",vr:"0",khk:"0e68c",vnr:"e6e6fa",nrb:"0f5",wngr:"7cfc-",mnch:"acd",Lb:"add8e6",Lcr:"08080",Lcn:"e0ffff",Lgnr:"afad2",Lgr:"d3d3d3",Lgrn:"90ee90",Lpnk:"b6c1",Lsmn:"a07a",Lsgr:"20b2aa",Lskb:"87cefa",LsTg:"778899",Lstb:"b0c4de",Lw:"e0",m:"-ff-",mgrn:"32cd32",nn:"af0e6",mgnt:"-ff",mrn:"8--0",mqm:"66cdaa",mmb:"--cd",mmrc:"ba55d3",mmpr:"9370db",msg:"3cb371",mmsT:"7b68ee","":"-fa9a",mtr:"48d1cc",mmvt:"c71585",mnLb:"191970",ntc:"5fffa",mstr:"e4e1",mccs:"e4b5",vjw:"dead",nv:"--80",c:"df5e6",v:"808-0",vrb:"6b8e23",rng:"a5-",rngr:"45-",rch:"da70d6",pgnr:"eee8aa",pgrn:"98fb98",ptrq:"afeeee",pvtr:"db7093",ppwh:"efd5",pchp:"dab9",pr:"cd853f",pnk:"c0cb",pm:"dda0dd",pwrb:"b0e0e6",prp:"8-080",cc:"663399",r:"--",sbr:"bc8f8f",rb:"4169e1",sbrw:"8b4513",smn:"a8072",nbr:"4a460",sgrn:"2e8b57",ssh:"5ee",snn:"a0522d",svr:"c0c0c0",skb:"87ceeb",sTb:"6a5acd",sTgr:"708090",snw:"afa",n:"-ff7f",stb:"4682b4",tn:"d2b48c",t:"-8080",thst:"d8bfd8",tmT:"6347",trqs:"40e0d0",vt:"ee82ee",whT:"5deb3",wht:"",hts:"5f5f5",w:"-",wgrn:"9acd32"};function _z(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,r=e>0?t.toFixed(e).replace(/0+$/,"").replace(/\.$/,""):t.toString();return r||"0"}var hK=function(){function t(e,r,n,i){l_(this,t);var l=this;function o(s){if(s.startsWith("hsl")){var u=s.match(/([\-\d\.e]+)/g).map(Number),c=U4(u,4),f=c[0],h=c[1],g=c[2],p=c[3];p===void 0&&(p=1),f/=360,h/=100,g/=100,l.hsla=[f,h,g,p]}else if(s.startsWith("rgb")){var w=s.match(/([\-\d\.e]+)/g).map(Number),b=U4(w,4),v=b[0],S=b[1],P=b[2],Z=b[3];Z===void 0&&(Z=1),l.rgba=[v,S,P,Z]}else s.startsWith("#")?l.rgba=t.hexToRgb(s):l.rgba=t.nameToRgb(s)||t.hexToRgb(s)}if(e!==void 0)if(Array.isArray(e))this.rgba=e;else if(n===void 0){var a=e&&""+e;a&&o(a.toLowerCase())}else this.rgba=[e,r,n,i===void 0?1:i]}return o_(t,[{key:"printRGB",value:function(r){var n=r?this.rgba:this.rgba.slice(0,3),i=n.map(function(l,o){return _z(l,o===3?3:0)});return r?"rgba("+i+")":"rgb("+i+")"}},{key:"printHSL",value:function(r){var n=[360,100,100,1],i=["","%","%",""],l=r?this.hsla:this.hsla.slice(0,3),o=l.map(function(a,s){return _z(a*n[s],s===3?3:1)+i[s]});return r?"hsla("+o+")":"hsl("+o+")"}},{key:"printHex",value:function(r){var n=this.hex;return r?n:n.substring(0,7)}},{key:"rgba",get:function(){if(this._rgba)return this._rgba;if(!this._hsla)throw new Error("No color is set");return this._rgba=t.hslToRgb(this._hsla)},set:function(r){r.length===3&&(r[3]=1),this._rgba=r,this._hsla=null}},{key:"rgbString",get:function(){return this.printRGB()}},{key:"rgbaString",get:function(){return this.printRGB(!0)}},{key:"hsla",get:function(){if(this._hsla)return this._hsla;if(!this._rgba)throw new Error("No color is set");return this._hsla=t.rgbToHsl(this._rgba)},set:function(r){r.length===3&&(r[3]=1),this._hsla=r,this._rgba=null}},{key:"hslString",get:function(){return this.printHSL()}},{key:"hslaString",get:function(){return this.printHSL(!0)}},{key:"hex",get:function(){var r=this.rgba,n=r.map(function(i,l){return l<3?i.toString(16):Math.round(i*255).toString(16)});return"#"+n.map(function(i){return i.padStart(2,"0")}).join("")},set:function(r){this.rgba=t.hexToRgb(r)}}],[{key:"hexToRgb",value:function(r){var n=(r.startsWith("#")?r.slice(1):r).replace(/^(\w{3})$/,"$1F").replace(/^(\w)(\w)(\w)(\w)$/,"$1$1$2$2$3$3$4$4").replace(/^(\w{6})$/,"$1FF");if(!n.match(/^([0-9a-fA-F]{8})$/))throw new Error("Unknown hex color; "+r);var i=n.match(/^(\w\w)(\w\w)(\w\w)(\w\w)$/).slice(1).map(function(l){return parseInt(l,16)});return i[3]=i[3]/255,i}},{key:"nameToRgb",value:function(r){var n=r.toLowerCase().replace("at","T").replace(/[aeiouyldf]/g,"").replace("ght","L").replace("rk","D").slice(-5,4),i=fK[n];return i===void 0?i:t.hexToRgb(i.replace(/\-/g,"00").padStart(6,"f"))}},{key:"rgbToHsl",value:function(r){var n=U4(r,4),i=n[0],l=n[1],o=n[2],a=n[3];i/=255,l/=255,o/=255;var s=Math.max(i,l,o),u=Math.min(i,l,o),c=void 0,f=void 0,h=(s+u)/2;if(s===u)c=f=0;else{var g=s-u;switch(f=h>.5?g/(2-s-u):g/(s+u),s){case i:c=(l-o)/g+(l<o?6:0);break;case l:c=(o-i)/g+2;break;case o:c=(i-l)/g+4;break}c/=6}return[c,f,h,a]}},{key:"hslToRgb",value:function(r){var n=U4(r,4),i=n[0],l=n[1],o=n[2],a=n[3],s=void 0,u=void 0,c=void 0;if(l===0)s=u=c=o;else{var f=function(b,v,S){return S<0&&(S+=1),S>1&&(S-=1),S<.16666666666666666?b+(v-b)*6*S:S<.5?v:S<.6666666666666666?b+(v-b)*(.6666666666666666-S)*6:b},h=o<.5?o*(1+l):o+l-o*l,g=2*o-h;s=f(g,h,i+1/3),u=f(g,h,i),c=f(g,h,i-1/3)}var p=[s*255,u*255,c*255].map(Math.round);return p[3]=a,p}}]),t}(),dK=function(){function t(){l_(this,t),this._events=[]}return o_(t,[{key:"add",value:function(r,n,i){r.addEventListener(n,i,!1),this._events.push({target:r,type:n,handler:i})}},{key:"remove",value:function(r,n,i){this._events=this._events.filter(function(l){var o=!0;return r&&r!==l.target&&(o=!1),n&&n!==l.type&&(o=!1),i&&i!==l.handler&&(o=!1),o&&t._doRemove(l.target,l.type,l.handler),!o})}},{key:"destroy",value:function(){this._events.forEach(function(r){return t._doRemove(r.target,r.type,r.handler)}),this._events=[]}}],[{key:"_doRemove",value:function(r,n,i){r.removeEventListener(n,i,!1)}}]),t}();function mK(t){var e=document.createElement("div");return e.innerHTML=t,e.firstElementChild}function r_(t,e,r){var n=!1;function i(s,u,c){return Math.max(u,Math.min(s,c))}function l(s,u,c){if(c&&(n=!0),!!n){s.preventDefault();var f=e.getBoundingClientRect(),h=f.width,g=f.height,p=u.clientX,w=u.clientY,b=i(p-f.left,0,h),v=i(w-f.top,0,g);r(b/h,v/g)}}function o(s,u){var c=s.buttons===void 0?s.which:s.buttons;c===1?l(s,s,u):n=!1}function a(s,u){s.touches.length===1?l(s,s.touches[0],u):n=!1}t.add(e,"mousedown",function(s){o(s,!0)}),t.add(e,"touchstart",function(s){a(s,!0)}),t.add(window,"mousemove",o),t.add(e,"touchmove",a),t.add(window,"mouseup",function(s){n=!1}),t.add(e,"touchend",function(s){n=!1}),t.add(e,"touchcancel",function(s){n=!1})}var gK=`linear-gradient(45deg, lightgrey 25%, transparent 25%, transparent 75%, lightgrey 75%) 0 0 / 2em 2em,
                   linear-gradient(45deg, lightgrey 25%,       white 25%,       white 75%, lightgrey 75%) 1em 1em / 2em 2em`,_K=360,pz="keydown",Y4="mousedown",n_="focusin";function Ui(t,e){return(e||document).querySelector(t)}function Cz(t){t.preventDefault(),t.stopPropagation()}function i_(t,e,r,n,i){t.add(e,pz,function(l){r.indexOf(l.key)>=0&&(i&&Cz(l),n(l))})}var a_=function(){function t(e){l_(this,t),this.settings={popup:"right",layout:"default",alpha:!0,editor:!0,editorFormat:"hex",cancelButton:!1,defaultColor:"#0cf"},this._events=new dK,this.onChange=null,this.onDone=null,this.onOpen=null,this.onClose=null,this.setOptions(e)}return o_(t,[{key:"setOptions",value:function(r){var n=this;if(!r)return;var i=this.settings;function l(u,c,f){for(var h in u)f&&f.indexOf(h)>=0||(c[h]=u[h])}if(r instanceof HTMLElement)i.parent=r;else{i.parent&&r.parent&&i.parent!==r.parent&&(this._events.remove(i.parent),this._popupInited=!1),l(r,i),r.onChange&&(this.onChange=r.onChange),r.onDone&&(this.onDone=r.onDone),r.onOpen&&(this.onOpen=r.onOpen),r.onClose&&(this.onClose=r.onClose);var o=r.color||r.colour;o&&this._setColor(o)}var a=i.parent;if(a&&i.popup&&!this._popupInited){var s=function(c){return n.openHandler(c)};this._events.add(a,"click",s),i_(this._events,a,[" ","Spacebar","Enter"],s),this._popupInited=!0}else r.parent&&!i.popup&&this.show()}},{key:"openHandler",value:function(r){if(this.show()){r&&r.preventDefault(),this.settings.parent.style.pointerEvents="none";var n=r&&r.type===pz?this._domEdit:this.domElement;setTimeout(function(){return n.focus()},100),this.onOpen&&this.onOpen(this.colour)}}},{key:"closeHandler",value:function(r){var n=r&&r.type,i=!1;if(!r)i=!0;else if(n===Y4||n===n_){var l=(this.__containedEvent||0)+100;r.timeStamp>l&&(i=!0)}else Cz(r),i=!0;i&&this.hide()&&(this.settings.parent.style.pointerEvents="",n!==Y4&&this.settings.parent.focus(),this.onClose&&this.onClose(this.colour))}},{key:"movePopup",value:function(r,n){this.closeHandler(),this.setOptions(r),n&&this.openHandler()}},{key:"setColor",value:function(r,n){this._setColor(r,{silent:n})}},{key:"_setColor",value:function(r,n){if(typeof r=="string"&&(r=r.trim()),!!r){n=n||{};var i=void 0;try{i=new hK(r)}catch(o){if(n.failSilently)return;throw o}if(!this.settings.alpha){var l=i.hsla;l[3]=1,i.hsla=l}this.colour=this.color=i,this._setHSLA(null,null,null,null,n)}}},{key:"setColour",value:function(r,n){this.setColor(r,n)}},{key:"show",value:function(){var r=this.settings.parent;if(!r)return!1;if(this.domElement){var n=this._toggleDOM(!0);return this._setPosition(),n}var i=this.settings.template||'<div class="picker_wrapper" tabindex="-1"><div class="picker_arrow"></div><div class="picker_hue picker_slider"><div class="picker_selector"></div></div><div class="picker_sl"><div class="picker_selector"></div></div><div class="picker_alpha picker_slider"><div class="picker_selector"></div></div><div class="picker_editor"><input aria-label="Type a color name or hex value"/></div><div class="picker_sample"></div><div class="picker_done"><button>Ok</button></div><div class="picker_cancel"><button>Cancel</button></div></div>',l=mK(i);return this.domElement=l,this._domH=Ui(".picker_hue",l),this._domSL=Ui(".picker_sl",l),this._domA=Ui(".picker_alpha",l),this._domEdit=Ui(".picker_editor input",l),this._domSample=Ui(".picker_sample",l),this._domOkay=Ui(".picker_done button",l),this._domCancel=Ui(".picker_cancel button",l),l.classList.add("layout_"+this.settings.layout),this.settings.alpha||l.classList.add("no_alpha"),this.settings.editor||l.classList.add("no_editor"),this.settings.cancelButton||l.classList.add("no_cancel"),this._ifPopup(function(){return l.classList.add("popup")}),this._setPosition(),this.colour?this._updateUI():this._setColor(this.settings.defaultColor),this._bindEvents(),!0}},{key:"hide",value:function(){return this._toggleDOM(!1)}},{key:"destroy",value:function(){this._events.destroy(),this.domElement&&this.settings.parent.removeChild(this.domElement)}},{key:"_bindEvents",value:function(){var r=this,n=this,i=this.domElement,l=this._events;function o(u,c,f){l.add(u,c,f)}o(i,"click",function(u){return u.preventDefault()}),r_(l,this._domH,function(u,c){return n._setHSLA(u)}),r_(l,this._domSL,function(u,c){return n._setHSLA(null,u,1-c)}),this.settings.alpha&&r_(l,this._domA,function(u,c){return n._setHSLA(null,null,null,1-c)});var a=this._domEdit;o(a,"input",function(u){n._setColor(this.value,{fromEditor:!0,failSilently:!0})}),o(a,"focus",function(u){var c=this;c.selectionStart===c.selectionEnd&&c.select()}),this._ifPopup(function(){var u=function(h){return r.closeHandler(h)};o(window,Y4,u),o(window,n_,u),i_(l,i,["Esc","Escape"],u);var c=function(h){r.__containedEvent=h.timeStamp};o(i,Y4,c),o(i,n_,c),o(r._domCancel,"click",u)});var s=function(c){r._ifPopup(function(){return r.closeHandler(c)}),r.onDone&&r.onDone(r.colour)};o(this._domOkay,"click",s),i_(l,i,["Enter"],s)}},{key:"_setPosition",value:function(){var r=this.settings.parent,n=this.domElement;r!==n.parentNode&&r.appendChild(n),this._ifPopup(function(i){getComputedStyle(r).position==="static"&&(r.style.position="relative");var l=i===!0?"popup_right":"popup_"+i;["popup_top","popup_bottom","popup_left","popup_right"].forEach(function(o){o===l?n.classList.add(o):n.classList.remove(o)}),n.classList.add(l)})}},{key:"_setHSLA",value:function(r,n,i,l,o){o=o||{};var a=this.colour,s=a.hsla;[r,n,i,l].forEach(function(u,c){(u||u===0)&&(s[c]=u)}),a.hsla=s,this._updateUI(o),this.onChange&&!o.silent&&this.onChange(a)}},{key:"_updateUI",value:function(r){if(!this.domElement)return;r=r||{};var n=this.colour,i=n.hsla,l="hsl("+i[0]*_K+", 100%, 50%)",o=n.hslString,a=n.hslaString,s=this._domH,u=this._domSL,c=this._domA,f=Ui(".picker_selector",s),h=Ui(".picker_selector",u),g=Ui(".picker_selector",c);function p(W,X,x){X.style.left=x*100+"%"}function w(W,X,x){X.style.top=x*100+"%"}p(s,f,i[0]),this._domSL.style.backgroundColor=this._domH.style.color=l,p(u,h,i[1]),w(u,h,1-i[2]),u.style.color=o,w(c,g,1-i[3]);var b=o,v=b.replace("hsl","hsla").replace(")",", 0)"),S="linear-gradient("+[b,v]+")";if(this._domA.style.background=S+", "+gK,!r.fromEditor){var P=this.settings.editorFormat,Z=this.settings.alpha,y=void 0;switch(P){case"rgb":y=n.printRGB(Z);break;case"hsl":y=n.printHSL(Z);break;default:y=n.printHex(Z)}this._domEdit.value=y}this._domSample.style.color=a}},{key:"_ifPopup",value:function(r,n){this.settings.parent&&this.settings.popup?r&&r(this.settings.popup):n&&n()}},{key:"_toggleDOM",value:function(r){var n=this.domElement;if(!n)return!1;var i=r?"":"none",l=n.style.display!==i;return l&&(n.style.display=i),l}}]),t}();G4=document.createElement("style"),G4.textContent='.picker_wrapper.no_alpha .picker_alpha{display:none}.picker_wrapper.no_editor .picker_editor{position:absolute;z-index:-1;opacity:0}.picker_wrapper.no_cancel .picker_cancel{display:none}.layout_default.picker_wrapper{display:flex;flex-flow:row wrap;justify-content:space-between;align-items:stretch;font-size:10px;width:25em;padding:.5em}.layout_default.picker_wrapper input,.layout_default.picker_wrapper button{font-size:1rem}.layout_default.picker_wrapper>*{margin:.5em}.layout_default.picker_wrapper::before{content:"";display:block;width:100%;height:0;order:1}.layout_default .picker_slider,.layout_default .picker_selector{padding:1em}.layout_default .picker_hue{width:100%}.layout_default .picker_sl{flex:1 1 auto}.layout_default .picker_sl::before{content:"";display:block;padding-bottom:100%}.layout_default .picker_editor{order:1;width:6.5rem}.layout_default .picker_editor input{width:100%;height:100%}.layout_default .picker_sample{order:1;flex:1 1 auto}.layout_default .picker_done,.layout_default .picker_cancel{order:1}.picker_wrapper{box-sizing:border-box;background:#f2f2f2;box-shadow:0 0 0 1px silver;cursor:default;font-family:sans-serif;color:#444;pointer-events:auto}.picker_wrapper:focus{outline:none}.picker_wrapper button,.picker_wrapper input{box-sizing:border-box;border:none;box-shadow:0 0 0 1px silver;outline:none}.picker_wrapper button:focus,.picker_wrapper button:active,.picker_wrapper input:focus,.picker_wrapper input:active{box-shadow:0 0 2px 1px #1e90ff}.picker_wrapper button{padding:.4em .6em;cursor:pointer;background-color:#f5f5f5;background-image:linear-gradient(0deg, gainsboro, transparent)}.picker_wrapper button:active{background-image:linear-gradient(0deg, transparent, gainsboro)}.picker_wrapper button:hover{background-color:#fff}.picker_selector{position:absolute;z-index:1;display:block;-webkit-transform:translate(-50%, -50%);transform:translate(-50%, -50%);border:2px solid #fff;border-radius:100%;box-shadow:0 0 3px 1px #67b9ff;background:currentColor;cursor:pointer}.picker_slider .picker_selector{border-radius:2px}.picker_hue{position:relative;background-image:linear-gradient(90deg, red, yellow, lime, cyan, blue, magenta, red);box-shadow:0 0 0 1px silver}.picker_sl{position:relative;box-shadow:0 0 0 1px silver;background-image:linear-gradient(180deg, white, rgba(255, 255, 255, 0) 50%),linear-gradient(0deg, black, rgba(0, 0, 0, 0) 50%),linear-gradient(90deg, #808080, rgba(128, 128, 128, 0))}.picker_alpha,.picker_sample{position:relative;background:linear-gradient(45deg, lightgrey 25%, transparent 25%, transparent 75%, lightgrey 75%) 0 0/2em 2em,linear-gradient(45deg, lightgrey 25%, white 25%, white 75%, lightgrey 75%) 1em 1em/2em 2em;box-shadow:0 0 0 1px silver}.picker_alpha .picker_selector,.picker_sample .picker_selector{background:none}.picker_editor input{font-family:monospace;padding:.2em .4em}.picker_sample::before{content:"";position:absolute;display:block;width:100%;height:100%;background:currentColor}.picker_arrow{position:absolute;z-index:-1}.picker_wrapper.popup{position:absolute;z-index:2;margin:1.5em}.picker_wrapper.popup,.picker_wrapper.popup .picker_arrow::before,.picker_wrapper.popup .picker_arrow::after{background:#f2f2f2;box-shadow:0 0 10px 1px rgba(0,0,0,.4)}.picker_wrapper.popup .picker_arrow{width:3em;height:3em;margin:0}.picker_wrapper.popup .picker_arrow::before,.picker_wrapper.popup .picker_arrow::after{content:"";display:block;position:absolute;top:0;left:0;z-index:-99}.picker_wrapper.popup .picker_arrow::before{width:100%;height:100%;-webkit-transform:skew(45deg);transform:skew(45deg);-webkit-transform-origin:0 100%;transform-origin:0 100%}.picker_wrapper.popup .picker_arrow::after{width:150%;height:150%;box-shadow:none}.popup.popup_top{bottom:100%;left:0}.popup.popup_top .picker_arrow{bottom:0;left:0;-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}.popup.popup_bottom{top:100%;left:0}.popup.popup_bottom .picker_arrow{top:0;left:0;-webkit-transform:rotate(90deg) scale(1, -1);transform:rotate(90deg) scale(1, -1)}.popup.popup_left{top:0;right:100%}.popup.popup_left .picker_arrow{top:0;right:0;-webkit-transform:scale(-1, 1);transform:scale(-1, 1)}.popup.popup_right{top:0;left:100%}.popup.popup_right .picker_arrow{top:0;left:0}',document.documentElement.firstElementChild.appendChild(G4),a_.StyleElement=G4;var G4;var Vf=require("obsidian");function p5(t){return t+.5|0}var Ko=(t,e,r)=>Math.max(Math.min(t,r),e);function g5(t){return Ko(p5(t*2.55),0,255)}function Xo(t){return Ko(p5(t*255),0,255)}function $l(t){return Ko(p5(t/2.55)/100,0,1)}function bz(t){return Ko(p5(t*100),0,100)}var R1={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},u_=[..."0123456789ABCDEF"],pK=t=>u_[t&15],CK=t=>u_[(t&240)>>4]+u_[t&15],J4=t=>(t&240)>>4===(t&15),bK=t=>J4(t.r)&&J4(t.g)&&J4(t.b)&&J4(t.a);function vK(t){var e=t.length,r;return t[0]==="#"&&(e===4||e===5?r={r:255&R1[t[1]]*17,g:255&R1[t[2]]*17,b:255&R1[t[3]]*17,a:e===5?R1[t[4]]*17:255}:(e===7||e===9)&&(r={r:R1[t[1]]<<4|R1[t[2]],g:R1[t[3]]<<4|R1[t[4]],b:R1[t[5]]<<4|R1[t[6]],a:e===9?R1[t[7]]<<4|R1[t[8]]:255})),r}var wK=(t,e)=>t<255?e(t):"";function kK(t){var e=bK(t)?pK:CK;return t?"#"+e(t.r)+e(t.g)+e(t.b)+wK(t.a,e):void 0}var yK=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function yz(t,e,r){let n=e*Math.min(r,1-r),i=(l,o=(l+t/30)%12)=>r-n*Math.max(Math.min(o-3,9-o,1),-1);return[i(0),i(8),i(4)]}function LK(t,e,r){let n=(i,l=(i+t/60)%6)=>r-r*e*Math.max(Math.min(l,4-l,1),0);return[n(5),n(3),n(1)]}function EK(t,e,r){let n=yz(t,1,.5),i;for(e+r>1&&(i=1/(e+r),e*=i,r*=i),i=0;i<3;i++)n[i]*=1-e-r,n[i]+=e;return n}function SK(t,e,r,n,i){return t===i?(e-r)/n+(e<r?6:0):e===i?(r-t)/n+2:(t-e)/n+4}function c_(t){let r=t.r/255,n=t.g/255,i=t.b/255,l=Math.max(r,n,i),o=Math.min(r,n,i),a=(l+o)/2,s,u,c;return l!==o&&(c=l-o,u=a>.5?c/(2-l-o):c/(l+o),s=SK(r,n,i,c,l),s=s*60+.5),[s|0,u||0,a]}function f_(t,e,r,n){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,r,n)).map(Xo)}function h_(t,e,r){return f_(yz,t,e,r)}function MK(t,e,r){return f_(EK,t,e,r)}function TK(t,e,r){return f_(LK,t,e,r)}function Lz(t){return(t%360+360)%360}function zK(t){let e=yK.exec(t),r=255,n;if(!e)return;e[5]!==n&&(r=e[6]?g5(+e[5]):Xo(+e[5]));let i=Lz(+e[2]),l=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?n=MK(i,l,o):e[1]==="hsv"?n=TK(i,l,o):n=h_(i,l,o),{r:n[0],g:n[1],b:n[2],a:r}}function HK(t,e){var r=c_(t);r[0]=Lz(r[0]+e),r=h_(r),t.r=r[0],t.g=r[1],t.b=r[2]}function PK(t){if(!t)return;let e=c_(t),r=e[0],n=bz(e[1]),i=bz(e[2]);return t.a<255?`hsla(${r}, ${n}%, ${i}%, ${$l(t.a)})`:`hsl(${r}, ${n}%, ${i}%)`}var vz={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},wz={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function AK(){let t={},e=Object.keys(wz),r=Object.keys(vz),n,i,l,o,a;for(n=0;n<e.length;n++){for(o=a=e[n],i=0;i<r.length;i++)l=r[i],a=a.replace(l,vz[l]);l=parseInt(wz[o],16),t[a]=[l>>16&255,l>>8&255,l&255]}return t}var K4;function RK(t){K4||(K4=AK(),K4.transparent=[0,0,0,0]);let e=K4[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}var BK=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function OK(t){let e=BK.exec(t),r=255,n,i,l;if(e){if(e[7]!==n){let o=+e[7];r=e[8]?g5(o):Ko(o*255,0,255)}return n=+e[1],i=+e[3],l=+e[5],n=255&(e[2]?g5(n):Ko(n,0,255)),i=255&(e[4]?g5(i):Ko(i,0,255)),l=255&(e[6]?g5(l):Ko(l,0,255)),{r:n,g:i,b:l,a:r}}}function VK(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${$l(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}var s_=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,D2=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function ZK(t,e,r){let n=D2($l(t.r)),i=D2($l(t.g)),l=D2($l(t.b));return{r:Xo(s_(n+r*(D2($l(e.r))-n))),g:Xo(s_(i+r*(D2($l(e.g))-i))),b:Xo(s_(l+r*(D2($l(e.b))-l))),a:t.a+r*(e.a-t.a)}}function X4(t,e,r){if(t){let n=c_(t);n[e]=Math.max(0,Math.min(n[e]+n[e]*r,e===0?360:1)),n=h_(n),t.r=n[0],t.g=n[1],t.b=n[2]}}function Ez(t,e){return t&&Object.assign(e||{},t)}function kz(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=Xo(t[3]))):(e=Ez(t,{r:0,g:0,b:0,a:1}),e.a=Xo(e.a)),e}function IK(t){return t.charAt(0)==="r"?OK(t):zK(t)}var _5=class t{constructor(e){if(e instanceof t)return e;let r=typeof e,n;r==="object"?n=kz(e):r==="string"&&(n=vK(e)||RK(e)||IK(e)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var e=Ez(this._rgb);return e&&(e.a=$l(e.a)),e}set rgb(e){this._rgb=kz(e)}rgbString(){return this._valid?VK(this._rgb):void 0}hexString(){return this._valid?kK(this._rgb):void 0}hslString(){return this._valid?PK(this._rgb):void 0}mix(e,r){if(e){let n=this.rgb,i=e.rgb,l,o=r===l?.5:r,a=2*o-1,s=n.a-i.a,u=((a*s===-1?a:(a+s)/(1+a*s))+1)/2;l=1-u,n.r=255&u*n.r+l*i.r+.5,n.g=255&u*n.g+l*i.g+.5,n.b=255&u*n.b+l*i.b+.5,n.a=o*n.a+(1-o)*i.a,this.rgb=n}return this}interpolate(e,r){return e&&(this._rgb=ZK(this._rgb,e._rgb,r)),this}clone(){return new t(this.rgb)}alpha(e){return this._rgb.a=Xo(e),this}clearer(e){let r=this._rgb;return r.a*=1-e,this}greyscale(){let e=this._rgb,r=p5(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=r,this}opaquer(e){let r=this._rgb;return r.a*=1+e,this}negate(){let e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return X4(this._rgb,2,e),this}darken(e){return X4(this._rgb,2,-e),this}saturate(e){return X4(this._rgb,1,e),this}desaturate(e){return X4(this._rgb,1,-e),this}rotate(e){return HK(this._rgb,e),this}};function Gi(){}var Vz=(()=>{let t=0;return()=>t++})();function Gt(t){return t==null}function Qt(t){if(Array.isArray&&Array.isArray(t))return!0;let e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function Ct(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function ir(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function jn(t,e){return ir(t)?t:e}function mt(t,e){return typeof t=="undefined"?e:t}var Zz=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function Ft(t,e,r){if(t&&typeof t.call=="function")return t.apply(r,e)}function zt(t,e,r,n){let i,l,o;if(Qt(t))if(l=t.length,n)for(i=l-1;i>=0;i--)e.call(r,t[i],i);else for(i=0;i<l;i++)e.call(r,t[i],i);else if(Ct(t))for(o=Object.keys(t),l=o.length,i=0;i<l;i++)e.call(r,t[o[i]],o[i])}function v5(t,e){let r,n,i,l;if(!t||!e||t.length!==e.length)return!1;for(r=0,n=t.length;r<n;++r)if(i=t[r],l=e[r],i.datasetIndex!==l.datasetIndex||i.index!==l.index)return!1;return!0}function ef(t){if(Qt(t))return t.map(ef);if(Ct(t)){let e=Object.create(null),r=Object.keys(t),n=r.length,i=0;for(;i<n;++i)e[r[i]]=ef(t[r[i]]);return e}return t}function Iz(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function DK(t,e,r,n){if(!Iz(t))return;let i=e[t],l=r[t];Ct(i)&&Ct(l)?F2(i,l,n):e[t]=ef(l)}function F2(t,e,r){let n=Qt(e)?e:[e],i=n.length;if(!Ct(t))return t;r=r||{};let l=r.merger||DK,o;for(let a=0;a<i;++a){if(o=n[a],!Ct(o))continue;let s=Object.keys(o);for(let u=0,c=s.length;u<c;++u)l(s[u],t,o,r)}return t}function q2(t,e){return F2(t,e,{merger:NK})}function NK(t,e,r){if(!Iz(t))return;let n=e[t],i=r[t];Ct(n)&&Ct(i)?q2(n,i):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=ef(i))}var Sz={"":t=>t,x:t=>t.x,y:t=>t.y};function FK(t){let e=t.split("."),r=[],n="";for(let i of e)n+=i,n.endsWith("\\")?n=n.slice(0,-1)+".":(r.push(n),n="");return r}function jK(t){let e=FK(t);return r=>{for(let n of e){if(n==="")break;r=r&&r[n]}return r}}function w5(t,e){return(Sz[e]||(Sz[e]=jK(e)))(t)}function lf(t){return t.charAt(0).toUpperCase()+t.slice(1)}var k5=t=>typeof t!="undefined",eo=t=>typeof t=="function",__=(t,e)=>{if(t.size!==e.size)return!1;for(let r of t)if(!e.has(r))return!1;return!0};function Dz(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}var mr=Math.PI,Fn=2*mr,qK=Fn+mr,tf=Number.POSITIVE_INFINITY,WK=mr/180,Nn=mr/2,Ms=mr/4,Mz=mr*2/3,to=Math.log10,zs=Math.sign;function W2(t,e,r){return Math.abs(t-e)<r}function p_(t){let e=Math.round(t);t=W2(t,e,t/1e3)?e:t;let r=Math.pow(10,Math.floor(to(t))),n=t/r;return(n<=1?1:n<=2?2:n<=5?5:10)*r}function Nz(t){let e=[],r=Math.sqrt(t),n;for(n=1;n<r;n++)t%n===0&&(e.push(n),e.push(t/n));return r===(r|0)&&e.push(r),e.sort((i,l)=>i-l).pop(),e}function U2(t){return!isNaN(parseFloat(t))&&isFinite(t)}function Fz(t,e){let r=Math.round(t);return r-e<=t&&r+e>=t}function C_(t,e,r){let n,i,l;for(n=0,i=t.length;n<i;n++)l=t[n][r],isNaN(l)||(e.min=Math.min(e.min,l),e.max=Math.max(e.max,l))}function ro(t){return t*(mr/180)}function of(t){return t*(180/mr)}function b_(t){if(!ir(t))return;let e=1,r=0;for(;Math.round(t*e)/e!==t;)e*=10,r++;return r}function jz(t,e){let r=e.x-t.x,n=e.y-t.y,i=Math.sqrt(r*r+n*n),l=Math.atan2(n,r);return l<-.5*mr&&(l+=Fn),{angle:l,distance:i}}function rf(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function UK(t,e){return(t-e+qK)%Fn-mr}function Dn(t){return(t%Fn+Fn)%Fn}function v_(t,e,r,n){let i=Dn(t),l=Dn(e),o=Dn(r),a=Dn(l-i),s=Dn(o-i),u=Dn(i-l),c=Dn(i-o);return i===l||i===o||n&&l===o||a>s&&u<c}function u1(t,e,r){return Math.max(e,Math.min(r,t))}function qz(t){return u1(t,-32768,32767)}function Ps(t,e,r,n=1e-6){return t>=Math.min(e,r)-n&&t<=Math.max(e,r)+n}function af(t,e,r){r=r||(o=>t[o]<e);let n=t.length-1,i=0,l;for(;n-i>1;)l=i+n>>1,r(l)?i=l:n=l;return{lo:i,hi:n}}var xo=(t,e,r,n)=>af(t,r,n?i=>{let l=t[i][e];return l<r||l===r&&t[i+1][e]===r}:i=>t[i][e]<r),Wz=(t,e,r)=>af(t,r,n=>t[n][e]>=r);function Uz(t,e,r){let n=0,i=t.length;for(;n<i&&t[n]<e;)n++;for(;i>n&&t[i-1]>r;)i--;return n>0||i<t.length?t.slice(n,i):t}var Yz=["push","pop","shift","splice","unshift"];function Gz(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),Yz.forEach(r=>{let n="_onData"+lf(r),i=t[r];Object.defineProperty(t,r,{configurable:!0,enumerable:!1,value(...l){let o=i.apply(this,l);return t._chartjs.listeners.forEach(a=>{typeof a[n]=="function"&&a[n](...l)}),o}})})}function w_(t,e){let r=t._chartjs;if(!r)return;let n=r.listeners,i=n.indexOf(e);i!==-1&&n.splice(i,1),!(n.length>0)&&(Yz.forEach(l=>{delete t[l]}),delete t._chartjs)}function Jz(t){let e=new Set(t);return e.size===t.length?t:Array.from(e)}var k_=function(){return typeof window=="undefined"?function(t){return t()}:window.requestAnimationFrame}();function y_(t,e){let r=[],n=!1;return function(...i){r=i,n||(n=!0,k_.call(window,()=>{n=!1,t.apply(e,r)}))}}function Kz(t,e){let r;return function(...n){return e?(clearTimeout(r),r=setTimeout(t,e,n)):t.apply(this,n),e}}var sf=t=>t==="start"?"left":t==="end"?"right":"center",qr=(t,e,r)=>t==="start"?e:t==="end"?r:(e+r)/2,Xz=(t,e,r,n)=>t===(n?"left":"right")?r:t==="center"?(e+r)/2:e;function Qz(t,e,r){let n=e.length,i=0,l=n;if(t._sorted){let{iScale:o,_parsed:a}=t,s=o.axis,{min:u,max:c,minDefined:f,maxDefined:h}=o.getUserBounds();f&&(i=u1(Math.min(xo(a,s,u).lo,r?n:xo(e,s,o.getPixelForValue(u)).lo),0,n-1)),h?l=u1(Math.max(xo(a,o.axis,c,!0).hi+1,r?0:xo(e,s,o.getPixelForValue(c),!0).hi+1),i,n)-i:l=n-i}return{start:i,count:l}}function xz(t){let{xScale:e,yScale:r,_scaleRanges:n}=t,i={xmin:e.min,xmax:e.max,ymin:r.min,ymax:r.max};if(!n)return t._scaleRanges=i,!0;let l=n.xmin!==e.min||n.xmax!==e.max||n.ymin!==r.min||n.ymax!==r.max;return Object.assign(n,i),l}var Q4=t=>t===0||t===1,Tz=(t,e,r)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*Fn/r)),zz=(t,e,r)=>Math.pow(2,-10*t)*Math.sin((t-e)*Fn/r)+1,N2={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*Nn)+1,easeOutSine:t=>Math.sin(t*Nn),easeInOutSine:t=>-.5*(Math.cos(mr*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>Q4(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Q4(t)?t:Tz(t,.075,.3),easeOutElastic:t=>Q4(t)?t:zz(t,.075,.3),easeInOutElastic(t){return Q4(t)?t:t<.5?.5*Tz(t*2,.1125,.45):.5+.5*zz(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-N2.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?N2.easeInBounce(t*2)*.5:N2.easeOutBounce(t*2-1)*.5+.5};function L_(t){if(t&&typeof t=="object"){let e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function E_(t){return L_(t)?t:new _5(t)}function d_(t){return L_(t)?t:new _5(t).saturate(.5).darken(.1).hexString()}var YK=["x","y","borderWidth","radius","tension"],GK=["color","borderColor","backgroundColor"];function JK(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:GK},numbers:{type:"number",properties:YK}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function KK(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}var Hz=new Map;function XK(t,e){e=e||{};let r=t+JSON.stringify(e),n=Hz.get(r);return n||(n=new Intl.NumberFormat(t,e),Hz.set(r,n)),n}function uf(t,e,r){return XK(e,r).format(t)}var $z={values(t){return Qt(t)?t:""+t},numeric(t,e,r){if(t===0)return"0";let n=this.chart.options.locale,i,l=t;if(r.length>1){let u=Math.max(Math.abs(r[0].value),Math.abs(r[r.length-1].value));(u<1e-4||u>1e15)&&(i="scientific"),l=QK(t,r)}let o=to(Math.abs(l)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),s={notation:i,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(s,this.options.ticks.format),uf(t,n,s)},logarithmic(t,e,r){if(t===0)return"0";let n=r[e].significand||t/Math.pow(10,Math.floor(to(t)));return[1,2,3,5,10,15].includes(n)||e>.8*r.length?$z.numeric.call(this,t,e,r):""}};function QK(t,e){let r=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(r)>=1&&t!==Math.floor(t)&&(r=t-Math.floor(t)),r}var y5={formatters:$z};function xK(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,r)=>r.lineWidth,tickColor:(e,r)=>r.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:y5.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}var $o=Object.create(null),cf=Object.create(null);function C5(t,e){if(!e)return t;let r=e.split(".");for(let n=0,i=r.length;n<i;++n){let l=r[n];t=t[l]||(t[l]=Object.create(null))}return t}function m_(t,e,r){return typeof e=="string"?F2(C5(t,e),r):F2(C5(t,""),e)}var g_=class{constructor(e,r){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=n=>n.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(n,i)=>d_(i.backgroundColor),this.hoverBorderColor=(n,i)=>d_(i.borderColor),this.hoverColor=(n,i)=>d_(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(r)}set(e,r){return m_(this,e,r)}get(e){return C5(this,e)}describe(e,r){return m_(cf,e,r)}override(e,r){return m_($o,e,r)}route(e,r,n,i){let l=C5(this,e),o=C5(this,n),a="_"+r;Object.defineProperties(l,{[a]:{value:l[r],writable:!0},[r]:{enumerable:!0,get(){let s=this[a],u=o[i];return Ct(s)?Object.assign({},u,s):mt(s,u)},set(s){this[a]=s}}})}apply(e){e.forEach(r=>r(this))}},lr=new g_({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[JK,KK,xK]);function $K(t){return!t||Gt(t.size)||Gt(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function b5(t,e,r,n,i){let l=e[i];return l||(l=e[i]=t.measureText(i).width,r.push(i)),l>n&&(n=l),n}function eH(t,e,r,n){n=n||{};let i=n.data=n.data||{},l=n.garbageCollect=n.garbageCollect||[];n.font!==e&&(i=n.data={},l=n.garbageCollect=[],n.font=e),t.save(),t.font=e;let o=0,a=r.length,s,u,c,f,h;for(s=0;s<a;s++)if(f=r[s],f!=null&&!Qt(f))o=b5(t,i,l,o,f);else if(Qt(f))for(u=0,c=f.length;u<c;u++)h=f[u],h!=null&&!Qt(h)&&(o=b5(t,i,l,o,h));t.restore();let g=l.length/2;if(g>r.length){for(s=0;s<g;s++)delete i[l[s]];l.splice(0,g)}return o}function ea(t,e,r){let n=t.currentDevicePixelRatio,i=r!==0?Math.max(r/2,.5):0;return Math.round((e-i)*n)/n+i}function S_(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function ff(t,e,r,n){M_(t,e,r,n,null)}function M_(t,e,r,n,i){let l,o,a,s,u,c,f,h,g=e.pointStyle,p=e.rotation,w=e.radius,b=(p||0)*WK;if(g&&typeof g=="object"&&(l=g.toString(),l==="[object HTMLImageElement]"||l==="[object HTMLCanvasElement]")){t.save(),t.translate(r,n),t.rotate(b),t.drawImage(g,-g.width/2,-g.height/2,g.width,g.height),t.restore();return}if(!(isNaN(w)||w<=0)){switch(t.beginPath(),g){default:i?t.ellipse(r,n,i/2,w,0,0,Fn):t.arc(r,n,w,0,Fn),t.closePath();break;case"triangle":c=i?i/2:w,t.moveTo(r+Math.sin(b)*c,n-Math.cos(b)*w),b+=Mz,t.lineTo(r+Math.sin(b)*c,n-Math.cos(b)*w),b+=Mz,t.lineTo(r+Math.sin(b)*c,n-Math.cos(b)*w),t.closePath();break;case"rectRounded":u=w*.516,s=w-u,o=Math.cos(b+Ms)*s,f=Math.cos(b+Ms)*(i?i/2-u:s),a=Math.sin(b+Ms)*s,h=Math.sin(b+Ms)*(i?i/2-u:s),t.arc(r-f,n-a,u,b-mr,b-Nn),t.arc(r+h,n-o,u,b-Nn,b),t.arc(r+f,n+a,u,b,b+Nn),t.arc(r-h,n+o,u,b+Nn,b+mr),t.closePath();break;case"rect":if(!p){s=Math.SQRT1_2*w,c=i?i/2:s,t.rect(r-c,n-s,2*c,2*s);break}b+=Ms;case"rectRot":f=Math.cos(b)*(i?i/2:w),o=Math.cos(b)*w,a=Math.sin(b)*w,h=Math.sin(b)*(i?i/2:w),t.moveTo(r-f,n-a),t.lineTo(r+h,n-o),t.lineTo(r+f,n+a),t.lineTo(r-h,n+o),t.closePath();break;case"crossRot":b+=Ms;case"cross":f=Math.cos(b)*(i?i/2:w),o=Math.cos(b)*w,a=Math.sin(b)*w,h=Math.sin(b)*(i?i/2:w),t.moveTo(r-f,n-a),t.lineTo(r+f,n+a),t.moveTo(r+h,n-o),t.lineTo(r-h,n+o);break;case"star":f=Math.cos(b)*(i?i/2:w),o=Math.cos(b)*w,a=Math.sin(b)*w,h=Math.sin(b)*(i?i/2:w),t.moveTo(r-f,n-a),t.lineTo(r+f,n+a),t.moveTo(r+h,n-o),t.lineTo(r-h,n+o),b+=Ms,f=Math.cos(b)*(i?i/2:w),o=Math.cos(b)*w,a=Math.sin(b)*w,h=Math.sin(b)*(i?i/2:w),t.moveTo(r-f,n-a),t.lineTo(r+f,n+a),t.moveTo(r+h,n-o),t.lineTo(r-h,n+o);break;case"line":o=i?i/2:Math.cos(b)*w,a=Math.sin(b)*w,t.moveTo(r-o,n-a),t.lineTo(r+o,n+a);break;case"dash":t.moveTo(r,n),t.lineTo(r+Math.cos(b)*(i?i/2:w),n+Math.sin(b)*w);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function Yi(t,e,r){return r=r||.5,!e||t&&t.x>e.left-r&&t.x<e.right+r&&t.y>e.top-r&&t.y<e.bottom+r}function L5(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function E5(t){t.restore()}function tH(t,e,r,n,i){if(!e)return t.lineTo(r.x,r.y);if(i==="middle"){let l=(e.x+r.x)/2;t.lineTo(l,e.y),t.lineTo(l,r.y)}else i==="after"!=!!n?t.lineTo(e.x,r.y):t.lineTo(r.x,e.y);t.lineTo(r.x,r.y)}function rH(t,e,r,n){if(!e)return t.lineTo(r.x,r.y);t.bezierCurveTo(n?e.cp1x:e.cp2x,n?e.cp1y:e.cp2y,n?r.cp2x:r.cp1x,n?r.cp2y:r.cp1y,r.x,r.y)}function eX(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),Gt(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function tX(t,e,r,n,i){if(i.strikethrough||i.underline){let l=t.measureText(n),o=e-l.actualBoundingBoxLeft,a=e+l.actualBoundingBoxRight,s=r-l.actualBoundingBoxAscent,u=r+l.actualBoundingBoxDescent,c=i.strikethrough?(s+u)/2:u;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=i.decorationWidth||2,t.moveTo(o,c),t.lineTo(a,c),t.stroke()}}function rX(t,e){let r=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=r}function ta(t,e,r,n,i,l={}){let o=Qt(e)?e:[e],a=l.strokeWidth>0&&l.strokeColor!=="",s,u;for(t.save(),t.font=i.string,eX(t,l),s=0;s<o.length;++s)u=o[s],l.backdrop&&rX(t,l.backdrop),a&&(l.strokeColor&&(t.strokeStyle=l.strokeColor),Gt(l.strokeWidth)||(t.lineWidth=l.strokeWidth),t.strokeText(u,r,n,l.maxWidth)),t.fillText(u,r,n,l.maxWidth),tX(t,r,n,u,l),n+=Number(i.lineHeight);t.restore()}function S5(t,e){let{x:r,y:n,w:i,h:l,radius:o}=e;t.arc(r+o.topLeft,n+o.topLeft,o.topLeft,1.5*mr,mr,!0),t.lineTo(r,n+l-o.bottomLeft),t.arc(r+o.bottomLeft,n+l-o.bottomLeft,o.bottomLeft,mr,Nn,!0),t.lineTo(r+i-o.bottomRight,n+l),t.arc(r+i-o.bottomRight,n+l-o.bottomRight,o.bottomRight,Nn,0,!0),t.lineTo(r+i,n+o.topRight),t.arc(r+i-o.topRight,n+o.topRight,o.topRight,0,-Nn,!0),t.lineTo(r+o.topLeft,n)}var nX=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,iX=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function lX(t,e){let r=(""+t).match(nX);if(!r||r[1]==="normal")return e*1.2;switch(t=+r[2],r[3]){case"px":return t;case"%":t/=100;break}return e*t}var oX=t=>+t||0;function T_(t,e){let r={},n=Ct(e),i=n?Object.keys(e):e,l=Ct(t)?n?o=>mt(t[o],t[e[o]]):o=>t[o]:()=>t;for(let o of i)r[o]=oX(l(o));return r}function nH(t){return T_(t,{top:"y",right:"x",bottom:"y",left:"x"})}function As(t){return T_(t,["topLeft","topRight","bottomLeft","bottomRight"])}function Wr(t){let e=nH(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function vr(t,e){t=t||{},e=e||lr.font;let r=mt(t.size,e.size);typeof r=="string"&&(r=parseInt(r,10));let n=mt(t.style,e.style);n&&!(""+n).match(iX)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);let i={family:mt(t.family,e.family),lineHeight:lX(mt(t.lineHeight,e.lineHeight),r),size:r,style:n,weight:mt(t.weight,e.weight),string:""};return i.string=$K(i),i}function M5(t,e,r,n){let i=!0,l,o,a;for(l=0,o=t.length;l<o;++l)if(a=t[l],a!==void 0&&(e!==void 0&&typeof a=="function"&&(a=a(e),i=!1),r!==void 0&&Qt(a)&&(a=a[r%a.length],i=!1),a!==void 0))return n&&!i&&(n.cacheable=!1),a}function iH(t,e,r){let{min:n,max:i}=t,l=Zz(e,(i-n)/2),o=(a,s)=>r&&a===0?0:a+s;return{min:o(n,-Math.abs(l)),max:o(i,l)}}function no(t,e){return Object.assign(Object.create(t),e)}function hf(t,e=[""],r,n,i=()=>t[0]){let l=r||t;typeof n=="undefined"&&(n=aH("_fallback",t));let o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:l,_fallback:n,_getTarget:i,override:a=>hf([a,...t],e,l,n)};return new Proxy(o,{deleteProperty(a,s){return delete a[s],delete a._keys,delete t[0][s],!0},get(a,s){return lH(a,s,()=>mX(s,e,t,a))},getOwnPropertyDescriptor(a,s){return Reflect.getOwnPropertyDescriptor(a._scopes[0],s)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(a,s){return Az(a).includes(s)},ownKeys(a){return Az(a)},set(a,s,u){let c=a._storage||(a._storage=i());return a[s]=c[s]=u,delete a._keys,!0}})}function Hs(t,e,r,n){let i={_cacheable:!1,_proxy:t,_context:e,_subProxy:r,_stack:new Set,_descriptors:z_(t,n),setContext:l=>Hs(t,l,r,n),override:l=>Hs(t.override(l),e,r,n)};return new Proxy(i,{deleteProperty(l,o){return delete l[o],delete t[o],!0},get(l,o,a){return lH(l,o,()=>sX(l,o,a))},getOwnPropertyDescriptor(l,o){return l._descriptors.allKeys?Reflect.has(t,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,o)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(l,o){return Reflect.has(t,o)},ownKeys(){return Reflect.ownKeys(t)},set(l,o,a){return t[o]=a,delete l[o],!0}})}function z_(t,e={scriptable:!0,indexable:!0}){let{_scriptable:r=e.scriptable,_indexable:n=e.indexable,_allKeys:i=e.allKeys}=t;return{allKeys:i,scriptable:r,indexable:n,isScriptable:eo(r)?r:()=>r,isIndexable:eo(n)?n:()=>n}}var aX=(t,e)=>t?t+lf(e):e,H_=(t,e)=>Ct(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function lH(t,e,r){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];let n=r();return t[e]=n,n}function sX(t,e,r){let{_proxy:n,_context:i,_subProxy:l,_descriptors:o}=t,a=n[e];return eo(a)&&o.isScriptable(e)&&(a=uX(e,a,t,r)),Qt(a)&&a.length&&(a=cX(e,a,t,o.isIndexable)),H_(e,a)&&(a=Hs(a,i,l&&l[e],o)),a}function uX(t,e,r,n){let{_proxy:i,_context:l,_subProxy:o,_stack:a}=r;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);a.add(t);let s=e(l,o||n);return a.delete(t),H_(t,s)&&(s=P_(i._scopes,i,t,s)),s}function cX(t,e,r,n){let{_proxy:i,_context:l,_subProxy:o,_descriptors:a}=r;if(typeof l.index!="undefined"&&n(t))return e[l.index%e.length];if(Ct(e[0])){let s=e,u=i._scopes.filter(c=>c!==s);e=[];for(let c of s){let f=P_(u,i,t,c);e.push(Hs(f,l,o&&o[t],a))}}return e}function oH(t,e,r){return eo(t)?t(e,r):t}var fX=(t,e)=>t===!0?e:typeof t=="string"?w5(e,t):void 0;function hX(t,e,r,n,i){for(let l of e){let o=fX(r,l);if(o){t.add(o);let a=oH(o._fallback,r,i);if(typeof a!="undefined"&&a!==r&&a!==n)return a}else if(o===!1&&typeof n!="undefined"&&r!==n)return null}return!1}function P_(t,e,r,n){let i=e._rootScopes,l=oH(e._fallback,r,n),o=[...t,...i],a=new Set;a.add(n);let s=Pz(a,o,r,l||r,n);return s===null||typeof l!="undefined"&&l!==r&&(s=Pz(a,o,l,s,n),s===null)?!1:hf(Array.from(a),[""],i,l,()=>dX(e,r,n))}function Pz(t,e,r,n,i){for(;r;)r=hX(t,e,r,n,i);return r}function dX(t,e,r){let n=t._getTarget();e in n||(n[e]={});let i=n[e];return Qt(i)&&Ct(r)?r:i||{}}function mX(t,e,r,n){let i;for(let l of e)if(i=aH(aX(l,t),r),typeof i!="undefined")return H_(t,i)?P_(r,n,t,i):i}function aH(t,e){for(let r of e){if(!r)continue;let n=r[t];if(typeof n!="undefined")return n}}function Az(t){let e=t._keys;return e||(e=t._keys=gX(t._scopes)),e}function gX(t){let e=new Set;for(let r of t)for(let n of Object.keys(r).filter(i=>!i.startsWith("_")))e.add(n);return Array.from(e)}var _X=Number.EPSILON||1e-14,j2=(t,e)=>e<t.length&&!t[e].skip&&t[e],sH=t=>t==="x"?"y":"x";function pX(t,e,r,n){let i=t.skip?e:t,l=e,o=r.skip?e:r,a=rf(l,i),s=rf(o,l),u=a/(a+s),c=s/(a+s);u=isNaN(u)?0:u,c=isNaN(c)?0:c;let f=n*u,h=n*c;return{previous:{x:l.x-f*(o.x-i.x),y:l.y-f*(o.y-i.y)},next:{x:l.x+h*(o.x-i.x),y:l.y+h*(o.y-i.y)}}}function CX(t,e,r){let n=t.length,i,l,o,a,s,u=j2(t,0);for(let c=0;c<n-1;++c)if(s=u,u=j2(t,c+1),!(!s||!u)){if(W2(e[c],0,_X)){r[c]=r[c+1]=0;continue}i=r[c]/e[c],l=r[c+1]/e[c],a=Math.pow(i,2)+Math.pow(l,2),!(a<=9)&&(o=3/Math.sqrt(a),r[c]=i*o*e[c],r[c+1]=l*o*e[c])}}function bX(t,e,r="x"){let n=sH(r),i=t.length,l,o,a,s=j2(t,0);for(let u=0;u<i;++u){if(o=a,a=s,s=j2(t,u+1),!a)continue;let c=a[r],f=a[n];o&&(l=(c-o[r])/3,a[`cp1${r}`]=c-l,a[`cp1${n}`]=f-l*e[u]),s&&(l=(s[r]-c)/3,a[`cp2${r}`]=c+l,a[`cp2${n}`]=f+l*e[u])}}function vX(t,e="x"){let r=sH(e),n=t.length,i=Array(n).fill(0),l=Array(n),o,a,s,u=j2(t,0);for(o=0;o<n;++o)if(a=s,s=u,u=j2(t,o+1),!!s){if(u){let c=u[e]-s[e];i[o]=c!==0?(u[r]-s[r])/c:0}l[o]=a?u?zs(i[o-1])!==zs(i[o])?0:(i[o-1]+i[o])/2:i[o-1]:i[o]}CX(t,i,l),bX(t,l,e)}function x4(t,e,r){return Math.max(Math.min(t,r),e)}function wX(t,e){let r,n,i,l,o,a=Yi(t[0],e);for(r=0,n=t.length;r<n;++r)o=l,l=a,a=r<n-1&&Yi(t[r+1],e),l&&(i=t[r],o&&(i.cp1x=x4(i.cp1x,e.left,e.right),i.cp1y=x4(i.cp1y,e.top,e.bottom)),a&&(i.cp2x=x4(i.cp2x,e.left,e.right),i.cp2y=x4(i.cp2y,e.top,e.bottom)))}function uH(t,e,r,n,i){let l,o,a,s;if(e.spanGaps&&(t=t.filter(u=>!u.skip)),e.cubicInterpolationMode==="monotone")vX(t,i);else{let u=n?t[t.length-1]:t[0];for(l=0,o=t.length;l<o;++l)a=t[l],s=pX(u,a,t[Math.min(l+1,o-(n?0:1))%o],e.tension),a.cp1x=s.previous.x,a.cp1y=s.previous.y,a.cp2x=s.next.x,a.cp2y=s.next.y,u=a}e.capBezierPoints&&wX(t,r)}function df(){return typeof window!="undefined"&&typeof document!="undefined"}function mf(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function nf(t,e,r){let n;return typeof t=="string"?(n=parseInt(t,10),t.indexOf("%")!==-1&&(n=n/100*e.parentNode[r])):n=t,n}var gf=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function kX(t,e){return gf(t).getPropertyValue(e)}var yX=["top","right","bottom","left"];function Ts(t,e,r){let n={};r=r?"-"+r:"";for(let i=0;i<4;i++){let l=yX[i];n[l]=parseFloat(t[e+"-"+l+r])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}var LX=(t,e,r)=>(t>0||e>0)&&(!r||!r.shadowRoot);function EX(t,e){let r=t.touches,n=r&&r.length?r[0]:t,{offsetX:i,offsetY:l}=n,o=!1,a,s;if(LX(i,l,t.target))a=i,s=l;else{let u=e.getBoundingClientRect();a=n.clientX-u.left,s=n.clientY-u.top,o=!0}return{x:a,y:s,box:o}}function ra(t,e){if("native"in t)return t;let{canvas:r,currentDevicePixelRatio:n}=e,i=gf(r),l=i.boxSizing==="border-box",o=Ts(i,"padding"),a=Ts(i,"border","width"),{x:s,y:u,box:c}=EX(t,r),f=o.left+(c&&a.left),h=o.top+(c&&a.top),{width:g,height:p}=e;return l&&(g-=o.width+a.width,p-=o.height+a.height),{x:Math.round((s-f)/g*r.width/n),y:Math.round((u-h)/p*r.height/n)}}function SX(t,e,r){let n,i;if(e===void 0||r===void 0){let l=t&&mf(t);if(!l)e=t.clientWidth,r=t.clientHeight;else{let o=l.getBoundingClientRect(),a=gf(l),s=Ts(a,"border","width"),u=Ts(a,"padding");e=o.width-u.width-s.width,r=o.height-u.height-s.height,n=nf(a.maxWidth,l,"clientWidth"),i=nf(a.maxHeight,l,"clientHeight")}}return{width:e,height:r,maxWidth:n||tf,maxHeight:i||tf}}var $4=t=>Math.round(t*10)/10;function cH(t,e,r,n){let i=gf(t),l=Ts(i,"margin"),o=nf(i.maxWidth,t,"clientWidth")||tf,a=nf(i.maxHeight,t,"clientHeight")||tf,s=SX(t,e,r),{width:u,height:c}=s;if(i.boxSizing==="content-box"){let h=Ts(i,"border","width"),g=Ts(i,"padding");u-=g.width+h.width,c-=g.height+h.height}return u=Math.max(0,u-l.width),c=Math.max(0,n?u/n:c-l.height),u=$4(Math.min(u,o,s.maxWidth)),c=$4(Math.min(c,a,s.maxHeight)),u&&!c&&(c=$4(u/2)),(e!==void 0||r!==void 0)&&n&&s.height&&c>s.height&&(c=s.height,u=$4(Math.floor(c*n))),{width:u,height:c}}function A_(t,e,r){let n=e||1,i=Math.floor(t.height*n),l=Math.floor(t.width*n);t.height=Math.floor(t.height),t.width=Math.floor(t.width);let o=t.canvas;return o.style&&(r||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),t.currentDevicePixelRatio!==n||o.height!==i||o.width!==l?(t.currentDevicePixelRatio=n,o.height=i,o.width=l,t.ctx.setTransform(n,0,0,n,0,0),!0):!1}var fH=function(){let t=!1;try{let e={get passive(){return t=!0,!1}};df()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch(e){}return t}();function R_(t,e){let r=kX(t,e),n=r&&r.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}function Qo(t,e,r,n){return{x:t.x+r*(e.x-t.x),y:t.y+r*(e.y-t.y)}}function hH(t,e,r,n){return{x:t.x+r*(e.x-t.x),y:n==="middle"?r<.5?t.y:e.y:n==="after"?r<1?t.y:e.y:r>0?e.y:t.y}}function dH(t,e,r,n){let i={x:t.cp2x,y:t.cp2y},l={x:e.cp1x,y:e.cp1y},o=Qo(t,i,r),a=Qo(i,l,r),s=Qo(l,e,r),u=Qo(o,a,r),c=Qo(a,s,r);return Qo(u,c,r)}var MX=function(t,e){return{x(r){return t+t+e-r},setWidth(r){e=r},textAlign(r){return r==="center"?r:r==="right"?"left":"right"},xPlus(r,n){return r-n},leftForLtr(r,n){return r-n}}},TX=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function Rs(t,e,r){return t?MX(e,r):TX()}function B_(t,e){let r,n;(e==="ltr"||e==="rtl")&&(r=t.canvas.style,n=[r.getPropertyValue("direction"),r.getPropertyPriority("direction")],r.setProperty("direction",e,"important"),t.prevTextDirection=n)}function O_(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function mH(t){return t==="angle"?{between:v_,compare:UK,normalize:Dn}:{between:Ps,compare:(e,r)=>e-r,normalize:e=>e}}function Rz({start:t,end:e,count:r,loop:n,style:i}){return{start:t%r,end:e%r,loop:n&&(e-t+1)%r===0,style:i}}function zX(t,e,r){let{property:n,start:i,end:l}=r,{between:o,normalize:a}=mH(n),s=e.length,{start:u,end:c,loop:f}=t,h,g;if(f){for(u+=s,c+=s,h=0,g=s;h<g&&o(a(e[u%s][n]),i,l);++h)u--,c--;u%=s,c%=s}return c<u&&(c+=s),{start:u,end:c,loop:f,style:t.style}}function V_(t,e,r){if(!r)return[t];let{property:n,start:i,end:l}=r,o=e.length,{compare:a,between:s,normalize:u}=mH(n),{start:c,end:f,loop:h,style:g}=zX(t,e,r),p=[],w=!1,b=null,v,S,P,Z=()=>s(i,P,v)&&a(i,P)!==0,y=()=>a(l,v)===0||s(l,P,v),W=()=>w||Z(),X=()=>!w||y();for(let x=c,le=c;x<=f;++x)S=e[x%o],!S.skip&&(v=u(S[n]),v!==P&&(w=s(v,i,l),b===null&&W()&&(b=a(v,i)===0?x:le),b!==null&&X()&&(p.push(Rz({start:b,end:x,loop:h,count:o,style:g})),b=null),le=x,P=v));return b!==null&&p.push(Rz({start:b,end:f,loop:h,count:o,style:g})),p}function Z_(t,e){let r=[],n=t.segments;for(let i=0;i<n.length;i++){let l=V_(n[i],t.points,e);l.length&&r.push(...l)}return r}function HX(t,e,r,n){let i=0,l=e-1;if(r&&!n)for(;i<e&&!t[i].skip;)i++;for(;i<e&&t[i].skip;)i++;for(i%=e,r&&(l+=i);l>i&&t[l%e].skip;)l--;return l%=e,{start:i,end:l}}function PX(t,e,r,n){let i=t.length,l=[],o=e,a=t[e],s;for(s=e+1;s<=r;++s){let u=t[s%i];u.skip||u.stop?a.skip||(n=!1,l.push({start:e%i,end:(s-1)%i,loop:n}),e=o=u.stop?s:null):(o=s,a.skip&&(e=s)),a=u}return o!==null&&l.push({start:e%i,end:o%i,loop:n}),l}function gH(t,e){let r=t.points,n=t.options.spanGaps,i=r.length;if(!i)return[];let l=!!t._loop,{start:o,end:a}=HX(r,i,l,n);if(n===!0)return Bz(t,[{start:o,end:a,loop:l}],r,e);let s=a<o?a+i:a,u=!!t._fullLoop&&o===0&&a===i-1;return Bz(t,PX(r,o,s,u),r,e)}function Bz(t,e,r,n){return!n||!n.setContext||!r?e:AX(t,e,r,n)}function AX(t,e,r,n){let i=t._chart.getContext(),l=Oz(t.options),{_datasetIndex:o,options:{spanGaps:a}}=t,s=r.length,u=[],c=l,f=e[0].start,h=f;function g(p,w,b,v){let S=a?-1:1;if(p!==w){for(p+=s;r[p%s].skip;)p-=S;for(;r[w%s].skip;)w+=S;p%s!==w%s&&(u.push({start:p%s,end:w%s,loop:b,style:v}),c=v,f=w%s)}}for(let p of e){f=a?f:p.start;let w=r[f%s],b;for(h=f+1;h<=p.end;h++){let v=r[h%s];b=Oz(n.setContext(no(i,{type:"segment",p0:w,p1:v,p0DataIndex:(h-1)%s,p1DataIndex:h%s,datasetIndex:o}))),RX(b,c)&&g(f,h-1,p.loop,c),w=v,c=b}f<h-1&&g(f,h-1,p.loop,c)}return u}function Oz(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function RX(t,e){if(!e)return!1;let r=[],n=function(i,l){return L_(l)?(r.includes(l)||r.push(l),r.indexOf(l)):l};return JSON.stringify(t,n)!==JSON.stringify(e,n)}var U_=class{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,r,n,i){let l=r.listeners[i],o=r.duration;l.forEach(a=>a({chart:e,initial:r.initial,numSteps:o,currentStep:Math.min(n-r.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=k_.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let r=0;this._charts.forEach((n,i)=>{if(!n.running||!n.items.length)return;let l=n.items,o=l.length-1,a=!1,s;for(;o>=0;--o)s=l[o],s._active?(s._total>n.duration&&(n.duration=s._total),s.tick(e),a=!0):(l[o]=l[l.length-1],l.pop());a&&(i.draw(),this._notify(i,n,e,"progress")),l.length||(n.running=!1,this._notify(i,n,e,"complete"),n.initial=!1),r+=l.length}),this._lastDate=e,r===0&&(this._running=!1)}_getAnims(e){let r=this._charts,n=r.get(e);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},r.set(e,n)),n}listen(e,r,n){this._getAnims(e).listeners[r].push(n)}add(e,r){!r||!r.length||this._getAnims(e).items.push(...r)}has(e){return this._getAnims(e).items.length>0}start(e){let r=this._charts.get(e);r&&(r.running=!0,r.start=Date.now(),r.duration=r.items.reduce((n,i)=>Math.max(n,i._duration),0),this._refresh())}running(e){if(!this._running)return!1;let r=this._charts.get(e);return!(!r||!r.running||!r.items.length)}stop(e){let r=this._charts.get(e);if(!r||!r.items.length)return;let n=r.items,i=n.length-1;for(;i>=0;--i)n[i].cancel();r.items=[],this._notify(e,r,Date.now(),"complete")}remove(e){return this._charts.delete(e)}},io=new U_,_H="transparent",BX={boolean(t,e,r){return r>.5?e:t},color(t,e,r){let n=E_(t||_H),i=n.valid&&E_(e||_H);return i&&i.valid?i.mix(n,r).hexString():e},number(t,e,r){return t+(e-t)*r}},Y_=class{constructor(e,r,n,i){let l=r[n];i=M5([e.to,i,l,e.from]);let o=M5([e.from,l,i]);this._active=!0,this._fn=e.fn||BX[e.type||typeof o],this._easing=N2[e.easing]||N2.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=r,this._prop=n,this._from=o,this._to=i,this._promises=void 0}active(){return this._active}update(e,r,n){if(this._active){this._notify(!1);let i=this._target[this._prop],l=n-this._start,o=this._duration-l;this._start=n,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=l,this._loop=!!e.loop,this._to=M5([e.to,r,i,e.from]),this._from=M5([e.from,i,r])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){let r=e-this._start,n=this._duration,i=this._prop,l=this._from,o=this._loop,a=this._to,s;if(this._active=l!==a&&(o||r<n),!this._active){this._target[i]=a,this._notify(!0);return}if(r<0){this._target[i]=l;return}s=r/n%2,s=o&&s>1?2-s:s,s=this._easing(Math.min(1,Math.max(0,s))),this._target[i]=this._fn(l,a,s)}wait(){let e=this._promises||(this._promises=[]);return new Promise((r,n)=>{e.push({res:r,rej:n})})}_notify(e){let r=e?"res":"rej",n=this._promises||[];for(let i=0;i<n.length;i++)n[i][r]()}},Sf=class{constructor(e,r){this._chart=e,this._properties=new Map,this.configure(r)}configure(e){if(!Ct(e))return;let r=Object.keys(lr.animation),n=this._properties;Object.getOwnPropertyNames(e).forEach(i=>{let l=e[i];if(!Ct(l))return;let o={};for(let a of r)o[a]=l[a];(Qt(l.properties)&&l.properties||[i]).forEach(a=>{(a===i||!n.has(a))&&n.set(a,o)})})}_animateOptions(e,r){let n=r.options,i=VX(e,n);if(!i)return[];let l=this._createAnimations(i,n);return n.$shared&&OX(e.options.$animations,n).then(()=>{e.options=n},()=>{}),l}_createAnimations(e,r){let n=this._properties,i=[],l=e.$animations||(e.$animations={}),o=Object.keys(r),a=Date.now(),s;for(s=o.length-1;s>=0;--s){let u=o[s];if(u.charAt(0)==="$")continue;if(u==="options"){i.push(...this._animateOptions(e,r));continue}let c=r[u],f=l[u],h=n.get(u);if(f)if(h&&f.active()){f.update(h,c,a);continue}else f.cancel();if(!h||!h.duration){e[u]=c;continue}l[u]=f=new Y_(h,e,u,c),i.push(f)}return i}update(e,r){if(this._properties.size===0){Object.assign(e,r);return}let n=this._createAnimations(e,r);if(n.length)return io.add(this._chart,n),!0}};function OX(t,e){let r=[],n=Object.keys(e);for(let i=0;i<n.length;i++){let l=t[n[i]];l&&l.active()&&r.push(l.wait())}return Promise.all(r)}function VX(t,e){if(!e)return;let r=t.options;if(!r){t.options=e;return}return r.$shared&&(t.options=r=Object.assign({},r,{$shared:!1,$animations:{}})),r}function pH(t,e){let r=t&&t.options||{},n=r.reverse,i=r.min===void 0?e:0,l=r.max===void 0?e:0;return{start:n?l:i,end:n?i:l}}function ZX(t,e,r){if(r===!1)return!1;let n=pH(t,r),i=pH(e,r);return{top:i.end,right:n.end,bottom:i.start,left:n.start}}function IX(t){let e,r,n,i;return Ct(t)?(e=t.top,r=t.right,n=t.bottom,i=t.left):e=r=n=i=t,{top:e,right:r,bottom:n,left:i,disabled:t===!1}}function uP(t,e){let r=[],n=t._getSortedDatasetMetas(e),i,l;for(i=0,l=n.length;i<l;++i)r.push(n[i].index);return r}function CH(t,e,r,n={}){let i=t.keys,l=n.mode==="single",o,a,s,u;if(e===null)return;let c=!1;for(o=0,a=i.length;o<a;++o){if(s=+i[o],s===r){if(c=!0,n.all)continue;break}u=t.values[s],ir(u)&&(l||e===0||zs(e)===zs(u))&&(e+=u)}return!c&&!n.all?0:e}function DX(t,e){let{iScale:r,vScale:n}=e,i=r.axis==="x"?"x":"y",l=n.axis==="x"?"x":"y",o=Object.keys(t),a=new Array(o.length),s,u,c;for(s=0,u=o.length;s<u;++s)c=o[s],a[s]={[i]:c,[l]:t[c]};return a}function I_(t,e){let r=t&&t.options.stacked;return r||r===void 0&&e.stack!==void 0}function NX(t,e,r){return`${t.id}.${e.id}.${r.stack||r.type}`}function FX(t){let{min:e,max:r,minDefined:n,maxDefined:i}=t.getUserBounds();return{min:n?e:Number.NEGATIVE_INFINITY,max:i?r:Number.POSITIVE_INFINITY}}function jX(t,e,r){let n=t[e]||(t[e]={});return n[r]||(n[r]={})}function bH(t,e,r,n){for(let i of e.getMatchingVisibleMetas(n).reverse()){let l=t[i.index];if(r&&l>0||!r&&l<0)return i.index}return null}function vH(t,e){let{chart:r,_cachedMeta:n}=t,i=r._stacks||(r._stacks={}),{iScale:l,vScale:o,index:a}=n,s=l.axis,u=o.axis,c=NX(l,o,n),f=e.length,h;for(let g=0;g<f;++g){let p=e[g],{[s]:w,[u]:b}=p,v=p._stacks||(p._stacks={});h=v[u]=jX(i,c,w),h[a]=b,h._top=bH(h,o,!0,n.type),h._bottom=bH(h,o,!1,n.type);let S=h._visualValues||(h._visualValues={});S[a]=b}}function D_(t,e){let r=t.scales;return Object.keys(r).filter(n=>r[n].axis===e).shift()}function qX(t,e){return no(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function WX(t,e,r){return no(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:r,index:e,mode:"default",type:"data"})}function T5(t,e){let r=t.controller.index,n=t.vScale&&t.vScale.axis;if(n){e=e||t._parsed;for(let i of e){let l=i._stacks;if(!l||l[n]===void 0||l[n][r]===void 0)return;delete l[n][r],l[n]._visualValues!==void 0&&l[n]._visualValues[r]!==void 0&&delete l[n]._visualValues[r]}}}var N_=t=>t==="reset"||t==="none",wH=(t,e)=>e?t:Object.assign({},t),UX=(t,e,r)=>t&&!e.hidden&&e._stacked&&{keys:uP(r,!0),values:null},Vs=class{constructor(e,r){this.chart=e,this._ctx=e.ctx,this.index=r,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){let e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=I_(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&T5(this._cachedMeta),this.index=e}linkScales(){let e=this.chart,r=this._cachedMeta,n=this.getDataset(),i=(f,h,g,p)=>f==="x"?h:f==="r"?p:g,l=r.xAxisID=mt(n.xAxisID,D_(e,"x")),o=r.yAxisID=mt(n.yAxisID,D_(e,"y")),a=r.rAxisID=mt(n.rAxisID,D_(e,"r")),s=r.indexAxis,u=r.iAxisID=i(s,l,o,a),c=r.vAxisID=i(s,o,l,a);r.xScale=this.getScaleForId(l),r.yScale=this.getScaleForId(o),r.rScale=this.getScaleForId(a),r.iScale=this.getScaleForId(u),r.vScale=this.getScaleForId(c)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){let r=this._cachedMeta;return e===r.iScale?r.vScale:r.iScale}reset(){this._update("reset")}_destroy(){let e=this._cachedMeta;this._data&&w_(this._data,this),e._stacked&&T5(e)}_dataCheck(){let e=this.getDataset(),r=e.data||(e.data=[]),n=this._data;if(Ct(r)){let i=this._cachedMeta;this._data=DX(r,i)}else if(n!==r){if(n){w_(n,this);let i=this._cachedMeta;T5(i),i._parsed=[]}r&&Object.isExtensible(r)&&Gz(r,this),this._syncList=[],this._data=r}}addElements(){let e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){let r=this._cachedMeta,n=this.getDataset(),i=!1;this._dataCheck();let l=r._stacked;r._stacked=I_(r.vScale,r),r.stack!==n.stack&&(i=!0,T5(r),r.stack=n.stack),this._resyncElements(e),(i||l!==r._stacked)&&(vH(this,r._parsed),r._stacked=I_(r.vScale,r))}configure(){let e=this.chart.config,r=e.datasetScopeKeys(this._type),n=e.getOptionScopes(this.getDataset(),r,!0);this.options=e.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,r){let{_cachedMeta:n,_data:i}=this,{iScale:l,_stacked:o}=n,a=l.axis,s=e===0&&r===i.length?!0:n._sorted,u=e>0&&n._parsed[e-1],c,f,h;if(this._parsing===!1)n._parsed=i,n._sorted=!0,h=i;else{Qt(i[e])?h=this.parseArrayData(n,i,e,r):Ct(i[e])?h=this.parseObjectData(n,i,e,r):h=this.parsePrimitiveData(n,i,e,r);let g=()=>f[a]===null||u&&f[a]<u[a];for(c=0;c<r;++c)n._parsed[c+e]=f=h[c],s&&(g()&&(s=!1),u=f);n._sorted=s}o&&vH(this,h)}parsePrimitiveData(e,r,n,i){let{iScale:l,vScale:o}=e,a=l.axis,s=o.axis,u=l.getLabels(),c=l===o,f=new Array(i),h,g,p;for(h=0,g=i;h<g;++h)p=h+n,f[h]={[a]:c||l.parse(u[p],p),[s]:o.parse(r[p],p)};return f}parseArrayData(e,r,n,i){let{xScale:l,yScale:o}=e,a=new Array(i),s,u,c,f;for(s=0,u=i;s<u;++s)c=s+n,f=r[c],a[s]={x:l.parse(f[0],c),y:o.parse(f[1],c)};return a}parseObjectData(e,r,n,i){let{xScale:l,yScale:o}=e,{xAxisKey:a="x",yAxisKey:s="y"}=this._parsing,u=new Array(i),c,f,h,g;for(c=0,f=i;c<f;++c)h=c+n,g=r[h],u[c]={x:l.parse(w5(g,a),h),y:o.parse(w5(g,s),h)};return u}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,r,n){let i=this.chart,l=this._cachedMeta,o=r[e.axis],a={keys:uP(i,!0),values:r._stacks[e.axis]._visualValues};return CH(a,o,l.index,{mode:n})}updateRangeFromParsed(e,r,n,i){let l=n[r.axis],o=l===null?NaN:l,a=i&&n._stacks[r.axis];i&&a&&(i.values=a,o=CH(i,l,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,r){let n=this._cachedMeta,i=n._parsed,l=n._sorted&&e===n.iScale,o=i.length,a=this._getOtherScale(e),s=UX(r,n,this.chart),u={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:c,max:f}=FX(a),h,g;function p(){g=i[h];let w=g[a.axis];return!ir(g[e.axis])||c>w||f<w}for(h=0;h<o&&!(!p()&&(this.updateRangeFromParsed(u,e,g,s),l));++h);if(l){for(h=o-1;h>=0;--h)if(!p()){this.updateRangeFromParsed(u,e,g,s);break}}return u}getAllParsedValues(e){let r=this._cachedMeta._parsed,n=[],i,l,o;for(i=0,l=r.length;i<l;++i)o=r[i][e.axis],ir(o)&&n.push(o);return n}getMaxOverflow(){return!1}getLabelAndValue(e){let r=this._cachedMeta,n=r.iScale,i=r.vScale,l=this.getParsed(e);return{label:n?""+n.getLabelForValue(l[n.axis]):"",value:i?""+i.getLabelForValue(l[i.axis]):""}}_update(e){let r=this._cachedMeta;this.update(e||"default"),r._clip=IX(mt(this.options.clip,ZX(r.xScale,r.yScale,this.getMaxOverflow())))}update(e){}draw(){let e=this._ctx,r=this.chart,n=this._cachedMeta,i=n.data||[],l=r.chartArea,o=[],a=this._drawStart||0,s=this._drawCount||i.length-a,u=this.options.drawActiveElementsOnTop,c;for(n.dataset&&n.dataset.draw(e,l,a,s),c=a;c<a+s;++c){let f=i[c];f.hidden||(f.active&&u?o.push(f):f.draw(e,l))}for(c=0;c<o.length;++c)o[c].draw(e,l)}getStyle(e,r){let n=r?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(e||0,n)}getContext(e,r,n){let i=this.getDataset(),l;if(e>=0&&e<this._cachedMeta.data.length){let o=this._cachedMeta.data[e];l=o.$context||(o.$context=WX(this.getContext(),e,o)),l.parsed=this.getParsed(e),l.raw=i.data[e],l.index=l.dataIndex=e}else l=this.$context||(this.$context=qX(this.chart.getContext(),this.index)),l.dataset=i,l.index=l.datasetIndex=this.index;return l.active=!!r,l.mode=n,l}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,r){return this._resolveElementOptions(this.dataElementType.id,r,e)}_resolveElementOptions(e,r="default",n){let i=r==="active",l=this._cachedDataOpts,o=e+"-"+r,a=l[o],s=this.enableOptionSharing&&k5(n);if(a)return wH(a,s);let u=this.chart.config,c=u.datasetElementScopeKeys(this._type,e),f=i?[`${e}Hover`,"hover",e,""]:[e,""],h=u.getOptionScopes(this.getDataset(),c),g=Object.keys(lr.elements[e]),p=()=>this.getContext(n,i,r),w=u.resolveNamedOptions(h,g,p,f);return w.$shared&&(w.$shared=s,l[o]=Object.freeze(wH(w,s))),w}_resolveAnimations(e,r,n){let i=this.chart,l=this._cachedDataOpts,o=`animation-${r}`,a=l[o];if(a)return a;let s;if(i.options.animation!==!1){let c=this.chart.config,f=c.datasetAnimationScopeKeys(this._type,r),h=c.getOptionScopes(this.getDataset(),f);s=c.createResolver(h,this.getContext(e,n,r))}let u=new Sf(i,s&&s.animations);return s&&s._cacheable&&(l[o]=Object.freeze(u)),u}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,r){return!r||N_(e)||this.chart._animationsDisabled}_getSharedOptions(e,r){let n=this.resolveDataElementOptions(e,r),i=this._sharedOptions,l=this.getSharedOptions(n),o=this.includeOptions(r,l)||l!==i;return this.updateSharedOptions(l,r,n),{sharedOptions:l,includeOptions:o}}updateElement(e,r,n,i){N_(i)?Object.assign(e,n):this._resolveAnimations(r,i).update(e,n)}updateSharedOptions(e,r,n){e&&!N_(r)&&this._resolveAnimations(void 0,r).update(e,n)}_setStyle(e,r,n,i){e.active=i;let l=this.getStyle(r,i);this._resolveAnimations(r,n,i).update(e,{options:!i&&this.getSharedOptions(l)||l})}removeHoverStyle(e,r,n){this._setStyle(e,n,"active",!1)}setHoverStyle(e,r,n){this._setStyle(e,n,"active",!0)}_removeDatasetHoverStyle(){let e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){let e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){let r=this._data,n=this._cachedMeta.data;for(let[a,s,u]of this._syncList)this[a](s,u);this._syncList=[];let i=n.length,l=r.length,o=Math.min(l,i);o&&this.parse(0,o),l>i?this._insertElements(i,l-i,e):l<i&&this._removeElements(l,i-l)}_insertElements(e,r,n=!0){let i=this._cachedMeta,l=i.data,o=e+r,a,s=u=>{for(u.length+=r,a=u.length-1;a>=o;a--)u[a]=u[a-r]};for(s(l),a=e;a<o;++a)l[a]=new this.dataElementType;this._parsing&&s(i._parsed),this.parse(e,r),n&&this.updateElements(l,e,r,"reset")}updateElements(e,r,n,i){}_removeElements(e,r){let n=this._cachedMeta;if(this._parsing){let i=n._parsed.splice(e,r);n._stacked&&T5(n,i)}n.data.splice(e,r)}_sync(e){if(this._parsing)this._syncList.push(e);else{let[r,n,i]=e;this[r](n,i)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){let e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,r){r&&this._sync(["_removeElements",e,r]);let n=arguments.length-2;n&&this._sync(["_insertElements",e,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}};Le(Vs,"defaults",{}),Le(Vs,"datasetElementType",null),Le(Vs,"dataElementType",null);var Zs=class extends Vs{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){let r=this._cachedMeta,{dataset:n,data:i=[],_dataset:l}=r,o=this.chart._animationsDisabled,{start:a,count:s}=Qz(r,i,o);this._drawStart=a,this._drawCount=s,xz(r)&&(a=0,s=i.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!l._decimated,n.points=i;let u=this.resolveDatasetElementOptions(e);this.options.showLine||(u.borderWidth=0),u.segment=this.options.segment,this.updateElement(n,void 0,{animated:!o,options:u},e),this.updateElements(i,a,s,e)}updateElements(e,r,n,i){let l=i==="reset",{iScale:o,vScale:a,_stacked:s,_dataset:u}=this._cachedMeta,{sharedOptions:c,includeOptions:f}=this._getSharedOptions(r,i),h=o.axis,g=a.axis,{spanGaps:p,segment:w}=this.options,b=U2(p)?p:Number.POSITIVE_INFINITY,v=this.chart._animationsDisabled||l||i==="none",S=r+n,P=e.length,Z=r>0&&this.getParsed(r-1);for(let y=0;y<P;++y){let W=e[y],X=v?W:{};if(y<r||y>=S){X.skip=!0;continue}let x=this.getParsed(y),le=Gt(x[g]),oe=X[h]=o.getPixelForValue(x[h],y),$=X[g]=l||le?a.getBasePixel():a.getPixelForValue(s?this.applyStack(a,x,s):x[g],y);X.skip=isNaN(oe)||isNaN($)||le,X.stop=y>0&&Math.abs(x[h]-Z[h])>b,w&&(X.parsed=x,X.raw=u.data[y]),f&&(X.options=c||this.resolveDataElementOptions(y,W.active?"active":i)),v||this.updateElement(W,y,X,i),Z=x}}getMaxOverflow(){let e=this._cachedMeta,r=e.dataset,n=r.options&&r.options.borderWidth||0,i=e.data||[];if(!i.length)return n;let l=i[0].size(this.resolveDataElementOptions(0)),o=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(n,l,o)/2}draw(){let e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}};Le(Zs,"id","line"),Le(Zs,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),Le(Zs,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});function Bs(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}var G_=class t{constructor(e){Le(this,"options");this.options=e||{}}static override(e){Object.assign(t.prototype,e)}init(){}formats(){return Bs()}parse(){return Bs()}format(){return Bs()}add(){return Bs()}diff(){return Bs()}startOf(){return Bs()}endOf(){return Bs()}},YX={_date:G_};function GX(t,e,r,n){let{controller:i,data:l,_sorted:o}=t,a=i._cachedMeta.iScale;if(a&&e===a.axis&&e!=="r"&&o&&l.length){let s=a._reversePixels?Wz:xo;if(n){if(i._sharedOptions){let u=l[0],c=typeof u.getRange=="function"&&u.getRange(e);if(c){let f=s(l,e,r-c),h=s(l,e,r+c);return{lo:f.lo,hi:h.hi}}}}else return s(l,e,r)}return{lo:0,hi:l.length-1}}function I5(t,e,r,n,i){let l=t.getSortedVisibleDatasetMetas(),o=r[e];for(let a=0,s=l.length;a<s;++a){let{index:u,data:c}=l[a],{lo:f,hi:h}=GX(l[a],e,o,i);for(let g=f;g<=h;++g){let p=c[g];p.skip||n(p,u,g)}}}function JX(t){let e=t.indexOf("x")!==-1,r=t.indexOf("y")!==-1;return function(n,i){let l=e?Math.abs(n.x-i.x):0,o=r?Math.abs(n.y-i.y):0;return Math.sqrt(Math.pow(l,2)+Math.pow(o,2))}}function F_(t,e,r,n,i){let l=[];return!i&&!t.isPointInArea(e)||I5(t,r,e,function(a,s,u){!i&&!Yi(a,t.chartArea,0)||a.inRange(e.x,e.y,n)&&l.push({element:a,datasetIndex:s,index:u})},!0),l}function KX(t,e,r,n){let i=[];function l(o,a,s){let{startAngle:u,endAngle:c}=o.getProps(["startAngle","endAngle"],n),{angle:f}=jz(o,{x:e.x,y:e.y});v_(f,u,c)&&i.push({element:o,datasetIndex:a,index:s})}return I5(t,r,e,l),i}function XX(t,e,r,n,i,l){let o=[],a=JX(r),s=Number.POSITIVE_INFINITY;function u(c,f,h){let g=c.inRange(e.x,e.y,i);if(n&&!g)return;let p=c.getCenterPoint(i);if(!(!!l||t.isPointInArea(p))&&!g)return;let b=a(e,p);b<s?(o=[{element:c,datasetIndex:f,index:h}],s=b):b===s&&o.push({element:c,datasetIndex:f,index:h})}return I5(t,r,e,u),o}function j_(t,e,r,n,i,l){return!l&&!t.isPointInArea(e)?[]:r==="r"&&!n?KX(t,e,r,i):XX(t,e,r,n,i,l)}function kH(t,e,r,n,i){let l=[],o=r==="x"?"inXRange":"inYRange",a=!1;return I5(t,r,e,(s,u,c)=>{s[o]&&s[o](e[r],i)&&(l.push({element:s,datasetIndex:u,index:c}),a=a||s.inRange(e.x,e.y,i))}),n&&!a?[]:l}var QX={evaluateInteractionItems:I5,modes:{index(t,e,r,n){let i=ra(e,t),l=r.axis||"x",o=r.includeInvisible||!1,a=r.intersect?F_(t,i,l,n,o):j_(t,i,l,!1,n,o),s=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach(u=>{let c=a[0].index,f=u.data[c];f&&!f.skip&&s.push({element:f,datasetIndex:u.index,index:c})}),s):[]},dataset(t,e,r,n){let i=ra(e,t),l=r.axis||"xy",o=r.includeInvisible||!1,a=r.intersect?F_(t,i,l,n,o):j_(t,i,l,!1,n,o);if(a.length>0){let s=a[0].datasetIndex,u=t.getDatasetMeta(s).data;a=[];for(let c=0;c<u.length;++c)a.push({element:u[c],datasetIndex:s,index:c})}return a},point(t,e,r,n){let i=ra(e,t),l=r.axis||"xy",o=r.includeInvisible||!1;return F_(t,i,l,n,o)},nearest(t,e,r,n){let i=ra(e,t),l=r.axis||"xy",o=r.includeInvisible||!1;return j_(t,i,l,r.intersect,n,o)},x(t,e,r,n){let i=ra(e,t);return kH(t,i,"x",r.intersect,n)},y(t,e,r,n){let i=ra(e,t);return kH(t,i,"y",r.intersect,n)}}},cP=["left","top","right","bottom"];function z5(t,e){return t.filter(r=>r.pos===e)}function yH(t,e){return t.filter(r=>cP.indexOf(r.pos)===-1&&r.box.axis===e)}function H5(t,e){return t.sort((r,n)=>{let i=e?n:r,l=e?r:n;return i.weight===l.weight?i.index-l.index:i.weight-l.weight})}function xX(t){let e=[],r,n,i,l,o,a;for(r=0,n=(t||[]).length;r<n;++r)i=t[r],{position:l,options:{stack:o,stackWeight:a=1}}=i,e.push({index:r,box:i,pos:l,horizontal:i.isHorizontal(),weight:i.weight,stack:o&&l+o,stackWeight:a});return e}function $X(t){let e={};for(let r of t){let{stack:n,pos:i,stackWeight:l}=r;if(!n||!cP.includes(i))continue;let o=e[n]||(e[n]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=l}return e}function eQ(t,e){let r=$X(t),{vBoxMaxWidth:n,hBoxMaxHeight:i}=e,l,o,a;for(l=0,o=t.length;l<o;++l){a=t[l];let{fullSize:s}=a.box,u=r[a.stack],c=u&&a.stackWeight/u.weight;a.horizontal?(a.width=c?c*n:s&&e.availableWidth,a.height=i):(a.width=n,a.height=c?c*i:s&&e.availableHeight)}return r}function tQ(t){let e=xX(t),r=H5(e.filter(u=>u.box.fullSize),!0),n=H5(z5(e,"left"),!0),i=H5(z5(e,"right")),l=H5(z5(e,"top"),!0),o=H5(z5(e,"bottom")),a=yH(e,"x"),s=yH(e,"y");return{fullSize:r,leftAndTop:n.concat(l),rightAndBottom:i.concat(s).concat(o).concat(a),chartArea:z5(e,"chartArea"),vertical:n.concat(i).concat(s),horizontal:l.concat(o).concat(a)}}function LH(t,e,r,n){return Math.max(t[r],e[r])+Math.max(t[n],e[n])}function fP(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function rQ(t,e,r,n){let{pos:i,box:l}=r,o=t.maxPadding;if(!Ct(i)){r.size&&(t[i]-=r.size);let f=n[r.stack]||{size:0,count:1};f.size=Math.max(f.size,r.horizontal?l.height:l.width),r.size=f.size/f.count,t[i]+=r.size}l.getPadding&&fP(o,l.getPadding());let a=Math.max(0,e.outerWidth-LH(o,t,"left","right")),s=Math.max(0,e.outerHeight-LH(o,t,"top","bottom")),u=a!==t.w,c=s!==t.h;return t.w=a,t.h=s,r.horizontal?{same:u,other:c}:{same:c,other:u}}function nQ(t){let e=t.maxPadding;function r(n){let i=Math.max(e[n]-t[n],0);return t[n]+=i,i}t.y+=r("top"),t.x+=r("left"),r("right"),r("bottom")}function iQ(t,e){let r=e.maxPadding;function n(i){let l={left:0,top:0,right:0,bottom:0};return i.forEach(o=>{l[o]=Math.max(e[o],r[o])}),l}return n(t?["left","right"]:["top","bottom"])}function R5(t,e,r,n){let i=[],l,o,a,s,u,c;for(l=0,o=t.length,u=0;l<o;++l){a=t[l],s=a.box,s.update(a.width||e.w,a.height||e.h,iQ(a.horizontal,e));let{same:f,other:h}=rQ(e,r,a,n);u|=f&&i.length,c=c||h,s.fullSize||i.push(a)}return u&&R5(i,e,r,n)||c}function _f(t,e,r,n,i){t.top=r,t.left=e,t.right=e+n,t.bottom=r+i,t.width=n,t.height=i}function EH(t,e,r,n){let i=r.padding,{x:l,y:o}=e;for(let a of t){let s=a.box,u=n[a.stack]||{count:1,placed:0,weight:1},c=a.stackWeight/u.weight||1;if(a.horizontal){let f=e.w*c,h=u.size||s.height;k5(u.start)&&(o=u.start),s.fullSize?_f(s,i.left,o,r.outerWidth-i.right-i.left,h):_f(s,e.left+u.placed,o,f,h),u.start=o,u.placed+=f,o=s.bottom}else{let f=e.h*c,h=u.size||s.width;k5(u.start)&&(l=u.start),s.fullSize?_f(s,l,i.top,h,r.outerHeight-i.bottom-i.top):_f(s,l,e.top+u.placed,h,f),u.start=l,u.placed+=f,l=s.right}}e.x=l,e.y=o}var B1={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(r){e.draw(r)}}]},t.boxes.push(e)},removeBox(t,e){let r=t.boxes?t.boxes.indexOf(e):-1;r!==-1&&t.boxes.splice(r,1)},configure(t,e,r){e.fullSize=r.fullSize,e.position=r.position,e.weight=r.weight},update(t,e,r,n){if(!t)return;let i=Wr(t.options.layout.padding),l=Math.max(e-i.width,0),o=Math.max(r-i.height,0),a=tQ(t.boxes),s=a.vertical,u=a.horizontal;zt(t.boxes,w=>{typeof w.beforeLayout=="function"&&w.beforeLayout()});let c=s.reduce((w,b)=>b.box.options&&b.box.options.display===!1?w:w+1,0)||1,f=Object.freeze({outerWidth:e,outerHeight:r,padding:i,availableWidth:l,availableHeight:o,vBoxMaxWidth:l/2/c,hBoxMaxHeight:o/2}),h=Object.assign({},i);fP(h,Wr(n));let g=Object.assign({maxPadding:h,w:l,h:o,x:i.left,y:i.top},i),p=eQ(s.concat(u),f);R5(a.fullSize,g,f,p),R5(s,g,f,p),R5(u,g,f,p)&&R5(s,g,f,p),nQ(g),EH(a.leftAndTop,g,f,p),g.x+=g.w,g.y+=g.h,EH(a.rightAndBottom,g,f,p),t.chartArea={left:g.left,top:g.top,right:g.left+g.w,bottom:g.top+g.h,height:g.h,width:g.w},zt(a.chartArea,w=>{let b=w.box;Object.assign(b,t.chartArea),b.update(g.w,g.h,{left:0,top:0,right:0,bottom:0})})}},Mf=class{acquireContext(e,r){}releaseContext(e){return!1}addEventListener(e,r,n){}removeEventListener(e,r,n){}getDevicePixelRatio(){return 1}getMaximumSize(e,r,n,i){return r=Math.max(0,r||e.width),n=n||e.height,{width:r,height:Math.max(0,i?Math.floor(r/i):n)}}isAttached(e){return!0}updateConfig(e){}},J_=class extends Mf{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}},Lf="$chartjs",lQ={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},SH=t=>t===null||t==="";function oQ(t,e){let r=t.style,n=t.getAttribute("height"),i=t.getAttribute("width");if(t[Lf]={initial:{height:n,width:i,style:{display:r.display,height:r.height,width:r.width}}},r.display=r.display||"block",r.boxSizing=r.boxSizing||"border-box",SH(i)){let l=R_(t,"width");l!==void 0&&(t.width=l)}if(SH(n))if(t.style.height==="")t.height=t.width/(e||2);else{let l=R_(t,"height");l!==void 0&&(t.height=l)}return t}var hP=fH?{passive:!0}:!1;function aQ(t,e,r){t&&t.addEventListener(e,r,hP)}function sQ(t,e,r){t&&t.canvas&&t.canvas.removeEventListener(e,r,hP)}function uQ(t,e){let r=lQ[t.type]||t.type,{x:n,y:i}=ra(t,e);return{type:r,chart:e,native:t,x:n!==void 0?n:null,y:i!==void 0?i:null}}function Tf(t,e){for(let r of t)if(r===e||r.contains(e))return!0}function cQ(t,e,r){let n=t.canvas,i=new MutationObserver(l=>{let o=!1;for(let a of l)o=o||Tf(a.addedNodes,n),o=o&&!Tf(a.removedNodes,n);o&&r()});return i.observe(document,{childList:!0,subtree:!0}),i}function fQ(t,e,r){let n=t.canvas,i=new MutationObserver(l=>{let o=!1;for(let a of l)o=o||Tf(a.removedNodes,n),o=o&&!Tf(a.addedNodes,n);o&&r()});return i.observe(document,{childList:!0,subtree:!0}),i}var V5=new Map,MH=0;function dP(){let t=window.devicePixelRatio;t!==MH&&(MH=t,V5.forEach((e,r)=>{r.currentDevicePixelRatio!==t&&e()}))}function hQ(t,e){V5.size||window.addEventListener("resize",dP),V5.set(t,e)}function dQ(t){V5.delete(t),V5.size||window.removeEventListener("resize",dP)}function mQ(t,e,r){let n=t.canvas,i=n&&mf(n);if(!i)return;let l=y_((a,s)=>{let u=i.clientWidth;r(a,s),u<i.clientWidth&&r()},window),o=new ResizeObserver(a=>{let s=a[0],u=s.contentRect.width,c=s.contentRect.height;u===0&&c===0||l(u,c)});return o.observe(i),hQ(t,l),o}function q_(t,e,r){r&&r.disconnect(),e==="resize"&&dQ(t)}function gQ(t,e,r){let n=t.canvas,i=y_(l=>{t.ctx!==null&&r(uQ(l,t))},t);return aQ(n,e,i),i}var K_=class extends Mf{acquireContext(e,r){let n=e&&e.getContext&&e.getContext("2d");return n&&n.canvas===e?(oQ(e,r),n):null}releaseContext(e){let r=e.canvas;if(!r[Lf])return!1;let n=r[Lf].initial;["height","width"].forEach(l=>{let o=n[l];Gt(o)?r.removeAttribute(l):r.setAttribute(l,o)});let i=n.style||{};return Object.keys(i).forEach(l=>{r.style[l]=i[l]}),r.width=r.width,delete r[Lf],!0}addEventListener(e,r,n){this.removeEventListener(e,r);let i=e.$proxies||(e.$proxies={}),o={attach:cQ,detach:fQ,resize:mQ}[r]||gQ;i[r]=o(e,r,n)}removeEventListener(e,r){let n=e.$proxies||(e.$proxies={}),i=n[r];if(!i)return;({attach:q_,detach:q_,resize:q_}[r]||sQ)(e,r,i),n[r]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,r,n,i){return cH(e,r,n,i)}isAttached(e){let r=e&&mf(e);return!!(r&&r.isConnected)}};function _Q(t){return!df()||typeof OffscreenCanvas!="undefined"&&t instanceof OffscreenCanvas?J_:K_}var fi=class{constructor(){Le(this,"x");Le(this,"y");Le(this,"active",!1);Le(this,"options");Le(this,"$animations")}tooltipPosition(e){let{x:r,y:n}=this.getProps(["x","y"],e);return{x:r,y:n}}hasValue(){return U2(this.x)&&U2(this.y)}getProps(e,r){let n=this.$animations;if(!r||!n)return this;let i={};return e.forEach(l=>{i[l]=n[l]&&n[l].active()?n[l]._to:this[l]}),i}};Le(fi,"defaults",{}),Le(fi,"defaultRoutes");function pQ(t,e){let r=t.options.ticks,n=CQ(t),i=Math.min(r.maxTicksLimit||n,n),l=r.major.enabled?vQ(e):[],o=l.length,a=l[0],s=l[o-1],u=[];if(o>i)return wQ(e,u,l,o/i),u;let c=bQ(l,e,i);if(o>0){let f,h,g=o>1?Math.round((s-a)/(o-1)):null;for(pf(e,u,c,Gt(g)?0:a-g,a),f=0,h=o-1;f<h;f++)pf(e,u,c,l[f],l[f+1]);return pf(e,u,c,s,Gt(g)?e.length:s+g),u}return pf(e,u,c),u}function CQ(t){let e=t.options.offset,r=t._tickSize(),n=t._length/r+(e?0:1),i=t._maxLength/r;return Math.floor(Math.min(n,i))}function bQ(t,e,r){let n=kQ(t),i=e.length/r;if(!n)return Math.max(i,1);let l=Nz(n);for(let o=0,a=l.length-1;o<a;o++){let s=l[o];if(s>i)return s}return Math.max(i,1)}function vQ(t){let e=[],r,n;for(r=0,n=t.length;r<n;r++)t[r].major&&e.push(r);return e}function wQ(t,e,r,n){let i=0,l=r[0],o;for(n=Math.ceil(n),o=0;o<t.length;o++)o===l&&(e.push(t[o]),i++,l=r[i*n])}function pf(t,e,r,n,i){let l=mt(n,0),o=Math.min(mt(i,t.length),t.length),a=0,s,u,c;for(r=Math.ceil(r),i&&(s=i-n,r=s/Math.floor(s/r)),c=l;c<0;)a++,c=Math.round(l+a*r);for(u=Math.max(l,0);u<o;u++)u===c&&(e.push(t[u]),a++,c=Math.round(l+a*r))}function kQ(t){let e=t.length,r,n;if(e<2)return!1;for(n=t[0],r=1;r<e;++r)if(t[r]-t[r-1]!==n)return!1;return n}var yQ=t=>t==="left"?"right":t==="right"?"left":t,TH=(t,e,r)=>e==="top"||e==="left"?t[e]+r:t[e]-r,zH=(t,e)=>Math.min(e||t,t);function HH(t,e){let r=[],n=t.length/e,i=t.length,l=0;for(;l<i;l+=n)r.push(t[Math.floor(l)]);return r}function LQ(t,e,r){let n=t.ticks.length,i=Math.min(e,n-1),l=t._startPixel,o=t._endPixel,a=1e-6,s=t.getPixelForTick(i),u;if(!(r&&(n===1?u=Math.max(s-l,o-s):e===0?u=(t.getPixelForTick(1)-s)/2:u=(s-t.getPixelForTick(i-1))/2,s+=i<e?u:-u,s<l-a||s>o+a)))return s}function EQ(t,e){zt(t,r=>{let n=r.gc,i=n.length/2,l;if(i>e){for(l=0;l<i;++l)delete r.data[n[l]];n.splice(0,i)}})}function P5(t){return t.drawTicks?t.tickLength:0}function PH(t,e){if(!t.display)return 0;let r=vr(t.font,e),n=Wr(t.padding);return(Qt(t.text)?t.text.length:1)*r.lineHeight+n.height}function SQ(t,e){return no(t,{scale:e,type:"scale"})}function MQ(t,e,r){return no(t,{tick:r,index:e,type:"tick"})}function TQ(t,e,r){let n=sf(t);return(r&&e!=="right"||!r&&e==="right")&&(n=yQ(n)),n}function zQ(t,e,r,n){let{top:i,left:l,bottom:o,right:a,chart:s}=t,{chartArea:u,scales:c}=s,f=0,h,g,p,w=o-i,b=a-l;if(t.isHorizontal()){if(g=qr(n,l,a),Ct(r)){let v=Object.keys(r)[0],S=r[v];p=c[v].getPixelForValue(S)+w-e}else r==="center"?p=(u.bottom+u.top)/2+w-e:p=TH(t,r,e);h=a-l}else{if(Ct(r)){let v=Object.keys(r)[0],S=r[v];g=c[v].getPixelForValue(S)-b+e}else r==="center"?g=(u.left+u.right)/2-b+e:g=TH(t,r,e);p=qr(n,o,i),f=r==="left"?-Nn:Nn}return{titleX:g,titleY:p,maxWidth:h,rotation:f}}var Ds=class t extends fi{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,r){return e}getUserBounds(){let{_userMin:e,_userMax:r,_suggestedMin:n,_suggestedMax:i}=this;return e=jn(e,Number.POSITIVE_INFINITY),r=jn(r,Number.NEGATIVE_INFINITY),n=jn(n,Number.POSITIVE_INFINITY),i=jn(i,Number.NEGATIVE_INFINITY),{min:jn(e,n),max:jn(r,i),minDefined:ir(e),maxDefined:ir(r)}}getMinMax(e){let{min:r,max:n,minDefined:i,maxDefined:l}=this.getUserBounds(),o;if(i&&l)return{min:r,max:n};let a=this.getMatchingVisibleMetas();for(let s=0,u=a.length;s<u;++s)o=a[s].controller.getMinMax(this,e),i||(r=Math.min(r,o.min)),l||(n=Math.max(n,o.max));return r=l&&r>n?n:r,n=i&&r>n?r:n,{min:jn(r,jn(n,r)),max:jn(n,jn(r,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){let e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Ft(this.options.beforeUpdate,[this])}update(e,r,n){let{beginAtZero:i,grace:l,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=r,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=iH(this,l,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();let s=a<this.ticks.length;this._convertTicksToLabels(s?HH(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=pQ(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),s&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,r,n;this.isHorizontal()?(r=this.left,n=this.right):(r=this.top,n=this.bottom,e=!e),this._startPixel=r,this._endPixel=n,this._reversePixels=e,this._length=n-r,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Ft(this.options.afterUpdate,[this])}beforeSetDimensions(){Ft(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Ft(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Ft(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Ft(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){let r=this.options.ticks,n,i,l;for(n=0,i=e.length;n<i;n++)l=e[n],l.label=Ft(r.callback,[l.value,n,e],this)}afterTickToLabelConversion(){Ft(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Ft(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){let e=this.options,r=e.ticks,n=zH(this.ticks.length,e.ticks.maxTicksLimit),i=r.minRotation||0,l=r.maxRotation,o=i,a,s,u;if(!this._isVisible()||!r.display||i>=l||n<=1||!this.isHorizontal()){this.labelRotation=i;return}let c=this._getLabelSizes(),f=c.widest.width,h=c.highest.height,g=u1(this.chart.width-f,0,this.maxWidth);a=e.offset?this.maxWidth/n:g/(n-1),f+6>a&&(a=g/(n-(e.offset?.5:1)),s=this.maxHeight-P5(e.grid)-r.padding-PH(e.title,this.chart.options.font),u=Math.sqrt(f*f+h*h),o=of(Math.min(Math.asin(u1((c.highest.height+6)/a,-1,1)),Math.asin(u1(s/u,-1,1))-Math.asin(u1(h/u,-1,1)))),o=Math.max(i,Math.min(l,o))),this.labelRotation=o}afterCalculateLabelRotation(){Ft(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Ft(this.options.beforeFit,[this])}fit(){let e={width:0,height:0},{chart:r,options:{ticks:n,title:i,grid:l}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){let s=PH(i,r.options.font);if(a?(e.width=this.maxWidth,e.height=P5(l)+s):(e.height=this.maxHeight,e.width=P5(l)+s),n.display&&this.ticks.length){let{first:u,last:c,widest:f,highest:h}=this._getLabelSizes(),g=n.padding*2,p=ro(this.labelRotation),w=Math.cos(p),b=Math.sin(p);if(a){let v=n.mirror?0:b*f.width+w*h.height;e.height=Math.min(this.maxHeight,e.height+v+g)}else{let v=n.mirror?0:w*f.width+b*h.height;e.width=Math.min(this.maxWidth,e.width+v+g)}this._calculatePadding(u,c,b,w)}}this._handleMargins(),a?(this.width=this._length=r.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=r.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,r,n,i){let{ticks:{align:l,padding:o},position:a}=this.options,s=this.labelRotation!==0,u=a!=="top"&&this.axis==="x";if(this.isHorizontal()){let c=this.getPixelForTick(0)-this.left,f=this.right-this.getPixelForTick(this.ticks.length-1),h=0,g=0;s?u?(h=i*e.width,g=n*r.height):(h=n*e.height,g=i*r.width):l==="start"?g=r.width:l==="end"?h=e.width:l!=="inner"&&(h=e.width/2,g=r.width/2),this.paddingLeft=Math.max((h-c+o)*this.width/(this.width-c),0),this.paddingRight=Math.max((g-f+o)*this.width/(this.width-f),0)}else{let c=r.height/2,f=e.height/2;l==="start"?(c=0,f=e.height):l==="end"&&(c=r.height,f=0),this.paddingTop=c+o,this.paddingBottom=f+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Ft(this.options.afterFit,[this])}isHorizontal(){let{axis:e,position:r}=this.options;return r==="top"||r==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let r,n;for(r=0,n=e.length;r<n;r++)Gt(e[r].label)&&(e.splice(r,1),n--,r--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){let r=this.options.ticks.sampleSize,n=this.ticks;r<n.length&&(n=HH(n,r)),this._labelSizes=e=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,r,n){let{ctx:i,_longestTextCache:l}=this,o=[],a=[],s=Math.floor(r/zH(r,n)),u=0,c=0,f,h,g,p,w,b,v,S,P,Z,y;for(f=0;f<r;f+=s){if(p=e[f].label,w=this._resolveTickFontOptions(f),i.font=b=w.string,v=l[b]=l[b]||{data:{},gc:[]},S=w.lineHeight,P=Z=0,!Gt(p)&&!Qt(p))P=b5(i,v.data,v.gc,P,p),Z=S;else if(Qt(p))for(h=0,g=p.length;h<g;++h)y=p[h],!Gt(y)&&!Qt(y)&&(P=b5(i,v.data,v.gc,P,y),Z+=S);o.push(P),a.push(Z),u=Math.max(P,u),c=Math.max(Z,c)}EQ(l,r);let W=o.indexOf(u),X=a.indexOf(c),x=le=>({width:o[le]||0,height:a[le]||0});return{first:x(0),last:x(r-1),widest:x(W),highest:x(X),widths:o,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,r){return NaN}getValueForPixel(e){}getPixelForTick(e){let r=this.ticks;return e<0||e>r.length-1?null:this.getPixelForValue(r[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);let r=this._startPixel+e*this._length;return qz(this._alignToPixels?ea(this.chart,r,0):r)}getDecimalForPixel(e){let r=(e-this._startPixel)/this._length;return this._reversePixels?1-r:r}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){let{min:e,max:r}=this;return e<0&&r<0?r:e>0&&r>0?e:0}getContext(e){let r=this.ticks||[];if(e>=0&&e<r.length){let n=r[e];return n.$context||(n.$context=MQ(this.getContext(),e,n))}return this.$context||(this.$context=SQ(this.chart.getContext(),this))}_tickSize(){let e=this.options.ticks,r=ro(this.labelRotation),n=Math.abs(Math.cos(r)),i=Math.abs(Math.sin(r)),l=this._getLabelSizes(),o=e.autoSkipPadding||0,a=l?l.widest.width+o:0,s=l?l.highest.height+o:0;return this.isHorizontal()?s*n>a*i?a/n:s/i:s*i<a*n?s/n:a/i}_isVisible(){let e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){let r=this.axis,n=this.chart,i=this.options,{grid:l,position:o,border:a}=i,s=l.offset,u=this.isHorizontal(),f=this.ticks.length+(s?1:0),h=P5(l),g=[],p=a.setContext(this.getContext()),w=p.display?p.width:0,b=w/2,v=function(pe){return ea(n,pe,w)},S,P,Z,y,W,X,x,le,oe,$,ee,ce;if(o==="top")S=v(this.bottom),X=this.bottom-h,le=S-b,$=v(e.top)+b,ce=e.bottom;else if(o==="bottom")S=v(this.top),$=e.top,ce=v(e.bottom)-b,X=S+b,le=this.top+h;else if(o==="left")S=v(this.right),W=this.right-h,x=S-b,oe=v(e.left)+b,ee=e.right;else if(o==="right")S=v(this.left),oe=e.left,ee=v(e.right)-b,W=S+b,x=this.left+h;else if(r==="x"){if(o==="center")S=v((e.top+e.bottom)/2+.5);else if(Ct(o)){let pe=Object.keys(o)[0],et=o[pe];S=v(this.chart.scales[pe].getPixelForValue(et))}$=e.top,ce=e.bottom,X=S+b,le=X+h}else if(r==="y"){if(o==="center")S=v((e.left+e.right)/2);else if(Ct(o)){let pe=Object.keys(o)[0],et=o[pe];S=v(this.chart.scales[pe].getPixelForValue(et))}W=S-b,x=W-h,oe=e.left,ee=e.right}let Te=mt(i.ticks.maxTicksLimit,f),Pe=Math.max(1,Math.ceil(f/Te));for(P=0;P<f;P+=Pe){let pe=this.getContext(P),et=l.setContext(pe),we=a.setContext(pe),ye=et.lineWidth,Dt=et.color,Rt=we.dash||[],ke=we.dashOffset,ue=et.tickWidth,Jt=et.tickColor,jt=et.tickBorderDash||[],gr=et.tickBorderDashOffset;Z=LQ(this,P,s),Z!==void 0&&(y=ea(n,Z,ye),u?W=x=oe=ee=y:X=le=$=ce=y,g.push({tx1:W,ty1:X,tx2:x,ty2:le,x1:oe,y1:$,x2:ee,y2:ce,width:ye,color:Dt,borderDash:Rt,borderDashOffset:ke,tickWidth:ue,tickColor:Jt,tickBorderDash:jt,tickBorderDashOffset:gr}))}return this._ticksLength=f,this._borderValue=S,g}_computeLabelItems(e){let r=this.axis,n=this.options,{position:i,ticks:l}=n,o=this.isHorizontal(),a=this.ticks,{align:s,crossAlign:u,padding:c,mirror:f}=l,h=P5(n.grid),g=h+c,p=f?-c:g,w=-ro(this.labelRotation),b=[],v,S,P,Z,y,W,X,x,le,oe,$,ee,ce="middle";if(i==="top")W=this.bottom-p,X=this._getXAxisLabelAlignment();else if(i==="bottom")W=this.top+p,X=this._getXAxisLabelAlignment();else if(i==="left"){let Pe=this._getYAxisLabelAlignment(h);X=Pe.textAlign,y=Pe.x}else if(i==="right"){let Pe=this._getYAxisLabelAlignment(h);X=Pe.textAlign,y=Pe.x}else if(r==="x"){if(i==="center")W=(e.top+e.bottom)/2+g;else if(Ct(i)){let Pe=Object.keys(i)[0],pe=i[Pe];W=this.chart.scales[Pe].getPixelForValue(pe)+g}X=this._getXAxisLabelAlignment()}else if(r==="y"){if(i==="center")y=(e.left+e.right)/2-g;else if(Ct(i)){let Pe=Object.keys(i)[0],pe=i[Pe];y=this.chart.scales[Pe].getPixelForValue(pe)}X=this._getYAxisLabelAlignment(h).textAlign}r==="y"&&(s==="start"?ce="top":s==="end"&&(ce="bottom"));let Te=this._getLabelSizes();for(v=0,S=a.length;v<S;++v){P=a[v],Z=P.label;let Pe=l.setContext(this.getContext(v));x=this.getPixelForTick(v)+l.labelOffset,le=this._resolveTickFontOptions(v),oe=le.lineHeight,$=Qt(Z)?Z.length:1;let pe=$/2,et=Pe.color,we=Pe.textStrokeColor,ye=Pe.textStrokeWidth,Dt=X;o?(y=x,X==="inner"&&(v===S-1?Dt=this.options.reverse?"left":"right":v===0?Dt=this.options.reverse?"right":"left":Dt="center"),i==="top"?u==="near"||w!==0?ee=-$*oe+oe/2:u==="center"?ee=-Te.highest.height/2-pe*oe+oe:ee=-Te.highest.height+oe/2:u==="near"||w!==0?ee=oe/2:u==="center"?ee=Te.highest.height/2-pe*oe:ee=Te.highest.height-$*oe,f&&(ee*=-1),w!==0&&!Pe.showLabelBackdrop&&(y+=oe/2*Math.sin(w))):(W=x,ee=(1-$)*oe/2);let Rt;if(Pe.showLabelBackdrop){let ke=Wr(Pe.backdropPadding),ue=Te.heights[v],Jt=Te.widths[v],jt=ee-ke.top,gr=0-ke.left;switch(ce){case"middle":jt-=ue/2;break;case"bottom":jt-=ue;break}switch(X){case"center":gr-=Jt/2;break;case"right":gr-=Jt;break;case"inner":v===S-1?gr-=Jt:v>0&&(gr-=Jt/2);break}Rt={left:gr,top:jt,width:Jt+ke.width,height:ue+ke.height,color:Pe.backdropColor}}b.push({label:Z,font:le,textOffset:ee,options:{rotation:w,color:et,strokeColor:we,strokeWidth:ye,textAlign:Dt,textBaseline:ce,translation:[y,W],backdrop:Rt}})}return b}_getXAxisLabelAlignment(){let{position:e,ticks:r}=this.options;if(-ro(this.labelRotation))return e==="top"?"left":"right";let i="center";return r.align==="start"?i="left":r.align==="end"?i="right":r.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(e){let{position:r,ticks:{crossAlign:n,mirror:i,padding:l}}=this.options,o=this._getLabelSizes(),a=e+l,s=o.widest.width,u,c;return r==="left"?i?(c=this.right+l,n==="near"?u="left":n==="center"?(u="center",c+=s/2):(u="right",c+=s)):(c=this.right-a,n==="near"?u="right":n==="center"?(u="center",c-=s/2):(u="left",c=this.left)):r==="right"?i?(c=this.left+l,n==="near"?u="right":n==="center"?(u="center",c-=s/2):(u="left",c-=s)):(c=this.left+a,n==="near"?u="left":n==="center"?(u="center",c+=s/2):(u="right",c=this.right)):u="right",{textAlign:u,x:c}}_computeLabelArea(){if(this.options.ticks.mirror)return;let e=this.chart,r=this.options.position;if(r==="left"||r==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(r==="top"||r==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){let{ctx:e,options:{backgroundColor:r},left:n,top:i,width:l,height:o}=this;r&&(e.save(),e.fillStyle=r,e.fillRect(n,i,l,o),e.restore())}getLineWidthForValue(e){let r=this.options.grid;if(!this._isVisible()||!r.display)return 0;let i=this.ticks.findIndex(l=>l.value===e);return i>=0?r.setContext(this.getContext(i)).lineWidth:0}drawGrid(e){let r=this.options.grid,n=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e)),l,o,a=(s,u,c)=>{!c.width||!c.color||(n.save(),n.lineWidth=c.width,n.strokeStyle=c.color,n.setLineDash(c.borderDash||[]),n.lineDashOffset=c.borderDashOffset,n.beginPath(),n.moveTo(s.x,s.y),n.lineTo(u.x,u.y),n.stroke(),n.restore())};if(r.display)for(l=0,o=i.length;l<o;++l){let s=i[l];r.drawOnChartArea&&a({x:s.x1,y:s.y1},{x:s.x2,y:s.y2},s),r.drawTicks&&a({x:s.tx1,y:s.ty1},{x:s.tx2,y:s.ty2},{color:s.tickColor,width:s.tickWidth,borderDash:s.tickBorderDash,borderDashOffset:s.tickBorderDashOffset})}}drawBorder(){let{chart:e,ctx:r,options:{border:n,grid:i}}=this,l=n.setContext(this.getContext()),o=n.display?l.width:0;if(!o)return;let a=i.setContext(this.getContext(0)).lineWidth,s=this._borderValue,u,c,f,h;this.isHorizontal()?(u=ea(e,this.left,o)-o/2,c=ea(e,this.right,a)+a/2,f=h=s):(f=ea(e,this.top,o)-o/2,h=ea(e,this.bottom,a)+a/2,u=c=s),r.save(),r.lineWidth=l.width,r.strokeStyle=l.color,r.beginPath(),r.moveTo(u,f),r.lineTo(c,h),r.stroke(),r.restore()}drawLabels(e){if(!this.options.ticks.display)return;let n=this.ctx,i=this._computeLabelArea();i&&L5(n,i);let l=this.getLabelItems(e);for(let o of l){let a=o.options,s=o.font,u=o.label,c=o.textOffset;ta(n,u,0,c,s,a)}i&&E5(n)}drawTitle(){let{ctx:e,options:{position:r,title:n,reverse:i}}=this;if(!n.display)return;let l=vr(n.font),o=Wr(n.padding),a=n.align,s=l.lineHeight/2;r==="bottom"||r==="center"||Ct(r)?(s+=o.bottom,Qt(n.text)&&(s+=l.lineHeight*(n.text.length-1))):s+=o.top;let{titleX:u,titleY:c,maxWidth:f,rotation:h}=zQ(this,s,r,a);ta(e,n.text,0,0,l,{color:n.color,maxWidth:f,rotation:h,textAlign:TQ(a,r,i),textBaseline:"middle",translation:[u,c]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){let e=this.options,r=e.ticks&&e.ticks.z||0,n=mt(e.grid&&e.grid.z,-1),i=mt(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==t.prototype.draw?[{z:r,draw:l=>{this.draw(l)}}]:[{z:n,draw:l=>{this.drawBackground(),this.drawGrid(l),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:r,draw:l=>{this.drawLabels(l)}}]}getMatchingVisibleMetas(e){let r=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",i=[],l,o;for(l=0,o=r.length;l<o;++l){let a=r[l];a[n]===this.id&&(!e||a.type===e)&&i.push(a)}return i}_resolveTickFontOptions(e){let r=this.options.ticks.setContext(this.getContext(e));return vr(r.font)}_maxDigits(){let e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}},G2=class{constructor(e,r,n){this.type=e,this.scope=r,this.override=n,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){let r=Object.getPrototypeOf(e),n;AQ(r)&&(n=this.register(r));let i=this.items,l=e.id,o=this.scope+"."+l;if(!l)throw new Error("class does not have id: "+e);return l in i||(i[l]=e,HQ(e,o,n),this.override&&lr.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){let r=this.items,n=e.id,i=this.scope;n in r&&delete r[n],i&&n in lr[i]&&(delete lr[i][n],this.override&&delete $o[n])}};function HQ(t,e,r){let n=F2(Object.create(null),[r?lr.get(r):{},lr.get(e),t.defaults]);lr.set(e,n),t.defaultRoutes&&PQ(e,t.defaultRoutes),t.descriptors&&lr.describe(e,t.descriptors)}function PQ(t,e){Object.keys(e).forEach(r=>{let n=r.split("."),i=n.pop(),l=[t].concat(n).join("."),o=e[r].split("."),a=o.pop(),s=o.join(".");lr.route(l,i,s,a)})}function AQ(t){return"id"in t&&"defaults"in t}var X_=class{constructor(){this.controllers=new G2(Vs,"datasets",!0),this.elements=new G2(fi,"elements"),this.plugins=new G2(Object,"plugins"),this.scales=new G2(Ds,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,r,n){[...r].forEach(i=>{let l=n||this._getRegistryForType(i);n||l.isForType(i)||l===this.plugins&&i.id?this._exec(e,l,i):zt(i,o=>{let a=n||this._getRegistryForType(o);this._exec(e,a,o)})})}_exec(e,r,n){let i=lf(e);Ft(n["before"+i],[],n),r[e](n),Ft(n["after"+i],[],n)}_getRegistryForType(e){for(let r=0;r<this._typedRegistries.length;r++){let n=this._typedRegistries[r];if(n.isForType(e))return n}return this.plugins}_get(e,r,n){let i=r.get(e);if(i===void 0)throw new Error('"'+e+'" is not a registered '+n+".");return i}},Ki=new X_,Q_=class{constructor(){this._init=[]}notify(e,r,n,i){r==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));let l=i?this._descriptors(e).filter(i):this._descriptors(e),o=this._notify(l,e,r,n);return r==="afterDestroy"&&(this._notify(l,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,r,n,i){i=i||{};for(let l of e){let o=l.plugin,a=o[n],s=[r,i,l.options];if(Ft(a,s,o)===!1&&i.cancelable)return!1}return!0}invalidate(){Gt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;let r=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),r}_createDescriptors(e,r){let n=e&&e.config,i=mt(n.options&&n.options.plugins,{}),l=RQ(n);return i===!1&&!r?[]:OQ(e,l,i,r)}_notifyStateChanges(e){let r=this._oldCache||[],n=this._cache,i=(l,o)=>l.filter(a=>!o.some(s=>a.plugin.id===s.plugin.id));this._notify(i(r,n),e,"stop"),this._notify(i(n,r),e,"start")}};function RQ(t){let e={},r=[],n=Object.keys(Ki.plugins.items);for(let l=0;l<n.length;l++)r.push(Ki.getPlugin(n[l]));let i=t.plugins||[];for(let l=0;l<i.length;l++){let o=i[l];r.indexOf(o)===-1&&(r.push(o),e[o.id]=!0)}return{plugins:r,localIds:e}}function BQ(t,e){return!e&&t===!1?null:t===!0?{}:t}function OQ(t,{plugins:e,localIds:r},n,i){let l=[],o=t.getContext();for(let a of e){let s=a.id,u=BQ(n[s],i);u!==null&&l.push({plugin:a,options:VQ(t.config,{plugin:a,local:r[s]},u,o)})}return l}function VQ(t,{plugin:e,local:r},n,i){let l=t.pluginScopeKeys(e),o=t.getOptionScopes(n,l);return r&&e.defaults&&o.push(e.defaults),t.createResolver(o,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function x_(t,e){let r=lr.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||r.indexAxis||"x"}function ZQ(t,e){let r=t;return t==="_index_"?r=e:t==="_value_"&&(r=e==="x"?"y":"x"),r}function IQ(t,e){return t===e?"_index_":"_value_"}function AH(t){if(t==="x"||t==="y"||t==="r")return t}function DQ(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function $_(t,...e){if(AH(t))return t;for(let r of e){let n=r.axis||DQ(r.position)||t.length>1&&AH(t[0].toLowerCase());if(n)return n}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function RH(t,e,r){if(r[e+"AxisID"]===t)return{axis:e}}function NQ(t,e){if(e.data&&e.data.datasets){let r=e.data.datasets.filter(n=>n.xAxisID===t||n.yAxisID===t);if(r.length)return RH(t,"x",r[0])||RH(t,"y",r[0])}return{}}function FQ(t,e){let r=$o[t.type]||{scales:{}},n=e.scales||{},i=x_(t.type,e),l=Object.create(null);return Object.keys(n).forEach(o=>{let a=n[o];if(!Ct(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);let s=$_(o,a,NQ(o,t),lr.scales[a.type]),u=IQ(s,i),c=r.scales||{};l[o]=q2(Object.create(null),[{axis:s},a,c[s],c[u]])}),t.data.datasets.forEach(o=>{let a=o.type||t.type,s=o.indexAxis||x_(a,e),c=($o[a]||{}).scales||{};Object.keys(c).forEach(f=>{let h=ZQ(f,s),g=o[h+"AxisID"]||h;l[g]=l[g]||Object.create(null),q2(l[g],[{axis:h},n[g],c[f]])})}),Object.keys(l).forEach(o=>{let a=l[o];q2(a,[lr.scales[a.type],lr.scale])}),l}function mP(t){let e=t.options||(t.options={});e.plugins=mt(e.plugins,{}),e.scales=FQ(t,e)}function gP(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function jQ(t){return t=t||{},t.data=gP(t.data),mP(t),t}var BH=new Map,_P=new Set;function Cf(t,e){let r=BH.get(t);return r||(r=e(),BH.set(t,r),_P.add(r)),r}var A5=(t,e,r)=>{let n=w5(e,r);n!==void 0&&t.add(n)},ep=class{constructor(e){this._config=jQ(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=gP(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){let e=this._config;this.clearCache(),mP(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Cf(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,r){return Cf(`${e}.transition.${r}`,()=>[[`datasets.${e}.transitions.${r}`,`transitions.${r}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,r){return Cf(`${e}-${r}`,()=>[[`datasets.${e}.elements.${r}`,`datasets.${e}`,`elements.${r}`,""]])}pluginScopeKeys(e){let r=e.id,n=this.type;return Cf(`${n}-plugin-${r}`,()=>[[`plugins.${r}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,r){let n=this._scopeCache,i=n.get(e);return(!i||r)&&(i=new Map,n.set(e,i)),i}getOptionScopes(e,r,n){let{options:i,type:l}=this,o=this._cachedScopes(e,n),a=o.get(r);if(a)return a;let s=new Set;r.forEach(c=>{e&&(s.add(e),c.forEach(f=>A5(s,e,f))),c.forEach(f=>A5(s,i,f)),c.forEach(f=>A5(s,$o[l]||{},f)),c.forEach(f=>A5(s,lr,f)),c.forEach(f=>A5(s,cf,f))});let u=Array.from(s);return u.length===0&&u.push(Object.create(null)),_P.has(r)&&o.set(r,u),u}chartOptionScopes(){let{options:e,type:r}=this;return[e,$o[r]||{},lr.datasets[r]||{},{type:r},lr,cf]}resolveNamedOptions(e,r,n,i=[""]){let l={$shared:!0},{resolver:o,subPrefixes:a}=OH(this._resolverCache,e,i),s=o;if(WQ(o,r)){l.$shared=!1,n=eo(n)?n():n;let u=this.createResolver(e,n,a);s=Hs(o,n,u)}for(let u of r)l[u]=s[u];return l}createResolver(e,r,n=[""],i){let{resolver:l}=OH(this._resolverCache,e,n);return Ct(r)?Hs(l,r,void 0,i):l}};function OH(t,e,r){let n=t.get(e);n||(n=new Map,t.set(e,n));let i=r.join(),l=n.get(i);return l||(l={resolver:hf(e,r),subPrefixes:r.filter(a=>!a.toLowerCase().includes("hover"))},n.set(i,l)),l}var qQ=t=>Ct(t)&&Object.getOwnPropertyNames(t).some(e=>eo(t[e]));function WQ(t,e){let{isScriptable:r,isIndexable:n}=z_(t);for(let i of e){let l=r(i),o=n(i),a=(o||l)&&t[i];if(l&&(eo(a)||qQ(a))||o&&Qt(a))return!0}return!1}var UQ="4.4.7",YQ=["top","bottom","left","right","chartArea"];function VH(t,e){return t==="top"||t==="bottom"||YQ.indexOf(t)===-1&&e==="x"}function ZH(t,e){return function(r,n){return r[t]===n[t]?r[e]-n[e]:r[t]-n[t]}}function IH(t){let e=t.chart,r=e.options.animation;e.notifyPlugins("afterRender"),Ft(r&&r.onComplete,[t],e)}function GQ(t){let e=t.chart,r=e.options.animation;Ft(r&&r.onProgress,[t],e)}function pP(t){return df()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}var Ef={},DH=t=>{let e=pP(t);return Object.values(Ef).filter(r=>r.canvas===e).pop()};function JQ(t,e,r){let n=Object.keys(t);for(let i of n){let l=+i;if(l>=e){let o=t[i];delete t[i],(r>0||l>e)&&(t[l+r]=o)}}}function KQ(t,e,r,n){return!r||t.type==="mouseout"?null:n?e:t}function bf(t,e,r){return t.options.clip?t[r]:e[r]}function XQ(t,e){let{xScale:r,yScale:n}=t;return r&&n?{left:bf(r,e,"left"),right:bf(r,e,"right"),top:bf(n,e,"top"),bottom:bf(n,e,"bottom")}:e}var wn=class{static register(...e){Ki.add(...e),NH()}static unregister(...e){Ki.remove(...e),NH()}constructor(e,r){let n=this.config=new ep(r),i=pP(e),l=DH(i);if(l)throw new Error("Canvas is already in use. Chart with ID '"+l.id+"' must be destroyed before the canvas with ID '"+l.canvas.id+"' can be reused.");let o=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||_Q(i)),this.platform.updateConfig(n);let a=this.platform.acquireContext(i,o.aspectRatio),s=a&&a.canvas,u=s&&s.height,c=s&&s.width;if(this.id=Vz(),this.ctx=a,this.canvas=s,this.width=c,this.height=u,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Q_,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=Kz(f=>this.update(f),o.resizeDelay||0),this._dataChanges=[],Ef[this.id]=this,!a||!s){console.error("Failed to create chart: can't acquire context from the given item");return}io.listen(this,"complete",IH),io.listen(this,"progress",GQ),this._initialize(),this.attached&&this.update()}get aspectRatio(){let{options:{aspectRatio:e,maintainAspectRatio:r},width:n,height:i,_aspectRatio:l}=this;return Gt(e)?r&&l?l:i?n/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Ki}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():A_(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return S_(this.canvas,this.ctx),this}stop(){return io.stop(this),this}resize(e,r){io.running(this)?this._resizeBeforeDraw={width:e,height:r}:this._resize(e,r)}_resize(e,r){let n=this.options,i=this.canvas,l=n.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(i,e,r,l),a=n.devicePixelRatio||this.platform.getDevicePixelRatio(),s=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,A_(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),Ft(n.onResize,[this,o],this),this.attached&&this._doResize(s)&&this.render())}ensureScalesHaveIDs(){let r=this.options.scales||{};zt(r,(n,i)=>{n.id=i})}buildOrUpdateScales(){let e=this.options,r=e.scales,n=this.scales,i=Object.keys(n).reduce((o,a)=>(o[a]=!1,o),{}),l=[];r&&(l=l.concat(Object.keys(r).map(o=>{let a=r[o],s=$_(o,a),u=s==="r",c=s==="x";return{options:a,dposition:u?"chartArea":c?"bottom":"left",dtype:u?"radialLinear":c?"category":"linear"}}))),zt(l,o=>{let a=o.options,s=a.id,u=$_(s,a),c=mt(a.type,o.dtype);(a.position===void 0||VH(a.position,u)!==VH(o.dposition))&&(a.position=o.dposition),i[s]=!0;let f=null;if(s in n&&n[s].type===c)f=n[s];else{let h=Ki.getScale(c);f=new h({id:s,type:c,ctx:this.ctx,chart:this}),n[f.id]=f}f.init(a,e)}),zt(i,(o,a)=>{o||delete n[a]}),zt(n,o=>{B1.configure(this,o,o.options),B1.addBox(this,o)})}_updateMetasets(){let e=this._metasets,r=this.data.datasets.length,n=e.length;if(e.sort((i,l)=>i.index-l.index),n>r){for(let i=r;i<n;++i)this._destroyDatasetMeta(i);e.splice(r,n-r)}this._sortedMetasets=e.slice(0).sort(ZH("order","index"))}_removeUnreferencedMetasets(){let{_metasets:e,data:{datasets:r}}=this;e.length>r.length&&delete this._stacks,e.forEach((n,i)=>{r.filter(l=>l===n._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){let e=[],r=this.data.datasets,n,i;for(this._removeUnreferencedMetasets(),n=0,i=r.length;n<i;n++){let l=r[n],o=this.getDatasetMeta(n),a=l.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(n),o=this.getDatasetMeta(n)),o.type=a,o.indexAxis=l.indexAxis||x_(a,this.options),o.order=l.order||0,o.index=n,o.label=""+l.label,o.visible=this.isDatasetVisible(n),o.controller)o.controller.updateIndex(n),o.controller.linkScales();else{let s=Ki.getController(a),{datasetElementType:u,dataElementType:c}=lr.datasets[a];Object.assign(s,{dataElementType:Ki.getElement(c),datasetElementType:u&&Ki.getElement(u)}),o.controller=new s(this,n),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){zt(this.data.datasets,(e,r)=>{this.getDatasetMeta(r).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){let r=this.config;r.update();let n=this._options=r.createResolver(r.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;let l=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let u=0,c=this.data.datasets.length;u<c;u++){let{controller:f}=this.getDatasetMeta(u),h=!i&&l.indexOf(f)===-1;f.buildOrUpdateElements(h),o=Math.max(+f.getMaxOverflow(),o)}o=this._minPadding=n.layout.autoPadding?o:0,this._updateLayout(o),i||zt(l,u=>{u.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(ZH("z","_idx"));let{_active:a,_lastEvent:s}=this;s?this._eventHandler(s,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){zt(this.scales,e=>{B1.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){let e=this.options,r=new Set(Object.keys(this._listeners)),n=new Set(e.events);(!__(r,n)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){let{_hiddenIndices:e}=this,r=this._getUniformDataChanges()||[];for(let{method:n,start:i,count:l}of r){let o=n==="_removeElements"?-l:l;JQ(e,i,o)}}_getUniformDataChanges(){let e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];let r=this.data.datasets.length,n=l=>new Set(e.filter(o=>o[0]===l).map((o,a)=>a+","+o.splice(1).join(","))),i=n(0);for(let l=1;l<r;l++)if(!__(i,n(l)))return;return Array.from(i).map(l=>l.split(",")).map(l=>({method:l[1],start:+l[2],count:+l[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;B1.update(this,this.width,this.height,e);let r=this.chartArea,n=r.width<=0||r.height<=0;this._layers=[],zt(this.boxes,i=>{n&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,l)=>{i._idx=l}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let r=0,n=this.data.datasets.length;r<n;++r)this.getDatasetMeta(r).controller.configure();for(let r=0,n=this.data.datasets.length;r<n;++r)this._updateDataset(r,eo(e)?e({datasetIndex:r}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,r){let n=this.getDatasetMeta(e),i={meta:n,index:e,mode:r,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(n.controller._update(r),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(io.has(this)?this.attached&&!io.running(this)&&io.start(this):(this.draw(),IH({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){let{width:n,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(n,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;let r=this._layers;for(e=0;e<r.length&&r[e].z<=0;++e)r[e].draw(this.chartArea);for(this._drawDatasets();e<r.length;++e)r[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){let r=this._sortedMetasets,n=[],i,l;for(i=0,l=r.length;i<l;++i){let o=r[i];(!e||o.visible)&&n.push(o)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;let e=this.getSortedVisibleDatasetMetas();for(let r=e.length-1;r>=0;--r)this._drawDataset(e[r]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){let r=this.ctx,n=e._clip,i=!n.disabled,l=XQ(e,this.chartArea),o={meta:e,index:e.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",o)!==!1&&(i&&L5(r,{left:n.left===!1?0:l.left-n.left,right:n.right===!1?this.width:l.right+n.right,top:n.top===!1?0:l.top-n.top,bottom:n.bottom===!1?this.height:l.bottom+n.bottom}),e.controller.draw(),i&&E5(r),o.cancelable=!1,this.notifyPlugins("afterDatasetDraw",o))}isPointInArea(e){return Yi(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,r,n,i){let l=QX.modes[r];return typeof l=="function"?l(this,e,n,i):[]}getDatasetMeta(e){let r=this.data.datasets[e],n=this._metasets,i=n.filter(l=>l&&l._dataset===r).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:r&&r.order||0,index:e,_dataset:r,_parsed:[],_sorted:!1},n.push(i)),i}getContext(){return this.$context||(this.$context=no(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){let r=this.data.datasets[e];if(!r)return!1;let n=this.getDatasetMeta(e);return typeof n.hidden=="boolean"?!n.hidden:!r.hidden}setDatasetVisibility(e,r){let n=this.getDatasetMeta(e);n.hidden=!r}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,r,n){let i=n?"show":"hide",l=this.getDatasetMeta(e),o=l.controller._resolveAnimations(void 0,i);k5(r)?(l.data[r].hidden=!n,this.update()):(this.setDatasetVisibility(e,n),o.update(l,{visible:n}),this.update(a=>a.datasetIndex===e?i:void 0))}hide(e,r){this._updateVisibility(e,r,!1)}show(e,r){this._updateVisibility(e,r,!0)}_destroyDatasetMeta(e){let r=this._metasets[e];r&&r.controller&&r.controller._destroy(),delete this._metasets[e]}_stop(){let e,r;for(this.stop(),io.remove(this),e=0,r=this.data.datasets.length;e<r;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");let{canvas:e,ctx:r}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),S_(e,r),this.platform.releaseContext(r),this.canvas=null,this.ctx=null),delete Ef[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){let e=this._listeners,r=this.platform,n=(l,o)=>{r.addEventListener(this,l,o),e[l]=o},i=(l,o,a)=>{l.offsetX=o,l.offsetY=a,this._eventHandler(l)};zt(this.options.events,l=>n(l,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});let e=this._responsiveListeners,r=this.platform,n=(s,u)=>{r.addEventListener(this,s,u),e[s]=u},i=(s,u)=>{e[s]&&(r.removeEventListener(this,s,u),delete e[s])},l=(s,u)=>{this.canvas&&this.resize(s,u)},o,a=()=>{i("attach",a),this.attached=!0,this.resize(),n("resize",l),n("detach",o)};o=()=>{this.attached=!1,i("resize",l),this._stop(),this._resize(0,0),n("attach",a)},r.isAttached(this.canvas)?a():o()}unbindEvents(){zt(this._listeners,(e,r)=>{this.platform.removeEventListener(this,r,e)}),this._listeners={},zt(this._responsiveListeners,(e,r)=>{this.platform.removeEventListener(this,r,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,r,n){let i=n?"set":"remove",l,o,a,s;for(r==="dataset"&&(l=this.getDatasetMeta(e[0].datasetIndex),l.controller["_"+i+"DatasetHoverStyle"]()),a=0,s=e.length;a<s;++a){o=e[a];let u=o&&this.getDatasetMeta(o.datasetIndex).controller;u&&u[i+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){let r=this._active||[],n=e.map(({datasetIndex:l,index:o})=>{let a=this.getDatasetMeta(l);if(!a)throw new Error("No dataset found at index "+l);return{datasetIndex:l,element:a.data[o],index:o}});!v5(n,r)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,r))}notifyPlugins(e,r,n){return this._plugins.notify(this,e,r,n)}isPluginEnabled(e){return this._plugins._cache.filter(r=>r.plugin.id===e).length===1}_updateHoverStyles(e,r,n){let i=this.options.hover,l=(s,u)=>s.filter(c=>!u.some(f=>c.datasetIndex===f.datasetIndex&&c.index===f.index)),o=l(r,e),a=n?e:l(e,r);o.length&&this.updateHoverStyle(o,i.mode,!1),a.length&&i.mode&&this.updateHoverStyle(a,i.mode,!0)}_eventHandler(e,r){let n={event:e,replay:r,cancelable:!0,inChartArea:this.isPointInArea(e)},i=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",n,i)===!1)return;let l=this._handleEvent(e,r,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,i),(l||n.changed)&&this.render(),this}_handleEvent(e,r,n){let{_active:i=[],options:l}=this,o=r,a=this._getActiveElements(e,i,n,o),s=Dz(e),u=KQ(e,this._lastEvent,n,s);n&&(this._lastEvent=null,Ft(l.onHover,[e,a,this],this),s&&Ft(l.onClick,[e,a,this],this));let c=!v5(a,i);return(c||r)&&(this._active=a,this._updateHoverStyles(a,i,r)),this._lastEvent=u,c}_getActiveElements(e,r,n,i){if(e.type==="mouseout")return[];if(!n)return r;let l=this.options.hover;return this.getElementsAtEventForMode(e,l.mode,l,i)}};Le(wn,"defaults",lr),Le(wn,"instances",Ef),Le(wn,"overrides",$o),Le(wn,"registry",Ki),Le(wn,"version",UQ),Le(wn,"getChart",DH);function NH(){return zt(wn.instances,t=>t._plugins.invalidate())}function CP(t,e,r=e){t.lineCap=mt(r.borderCapStyle,e.borderCapStyle),t.setLineDash(mt(r.borderDash,e.borderDash)),t.lineDashOffset=mt(r.borderDashOffset,e.borderDashOffset),t.lineJoin=mt(r.borderJoinStyle,e.borderJoinStyle),t.lineWidth=mt(r.borderWidth,e.borderWidth),t.strokeStyle=mt(r.borderColor,e.borderColor)}function QQ(t,e,r){t.lineTo(r.x,r.y)}function xQ(t){return t.stepped?tH:t.tension||t.cubicInterpolationMode==="monotone"?rH:QQ}function bP(t,e,r={}){let n=t.length,{start:i=0,end:l=n-1}=r,{start:o,end:a}=e,s=Math.max(i,o),u=Math.min(l,a),c=i<o&&l<o||i>a&&l>a;return{count:n,start:s,loop:e.loop,ilen:u<s&&!c?n+u-s:u-s}}function $Q(t,e,r,n){let{points:i,options:l}=e,{count:o,start:a,loop:s,ilen:u}=bP(i,r,n),c=xQ(l),{move:f=!0,reverse:h}=n||{},g,p,w;for(g=0;g<=u;++g)p=i[(a+(h?u-g:g))%o],!p.skip&&(f?(t.moveTo(p.x,p.y),f=!1):c(t,w,p,h,l.stepped),w=p);return s&&(p=i[(a+(h?u:0))%o],c(t,w,p,h,l.stepped)),!!s}function ex(t,e,r,n){let i=e.points,{count:l,start:o,ilen:a}=bP(i,r,n),{move:s=!0,reverse:u}=n||{},c=0,f=0,h,g,p,w,b,v,S=Z=>(o+(u?a-Z:Z))%l,P=()=>{w!==b&&(t.lineTo(c,b),t.lineTo(c,w),t.lineTo(c,v))};for(s&&(g=i[S(0)],t.moveTo(g.x,g.y)),h=0;h<=a;++h){if(g=i[S(h)],g.skip)continue;let Z=g.x,y=g.y,W=Z|0;W===p?(y<w?w=y:y>b&&(b=y),c=(f*c+Z)/++f):(P(),t.lineTo(Z,y),p=W,f=0,w=b=y),v=y}P()}function tp(t){let e=t.options,r=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!r?ex:$Q}function tx(t){return t.stepped?hH:t.tension||t.cubicInterpolationMode==="monotone"?dH:Qo}function rx(t,e,r,n){let i=e._path;i||(i=e._path=new Path2D,e.path(i,r,n)&&i.closePath()),CP(t,e.options),t.stroke(i)}function nx(t,e,r,n){let{segments:i,options:l}=e,o=tp(e);for(let a of i)CP(t,l,a.style),t.beginPath(),o(t,e,a,{start:r,end:r+n-1})&&t.closePath(),t.stroke()}var ix=typeof Path2D=="function";function lx(t,e,r,n){ix&&!e.options.segment?rx(t,e,r,n):nx(t,e,r,n)}var ci=class extends fi{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,r){let n=this.options;if((n.tension||n.cubicInterpolationMode==="monotone")&&!n.stepped&&!this._pointsUpdated){let i=n.spanGaps?this._loop:this._fullLoop;uH(this._points,n,e,i,r),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=gH(this,this.options.segment))}first(){let e=this.segments,r=this.points;return e.length&&r[e[0].start]}last(){let e=this.segments,r=this.points,n=e.length;return n&&r[e[n-1].end]}interpolate(e,r){let n=this.options,i=e[r],l=this.points,o=Z_(this,{property:r,start:i,end:i});if(!o.length)return;let a=[],s=tx(n),u,c;for(u=0,c=o.length;u<c;++u){let{start:f,end:h}=o[u],g=l[f],p=l[h];if(g===p){a.push(g);continue}let w=Math.abs((i-g[r])/(p[r]-g[r])),b=s(g,p,w,n.stepped);b[r]=e[r],a.push(b)}return a.length===1?a[0]:a}pathSegment(e,r,n){return tp(this)(e,this,r,n)}path(e,r,n){let i=this.segments,l=tp(this),o=this._loop;r=r||0,n=n||this.points.length-r;for(let a of i)o&=l(e,this,a,{start:r,end:r+n-1});return!!o}draw(e,r,n,i){let l=this.options||{};(this.points||[]).length&&l.borderWidth&&(e.save(),lx(e,this,n,i),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}};Le(ci,"id","line"),Le(ci,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),Le(ci,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),Le(ci,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function FH(t,e,r,n){let i=t.options,{[r]:l}=t.getProps([r],n);return Math.abs(e-l)<i.radius+i.hitRadius}var Is=class extends fi{constructor(r){super();Le(this,"parsed");Le(this,"skip");Le(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,r&&Object.assign(this,r)}inRange(r,n,i){let l=this.options,{x:o,y:a}=this.getProps(["x","y"],i);return Math.pow(r-o,2)+Math.pow(n-a,2)<Math.pow(l.hitRadius+l.radius,2)}inXRange(r,n){return FH(this,r,"x",n)}inYRange(r,n){return FH(this,r,"y",n)}getCenterPoint(r){let{x:n,y:i}=this.getProps(["x","y"],r);return{x:n,y:i}}size(r){r=r||this.options||{};let n=r.radius||0;n=Math.max(n,n&&r.hoverRadius||0);let i=n&&r.borderWidth||0;return(n+i)*2}draw(r,n){let i=this.options;this.skip||i.radius<.1||!Yi(this,n,this.size(i)/2)||(r.strokeStyle=i.borderColor,r.lineWidth=i.borderWidth,r.fillStyle=i.backgroundColor,ff(r,i,this.x,this.y))}getRange(){let r=this.options||{};return r.radius+r.hitRadius}};Le(Is,"id","point"),Le(Is,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),Le(Is,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function ox(t,e,r){let n=t.segments,i=t.points,l=e.points,o=[];for(let a of n){let{start:s,end:u}=a;u=ip(s,u,i);let c=rp(r,i[s],i[u],a.loop);if(!e.segments){o.push({source:a,target:c,start:i[s],end:i[u]});continue}let f=Z_(e,c);for(let h of f){let g=rp(r,l[h.start],l[h.end],h.loop),p=V_(a,i,g);for(let w of p)o.push({source:w,target:h,start:{[r]:jH(c,g,"start",Math.max)},end:{[r]:jH(c,g,"end",Math.min)}})}}return o}function rp(t,e,r,n){if(n)return;let i=e[t],l=r[t];return t==="angle"&&(i=Dn(i),l=Dn(l)),{property:t,start:i,end:l}}function ax(t,e){let{x:r=null,y:n=null}=t||{},i=e.points,l=[];return e.segments.forEach(({start:o,end:a})=>{a=ip(o,a,i);let s=i[o],u=i[a];n!==null?(l.push({x:s.x,y:n}),l.push({x:u.x,y:n})):r!==null&&(l.push({x:r,y:s.y}),l.push({x:r,y:u.y}))}),l}function ip(t,e,r){for(;e>t;e--){let n=r[e];if(!isNaN(n.x)&&!isNaN(n.y))break}return e}function jH(t,e,r,n){return t&&e?n(t[r],e[r]):t?t[r]:e?e[r]:0}function vP(t,e){let r=[],n=!1;return Qt(t)?(n=!0,r=t):r=ax(t,e),r.length?new ci({points:r,options:{tension:0},_loop:n,_fullLoop:n}):null}function qH(t){return t&&t.fill!==!1}function sx(t,e,r){let i=t[e].fill,l=[e],o;if(!r)return i;for(;i!==!1&&l.indexOf(i)===-1;){if(!ir(i))return i;if(o=t[i],!o)return!1;if(o.visible)return i;l.push(i),i=o.fill}return!1}function ux(t,e,r){let n=dx(t);if(Ct(n))return isNaN(n.value)?!1:n;let i=parseFloat(n);return ir(i)&&Math.floor(i)===i?cx(n[0],e,i,r):["origin","start","end","stack","shape"].indexOf(n)>=0&&n}function cx(t,e,r,n){return(t==="-"||t==="+")&&(r=e+r),r===e||r<0||r>=n?!1:r}function fx(t,e){let r=null;return t==="start"?r=e.bottom:t==="end"?r=e.top:Ct(t)?r=e.getPixelForValue(t.value):e.getBasePixel&&(r=e.getBasePixel()),r}function hx(t,e,r){let n;return t==="start"?n=r:t==="end"?n=e.options.reverse?e.min:e.max:Ct(t)?n=t.value:n=e.getBaseValue(),n}function dx(t){let e=t.options,r=e.fill,n=mt(r&&r.target,r);return n===void 0&&(n=!!e.backgroundColor),n===!1||n===null?!1:n===!0?"origin":n}function mx(t){let{scale:e,index:r,line:n}=t,i=[],l=n.segments,o=n.points,a=gx(e,r);a.push(vP({x:null,y:e.bottom},n));for(let s=0;s<l.length;s++){let u=l[s];for(let c=u.start;c<=u.end;c++)_x(i,o[c],a)}return new ci({points:i,options:{}})}function gx(t,e){let r=[],n=t.getMatchingVisibleMetas("line");for(let i=0;i<n.length;i++){let l=n[i];if(l.index===e)break;l.hidden||r.unshift(l.dataset)}return r}function _x(t,e,r){let n=[];for(let i=0;i<r.length;i++){let l=r[i],{first:o,last:a,point:s}=px(l,e,"x");if(!(!s||o&&a)){if(o)n.unshift(s);else if(t.push(s),!a)break}}t.push(...n)}function px(t,e,r){let n=t.interpolate(e,r);if(!n)return{};let i=n[r],l=t.segments,o=t.points,a=!1,s=!1;for(let u=0;u<l.length;u++){let c=l[u],f=o[c.start][r],h=o[c.end][r];if(Ps(i,f,h)){a=i===f,s=i===h;break}}return{first:a,last:s,point:n}}var zf=class{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,r,n){let{x:i,y:l,radius:o}=this;return r=r||{start:0,end:Fn},e.arc(i,l,o,r.end,r.start,!0),!n.bounds}interpolate(e){let{x:r,y:n,radius:i}=this,l=e.angle;return{x:r+Math.cos(l)*i,y:n+Math.sin(l)*i,angle:l}}};function Cx(t){let{chart:e,fill:r,line:n}=t;if(ir(r))return bx(e,r);if(r==="stack")return mx(t);if(r==="shape")return!0;let i=vx(t);return i instanceof zf?i:vP(i,n)}function bx(t,e){let r=t.getDatasetMeta(e);return r&&t.isDatasetVisible(e)?r.dataset:null}function vx(t){return(t.scale||{}).getPointPositionForValue?kx(t):wx(t)}function wx(t){let{scale:e={},fill:r}=t,n=fx(r,e);if(ir(n)){let i=e.isHorizontal();return{x:i?n:null,y:i?null:n}}return null}function kx(t){let{scale:e,fill:r}=t,n=e.options,i=e.getLabels().length,l=n.reverse?e.max:e.min,o=hx(r,e,l),a=[];if(n.grid.circular){let s=e.getPointPositionForValue(0,l);return new zf({x:s.x,y:s.y,radius:e.getDistanceFromCenterForValue(o)})}for(let s=0;s<i;++s)a.push(e.getPointPositionForValue(s,o));return a}function W_(t,e,r){let n=Cx(e),{line:i,scale:l,axis:o}=e,a=i.options,s=a.fill,u=a.backgroundColor,{above:c=u,below:f=u}=s||{};n&&i.points.length&&(L5(t,r),yx(t,{line:i,target:n,above:c,below:f,area:r,scale:l,axis:o}),E5(t))}function yx(t,e){let{line:r,target:n,above:i,below:l,area:o,scale:a}=e,s=r._loop?"angle":e.axis;t.save(),s==="x"&&l!==i&&(WH(t,n,o.top),UH(t,{line:r,target:n,color:i,scale:a,property:s}),t.restore(),t.save(),WH(t,n,o.bottom)),UH(t,{line:r,target:n,color:l,scale:a,property:s}),t.restore()}function WH(t,e,r){let{segments:n,points:i}=e,l=!0,o=!1;t.beginPath();for(let a of n){let{start:s,end:u}=a,c=i[s],f=i[ip(s,u,i)];l?(t.moveTo(c.x,c.y),l=!1):(t.lineTo(c.x,r),t.lineTo(c.x,c.y)),o=!!e.pathSegment(t,a,{move:o}),o?t.closePath():t.lineTo(f.x,r)}t.lineTo(e.first().x,r),t.closePath(),t.clip()}function UH(t,e){let{line:r,target:n,property:i,color:l,scale:o}=e,a=ox(r,n,i);for(let{source:s,target:u,start:c,end:f}of a){let{style:{backgroundColor:h=l}={}}=s,g=n!==!0;t.save(),t.fillStyle=h,Lx(t,o,g&&rp(i,c,f)),t.beginPath();let p=!!r.pathSegment(t,s),w;if(g){p?t.closePath():YH(t,n,f,i);let b=!!n.pathSegment(t,u,{move:p,reverse:!0});w=p&&b,w||YH(t,n,c,i)}t.closePath(),t.fill(w?"evenodd":"nonzero"),t.restore()}}function Lx(t,e,r){let{top:n,bottom:i}=e.chart.chartArea,{property:l,start:o,end:a}=r||{};l==="x"&&(t.beginPath(),t.rect(o,n,a-o,i-n),t.clip())}function YH(t,e,r,n){let i=e.interpolate(r,n);i&&t.lineTo(i.x,i.y)}var wP={id:"filler",afterDatasetsUpdate(t,e,r){let n=(t.data.datasets||[]).length,i=[],l,o,a,s;for(o=0;o<n;++o)l=t.getDatasetMeta(o),a=l.dataset,s=null,a&&a.options&&a instanceof ci&&(s={visible:t.isDatasetVisible(o),index:o,fill:ux(a,o,n),chart:t,axis:l.controller.options.indexAxis,scale:l.vScale,line:a}),l.$filler=s,i.push(s);for(o=0;o<n;++o)s=i[o],!(!s||s.fill===!1)&&(s.fill=sx(i,o,r.propagate))},beforeDraw(t,e,r){let n=r.drawTime==="beforeDraw",i=t.getSortedVisibleDatasetMetas(),l=t.chartArea;for(let o=i.length-1;o>=0;--o){let a=i[o].$filler;a&&(a.line.updateControlPoints(l,a.axis),n&&a.fill&&W_(t.ctx,a,l))}},beforeDatasetsDraw(t,e,r){if(r.drawTime!=="beforeDatasetsDraw")return;let n=t.getSortedVisibleDatasetMetas();for(let i=n.length-1;i>=0;--i){let l=n[i].$filler;qH(l)&&W_(t.ctx,l,t.chartArea)}},beforeDatasetDraw(t,e,r){let n=e.meta.$filler;!qH(n)||r.drawTime!=="beforeDatasetDraw"||W_(t.ctx,n,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}},GH=(t,e)=>{let{boxHeight:r=e,boxWidth:n=e}=t;return t.usePointStyle&&(r=Math.min(r,e),n=t.pointStyleWidth||Math.min(n,e)),{boxWidth:n,boxHeight:r,itemHeight:Math.max(e,r)}},Ex=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index,Hf=class extends fi{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,r,n){this.maxWidth=e,this.maxHeight=r,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){let e=this.options.labels||{},r=Ft(e.generateLabels,[this.chart],this)||[];e.filter&&(r=r.filter(n=>e.filter(n,this.chart.data))),e.sort&&(r=r.sort((n,i)=>e.sort(n,i,this.chart.data))),this.options.reverse&&r.reverse(),this.legendItems=r}fit(){let{options:e,ctx:r}=this;if(!e.display){this.width=this.height=0;return}let n=e.labels,i=vr(n.font),l=i.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:s}=GH(n,l),u,c;r.font=i.string,this.isHorizontal()?(u=this.maxWidth,c=this._fitRows(o,l,a,s)+10):(c=this.maxHeight,u=this._fitCols(o,i,a,s)+10),this.width=Math.min(u,e.maxWidth||this.maxWidth),this.height=Math.min(c,e.maxHeight||this.maxHeight)}_fitRows(e,r,n,i){let{ctx:l,maxWidth:o,options:{labels:{padding:a}}}=this,s=this.legendHitBoxes=[],u=this.lineWidths=[0],c=i+a,f=e;l.textAlign="left",l.textBaseline="middle";let h=-1,g=-c;return this.legendItems.forEach((p,w)=>{let b=n+r/2+l.measureText(p.text).width;(w===0||u[u.length-1]+b+2*a>o)&&(f+=c,u[u.length-(w>0?0:1)]=0,g+=c,h++),s[w]={left:0,top:g,row:h,width:b,height:i},u[u.length-1]+=b+a}),f}_fitCols(e,r,n,i){let{ctx:l,maxHeight:o,options:{labels:{padding:a}}}=this,s=this.legendHitBoxes=[],u=this.columnSizes=[],c=o-e,f=a,h=0,g=0,p=0,w=0;return this.legendItems.forEach((b,v)=>{let{itemWidth:S,itemHeight:P}=Sx(n,r,l,b,i);v>0&&g+P+2*a>c&&(f+=h+a,u.push({width:h,height:g}),p+=h+a,w++,h=g=0),s[v]={left:p,top:g,col:w,width:S,height:P},h=Math.max(h,S),g+=P+a}),f+=h,u.push({width:h,height:g}),f}adjustHitBoxes(){if(!this.options.display)return;let e=this._computeTitleHeight(),{legendHitBoxes:r,options:{align:n,labels:{padding:i},rtl:l}}=this,o=Rs(l,this.left,this.width);if(this.isHorizontal()){let a=0,s=qr(n,this.left+i,this.right-this.lineWidths[a]);for(let u of r)a!==u.row&&(a=u.row,s=qr(n,this.left+i,this.right-this.lineWidths[a])),u.top+=this.top+e+i,u.left=o.leftForLtr(o.x(s),u.width),s+=u.width+i}else{let a=0,s=qr(n,this.top+e+i,this.bottom-this.columnSizes[a].height);for(let u of r)u.col!==a&&(a=u.col,s=qr(n,this.top+e+i,this.bottom-this.columnSizes[a].height)),u.top=s,u.left+=this.left+i,u.left=o.leftForLtr(o.x(u.left),u.width),s+=u.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){let e=this.ctx;L5(e,this),this._draw(),E5(e)}}_draw(){let{options:e,columnSizes:r,lineWidths:n,ctx:i}=this,{align:l,labels:o}=e,a=lr.color,s=Rs(e.rtl,this.left,this.width),u=vr(o.font),{padding:c}=o,f=u.size,h=f/2,g;this.drawTitle(),i.textAlign=s.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=u.string;let{boxWidth:p,boxHeight:w,itemHeight:b}=GH(o,f),v=function(W,X,x){if(isNaN(p)||p<=0||isNaN(w)||w<0)return;i.save();let le=mt(x.lineWidth,1);if(i.fillStyle=mt(x.fillStyle,a),i.lineCap=mt(x.lineCap,"butt"),i.lineDashOffset=mt(x.lineDashOffset,0),i.lineJoin=mt(x.lineJoin,"miter"),i.lineWidth=le,i.strokeStyle=mt(x.strokeStyle,a),i.setLineDash(mt(x.lineDash,[])),o.usePointStyle){let oe={radius:w*Math.SQRT2/2,pointStyle:x.pointStyle,rotation:x.rotation,borderWidth:le},$=s.xPlus(W,p/2),ee=X+h;M_(i,oe,$,ee,o.pointStyleWidth&&p)}else{let oe=X+Math.max((f-w)/2,0),$=s.leftForLtr(W,p),ee=As(x.borderRadius);i.beginPath(),Object.values(ee).some(ce=>ce!==0)?S5(i,{x:$,y:oe,w:p,h:w,radius:ee}):i.rect($,oe,p,w),i.fill(),le!==0&&i.stroke()}i.restore()},S=function(W,X,x){ta(i,x.text,W,X+b/2,u,{strikethrough:x.hidden,textAlign:s.textAlign(x.textAlign)})},P=this.isHorizontal(),Z=this._computeTitleHeight();P?g={x:qr(l,this.left+c,this.right-n[0]),y:this.top+c+Z,line:0}:g={x:this.left+c,y:qr(l,this.top+Z+c,this.bottom-r[0].height),line:0},B_(this.ctx,e.textDirection);let y=b+c;this.legendItems.forEach((W,X)=>{i.strokeStyle=W.fontColor,i.fillStyle=W.fontColor;let x=i.measureText(W.text).width,le=s.textAlign(W.textAlign||(W.textAlign=o.textAlign)),oe=p+h+x,$=g.x,ee=g.y;s.setWidth(this.width),P?X>0&&$+oe+c>this.right&&(ee=g.y+=y,g.line++,$=g.x=qr(l,this.left+c,this.right-n[g.line])):X>0&&ee+y>this.bottom&&($=g.x=$+r[g.line].width+c,g.line++,ee=g.y=qr(l,this.top+Z+c,this.bottom-r[g.line].height));let ce=s.x($);if(v(ce,ee,W),$=Xz(le,$+p+h,P?$+oe:this.right,e.rtl),S(s.x($),ee,W),P)g.x+=oe+c;else if(typeof W.text!="string"){let Te=u.lineHeight;g.y+=kP(W,Te)+c}else g.y+=y}),O_(this.ctx,e.textDirection)}drawTitle(){let e=this.options,r=e.title,n=vr(r.font),i=Wr(r.padding);if(!r.display)return;let l=Rs(e.rtl,this.left,this.width),o=this.ctx,a=r.position,s=n.size/2,u=i.top+s,c,f=this.left,h=this.width;if(this.isHorizontal())h=Math.max(...this.lineWidths),c=this.top+u,f=qr(e.align,f,this.right-h);else{let p=this.columnSizes.reduce((w,b)=>Math.max(w,b.height),0);c=u+qr(e.align,this.top,this.bottom-p-e.labels.padding-this._computeTitleHeight())}let g=qr(a,f,f+h);o.textAlign=l.textAlign(sf(a)),o.textBaseline="middle",o.strokeStyle=r.color,o.fillStyle=r.color,o.font=n.string,ta(o,r.text,g,c,n)}_computeTitleHeight(){let e=this.options.title,r=vr(e.font),n=Wr(e.padding);return e.display?r.lineHeight+n.height:0}_getLegendItemAt(e,r){let n,i,l;if(Ps(e,this.left,this.right)&&Ps(r,this.top,this.bottom)){for(l=this.legendHitBoxes,n=0;n<l.length;++n)if(i=l[n],Ps(e,i.left,i.left+i.width)&&Ps(r,i.top,i.top+i.height))return this.legendItems[n]}return null}handleEvent(e){let r=this.options;if(!zx(e.type,r))return;let n=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){let i=this._hoveredItem,l=Ex(i,n);i&&!l&&Ft(r.onLeave,[e,i,this],this),this._hoveredItem=n,n&&!l&&Ft(r.onHover,[e,n,this],this)}else n&&Ft(r.onClick,[e,n,this],this)}};function Sx(t,e,r,n,i){let l=Mx(n,t,e,r),o=Tx(i,n,e.lineHeight);return{itemWidth:l,itemHeight:o}}function Mx(t,e,r,n){let i=t.text;return i&&typeof i!="string"&&(i=i.reduce((l,o)=>l.length>o.length?l:o)),e+r.size/2+n.measureText(i).width}function Tx(t,e,r){let n=t;return typeof e.text!="string"&&(n=kP(e,r)),n}function kP(t,e){let r=t.text?t.text.length:0;return e*r}function zx(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var yP={id:"legend",_element:Hf,start(t,e,r){let n=t.legend=new Hf({ctx:t.ctx,options:r,chart:t});B1.configure(t,n,r),B1.addBox(t,n)},stop(t){B1.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,r){let n=t.legend;B1.configure(t,n,r),n.options=r},afterUpdate(t){let e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,r){let n=e.datasetIndex,i=r.chart;i.isDatasetVisible(n)?(i.hide(n),e.hidden=!0):(i.show(n),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){let e=t.data.datasets,{labels:{usePointStyle:r,pointStyle:n,textAlign:i,color:l,useBorderRadius:o,borderRadius:a}}=t.legend.options;return t._getSortedDatasetMetas().map(s=>{let u=s.controller.getStyle(r?0:void 0),c=Wr(u.borderWidth);return{text:e[s.index].label,fillStyle:u.backgroundColor,fontColor:l,hidden:!s.visible,lineCap:u.borderCapStyle,lineDash:u.borderDash,lineDashOffset:u.borderDashOffset,lineJoin:u.borderJoinStyle,lineWidth:(c.width+c.height)/4,strokeStyle:u.borderColor,pointStyle:n||u.pointStyle,rotation:u.rotation,textAlign:i||u.textAlign,borderRadius:o&&(a||u.borderRadius),datasetIndex:s.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}},Pf=class extends fi{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,r){let n=this.options;if(this.left=0,this.top=0,!n.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=r;let i=Qt(n.text)?n.text.length:1;this._padding=Wr(n.padding);let l=i*vr(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=l:this.width=l}isHorizontal(){let e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){let{top:r,left:n,bottom:i,right:l,options:o}=this,a=o.align,s=0,u,c,f;return this.isHorizontal()?(c=qr(a,n,l),f=r+e,u=l-n):(o.position==="left"?(c=n+e,f=qr(a,i,r),s=mr*-.5):(c=l-e,f=qr(a,r,i),s=mr*.5),u=i-r),{titleX:c,titleY:f,maxWidth:u,rotation:s}}draw(){let e=this.ctx,r=this.options;if(!r.display)return;let n=vr(r.font),l=n.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:s,rotation:u}=this._drawArgs(l);ta(e,r.text,0,0,n,{color:r.color,maxWidth:s,rotation:u,textAlign:sf(r.align),textBaseline:"middle",translation:[o,a]})}};function Hx(t,e){let r=new Pf({ctx:t.ctx,options:e,chart:t});B1.configure(t,r,e),B1.addBox(t,r),t.titleBlock=r}var LP={id:"title",_element:Pf,start(t,e,r){Hx(t,r)},stop(t){let e=t.titleBlock;B1.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,r){let n=t.titleBlock;B1.configure(t,n,r),n.options=r},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};var B5={average(t){if(!t.length)return!1;let e,r,n=new Set,i=0,l=0;for(e=0,r=t.length;e<r;++e){let a=t[e].element;if(a&&a.hasValue()){let s=a.tooltipPosition();n.add(s.x),i+=s.y,++l}}return l===0||n.size===0?!1:{x:[...n].reduce((a,s)=>a+s)/n.size,y:i/l}},nearest(t,e){if(!t.length)return!1;let r=e.x,n=e.y,i=Number.POSITIVE_INFINITY,l,o,a;for(l=0,o=t.length;l<o;++l){let s=t[l].element;if(s&&s.hasValue()){let u=s.getCenterPoint(),c=rf(e,u);c<i&&(i=c,a=s)}}if(a){let s=a.tooltipPosition();r=s.x,n=s.y}return{x:r,y:n}}};function Ji(t,e){return e&&(Qt(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function lo(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function Px(t,e){let{element:r,datasetIndex:n,index:i}=e,l=t.getDatasetMeta(n).controller,{label:o,value:a}=l.getLabelAndValue(i);return{chart:t,label:o,parsed:l.getParsed(i),raw:t.data.datasets[n].data[i],formattedValue:a,dataset:l.getDataset(),dataIndex:i,datasetIndex:n,element:r}}function JH(t,e){let r=t.chart.ctx,{body:n,footer:i,title:l}=t,{boxWidth:o,boxHeight:a}=e,s=vr(e.bodyFont),u=vr(e.titleFont),c=vr(e.footerFont),f=l.length,h=i.length,g=n.length,p=Wr(e.padding),w=p.height,b=0,v=n.reduce((Z,y)=>Z+y.before.length+y.lines.length+y.after.length,0);if(v+=t.beforeBody.length+t.afterBody.length,f&&(w+=f*u.lineHeight+(f-1)*e.titleSpacing+e.titleMarginBottom),v){let Z=e.displayColors?Math.max(a,s.lineHeight):s.lineHeight;w+=g*Z+(v-g)*s.lineHeight+(v-1)*e.bodySpacing}h&&(w+=e.footerMarginTop+h*c.lineHeight+(h-1)*e.footerSpacing);let S=0,P=function(Z){b=Math.max(b,r.measureText(Z).width+S)};return r.save(),r.font=u.string,zt(t.title,P),r.font=s.string,zt(t.beforeBody.concat(t.afterBody),P),S=e.displayColors?o+2+e.boxPadding:0,zt(n,Z=>{zt(Z.before,P),zt(Z.lines,P),zt(Z.after,P)}),S=0,r.font=c.string,zt(t.footer,P),r.restore(),b+=p.width,{width:b,height:w}}function Ax(t,e){let{y:r,height:n}=e;return r<n/2?"top":r>t.height-n/2?"bottom":"center"}function Rx(t,e,r,n){let{x:i,width:l}=n,o=r.caretSize+r.caretPadding;if(t==="left"&&i+l+o>e.width||t==="right"&&i-l-o<0)return!0}function Bx(t,e,r,n){let{x:i,width:l}=r,{width:o,chartArea:{left:a,right:s}}=t,u="center";return n==="center"?u=i<=(a+s)/2?"left":"right":i<=l/2?u="left":i>=o-l/2&&(u="right"),Rx(u,t,e,r)&&(u="center"),u}function KH(t,e,r){let n=r.yAlign||e.yAlign||Ax(t,r);return{xAlign:r.xAlign||e.xAlign||Bx(t,e,r,n),yAlign:n}}function Ox(t,e){let{x:r,width:n}=t;return e==="right"?r-=n:e==="center"&&(r-=n/2),r}function Vx(t,e,r){let{y:n,height:i}=t;return e==="top"?n+=r:e==="bottom"?n-=i+r:n-=i/2,n}function XH(t,e,r,n){let{caretSize:i,caretPadding:l,cornerRadius:o}=t,{xAlign:a,yAlign:s}=r,u=i+l,{topLeft:c,topRight:f,bottomLeft:h,bottomRight:g}=As(o),p=Ox(e,a),w=Vx(e,s,u);return s==="center"?a==="left"?p+=u:a==="right"&&(p-=u):a==="left"?p-=Math.max(c,h)+i:a==="right"&&(p+=Math.max(f,g)+i),{x:u1(p,0,n.width-e.width),y:u1(w,0,n.height-e.height)}}function vf(t,e,r){let n=Wr(r.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-n.right:t.x+n.left}function QH(t){return Ji([],lo(t))}function Zx(t,e,r){return no(t,{tooltip:e,tooltipItems:r,type:"tooltip"})}function xH(t,e){let r=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return r?t.override(r):t}var EP={beforeTitle:Gi,title(t){if(t.length>0){let e=t[0],r=e.chart.data.labels,n=r?r.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(n>0&&e.dataIndex<n)return r[e.dataIndex]}return""},afterTitle:Gi,beforeBody:Gi,beforeLabel:Gi,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");let r=t.formattedValue;return Gt(r)||(e+=r),e},labelColor(t){let r=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:r.borderColor,backgroundColor:r.backgroundColor,borderWidth:r.borderWidth,borderDash:r.borderDash,borderDashOffset:r.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){let r=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:r.pointStyle,rotation:r.rotation}},afterLabel:Gi,afterBody:Gi,beforeFooter:Gi,footer:Gi,afterFooter:Gi};function qn(t,e,r,n){let i=t[e].call(r,n);return typeof i=="undefined"?EP[e].call(r,n):i}var O5=class extends fi{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){let e=this._cachedAnimations;if(e)return e;let r=this.chart,n=this.options.setContext(this.getContext()),i=n.enabled&&r.options.animation&&n.animations,l=new Sf(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(l)),l}getContext(){return this.$context||(this.$context=Zx(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,r){let{callbacks:n}=r,i=qn(n,"beforeTitle",this,e),l=qn(n,"title",this,e),o=qn(n,"afterTitle",this,e),a=[];return a=Ji(a,lo(i)),a=Ji(a,lo(l)),a=Ji(a,lo(o)),a}getBeforeBody(e,r){return QH(qn(r.callbacks,"beforeBody",this,e))}getBody(e,r){let{callbacks:n}=r,i=[];return zt(e,l=>{let o={before:[],lines:[],after:[]},a=xH(n,l);Ji(o.before,lo(qn(a,"beforeLabel",this,l))),Ji(o.lines,qn(a,"label",this,l)),Ji(o.after,lo(qn(a,"afterLabel",this,l))),i.push(o)}),i}getAfterBody(e,r){return QH(qn(r.callbacks,"afterBody",this,e))}getFooter(e,r){let{callbacks:n}=r,i=qn(n,"beforeFooter",this,e),l=qn(n,"footer",this,e),o=qn(n,"afterFooter",this,e),a=[];return a=Ji(a,lo(i)),a=Ji(a,lo(l)),a=Ji(a,lo(o)),a}_createItems(e){let r=this._active,n=this.chart.data,i=[],l=[],o=[],a=[],s,u;for(s=0,u=r.length;s<u;++s)a.push(Px(this.chart,r[s]));return e.filter&&(a=a.filter((c,f,h)=>e.filter(c,f,h,n))),e.itemSort&&(a=a.sort((c,f)=>e.itemSort(c,f,n))),zt(a,c=>{let f=xH(e.callbacks,c);i.push(qn(f,"labelColor",this,c)),l.push(qn(f,"labelPointStyle",this,c)),o.push(qn(f,"labelTextColor",this,c))}),this.labelColors=i,this.labelPointStyles=l,this.labelTextColors=o,this.dataPoints=a,a}update(e,r){let n=this.options.setContext(this.getContext()),i=this._active,l,o=[];if(!i.length)this.opacity!==0&&(l={opacity:0});else{let a=B5[n.position].call(this,i,this._eventPosition);o=this._createItems(n),this.title=this.getTitle(o,n),this.beforeBody=this.getBeforeBody(o,n),this.body=this.getBody(o,n),this.afterBody=this.getAfterBody(o,n),this.footer=this.getFooter(o,n);let s=this._size=JH(this,n),u=Object.assign({},a,s),c=KH(this.chart,n,u),f=XH(n,u,c,this.chart);this.xAlign=c.xAlign,this.yAlign=c.yAlign,l={opacity:1,x:f.x,y:f.y,width:s.width,height:s.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,l&&this._resolveAnimations().update(this,l),e&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:r})}drawCaret(e,r,n,i){let l=this.getCaretPosition(e,n,i);r.lineTo(l.x1,l.y1),r.lineTo(l.x2,l.y2),r.lineTo(l.x3,l.y3)}getCaretPosition(e,r,n){let{xAlign:i,yAlign:l}=this,{caretSize:o,cornerRadius:a}=n,{topLeft:s,topRight:u,bottomLeft:c,bottomRight:f}=As(a),{x:h,y:g}=e,{width:p,height:w}=r,b,v,S,P,Z,y;return l==="center"?(Z=g+w/2,i==="left"?(b=h,v=b-o,P=Z+o,y=Z-o):(b=h+p,v=b+o,P=Z-o,y=Z+o),S=b):(i==="left"?v=h+Math.max(s,c)+o:i==="right"?v=h+p-Math.max(u,f)-o:v=this.caretX,l==="top"?(P=g,Z=P-o,b=v-o,S=v+o):(P=g+w,Z=P+o,b=v+o,S=v-o),y=P),{x1:b,x2:v,x3:S,y1:P,y2:Z,y3:y}}drawTitle(e,r,n){let i=this.title,l=i.length,o,a,s;if(l){let u=Rs(n.rtl,this.x,this.width);for(e.x=vf(this,n.titleAlign,n),r.textAlign=u.textAlign(n.titleAlign),r.textBaseline="middle",o=vr(n.titleFont),a=n.titleSpacing,r.fillStyle=n.titleColor,r.font=o.string,s=0;s<l;++s)r.fillText(i[s],u.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+a,s+1===l&&(e.y+=n.titleMarginBottom-a)}}_drawColorBox(e,r,n,i,l){let o=this.labelColors[n],a=this.labelPointStyles[n],{boxHeight:s,boxWidth:u}=l,c=vr(l.bodyFont),f=vf(this,"left",l),h=i.x(f),g=s<c.lineHeight?(c.lineHeight-s)/2:0,p=r.y+g;if(l.usePointStyle){let w={radius:Math.min(u,s)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},b=i.leftForLtr(h,u)+u/2,v=p+s/2;e.strokeStyle=l.multiKeyBackground,e.fillStyle=l.multiKeyBackground,ff(e,w,b,v),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,ff(e,w,b,v)}else{e.lineWidth=Ct(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;let w=i.leftForLtr(h,u),b=i.leftForLtr(i.xPlus(h,1),u-2),v=As(o.borderRadius);Object.values(v).some(S=>S!==0)?(e.beginPath(),e.fillStyle=l.multiKeyBackground,S5(e,{x:w,y:p,w:u,h:s,radius:v}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),S5(e,{x:b,y:p+1,w:u-2,h:s-2,radius:v}),e.fill()):(e.fillStyle=l.multiKeyBackground,e.fillRect(w,p,u,s),e.strokeRect(w,p,u,s),e.fillStyle=o.backgroundColor,e.fillRect(b,p+1,u-2,s-2))}e.fillStyle=this.labelTextColors[n]}drawBody(e,r,n){let{body:i}=this,{bodySpacing:l,bodyAlign:o,displayColors:a,boxHeight:s,boxWidth:u,boxPadding:c}=n,f=vr(n.bodyFont),h=f.lineHeight,g=0,p=Rs(n.rtl,this.x,this.width),w=function(x){r.fillText(x,p.x(e.x+g),e.y+h/2),e.y+=h+l},b=p.textAlign(o),v,S,P,Z,y,W,X;for(r.textAlign=o,r.textBaseline="middle",r.font=f.string,e.x=vf(this,b,n),r.fillStyle=n.bodyColor,zt(this.beforeBody,w),g=a&&b!=="right"?o==="center"?u/2+c:u+2+c:0,Z=0,W=i.length;Z<W;++Z){for(v=i[Z],S=this.labelTextColors[Z],r.fillStyle=S,zt(v.before,w),P=v.lines,a&&P.length&&(this._drawColorBox(r,e,Z,p,n),h=Math.max(f.lineHeight,s)),y=0,X=P.length;y<X;++y)w(P[y]),h=f.lineHeight;zt(v.after,w)}g=0,h=f.lineHeight,zt(this.afterBody,w),e.y-=l}drawFooter(e,r,n){let i=this.footer,l=i.length,o,a;if(l){let s=Rs(n.rtl,this.x,this.width);for(e.x=vf(this,n.footerAlign,n),e.y+=n.footerMarginTop,r.textAlign=s.textAlign(n.footerAlign),r.textBaseline="middle",o=vr(n.footerFont),r.fillStyle=n.footerColor,r.font=o.string,a=0;a<l;++a)r.fillText(i[a],s.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+n.footerSpacing}}drawBackground(e,r,n,i){let{xAlign:l,yAlign:o}=this,{x:a,y:s}=e,{width:u,height:c}=n,{topLeft:f,topRight:h,bottomLeft:g,bottomRight:p}=As(i.cornerRadius);r.fillStyle=i.backgroundColor,r.strokeStyle=i.borderColor,r.lineWidth=i.borderWidth,r.beginPath(),r.moveTo(a+f,s),o==="top"&&this.drawCaret(e,r,n,i),r.lineTo(a+u-h,s),r.quadraticCurveTo(a+u,s,a+u,s+h),o==="center"&&l==="right"&&this.drawCaret(e,r,n,i),r.lineTo(a+u,s+c-p),r.quadraticCurveTo(a+u,s+c,a+u-p,s+c),o==="bottom"&&this.drawCaret(e,r,n,i),r.lineTo(a+g,s+c),r.quadraticCurveTo(a,s+c,a,s+c-g),o==="center"&&l==="left"&&this.drawCaret(e,r,n,i),r.lineTo(a,s+f),r.quadraticCurveTo(a,s,a+f,s),r.closePath(),r.fill(),i.borderWidth>0&&r.stroke()}_updateAnimationTarget(e){let r=this.chart,n=this.$animations,i=n&&n.x,l=n&&n.y;if(i||l){let o=B5[e.position].call(this,this._active,this._eventPosition);if(!o)return;let a=this._size=JH(this,e),s=Object.assign({},o,this._size),u=KH(r,e,s),c=XH(e,s,u,r);(i._to!==c.x||l._to!==c.y)&&(this.xAlign=u.xAlign,this.yAlign=u.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,c))}}_willRender(){return!!this.opacity}draw(e){let r=this.options.setContext(this.getContext()),n=this.opacity;if(!n)return;this._updateAnimationTarget(r);let i={width:this.width,height:this.height},l={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;let o=Wr(r.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;r.enabled&&a&&(e.save(),e.globalAlpha=n,this.drawBackground(l,e,i,r),B_(e,r.textDirection),l.y+=o.top,this.drawTitle(l,e,r),this.drawBody(l,e,r),this.drawFooter(l,e,r),O_(e,r.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,r){let n=this._active,i=e.map(({datasetIndex:a,index:s})=>{let u=this.chart.getDatasetMeta(a);if(!u)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:u.data[s],index:s}}),l=!v5(n,i),o=this._positionChanged(i,r);(l||o)&&(this._active=i,this._eventPosition=r,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,r,n=!0){if(r&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;let i=this.options,l=this._active||[],o=this._getActiveElements(e,l,r,n),a=this._positionChanged(o,e),s=r||!v5(o,l)||a;return s&&(this._active=o,(i.enabled||i.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,r))),s}_getActiveElements(e,r,n,i){let l=this.options;if(e.type==="mouseout")return[];if(!i)return r.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);let o=this.chart.getElementsAtEventForMode(e,l.mode,l,n);return l.reverse&&o.reverse(),o}_positionChanged(e,r){let{caretX:n,caretY:i,options:l}=this,o=B5[l.position].call(this,e,r);return o!==!1&&(n!==o.x||i!==o.y)}};Le(O5,"positioners",B5);var SP={id:"tooltip",_element:O5,positioners:B5,afterInit(t,e,r){r&&(t.tooltip=new O5({chart:t,options:r}))},beforeUpdate(t,e,r){t.tooltip&&t.tooltip.initialize(r)},reset(t,e,r){t.tooltip&&t.tooltip.initialize(r)},afterDraw(t){let e=t.tooltip;if(e&&e._willRender()){let r={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...r,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",r)}},afterEvent(t,e){if(t.tooltip){let r=e.replay;t.tooltip.handleEvent(e.event,r,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:EP},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};var Ix=(t,e,r,n)=>(typeof e=="string"?(r=t.push(e)-1,n.unshift({index:r,label:e})):isNaN(e)&&(r=null),r);function Dx(t,e,r,n){let i=t.indexOf(e);if(i===-1)return Ix(t,e,r,n);let l=t.lastIndexOf(e);return i!==l?r:i}var Nx=(t,e)=>t===null?null:u1(Math.round(t),0,e);function $H(t){let e=this.getLabels();return t>=0&&t<e.length?e[t]:t}var J2=class extends Ds{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){let r=this._addedLabels;if(r.length){let n=this.getLabels();for(let{index:i,label:l}of r)n[i]===l&&n.splice(i,1);this._addedLabels=[]}super.init(e)}parse(e,r){if(Gt(e))return null;let n=this.getLabels();return r=isFinite(r)&&n[r]===e?r:Dx(n,e,mt(r,e),this._addedLabels),Nx(r,n.length-1)}determineDataLimits(){let{minDefined:e,maxDefined:r}=this.getUserBounds(),{min:n,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(n=0),r||(i=this.getLabels().length-1)),this.min=n,this.max=i}buildTicks(){let e=this.min,r=this.max,n=this.options.offset,i=[],l=this.getLabels();l=e===0&&r===l.length-1?l:l.slice(e,r+1),this._valueRange=Math.max(l.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let o=e;o<=r;o++)i.push({value:o});return i}getLabelForValue(e){return $H.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){let r=this.ticks;return e<0||e>r.length-1?null:this.getPixelForValue(r[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}};Le(J2,"id","category"),Le(J2,"defaults",{ticks:{callback:$H}});function Fx(t,e){let r=[],{bounds:i,step:l,min:o,max:a,precision:s,count:u,maxTicks:c,maxDigits:f,includeBounds:h}=t,g=l||1,p=c-1,{min:w,max:b}=e,v=!Gt(o),S=!Gt(a),P=!Gt(u),Z=(b-w)/(f+1),y=p_((b-w)/p/g)*g,W,X,x,le;if(y<1e-14&&!v&&!S)return[{value:w},{value:b}];le=Math.ceil(b/y)-Math.floor(w/y),le>p&&(y=p_(le*y/p/g)*g),Gt(s)||(W=Math.pow(10,s),y=Math.ceil(y*W)/W),i==="ticks"?(X=Math.floor(w/y)*y,x=Math.ceil(b/y)*y):(X=w,x=b),v&&S&&l&&Fz((a-o)/l,y/1e3)?(le=Math.round(Math.min((a-o)/y,c)),y=(a-o)/le,X=o,x=a):P?(X=v?o:X,x=S?a:x,le=u-1,y=(x-X)/le):(le=(x-X)/y,W2(le,Math.round(le),y/1e3)?le=Math.round(le):le=Math.ceil(le));let oe=Math.max(b_(y),b_(X));W=Math.pow(10,Gt(s)?oe:s),X=Math.round(X*W)/W,x=Math.round(x*W)/W;let $=0;for(v&&(h&&X!==o?(r.push({value:o}),X<o&&$++,W2(Math.round((X+$*y)*W)/W,o,eP(o,Z,t))&&$++):X<o&&$++);$<le;++$){let ee=Math.round((X+$*y)*W)/W;if(S&&ee>a)break;r.push({value:ee})}return S&&h&&x!==a?r.length&&W2(r[r.length-1].value,a,eP(a,Z,t))?r[r.length-1].value=a:r.push({value:a}):(!S||x===a)&&r.push({value:x}),r}function eP(t,e,{horizontal:r,minRotation:n}){let i=ro(n),l=(r?Math.sin(i):Math.cos(i))||.001,o=.75*e*(""+t).length;return Math.min(e/l,o)}var Q2=class extends Ds{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,r){return Gt(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){let{beginAtZero:e}=this.options,{minDefined:r,maxDefined:n}=this.getUserBounds(),{min:i,max:l}=this,o=s=>i=r?i:s,a=s=>l=n?l:s;if(e){let s=zs(i),u=zs(l);s<0&&u<0?a(0):s>0&&u>0&&o(0)}if(i===l){let s=l===0?1:Math.abs(l*.05);a(l+s),e||o(i-s)}this.min=i,this.max=l}getTickLimit(){let e=this.options.ticks,{maxTicksLimit:r,stepSize:n}=e,i;return n?(i=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),r=r||11),r&&(i=Math.min(r,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){let e=this.options,r=e.ticks,n=this.getTickLimit();n=Math.max(2,n);let i={maxTicks:n,bounds:e.bounds,min:e.min,max:e.max,precision:r.precision,step:r.stepSize,count:r.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:r.minRotation||0,includeBounds:r.includeBounds!==!1},l=this._range||this,o=Fx(i,l);return e.bounds==="ticks"&&C_(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){let e=this.ticks,r=this.min,n=this.max;if(super.configure(),this.options.offset&&e.length){let i=(n-r)/Math.max(e.length-1,1)/2;r-=i,n+=i}this._startValue=r,this._endValue=n,this._valueRange=n-r}getLabelForValue(e){return uf(e,this.chart.options.locale,this.options.ticks.format)}},K2=class extends Q2{determineDataLimits(){let{min:e,max:r}=this.getMinMax(!0);this.min=ir(e)?e:0,this.max=ir(r)?r:1,this.handleTickRangeOptions()}computeTickLimit(){let e=this.isHorizontal(),r=e?this.width:this.height,n=ro(this.options.ticks.minRotation),i=(e?Math.sin(n):Math.cos(n))||.001,l=this._resolveTickFontOptions(0);return Math.ceil(r/Math.min(40,l.lineHeight/i))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}};Le(K2,"id","linear"),Le(K2,"defaults",{ticks:{callback:y5.formatters.numeric}});var Z5=t=>Math.floor(to(t)),Os=(t,e)=>Math.pow(10,Z5(t)+e);function tP(t){return t/Math.pow(10,Z5(t))===1}function rP(t,e,r){let n=Math.pow(10,r),i=Math.floor(t/n);return Math.ceil(e/n)-i}function jx(t,e){let r=e-t,n=Z5(r);for(;rP(t,e,n)>10;)n++;for(;rP(t,e,n)<10;)n--;return Math.min(n,Z5(t))}function qx(t,{min:e,max:r}){e=jn(t.min,e);let n=[],i=Z5(e),l=jx(e,r),o=l<0?Math.pow(10,Math.abs(l)):1,a=Math.pow(10,l),s=i>l?Math.pow(10,i):0,u=Math.round((e-s)*o)/o,c=Math.floor((e-s)/a/10)*a*10,f=Math.floor((u-c)/Math.pow(10,l)),h=jn(t.min,Math.round((s+c+f*Math.pow(10,l))*o)/o);for(;h<r;)n.push({value:h,major:tP(h),significand:f}),f>=10?f=f<15?15:20:f++,f>=20&&(l++,f=2,o=l>=0?1:o),h=Math.round((s+c+f*Math.pow(10,l))*o)/o;let g=jn(t.max,h);return n.push({value:g,major:tP(g),significand:f}),n}var wf=class extends Ds{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,r){let n=Q2.prototype.parse.apply(this,[e,r]);if(n===0){this._zero=!0;return}return ir(n)&&n>0?n:null}determineDataLimits(){let{min:e,max:r}=this.getMinMax(!0);this.min=ir(e)?Math.max(0,e):null,this.max=ir(r)?Math.max(0,r):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!ir(this._userMin)&&(this.min=e===Os(this.min,0)?Os(this.min,-1):Os(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){let{minDefined:e,maxDefined:r}=this.getUserBounds(),n=this.min,i=this.max,l=a=>n=e?n:a,o=a=>i=r?i:a;n===i&&(n<=0?(l(1),o(10)):(l(Os(n,-1)),o(Os(i,1)))),n<=0&&l(Os(i,-1)),i<=0&&o(Os(n,1)),this.min=n,this.max=i}buildTicks(){let e=this.options,r={min:this._userMin,max:this._userMax},n=qx(r,this);return e.bounds==="ticks"&&C_(n,this,"value"),e.reverse?(n.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),n}getLabelForValue(e){return e===void 0?"0":uf(e,this.chart.options.locale,this.options.ticks.format)}configure(){let e=this.min;super.configure(),this._startValue=to(e),this._valueRange=to(this.max)-to(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(to(e)-this._startValue)/this._valueRange)}getValueForPixel(e){let r=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+r*this._valueRange)}};Le(wf,"id","logarithmic"),Le(wf,"defaults",{ticks:{callback:y5.formatters.logarithmic,major:{enabled:!0}}});function np(t){let e=t.ticks;if(e.display&&t.display){let r=Wr(e.backdropPadding);return mt(e.font&&e.font.size,lr.font.size)+r.height}return 0}function Wx(t,e,r){return r=Qt(r)?r:[r],{w:eH(t,e.string,r),h:r.length*e.lineHeight}}function nP(t,e,r,n,i){return t===n||t===i?{start:e-r/2,end:e+r/2}:t<n||t>i?{start:e-r,end:e}:{start:e,end:e+r}}function Ux(t){let e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},r=Object.assign({},e),n=[],i=[],l=t._pointLabels.length,o=t.options.pointLabels,a=o.centerPointLabels?mr/l:0;for(let s=0;s<l;s++){let u=o.setContext(t.getPointLabelContext(s));i[s]=u.padding;let c=t.getPointPosition(s,t.drawingArea+i[s],a),f=vr(u.font),h=Wx(t.ctx,f,t._pointLabels[s]);n[s]=h;let g=Dn(t.getIndexAngle(s)+a),p=Math.round(of(g)),w=nP(p,c.x,h.w,0,180),b=nP(p,c.y,h.h,90,270);Yx(r,e,g,w,b)}t.setCenterPoint(e.l-r.l,r.r-e.r,e.t-r.t,r.b-e.b),t._pointLabelItems=Kx(t,n,i)}function Yx(t,e,r,n,i){let l=Math.abs(Math.sin(r)),o=Math.abs(Math.cos(r)),a=0,s=0;n.start<e.l?(a=(e.l-n.start)/l,t.l=Math.min(t.l,e.l-a)):n.end>e.r&&(a=(n.end-e.r)/l,t.r=Math.max(t.r,e.r+a)),i.start<e.t?(s=(e.t-i.start)/o,t.t=Math.min(t.t,e.t-s)):i.end>e.b&&(s=(i.end-e.b)/o,t.b=Math.max(t.b,e.b+s))}function Gx(t,e,r){let n=t.drawingArea,{extra:i,additionalAngle:l,padding:o,size:a}=r,s=t.getPointPosition(e,n+i+o,l),u=Math.round(of(Dn(s.angle+Nn))),c=xx(s.y,a.h,u),f=Xx(u),h=Qx(s.x,a.w,f);return{visible:!0,x:s.x,y:c,textAlign:f,left:h,top:c,right:h+a.w,bottom:c+a.h}}function Jx(t,e){if(!e)return!0;let{left:r,top:n,right:i,bottom:l}=t;return!(Yi({x:r,y:n},e)||Yi({x:r,y:l},e)||Yi({x:i,y:n},e)||Yi({x:i,y:l},e))}function Kx(t,e,r){let n=[],i=t._pointLabels.length,l=t.options,{centerPointLabels:o,display:a}=l.pointLabels,s={extra:np(l)/2,additionalAngle:o?mr/i:0},u;for(let c=0;c<i;c++){s.padding=r[c],s.size=e[c];let f=Gx(t,c,s);n.push(f),a==="auto"&&(f.visible=Jx(f,u),f.visible&&(u=f))}return n}function Xx(t){return t===0||t===180?"center":t<180?"left":"right"}function Qx(t,e,r){return r==="right"?t-=e:r==="center"&&(t-=e/2),t}function xx(t,e,r){return r===90||r===270?t-=e/2:(r>270||r<90)&&(t-=e),t}function $x(t,e,r){let{left:n,top:i,right:l,bottom:o}=r,{backdropColor:a}=e;if(!Gt(a)){let s=As(e.borderRadius),u=Wr(e.backdropPadding);t.fillStyle=a;let c=n-u.left,f=i-u.top,h=l-n+u.width,g=o-i+u.height;Object.values(s).some(p=>p!==0)?(t.beginPath(),S5(t,{x:c,y:f,w:h,h:g,radius:s}),t.fill()):t.fillRect(c,f,h,g)}}function e$(t,e){let{ctx:r,options:{pointLabels:n}}=t;for(let i=e-1;i>=0;i--){let l=t._pointLabelItems[i];if(!l.visible)continue;let o=n.setContext(t.getPointLabelContext(i));$x(r,o,l);let a=vr(o.font),{x:s,y:u,textAlign:c}=l;ta(r,t._pointLabels[i],s,u+a.lineHeight/2,a,{color:o.color,textAlign:c,textBaseline:"middle"})}}function MP(t,e,r,n){let{ctx:i}=t;if(r)i.arc(t.xCenter,t.yCenter,e,0,Fn);else{let l=t.getPointPosition(0,e);i.moveTo(l.x,l.y);for(let o=1;o<n;o++)l=t.getPointPosition(o,e),i.lineTo(l.x,l.y)}}function t$(t,e,r,n,i){let l=t.ctx,o=e.circular,{color:a,lineWidth:s}=e;!o&&!n||!a||!s||r<0||(l.save(),l.strokeStyle=a,l.lineWidth=s,l.setLineDash(i.dash||[]),l.lineDashOffset=i.dashOffset,l.beginPath(),MP(t,r,o,n),l.closePath(),l.stroke(),l.restore())}function r$(t,e,r){return no(t,{label:r,index:e,type:"pointLabel"})}var Y2=class extends Q2{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){let e=this._padding=Wr(np(this.options)/2),r=this.width=this.maxWidth-e.width,n=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+r/2+e.left),this.yCenter=Math.floor(this.top+n/2+e.top),this.drawingArea=Math.floor(Math.min(r,n)/2)}determineDataLimits(){let{min:e,max:r}=this.getMinMax(!1);this.min=ir(e)&&!isNaN(e)?e:0,this.max=ir(r)&&!isNaN(r)?r:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/np(this.options))}generateTickLabels(e){Q2.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((r,n)=>{let i=Ft(this.options.pointLabels.callback,[r,n],this);return i||i===0?i:""}).filter((r,n)=>this.chart.getDataVisibility(n))}fit(){let e=this.options;e.display&&e.pointLabels.display?Ux(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,r,n,i){this.xCenter+=Math.floor((e-r)/2),this.yCenter+=Math.floor((n-i)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,r,n,i))}getIndexAngle(e){let r=Fn/(this._pointLabels.length||1),n=this.options.startAngle||0;return Dn(e*r+ro(n))}getDistanceFromCenterForValue(e){if(Gt(e))return NaN;let r=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*r:(e-this.min)*r}getValueForDistanceFromCenter(e){if(Gt(e))return NaN;let r=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-r:this.min+r}getPointLabelContext(e){let r=this._pointLabels||[];if(e>=0&&e<r.length){let n=r[e];return r$(this.getContext(),e,n)}}getPointPosition(e,r,n=0){let i=this.getIndexAngle(e)-Nn+n;return{x:Math.cos(i)*r+this.xCenter,y:Math.sin(i)*r+this.yCenter,angle:i}}getPointPositionForValue(e,r){return this.getPointPosition(e,this.getDistanceFromCenterForValue(r))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){let{left:r,top:n,right:i,bottom:l}=this._pointLabelItems[e];return{left:r,top:n,right:i,bottom:l}}drawBackground(){let{backgroundColor:e,grid:{circular:r}}=this.options;if(e){let n=this.ctx;n.save(),n.beginPath(),MP(this,this.getDistanceFromCenterForValue(this._endValue),r,this._pointLabels.length),n.closePath(),n.fillStyle=e,n.fill(),n.restore()}}drawGrid(){let e=this.ctx,r=this.options,{angleLines:n,grid:i,border:l}=r,o=this._pointLabels.length,a,s,u;if(r.pointLabels.display&&e$(this,o),i.display&&this.ticks.forEach((c,f)=>{if(f!==0||f===0&&this.min<0){s=this.getDistanceFromCenterForValue(c.value);let h=this.getContext(f),g=i.setContext(h),p=l.setContext(h);t$(this,g,s,o,p)}}),n.display){for(e.save(),a=o-1;a>=0;a--){let c=n.setContext(this.getPointLabelContext(a)),{color:f,lineWidth:h}=c;!h||!f||(e.lineWidth=h,e.strokeStyle=f,e.setLineDash(c.borderDash),e.lineDashOffset=c.borderDashOffset,s=this.getDistanceFromCenterForValue(r.reverse?this.min:this.max),u=this.getPointPosition(a,s),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(u.x,u.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){let e=this.ctx,r=this.options,n=r.ticks;if(!n.display)return;let i=this.getIndexAngle(0),l,o;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(i),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((a,s)=>{if(s===0&&this.min>=0&&!r.reverse)return;let u=n.setContext(this.getContext(s)),c=vr(u.font);if(l=this.getDistanceFromCenterForValue(this.ticks[s].value),u.showLabelBackdrop){e.font=c.string,o=e.measureText(a.label).width,e.fillStyle=u.backdropColor;let f=Wr(u.backdropPadding);e.fillRect(-o/2-f.left,-l-c.size/2-f.top,o+f.width,c.size+f.height)}ta(e,a.label,0,-l,c,{color:u.color,strokeColor:u.textStrokeColor,strokeWidth:u.textStrokeWidth})}),e.restore()}drawTitle(){}};Le(Y2,"id","radialLinear"),Le(Y2,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:y5.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}}),Le(Y2,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),Le(Y2,"descriptors",{angleLines:{_fallback:"grid"}});var Af={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Wn=Object.keys(Af);function iP(t,e){return t-e}function lP(t,e){if(Gt(e))return null;let r=t._adapter,{parser:n,round:i,isoWeekday:l}=t._parseOpts,o=e;return typeof n=="function"&&(o=n(o)),ir(o)||(o=typeof n=="string"?r.parse(o,n):r.parse(o)),o===null?null:(i&&(o=i==="week"&&(U2(l)||l===!0)?r.startOf(o,"isoWeek",l):r.startOf(o,i)),+o)}function oP(t,e,r,n){let i=Wn.length;for(let l=Wn.indexOf(t);l<i-1;++l){let o=Af[Wn[l]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((r-e)/(a*o.size))<=n)return Wn[l]}return Wn[i-1]}function n$(t,e,r,n,i){for(let l=Wn.length-1;l>=Wn.indexOf(r);l--){let o=Wn[l];if(Af[o].common&&t._adapter.diff(i,n,o)>=e-1)return o}return Wn[r?Wn.indexOf(r):0]}function i$(t){for(let e=Wn.indexOf(t)+1,r=Wn.length;e<r;++e)if(Af[Wn[e]].common)return Wn[e]}function aP(t,e,r){if(!r)t[e]=!0;else if(r.length){let{lo:n,hi:i}=af(r,e),l=r[n]>=e?r[n]:r[i];t[l]=!0}}function l$(t,e,r,n){let i=t._adapter,l=+i.startOf(e[0].value,n),o=e[e.length-1].value,a,s;for(a=l;a<=o;a=+i.add(a,1,n))s=r[a],s>=0&&(e[s].major=!0);return e}function sP(t,e,r){let n=[],i={},l=e.length,o,a;for(o=0;o<l;++o)a=e[o],i[a]=o,n.push({value:a,major:!1});return l===0||!r?n:l$(t,n,i,r)}var X2=class extends Ds{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,r={}){let n=e.time||(e.time={}),i=this._adapter=new YX._date(e.adapters.date);i.init(r),q2(n.displayFormats,i.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(e),this._normalized=r.normalized}parse(e,r){return e===void 0?null:lP(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){let e=this.options,r=this._adapter,n=e.time.unit||"day",{min:i,max:l,minDefined:o,maxDefined:a}=this.getUserBounds();function s(u){!o&&!isNaN(u.min)&&(i=Math.min(i,u.min)),!a&&!isNaN(u.max)&&(l=Math.max(l,u.max))}(!o||!a)&&(s(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&s(this.getMinMax(!1))),i=ir(i)&&!isNaN(i)?i:+r.startOf(Date.now(),n),l=ir(l)&&!isNaN(l)?l:+r.endOf(Date.now(),n)+1,this.min=Math.min(i,l-1),this.max=Math.max(i+1,l)}_getLabelBounds(){let e=this.getLabelTimestamps(),r=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return e.length&&(r=e[0],n=e[e.length-1]),{min:r,max:n}}buildTicks(){let e=this.options,r=e.time,n=e.ticks,i=n.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);let l=this.min,o=this.max,a=Uz(i,l,o);return this._unit=r.unit||(n.autoSkip?oP(r.minUnit,this.min,this.max,this._getLabelCapacity(l)):n$(this,a.length,r.minUnit,this.min,this.max)),this._majorUnit=!n.major.enabled||this._unit==="year"?void 0:i$(this._unit),this.initOffsets(i),e.reverse&&a.reverse(),sP(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let r=0,n=0,i,l;this.options.offset&&e.length&&(i=this.getDecimalForValue(e[0]),e.length===1?r=1-i:r=(this.getDecimalForValue(e[1])-i)/2,l=this.getDecimalForValue(e[e.length-1]),e.length===1?n=l:n=(l-this.getDecimalForValue(e[e.length-2]))/2);let o=e.length<3?.5:.25;r=u1(r,0,o),n=u1(n,0,o),this._offsets={start:r,end:n,factor:1/(r+1+n)}}_generate(){let e=this._adapter,r=this.min,n=this.max,i=this.options,l=i.time,o=l.unit||oP(l.minUnit,r,n,this._getLabelCapacity(r)),a=mt(i.ticks.stepSize,1),s=o==="week"?l.isoWeekday:!1,u=U2(s)||s===!0,c={},f=r,h,g;if(u&&(f=+e.startOf(f,"isoWeek",s)),f=+e.startOf(f,u?"day":o),e.diff(n,r,o)>1e5*a)throw new Error(r+" and "+n+" are too far apart with stepSize of "+a+" "+o);let p=i.ticks.source==="data"&&this.getDataTimestamps();for(h=f,g=0;h<n;h=+e.add(h,a,o),g++)aP(c,h,p);return(h===n||i.bounds==="ticks"||g===1)&&aP(c,h,p),Object.keys(c).sort(iP).map(w=>+w)}getLabelForValue(e){let r=this._adapter,n=this.options.time;return n.tooltipFormat?r.format(e,n.tooltipFormat):r.format(e,n.displayFormats.datetime)}format(e,r){let i=this.options.time.displayFormats,l=this._unit,o=r||i[l];return this._adapter.format(e,o)}_tickFormatFunction(e,r,n,i){let l=this.options,o=l.ticks.callback;if(o)return Ft(o,[e,r,n],this);let a=l.time.displayFormats,s=this._unit,u=this._majorUnit,c=s&&a[s],f=u&&a[u],h=n[r],g=u&&f&&h&&h.major;return this._adapter.format(e,i||(g?f:c))}generateTickLabels(e){let r,n,i;for(r=0,n=e.length;r<n;++r)i=e[r],i.label=this._tickFormatFunction(i.value,r,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){let r=this._offsets,n=this.getDecimalForValue(e);return this.getPixelForDecimal((r.start+n)*r.factor)}getValueForPixel(e){let r=this._offsets,n=this.getDecimalForPixel(e)/r.factor-r.end;return this.min+n*(this.max-this.min)}_getLabelSize(e){let r=this.options.ticks,n=this.ctx.measureText(e).width,i=ro(this.isHorizontal()?r.maxRotation:r.minRotation),l=Math.cos(i),o=Math.sin(i),a=this._resolveTickFontOptions(0).size;return{w:n*l+a*o,h:n*o+a*l}}_getLabelCapacity(e){let r=this.options.time,n=r.displayFormats,i=n[r.unit]||n.millisecond,l=this._tickFormatFunction(e,0,sP(this,[e],this._majorUnit),i),o=this._getLabelSize(l),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let e=this._cache.data||[],r,n;if(e.length)return e;let i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(r=0,n=i.length;r<n;++r)e=e.concat(i[r].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){let e=this._cache.labels||[],r,n;if(e.length)return e;let i=this.getLabels();for(r=0,n=i.length;r<n;++r)e.push(lP(this,i[r]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return Jz(e.sort(iP))}};Le(X2,"id","time"),Le(X2,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function kf(t,e,r){let n=0,i=t.length-1,l,o,a,s;r?(e>=t[n].pos&&e<=t[i].pos&&({lo:n,hi:i}=xo(t,"pos",e)),{pos:l,time:a}=t[n],{pos:o,time:s}=t[i]):(e>=t[n].time&&e<=t[i].time&&({lo:n,hi:i}=xo(t,"time",e)),{time:l,pos:a}=t[n],{time:o,pos:s}=t[i]);let u=o-l;return u?a+(s-a)*(e-l)/u:a}var yf=class extends X2{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){let e=this._getTimestampsForTable(),r=this._table=this.buildLookupTable(e);this._minPos=kf(r,this.min),this._tableRange=kf(r,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){let{min:r,max:n}=this,i=[],l=[],o,a,s,u,c;for(o=0,a=e.length;o<a;++o)u=e[o],u>=r&&u<=n&&i.push(u);if(i.length<2)return[{time:r,pos:0},{time:n,pos:1}];for(o=0,a=i.length;o<a;++o)c=i[o+1],s=i[o-1],u=i[o],Math.round((c+s)/2)!==u&&l.push({time:u,pos:o/(a-1)});return l}_generate(){let e=this.min,r=this.max,n=super.getDataTimestamps();return(!n.includes(e)||!n.length)&&n.splice(0,0,e),(!n.includes(r)||n.length===1)&&n.push(r),n.sort((i,l)=>i-l)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;let r=this.getDataTimestamps(),n=this.getLabelTimestamps();return r.length&&n.length?e=this.normalize(r.concat(n)):e=r.length?r:n,e=this._cache.all=e,e}getDecimalForValue(e){return(kf(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){let r=this._offsets,n=this.getDecimalForPixel(e)/r.factor-r.end;return kf(this._table,n*this._tableRange+this._minPos,!0)}};Le(yf,"id","timeseries"),Le(yf,"defaults",X2.defaults);var TP=/^on/,zP=[];Object.keys(globalThis).forEach(t=>{TP.test(t)&&zP.push(t.replace(TP,""))});function hi(t){let e=zi,r=[];function n(i){q(e,i)}El(()=>{let i=t();zP.forEach(i instanceof Element?l=>r.push(F(i,l,n)):l=>r.push(i.$on(l,n)))}),Ma(()=>{for(;r.length;)r.pop()()})}function o$(t){let e,r=[t[1]],n={};for(let i=0;i<r.length;i+=1)n=H(n,r[i]);return{c(){e=Be("canvas"),kr(e,n)},m(i,l){M(i,e,l),t[8](e)},p:A,i:A,o:A,d(i){i&&E(e),t[8](null)}}}function a$(t){let{data:e,type:r,options:n,plugins:i,children:l,$$scope:o,$$slots:a,...s}=t;return s}function s$(t,e,r){let{type:n}=e,{data:i={datasets:[]}}=e,{options:l={}}=e,{plugins:o=[]}=e,{updateMode:a=void 0}=e,{chart:s=null}=e,u,c=a$(e);El(()=>{r(2,s=new wn(u,{type:n,data:i,options:l,plugins:o}))}),k8(()=>{s&&(r(2,s.data=i,s),Object.assign(s.options,l),s.update(a))}),Ma(()=>{s&&s.destroy(),r(2,s=null)}),hi(()=>u);function f(h){ze[h?"unshift":"push"](()=>{u=h,r(0,u)})}return t.$$set=h=>{r(9,e=H(H({},e),j(h))),"type"in h&&r(3,n=h.type),"data"in h&&r(4,i=h.data),"options"in h&&r(5,l=h.options),"plugins"in h&&r(6,o=h.plugins),"updateMode"in h&&r(7,a=h.updateMode),"chart"in h&&r(2,s=h.chart)},e=j(e),[u,c,s,n,i,l,o,a,f]}var lp=class extends R{constructor(e){super(),O(this,e,s$,o$,B,{type:3,data:4,options:5,plugins:6,updateMode:7,chart:2})}},Xi=lp;function u$(t){let e,r,n,i=[{type:"line"},t[1]];function l(a){t[4](a)}let o={};for(let a=0;a<i.length;a+=1)o=H(o,i[a]);return t[0]!==void 0&&(o.chart=t[0]),e=new Xi({props:o}),t[3](e),ze.push(()=>$e(e,"chart",l)),{c(){_e(e.$$.fragment)},m(a,s){me(e,a,s),n=!0},p(a,[s]){let u=s&2?I(i,[i[0],Ie(a[1])]):{};!r&&s&1&&(r=!0,u.chart=a[0],tt(()=>r=!1)),e.$set(u)},i(a){n||(te(e.$$.fragment,a),n=!0)},o(a){ne(e.$$.fragment,a),n=!1},d(a){t[3](null),ge(e,a)}}}function c$(t,e,r){wn.register(Zs);let{chart:n=null}=e,i,l;hi(()=>l);function o(s){ze[s?"unshift":"push"](()=>{l=s,r(2,l)})}function a(s){n=s,r(0,n)}return t.$$set=s=>{r(5,e=H(H({},e),j(s))),"chart"in s&&r(0,n=s.chart)},t.$$.update=()=>{r(1,i=e)},e=j(e),[n,i,l,o,a]}var op=class extends R{constructor(e){super(),O(this,e,c$,u$,B,{chart:0})}},Rf=op;function f$(t){Ti(t,"svelte-169aap0","#statistics-line-chart.svelte-169aap0{--backgroundColor:rgba(225, 204,230, .4);--backgroundColor-1:rgba(255, 99, 132, 0.2);--borderColor-1:rgb(205, 130, 158);--point-border-color:rgb(205, 130,1 58);--pointBackgroundColor:rgb(255, 255, 255);--pointHoverBackgroundColor:rgb(0, 0, 0);--pointHoverBorderColor:rgba(220, 220, 220,1);--pageDataColor:rgb(255, 136, 0);position:relative;height:100%;width:100%;background-color:rgba(255, 255, 255, 0.9)}")}function h$(t){let e,r;return e=new Rf({props:{data:t[0],options:t[2]}}),{c(){_e(e.$$.fragment)},m(n,i){me(e,n,i),r=!0},p:A,i(n){r||(te(e.$$.fragment,n),r=!0)},o(n){ne(e.$$.fragment,n),r=!1},d(n){ge(e,n)}}}function d$(t){let e,r;return e=new Rf({props:{data:t[1],options:t[3]}}),{c(){_e(e.$$.fragment)},m(n,i){me(e,n,i),r=!0},p:A,i(n){r||(te(e.$$.fragment,n),r=!0)},o(n){ne(e.$$.fragment,n),r=!1},d(n){ge(e,n)}}}function m$(t){let e,r,n,i,l,o=[d$,h$],a=[];function s(u,c){return u[4]()?0:1}return n=s(t,-1),i=a[n]=o[n](t),{c(){e=Be("div"),i.c(),k(e,"id","statistics-line-chart"),k(e,"class","svelte-169aap0")},m(u,c){M(u,e,c),a[n].m(e,null),l=!0},p(u,[c]){i.p(u,c)},i(u){l||(te(i),l=!0)},o(u){ne(i),l=!1},d(u){u&&E(e),a[n].d()}}}var g$=1e4;function _$(t,e,r){let{app:n}=e,{plugin:i}=e,{staticsFileData:l}=e,o=JSON.parse(l),a=[],s=[],u=[],c=[],f=Object.keys(o.history);for(let W of f)a.push({key:W,value:o.history[W].words}),s.push({key:W,value:-o.history[W].pages}),u.push({key:W,value:Number(o.history[W].files)}),c.push({key:W,value:Number(o.history[W].totalPages)});let h=g$/f.length,p={x:{type:"number",easing:"linear",duration:h,from:NaN,delay(W){return W.type!=="data"||W.xStarted?0:(W.xStarted=!0,W.index*h)}},y:{type:"number",easing:"linear",duration:h,from:W=>W.index===0?W.chart.scales.y.getPixelForValue(100):W.chart.getDatasetMeta(W.datasetIndex).data[W.index-1].getProps(["y"],!0).y,delay(W){return W.type!=="data"||W.yStarted?0:(W.yStarted=!0,W.index*h)}}},w={tension:{duration:1e3,easing:"linear",from:1,to:0,loop:!0}},b;i.settings.animation?b=p:b=w;let v={datasets:[{label:"Daily Words",fill:!0,data:a,backgroundColor:["rgba(255, 99, 132, 0.2)"],borderColor:["rgba(255, 99, 132, 1)"],borderWidth:1,yAxisID:"y",parsing:{xAxisKey:"key",yAxisKey:"value"},cubicInterpolationMode:"monotone",pointStyle:"rectRounded"},{label:"Daily Pages",fill:!0,data:s,backgroundColor:["rgba(238, 130, 238, 0.2)"],borderColor:["rgba(238, 130, 238, 1)"],borderWidth:1,yAxisID:"y1",parsing:{xAxisKey:"key",yAxisKey:"value"},cubicInterpolationMode:"monotone",pointStyle:"rectRounded"}]},S={datasets:[{label:"Total Files",fill:!0,data:u,backgroundColor:["rgba(153, 102, 255, 0.2)"],borderColor:["rgba(153, 102, 255, 1)"],borderWidth:1,yAxisID:"y",parsing:{xAxisKey:"key",yAxisKey:"value"},cubicInterpolationMode:"monotone",pointStyle:"rectRounded"},{label:"Total Pages",fill:!0,data:c,backgroundColor:["rgba(255, 205, 86, 0.2)"],borderColor:["rgba(255, 205, 86, 1)"],borderWidth:1,yAxisID:"y1",parsing:{xAxisKey:"key",yAxisKey:"value"},cubicInterpolationMode:"monotone",pointStyle:"rectRounded"}]},P={responsive:!0,interaction:{intersect:!0,mode:"index"},plugins:{title:{display:!0,text:"Statistics of Obsidian Vault",font:{weight:"bold",size:16,family:"Barlow"},color:"rgba(48,48,48,1)"},subtitle:{display:!0,text:"words of vault named as Anthelion",font:{size:14,style:"italic",family:"sans-serif",weight:"bold"},color:"rgba(48,48,48,0.8)"},legend:{labels:{color:"rgba(0,0,0,1)",usePointStyle:!0,pointStyle:"rectRounded"}},tooltip:{usePointStyle:!0}},animations:b,scales:{y:{border:{display:!0,width:.8},grid:{display:!0,drawOnChartArea:!0,drawTicks:!0,color:"rgba(59, 59, 59, 0.2)"},title:{display:!0,text:"+words",font:{size:15,style:"italic",weight:"bold"},color:"rgba(255, 99, 132, 1)"},ticks:{color:"rgba(255, 99, 132, 1)",showLabelBackdrop:!1}},y1:{position:"right",border:{display:!0,width:.8},grid:{display:!0,drawOnChartArea:!0,drawTicks:!0,color:"rgba(59, 59, 59, 0.2)"},title:{display:!0,text:"-pages",font:{size:15,style:"italic",weight:"bold"},color:"rgba(238, 130, 238, 1)"},ticks:{color:"rgba(238, 130, 238, 1)",showLabelBackdrop:!1}},x:{border:{display:!1,width:.8},grid:{color:"rgba(59, 59, 59, 0.2)"},ticks:{}}}},Z={interaction:{mode:"index",axis:"y"},plugins:{title:{display:!0,text:"Statistics of Obsidian Vault",font:{weight:"bold",size:16,family:"Barlow"}},subtitle:{display:!0,text:"total files/pages of vault named as "+n.vault.getName(),font:{size:14,style:"italic",family:"sans-serif"}},legend:{labels:{color:"rgba(0,0,0,1)",usePointStyle:!0,pointStyle:"rectRounded"}},tooltip:{usePointStyle:!0}},animations:b,scales:{y:{border:{display:!0,width:.8},grid:{display:!0,drawOnChartArea:!0,drawTicks:!0,color:"rgba(59, 59, 59, 0.2)"},title:{display:!0,text:"total-files",font:{size:15,style:"italic",weight:"bold",family:"Courier New"},color:"rgba(153, 102, 255, 1)"},ticks:{color:"rgba(153, 102, 255, 0.5)",showLabelBackdrop:!1},suggestedMin:1373},y1:{type:"linear",display:!0,position:"right",grid:{drawOnChartArea:!1},title:{display:!0,text:"total-pages",font:{size:15,style:"italic",weight:"bold",family:"Courier New"},color:"rgba(255, 205, 86, 1)"},ticks:{color:"rgba(255, 205, 86, 1)",showLabelBackdrop:!1},suggestedMin:4045},x:{border:{display:!1,width:.8},grid:{color:"rgba(59, 59, 59, 0.2)"}}}},y=()=>i.settings.statisticsType==="total";return wn.register(LP,SP,yP,ci,K2,Is,J2,wP),t.$$set=W=>{"app"in W&&r(5,n=W.app),"plugin"in W&&r(6,i=W.plugin),"staticsFileData"in W&&r(7,l=W.staticsFileData)},[v,S,P,Z,y,n,i,l]}var ap=class extends R{constructor(e){super(),O(this,e,_$,m$,B,{app:5,plugin:6,staticsFileData:7},f$)}},sp=ap;var Bf="PluginAST_STAT",up=new RegExp("%%[\\s\\S]*?(?!%%)[\\s\\S]+?%%","g"),cp=new RegExp("<!--[\\s\\S]*?(?:-->)?<!---+>?|<!(?![dD][oO][cC][tT][yY][pP][eE]|\\[CDATA\\[)[^>]*>?|<[?][^>]*>?","g"),HP="stats.json";var Ns="vault-statistics-preview",Of=class extends Vf.ItemView{constructor(e,r,n){super(n),this.app=e,this.plugin=r,this.staticsFileData="",(0,Vf.addIcon)(Bf,vn[Bf])}getViewType(){return Ns}getDisplayText(){return"Vault Statistics Preview"}getIcon(){return Bf}async onOpen(){let e=this.app.vault.configDir+"/"+HP;this.staticsFileData=await this.app.vault.adapter.read(e);let r=this.containerEl.getElementsByClassName("view-content");this.component=new sp({target:r[0],props:{app:this.app,plugin:this.plugin,staticsFileData:this.staticsFileData}}),this.containerEl.getElementsByTagName("canvas")[0].setAttribute("style","position: absolute;top: 50%;left: 50%;transform: translate(-50%, -50%);")}async onClose(){this.component.$destroy()}onResize(){this.component.$destroy();let e=this.containerEl.getElementsByClassName("view-content");this.component=new sp({target:e[0],props:{app:this.app,plugin:this.plugin,staticsFileData:this.staticsFileData}}),this.containerEl.getElementsByTagName("canvas")[0].setAttribute("style","position: absolute;top: 50%;left: 50%;transform: translate(-50%, -50%);")}};var AP={debug:!1,targetPath:".",fileFormat:"YYYY-MM-DD",previewLimits:5,previewTags:[],localGraph:{notice:"show current note grah view",type:"popover",depth:2,showTags:!0,showAttach:!0,showNeighbor:!0,collapse:!1,autoColors:!1,resizeStyle:{width:550,height:500}},enableGraphColors:!1,colorGroups:[{query:"path:/",color:{a:1,rgb:6617700}}],enableMetadataUpdating:!1,metadatas:[{key:"modify",value:"YYYY-MM-DD HH:mm:ss",t:"moment"}],metadataExcludePath:[],isEnabledMetadataUpdating:!1,cachePluginRepo:{"personal-assistant":"edonyzpc/personal-assistant"},cacheThemeRepo:{Minimal:"kepano/obsidian-minimal"},statisticsType:"none",statsPath:".obsidian/stats.json",displaySectionCounts:!1,countComments:!1,animation:!1,modelName:"qwen-plus",apiToken:"sk-xxx",featuredImagePath:"9.src",numFeaturedImages:2},PP={query:"path:/",color:{a:1,rgb:6617700}},Zf=class extends Et.PluginSettingTab{constructor(e,r){super(e,r),this.plugin=r,this.log=(...n)=>r.log(...n)}display(){let e=this.plugin,{containerEl:r}=this;r.empty(),r.createEl("h1",{text:"Settings for Obsidian Assistant"});let n=document.createElement("a");n.setText("Open GitHub repository"),n.href="https://github.com/edonyzpc/personal-assistant",n.setAttr("style","font-style: italic;"),r.createEl("p",{text:"Obsidian Assistant by Shadow Walker, "}).appendChild(n),new Et.Setting(r).setName("Debug").addToggle(c=>c.setValue(this.plugin.settings.debug).onChange(f=>{this.plugin.settings.debug=f,this.plugin.saveSettings()})),r.createEl("h2",{text:"Settings for Record"}),r.createEl("p",{text:"Obsidian Management for Recording in Specific Path"}).setAttr("style","font-size:14px"),new Et.Setting(r).setName("Target Path").setDesc("Target directory to do recording").addText(c=>c.setPlaceholder(".").setValue(this.plugin.settings.targetPath).onChange(async f=>{this.log("target path: "+f),e.settings.targetPath=f,await this.plugin.saveSettings()}));let i=document.createDocumentFragment();i.createEl("p",void 0,c=>{c.innerText=`File format which is like Diary setting.
For more syntax details, `,c.createEl("a",void 0,f=>{f.innerText="please check moment format.",f.href="https://momentjs.com/docs/#/displaying/format/"})}),new Et.Setting(r).setName("File Format").setDesc(i).addText(c=>c.setPlaceholder("YYYY-MM-DD").setValue(this.plugin.settings.fileFormat).onChange(async f=>{this.log("format setting: "+f),e.settings.fileFormat=f,await this.plugin.saveSettings()})),new Et.Setting(r).setName("Preview Number").setDesc("File numbers to preview").addText(c=>{c.setPlaceholder("5").setValue(this.plugin.settings.previewLimits.toString()).onChange(async f=>{e.settings.previewLimits=parseInt(f),await this.plugin.saveSettings()})}),r.createEl("h2",{text:"Settings for Hover Local Graph"}),r.createEl("p",{text:"Obsidian Management for Hover Local Graph"}).setAttr("style","font-size:14px"),new Et.Setting(r).setName("Type").setDesc("Type of hover").addText(c=>{c.setPlaceholder("popover").setValue(this.plugin.settings.localGraph.type).onChange(async f=>{e.settings.localGraph.type=f,await this.plugin.saveSettings()})}),new Et.Setting(r).setName("Depth").setDesc("Depth of link jumps").addText(c=>{c.setPlaceholder("2").setValue(this.plugin.settings.localGraph.depth.toString()).onChange(async f=>{e.settings.localGraph.depth=parseInt(f),await this.plugin.saveSettings()})}),new Et.Setting(r).setName("Show Tags").setDesc("Show tags in local graph view").addToggle(c=>{c.setValue(this.plugin.settings.localGraph.showTags).onChange(async f=>{e.settings.localGraph.showTags=f,await this.plugin.saveSettings()})}),new Et.Setting(r).setName("Show Attachment").setDesc("Show attachments in local graph view").addToggle(c=>{c.setValue(this.plugin.settings.localGraph.showAttach).onChange(async f=>{e.settings.localGraph.showAttach=f,await this.plugin.saveSettings()})}),new Et.Setting(r).setName("Show Neighbor").setDesc("Show neighbors in local graph view").addToggle(c=>{c.setValue(this.plugin.settings.localGraph.showNeighbor).onChange(async f=>{e.settings.localGraph.showNeighbor=f,await this.plugin.saveSettings()})}),new Et.Setting(r).setName("Collapse").setDesc("Collapse local graph view setting").addToggle(c=>{c.setValue(this.plugin.settings.localGraph.collapse).onChange(async f=>{e.settings.localGraph.collapse=f,await this.plugin.saveSettings()})}),new Et.Setting(r).setName("Auto Local Graph Colors").setDesc("Automatically set colors of local graph view.").addToggle(c=>{c.setValue(e.settings.localGraph.autoColors).onChange(async f=>{e.settings.localGraph.autoColors=f,await e.saveSettings()})}),r.createEl("p",{text:"Graph Resize"}).setAttr("style","font-size:15px");let l=document.createDocumentFragment();l.createEl("span",void 0,c=>{c.innerText="height",c.setAttr("style","margin:18px")});let o=document.createDocumentFragment();o.createEl("span",void 0,c=>{c.innerText="width",c.setAttr("style","margin:18px")}),document.createDocumentFragment().createEl("span",void 0,c=>{c.innerText="top",c.setAttr("style","margin:18px")}),document.createDocumentFragment().createEl("span",void 0,c=>{c.innerText="left",c.setAttr("style","margin:18px")}),new Et.Setting(r).setName(l).addText(c=>{c.setPlaceholder("height").setValue(this.plugin.settings.localGraph.resizeStyle.height.toString()).onChange(async f=>{e.settings.localGraph.resizeStyle.height=parseInt(f),await this.plugin.saveSettings()})}),new Et.Setting(r).setName(o).addText(c=>{c.setPlaceholder("width").setValue(this.plugin.settings.localGraph.resizeStyle.width.toString()).onChange(async f=>{e.settings.localGraph.resizeStyle.width=parseInt(f),await this.plugin.saveSettings()})}),r.createEl("h2",{text:"Graph Colors"}),new Et.Setting(r).setName("Enable Graph Colors").setDesc("Use personal assistant set colors of graph view.").addToggle(c=>{c.setValue(e.settings.enableGraphColors).onChange(async f=>{e.settings.enableGraphColors=f,await e.saveSettings(),this.display()})}),e.settings.enableGraphColors&&(JSON.parse(JSON.stringify(e.settings.colorGroups)).forEach(f=>{let h=this.findGraphColor(f),g=`#${f.color.rgb.toString(16)}`,w=(v=>{let S=parseInt(v.slice(1,3),16),P=parseInt(v.slice(3,5),16),Z=parseInt(v.slice(5,7),16);return"rgb("+S+", "+P+", "+Z+")"})(g),b=document.createDocumentFragment();b.createSpan({text:"\u25CF",attr:{style:`color: ${g}`}}),b.appendText(` Color for #${f.query}`),new Et.Setting(r).setName(b).setDesc("This will be the Color used in the graph view.").addText(v=>{v.setValue(e.settings.colorGroups[h].query).onChange(async S=>{h>-1&&(e.settings.colorGroups[h].query=S,await this.plugin.saveSettings())})}).addButton(v=>{v.setButtonText("Change Color"),new a_({parent:v.buttonEl,onDone:async S=>{let P=S.hex.split("#")[1];this.log(`origin hex color = ${P}`),P.length===8&&(P=P.substring(0,6)),this.log(`hexColor without alpha ${P}`),h>-1&&(this.plugin.settings.colorGroups[h].color.rgb=parseInt(P,16),await this.plugin.saveSettings(),this.display())},popup:"left",color:w,alpha:!1})}).addExtraButton(v=>{v.setIcon("trash").setTooltip("Remove").onClick(async()=>{h>-1&&(this.log(`removing  ${this.plugin.settings.colorGroups[h]}`),this.plugin.settings.colorGroups.splice(h,1)),await this.plugin.saveSettings(),this.display()})}).addExtraButton(v=>{v.setIcon("reset").setTooltip("Reset to default").onClick(async()=>{h>-1&&(this.log(`resetting ${this.plugin.settings.colorGroups[h]}`),this.plugin.settings.colorGroups[h]=JSON.parse(JSON.stringify(PP))),await this.plugin.saveSettings(),this.display()})})}),new Et.Setting(r).addButton(f=>{f.setButtonText("Add Color").onClick(async()=>{this.log("adding new color"),this.plugin.settings.colorGroups.push(JSON.parse(JSON.stringify(PP))),await this.plugin.saveSettings(),this.display()})})),r.createEl("h2",{text:"Metadata Management"});let u=document.createDocumentFragment();if(u.createEl("p",void 0,c=>{c.innerText="Auto updating metadata in frontmatter when file is modified.\nTimestamp format follows `moment.js` and syntax details, ",c.createEl("a",void 0,f=>{f.innerText="please check moment format.",f.href="https://momentjs.com/docs/#/displaying/format/"})}),new Et.Setting(r).setName("Enable Updating Metadata").setDesc(u).addToggle(c=>{c.setValue(e.settings.enableMetadataUpdating).onChange(async f=>{e.settings.enableMetadataUpdating=f,await e.saveSettings(),this.display()})}),e.settings.enableMetadataUpdating){let c=JSON.parse(JSON.stringify(e.settings.metadatas)),f=document.createDocumentFragment();f.createSpan({text:"---"}),new Et.Setting(r).setName(f);for(let b=0;b<c.length;b++){let v=this.findMetadata(c[b].key),S=document.createDocumentFragment();S.appendText(`${c[b].key}: `),new Et.Setting(r).setName(S).addText(P=>{P.setValue(e.settings.metadatas[v].value).onChange(async Z=>{v>-1&&(e.settings.metadatas[v].value=Z,await this.plugin.saveSettings())})}).addExtraButton(P=>{P.setIcon("trash").setTooltip("Remove").onClick(async()=>{v>-1&&(this.log(`removing  ${this.plugin.settings.metadatas[v]}`),this.plugin.settings.metadatas.splice(v,1)),await this.plugin.saveSettings(),this.display()})})}let h=document.createDocumentFragment();h.createSpan({text:"---"}),new Et.Setting(r).setName(h);let g,p,w;new Et.Setting(r).setName("Add Key:Value in frontmatter").setDesc("Value now only upport formatted timestamp and regular string.").addText(b=>{b.setPlaceholder("key").setValue(g).onChange(async v=>{g=v})}).addText(b=>{b.setPlaceholder("value").setValue(p).onChange(async v=>{p=v})}).addDropdown(b=>{b.addOption("string","1 Regular String"),b.addOption("moment","2 Timestamp"),b.onChange(async v=>{w=v})}).addButton(b=>{b.setButtonText("Add").onClick(async()=>{this.log("adding new frontmatter"),this.plugin.settings.metadatas.push({key:g,value:p,t:w}),await this.plugin.saveSettings(),this.display()})}),new Et.Setting(r).setName("Meta Updating Exclude Path").setDesc("Exclude files in the directory to update metadata").addText(b=>{b.setPlaceholder("path strings with comma as separator, e.g. `tmp/,notes/templates`").setValue(this.plugin.settings.metadataExcludePath.join(",")).onChange(async v=>{e.settings.metadataExcludePath=v.split(","),await this.plugin.saveSettings()})})}r.createEl("h2",{text:"Vault Statistics"}),new Et.Setting(r).setName("Show Statistics").setDesc("Show statistics in the status bar").addDropdown(c=>{this.log(this.plugin.settings.statisticsType);let f=c.addOption("daily","Daily Statistcs"),h=c.addOption("total","Total Statistics");this.plugin.settings.statisticsType==="daily"?(f.setDisabled(!1),c.setValue("daily")):(h.setDisabled(!1),c.setValue("total")),c.onChange(async g=>{this.plugin.log("changing statistics type",g),this.plugin.settings.statisticsType=g,await this.plugin.saveSettings();let p=this.app.workspace.getLeaf("window");await p.setViewState({type:Ns,active:!1}),this.app.workspace.revealLeaf(p)})}),new Et.Setting(r).setName("Vault Stats File Path").setDesc("Reload required for change to take effect. The location of the vault statistics file, relative to the vault root.").addText(c=>{c.setPlaceholder(".obsidian/stats.json"),c.setValue(this.plugin.settings.statsPath.toString()),c.onChange(async f=>{this.plugin.settings.statsPath=f,await this.plugin.saveSettings()})}),new Et.Setting(r).setName("Animation").addToggle(c=>c.setValue(this.plugin.settings.animation).onChange(f=>{this.plugin.settings.animation=f,this.plugin.saveSettings()})),r.createEl("h2",{text:"AI Assistant"}),r.createEl("p",{text:"AI Helper Only Support \u901A\u4E49\u5343\u95EE LLM"}).setAttr("style","font-size:15px"),new Et.Setting(r).setName("Set Model Name").setDesc("Select the model name for AI Helper, only support qwen-max, qwen-turbo, qwen-plus").addDropdown(c=>{let f=c.addOption("qwen-max","qwen max"),h=c.addOption("qwen-turbo","qwen turbo"),g=c.addOption("qwen-plus","qwen plus");this.plugin.settings.modelName==="qwen-max"?(f.setDisabled(!1),c.setValue("qwen-max")):this.plugin.settings.modelName==="qwen-turbo"?(h.setDisabled(!1),c.setValue("qwen-turbo")):(g.setDisabled(!1),c.setValue("qwen-plus")),c.onChange(async p=>{this.plugin.log("changing modle provider",p),this.plugin.settings.modelName=p,await this.plugin.saveSettings()})}),new Et.Setting(r).setName("API Token").setDesc("LLM Model related API Token. NOTE: your input token is protected by AES-GCM encryption.").addText(c=>{c.setPlaceholder("llm api token"),c.setValue(this.plugin.settings.apiToken),c.onChange(async f=>{let g=await new Wi().encryptToBase64(f,Jo);this.plugin.settings.apiToken=g,await this.plugin.saveSettings()})}),new Et.Setting(r).setName("AI Featured Image Path").setDesc("AI feautured image helper will download the images and save them to this path.").addText(c=>{c.setPlaceholder("9.src"),c.setValue(this.plugin.settings.featuredImagePath.toString()),c.onChange(async f=>{this.plugin.settings.featuredImagePath=f,await this.plugin.saveSettings()})}),new Et.Setting(r).setName("AI Featured Images Generating Number").setDesc("The number of images to generate when using AI Featured Image Helper.").addText(c=>{c.setPlaceholder("2").setValue(this.plugin.settings.numFeaturedImages.toString()).onChange(async f=>{e.settings.numFeaturedImages=parseInt(f),await this.plugin.saveSettings()})})}findGraphColor(e){return this.plugin.settings.colorGroups.findIndex(r=>e.query===r.query&&e.color.a===r.color.a&&e.color.rgb===r.color.rgb)}findMetadata(e){return this.plugin.settings.metadatas.findIndex(r=>r.key===e)}};var na=require("obsidian");var If=class{constructor(e,r){this.viewDataType={localGraph:"localgraph"};this.resized=!1,this.log=(...n)=>e.log(...n),this.plugin=e,this.viewType=r}async resize(){if(this.resized)return;let{localGraph:e}=this.plugin.settings,r,n,i,l,o,a=window.innerWidth,s=window.innerHeight;switch(this.viewType){case 0:r=e.resizeStyle.width,n=e.resizeStyle.height,l=s/2-n/2,i=a/2-r/2,l=l+(10+Math.random()*100),i=i+(10+Math.random()*100),o=this.viewDataType.localGraph;break}document.querySelectorAll("body .popover.hover-editor").forEach(c=>{this.log("iterating hovers..."),c.querySelector(`[data-type="${o}"]`)&&(this.log("setting hover editor attribute..."),c.setAttribute("style",`height: ${n}px; width: ${r}px; top: ${l}px; left: ${i}px; cursor: move;`),document.body.style.setProperty("--resize-popover-width",`${r} !important`),c.addClass("resize-popover-width"),this.resized=!0)})}};var Df=class extends If{constructor(e,r){super(r,0),this.app=e}async startup(){this.resized=!1;let e=this.app.workspace,r=e.getActiveFile();if(r&&(await e.getLeaf(!0).setViewState({type:"localgraph",active:!0,state:{file:r.path}}),await this.syncGlobalToLocal()),na.Platform.isDesktop&&this.plugin.settings.localGraph.type==="popover"){if(!await this.app.commands.executeCommandById("obsidian-hover-editor:convert-active-pane-to-popover")){new na.Notice("hover local graph failed");return}new na.Notice(this.plugin.settings.localGraph.notice)}this.plugin.settings.localGraph.autoColors&&this.plugin.settings.enableGraphColors&&await this.updateGraphColors()}async syncGlobalToLocal(){let e=this.app.vault.configDir;this.log(e);let r=(0,na.normalizePath)(e+"/graph.json"),n=await this.app.vault.adapter.read(r),l=JSON.parse(n).colorGroups;this.getLocalGraphLeaves().forEach(o=>{this.setColorGroups(o,l)})}getLocalGraphLeaves(){return this.app.workspace.getLeavesOfType("localgraph")}async setColorGroups(e,r){var i,l,o,a,s,u,c,f;let n=e.getViewState();this.log("view state",n.state),((i=n.state)==null?void 0:i.options).colorGroups=r,((l=n.state)==null?void 0:l.options).localJumps=this.plugin.settings.localGraph.depth,((o=n.state)==null?void 0:o.options).showTags=this.plugin.settings.localGraph.showTags,((a=n.state)==null?void 0:a.options).showAttachments=this.plugin.settings.localGraph.showAttach,((s=n.state)==null?void 0:s.options).localInterlinks=this.plugin.settings.localGraph.showNeighbor,((u=n.state)==null?void 0:u.options).showArrow=!0,((c=n.state)==null?void 0:c.options).close=this.plugin.settings.localGraph.collapse,((f=n.state)==null?void 0:f.options).scale=1,await e.setViewState(n)}async updateGraphColors(){let e=this.app.vault.configDir,r=(0,na.normalizePath)(e+"/graph.json"),n=await this.app.vault.adapter.read(r),i=JSON.parse(n),l=this.plugin.settings.colorGroups;l.forEach(o=>i.colorGroups.push(o)),this.app.workspace.getLeavesOfType("localgraph").forEach(async o=>{var s,u;this.plugin.log("setting colors");let a=o.getViewState();this.plugin.log((s=a.state)==null?void 0:s.options),((u=a.state)==null?void 0:u.options).colorGroups=l,await o.setViewState(a)})}};var $2=require("obsidian"),Ff=qt(d7());var Qi=require("obsidian");var x2=class{constructor(e,r,n){this.log=(...a)=>e.log(...a),this.idNumber=dz(),this.gridID=`div-${r}-progress-bar-grid-${this.idNumber}`,this.gridDivID=`div-${r}-progress-bar-${this.idNumber}`,this.gridDivSpanID=`span-${r}-progress-bar-${this.idNumber}`,this.gridTextID=`div-${r}-progress-bar-text-${this.idNumber}`,this.totalSteps=n,this.steps=0,this.noticeEl=document.createDocumentFragment();let i=this.noticeEl.createEl("div",{attr:{id:this.gridID}});i.addClass("progress-bar-grid");let l=i.createEl("div",{attr:{id:this.gridDivID}});l.addClass("meter"),l.createEl("span",{attr:{style:"width: 0%",id:this.gridDivSpanID}});let o=i.createEl("div",{attr:{id:this.gridTextID}});o.addClass("progress-bar-number"),o.setText("0%"),(0,Qi.addIcon)("PLUGIN_UPDATE_STATUS",vn.PLUGIN_UPDATE_STATUS),(0,Qi.addIcon)("PLUGIN_UPDATED_STATUS",vn.PLUGIN_UPDATED_STATUS),(0,Qi.addIcon)("SWITCH_ON_STATUS",vn.SWITCH_ON_STATUS),(0,Qi.addIcon)("SWITCH_OFF_STATUS",vn.SWITCH_OFF_STATUS)}addDiv(e,r){var i,l;let n=document.getElementById(this.gridID);if(n){let o=(i=n.parentElement)==null?void 0:i.createEl("div",{attr:{style:"color: red",id:`div-${e}-${this.idNumber}`}});o?(o.addClass("progress-bar-items-grid"),(0,Qi.setIcon)(o,"SWITCH_OFF_STATUS"),o.createSpan({text:r,attr:{class:"progress-bar-items-text"}}),(l=o.querySelector("svg"))==null||l.addClass("plugin-update-svg")):this.log("fail to find notice DocumentFragment")}else this.log("fail to find plugin updating notice HTML Element")}show(){var r,n;if(this.notice)return;this.notice=new Qi.Notice(this.noticeEl,0);let e=document.getElementById(this.gridID);(r=e==null?void 0:e.parentElement)==null||r.setAttribute("id",`progress-bar-${this.idNumber}`),(n=e==null?void 0:e.parentElement)==null||n.addClass("progress-bar-notice")}hide(){this.notice.hide()}stepin(e,r,n){var u;let i=this.totalSteps;n&&(i=n),this.steps++;let l=this.steps>=i?i:this.steps,o=document.getElementById(this.gridDivSpanID);o==null||o.setAttr("style",`width:${(100*(l/i)).toFixed(1)}%`);let a=document.getElementById(this.gridTextID);a==null||a.setText(`${(100*(l/i)).toFixed(1)}%`);let s=document.getElementById(`div-${e}-${this.idNumber}`);if(s){let c=s.getElementsByTagName("span").item(0);c&&s.removeChild(c);let f=s.getElementsByTagName("svg").item(0);f&&s.removeChild(f),(0,Qi.setIcon)(s,"SWITCH_ON_STATUS"),s.createSpan({text:r,attr:{class:"progress-bar-items-text"}}),(u=s.querySelector("svg"))==null||u.addClass("plugin-update-svg")}}updateProgress(e){let r=document.getElementById(this.gridDivSpanID);r==null||r.setAttr("style",`width:${e}%`);let n=document.getElementById(this.gridTextID);n==null||n.setText(`${e}%`)}};var Nf=class{constructor(e,r){this.TagName="tag_name";this.app=e,this.commandPlugin=r,this.log=(...n)=>r.log(...n),this.URLCDN="https://cdn.jsdelivr.net/gh/obsidianmd/obsidian-releases@master/community-plugins.json",this.items=[];for(let n of Object.values(e.plugins.manifests)){let i={id:n.id,version:n.version};this.items.push(i)}this.totalPlugins=0,this.checkedPlugins=0,this.progressBar=new x2(r,"plugin-updating",this.totalPlugins)}async getCommunityPluginsJson(){try{let e=await(0,$2.request)({url:this.URLCDN});return e==="404: Not Found"?null:e}catch(e){return this.log("error in getCommunityPlugins",e),null}}async getRepo(e){if(this.commandPlugin.settings.cachePluginRepo[e])return this.log(`found ${e} which cached in data.json`),this.commandPlugin.settings.cachePluginRepo[e];if(!this.communityPlugins){let r=await this.getCommunityPluginsJson();if(r)this.communityPlugins=JSON.parse(r);else return this.log("fail to get commnity plugin json file from jsdelivr"),null}for(let r=0;r<this.communityPlugins.length;r++){let{id:n,repo:i}=this.communityPlugins[r];if(n===e)return this.commandPlugin.settings.cachePluginRepo[e]=i,await this.commandPlugin.saveSettings(),i}return this.log("fail to find plugin in community-plugins.json"),null}async getLatestRelease(e){if(!e)return this.log("repo is null"),null;let r=`https://api.github.com/repos/${e}/releases/latest`;try{let n=await(0,$2.request)({url:r});return n==="404: Not Found"?null:await JSON.parse(n)}catch(n){return n!="Error: Request failed, status 404"&&this.log(`error in getLatestRelease for ${r}`,n),null}}getLatestTag(e){if(!e)return this.log("the input JSON for getLatestTag is null"),null;for(let r=0;r<Object.getOwnPropertyNames(e).length;r++)if(this.TagName===Object.getOwnPropertyNames(e)[r])return Object(e)[this.TagName];return this.log(`getLatestTag cannot find the object named ${this.TagName}`),null}async isNeedToUpdate(e,r){if(e){let n=this.getLatestTag(e);if(n){n.startsWith("v")&&(n=n.split("v")[1]),this.log("latest tag: "+n,"current tag: "+r);let i=(0,Ff.prerelease)(n);if(i&&i.length>0)return{needUpdate:!1,targetVersion:r};if((0,Ff.gt)(n,r))return{needUpdate:!0,targetVersion:n}}}return{needUpdate:!1,targetVersion:r}}async update(){let e=async(i,l,o)=>{let a=`https://github.com/${i}/releases/download/${l}/${o}`;try{let s=await(0,$2.request)({url:a});return s==="Not Found"||s==='{"error":"Not Found"}'?null:s}catch(s){return this.log("error in grabReleaseFileFromRepository",a,s),null}},r=async(i,l)=>{let o=(0,$2.normalizePath)(this.app.vault.configDir+"/plugins/"+i)+"/",a=this.app.vault.adapter;if(!l.mainJs||!l.manifest){this.log("downloaded files are empty");return}(await a.exists(o)===!1||!await a.exists(o+"manifest.json"))&&await a.mkdir(o),await a.write(o+"main.js",l.mainJs),await a.write(o+"manifest.json",l.manifest),l.styles&&await a.write(o+"styles.css",l.styles),this.log(`updated plugin[${i}]`)};this.progressBar.show();for(let i=0;i<this.items.length;i++){let l=this.items[i],o=await this.getRepo(l.id),a=await this.getLatestRelease(o);this.log(`checking updating status for ${l.id}`);let s=await this.isNeedToUpdate(a,l.version);o&&a&&s.needUpdate&&(this.totalPlugins++,this.items[i].toUpdate={needUpdate:s.needUpdate,repo:o,targetVersion:s.targetVersion,isZipFile:!1},this.progressBar.addDiv(l.id,`update ${l.id} to ${s.targetVersion}`))}let n=this.items.map(async i=>{var l;if((l=i.toUpdate)!=null&&l.needUpdate){this.log("updating plugin "+i.id);let o={mainJs:null,manifest:null,styles:null},a=i.toUpdate.repo,s=i.toUpdate.targetVersion;o.mainJs=await e(a,s,"main.js"),o.manifest=await e(a,s,"manifest.json"),o.styles=await e(a,s,"styles.css"),await r(i.id,o),this.app.plugins.enablePluginAndSave(i.id),this.progressBar.stepin(i.id,`update ${i.id} to ${s}`,this.totalPlugins),this.checkedPlugins++}});await Promise.all(n),this.log("All async plugin updating completed"),this.progressBar.updateProgress(100),setInterval(()=>{this.progressBar.hide()},2e3)}};var oo=require("obsidian"),qf=qt(d7());var jf=class t{constructor(e,r){this.TagName="tag_name";this.app=e,this.URLCDN="https://cdn.jsdelivr.net/gh/obsidianmd/obsidian-releases@master/community-css-themes.json",this.commandPlugin=r,this.log=(...n)=>r.log(...n),this.totalThemes=0,this.checkedThemes=0,this.items=[],this.progressBar=new x2(r,"theme-updating",this.totalThemes)}static async init(e,r){let n=new t(e,r);n.items=await n.listThemes(n.app);let i=await n.getCommunityThemesJson();return i?n.communityThemes=JSON.parse(i):new oo.Notice("got some network issue when accessing github.com",500),n}async listThemes(e){let r=[];return(await e.vault.adapter.list(e.vault.configDir+"/themes")).folders.forEach(async i=>{let l=(0,oo.normalizePath)(i+"/manifest.json"),o=await e.vault.adapter.read(l),a=JSON.parse(o);r.push({id:a.name,version:a.version})}),r}async getCommunityThemesJson(){try{let e=await(0,oo.request)({url:this.URLCDN});return e==="404: Not Found"?null:e}catch(e){return this.log("error in getCommunityThemes",e),null}}async getRepo(e){if(this.commandPlugin.settings.cacheThemeRepo[e])return this.log(`found ${e} which cached in data.json`),this.commandPlugin.settings.cacheThemeRepo[e];if(!this.communityThemes){let r=await this.getCommunityThemesJson();if(r)this.communityThemes=JSON.parse(r);else return this.log("fail to get commnity theme json file"),null}for(let r=0;r<this.communityThemes.length;r++){let{name:n,repo:i}=this.communityThemes[r];if(n===e)return this.commandPlugin.settings.cacheThemeRepo[e]=i,await this.commandPlugin.saveSettings(),i}return this.log("fail to find plugin from community-themes.json"),null}async getLatestRelease(e){if(!e)return this.log("repo is null"),null;let r=`https://api.github.com/repos/${e}/releases/latest`;try{let n=await(0,oo.request)({url:r});return n==="404: Not Found"?null:await JSON.parse(n)}catch(n){return n!="Error: Request failed, status 404"&&this.log(`error in getLatestRelease for ${r}`,n),null}}getLatestTag(e){if(!e)return this.log("the input JSON for getLatestTag is null"),null;for(let r=0;r<Object.getOwnPropertyNames(e).length;r++)if(this.TagName===Object.getOwnPropertyNames(e)[r])return Object(e)[this.TagName];return this.log(`getLatestTag cannot find the object named ${this.TagName}`),null}async isNeedToUpdate(e,r){if(e){let n=this.getLatestTag(e),i="";if(n){i=n,n.startsWith("v")&&(i=n.split("v")[1]),this.log("latest tag: "+i,"current tag: "+r);let l=(0,qf.prerelease)(i);if(l&&l.length>0)return{needUpdate:!1,targetVersion:r};if((0,qf.gt)(i,r))return{needUpdate:!0,targetVersion:n}}}return{needUpdate:!1,targetVersion:r}}async onlyHaveZipFile(e){let r=await this.getRepo(e.id);if(r){this.log("checking need to only has zip file for "+r);let n=await this.getLatestRelease(r);if(n){for(let i=0;i<Object.getOwnPropertyNames(n).length;i++)if(Object.getOwnPropertyNames(n)[i]==="assets"&&Object(n).assets.length>0)return!1;return!0}}return!1}async update(){let e=async(l,o,a)=>{let s=`https://github.com/${l}/releases/download/${o}/${a}`;try{let u=await(0,oo.request)({url:s});return u==="Not Found"||u==='{"error":"Not Found"}'?null:u}catch(u){return this.log("error in grabReleaseFileFromRepository",s,u),null}},r=async(l,o)=>{let a=`https://github.com/${l}/archive/refs/tags/${o}.zip`;try{return await mz(a)}catch(s){return this.log("error in grabReleaseFileFromRepository",a,s),null}},n=async(l,o)=>{let a=(0,oo.normalizePath)(this.app.vault.configDir+"/themes/"+l)+"/",s=this.app.vault.adapter;if(!o.theme||!o.manifest){this.log("downloaded files are empty");return}(await s.exists(a)===!1||!await s.exists(a+"manifest.json"))&&await s.mkdir(a),await s.write(a+"theme.css",o.theme),await s.write(a+"manifest.json",o.manifest),this.log(`updated theme[${l}]`)};this.progressBar.show();for(let l=0;l<this.items.length;l++){let o=this.items[l],a=await this.getRepo(o.id),s=await this.getLatestRelease(a),u=await this.isNeedToUpdate(s,o.version);if(a&&s&&u.needUpdate){this.totalThemes++;let c=await this.onlyHaveZipFile(this.items[l]);this.items[l].toUpdate={needUpdate:u.needUpdate,repo:a,targetVersion:u.targetVersion,isZipFile:c},this.progressBar.addDiv(o.id,`update ${o.id} to ${u.targetVersion}`)}}let i=this.items.map(async l=>{var o;if((o=l.toUpdate)!=null&&o.needUpdate){this.log("updating theme "+l.id);let a={manifest:null,theme:null},s=l.toUpdate.repo,u=l.toUpdate.targetVersion;if(l.toUpdate.isZipFile){let c=await r(s,u);c&&(a.theme=await t_(c,"theme.css"),a.manifest=await t_(c,"manifest.json"))}else a.theme=await e(s,u,"theme.css"),a.manifest=await e(s,u,"manifest.json");await n(l.id,a),this.progressBar.stepin(l.id,`update ${l.id} to ${u}`,this.totalThemes),this.checkedThemes++}});await Promise.all(i),this.log("All async theme updating completed"),this.progressBar.updateProgress(100),setInterval(()=>{this.progressBar.hide()},2e3)}};var RP=require("obsidian");function BP(t){if(!RP.Platform.isMobile)return;let e=`${t.manifest.dir}/logs.txt`,r=[],n=i=>(...l)=>{r.push(`
[${i}]`);for(let o of l)r.push(String(o));t.app.vault.adapter.write(e,r.join(" "))};console.debug=n("debug"),console.error=n("error"),console.info=n("info"),console.log=n("log"),console.warn=n("warn")}var di=require("obsidian");var p$=/^\s*rgba?\(\s*([\d.]+%?)\s*[, ]\s*([\d.]+%?)\s*[, ]\s*([\d.]+%?\s*)\)\s*$/i;function OP(t){let e=p$.exec(t);if(e===null)return null;let r=e.slice(1).map(i=>i.trim()),n=C$(r);return n===null||n.find(i=>isNaN(i)||i<0||i>255)!==void 0?null:{r:n[0],g:n[1],b:n[2]}}function C$(t){return t[0].endsWith("%")?t.slice(1,3).find(e=>!e.endsWith("%"))!==void 0?null:t.map(e=>parseFloat(e.substring(0,e.length-1))).map(e=>Math.floor(e*255/100)):t.slice(1,3).find(e=>e.endsWith("%"))!==void 0?null:t.map(e=>parseInt(e,10))}var Wf=class extends di.SuggestModal{constructor(e,r){super(e),this.plugin=r}getSuggestions(e){var n;let r=(n=this.plugin.calloutManager)==null?void 0:n.getCallouts();return r?r.concat().filter(i=>i.id.toLowerCase().includes(e.toLowerCase())):[{id:"quote",icon:"quote-glyph",color:"158, 158, 158",sources:[{type:"builtin"},{type:"snippet",snippet:"callout"}]}]}renderSuggestion(e,r){let n=r.createEl("div");n.classList.add("calloutmanager-preview-container"),n.setAttribute("data-callout-manager-callout",e.id);let{icon:i,id:l}=e,o=v$(e);new fp(n,{id:l,icon:i,title:VP(e),color:o!=null?o:void 0})}async onChooseSuggestion(e,r){let n=VP(e),i=`
> [!${e.id}] ${n}
> Contents

`;await navigator.clipboard.writeText(i);let l=this.app.workspace.getActiveViewOfType(di.MarkdownView);if(l){if(l.getMode()==="preview"){new di.Notice("Tips: please switch to edit mode to insert",5e3);return}let a=l.editor.getCursor();l.editor.replaceRange(i,a),a.line=a.line+4,l.editor.setCursor(a)}else new di.Notice("Error: not a editable markdown file",5e3)}},b$=Symbol(),fp=class t extends di.Component{constructor(e,r){super();let{color:n,icon:i,id:l,title:o,content:a}=r,s=document.createDocumentFragment(),u=this.calloutEl=s.createDiv({cls:["callout","calloutmanager-preview"]}),c=u.createDiv({cls:"callout-title"});this.iconEl=c.createDiv({cls:"callout-icon"});let f=this.titleEl=c.createDiv({cls:"callout-title-inner"}),h=this.contentEl=a===void 0?void 0:u.createDiv({cls:"callout-content"});this.setIcon(i),this.setColor(n),this.setCalloutID(l),o==null?f.textContent=l:typeof o=="function"?o(f):typeof o=="string"?f.textContent=o:f.appendChild(o),h!=null&&(typeof a=="function"?a(h):typeof a=="string"?h.textContent=a:h.appendChild(a)),e!=b$&&t.prototype.attachTo.call(this,e)}setCalloutID(e){let{calloutEl:r}=this;return r.setAttribute("data-callout",e),this}setIcon(e){let{iconEl:r,calloutEl:n}=this;n.style.setProperty("--callout-icon",e),r.empty();let i=(0,di.getIcon)(e);return i!=null&&this.iconEl.appendChild(i),this}setColor(e){let{calloutEl:r}=this;return e==null?(r.style.removeProperty("--callout-color"),this):(r.style.setProperty("--callout-color",`${e.r}, ${e.g}, ${e.b}`),this)}attachTo(e){return e.appendChild(this.calloutEl),this}resetStylePropertyOverrides(){let{calloutEl:e}=this;e.style.removeProperty("--callout-color"),e.style.removeProperty("--callout-icon")}};function VP(t){let e=/^(.)(.*)/u.exec(t.id);if(e==null)return t.id;let r=e[1].toLocaleUpperCase(),n=e[2].toLocaleLowerCase().replace(/-+/g," ");return`${r}${n}`}function v$(t){return OP(`rgb(${t.color})`)}var Fs=require("obsidian");var hA=qt(fA(),1),{__extends:sme,__assign:ume,__rest:cme,__decorate:fme,__param:hme,__esDecorate:dme,__runInitializers:mme,__propKey:gme,__setFunctionName:_me,__metadata:pme,__awaiter:tu,__generator:Cme,__exportStar:bme,__createBinding:vme,__values:wme,__read:kme,__spread:yme,__spreadArrays:Lme,__spreadArray:Eme,__await:Sme,__asyncGenerator:Mme,__asyncDelegator:Tme,__asyncValues:zme,__makeTemplateObject:Hme,__importStar:Pme,__importDefault:Ame,__classPrivateFieldGet:Rme,__classPrivateFieldSet:Bme,__classPrivateFieldIn:Ome,__addDisposableResource:Vme,__disposeResources:Zme,__rewriteRelativeImportExtension:Ime}=hA.default;var xi=require("obsidian");function w$(t){Ti(t,"svelte-1njcwce",".recordlist-wrapper.svelte-1njcwce{display:flex;flex-direction:column;justify-content:flex-start;align-items:center;flex-grow:1;width:100%;overflow-y:scroll;gap:8px;scrollbar-width:none}.record-wrapper.svelte-1njcwce{display:flex;flex-direction:column;width:60%;padding:12px 18px;background-color:var(--pa-record-background-color);color:var(--pa-record-font-color);border-radius:8px;border:0.2px solid #f1f1f1}.record-wrapper-mobile.svelte-1njcwce{display:flex;flex-direction:column;width:90%;padding:12px 18px;background-color:var(--pa-record-background-color);color:var(--pa-record-font-color);border-radius:8px;border:0.2px solid #f1f1f1}")}function dA(t,e,r){let n=t.slice();return n[16]=e[r],n[18]=r,n}function mA(t,e,r){let n=t.slice();return n[16]=e[r],n[18]=r,n}function gA(t,e,r){let n=t.slice();return n[16]=e[r],n[18]=r,n}function k$(t){let e,r=p1(t[0]),n=[];for(let i=0;i<r.length;i+=1)n[i]=_A(mA(t,r,i));return{c(){e=Be("div");for(let i=0;i<n.length;i+=1)n[i].c();k(e,"class","recordlist-wrapper svelte-1njcwce"),k(e,"id","persoanl-assistant-record-list")},m(i,l){M(i,e,l);for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(e,null)},p(i,l){if(l&47){r=p1(i[0]);let o;for(o=0;o<r.length;o+=1){let a=mA(i,r,o);n[o]?n[o].p(a,l):(n[o]=_A(a),n[o].c(),n[o].m(e,null))}for(;o<n.length;o+=1)n[o].d(1);n.length=r.length}},d(i){i&&E(e),V0(n,i)}}}function y$(t){let e,r=p1(t[0]),n=[];for(let i=0;i<r.length;i+=1)n[i]=pA(gA(t,r,i));return{c(){e=Be("div");for(let i=0;i<n.length;i+=1)n[i].c();k(e,"class","recordlist-wrapper svelte-1njcwce"),k(e,"id","persoanl-assistant-record-list")},m(i,l){M(i,e,l);for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(e,null)},p(i,l){if(l&47){r=p1(i[0]);let o;for(o=0;o<r.length;o+=1){let a=gA(i,r,o);n[o]?n[o].p(a,l):(n[o]=pA(a),n[o].c(),n[o].m(e,null))}for(;o<n.length;o+=1)n[o].d(1);n.length=r.length}},d(i){i&&E(e),V0(n,i)}}}function L$(t){return{c:A,m:A,p:A,d:A}}function E$(t){let e,r,n={ctx:t,current:null,token:null,hasCatch:!1,pending:T$,then:M$,catch:S$};return K1(e=t[5](t[20],t[3](`record-wrapper-sub-${t[18]}`),t[16],t[1]),n),{c(){n.block.c(),r=Ze()},m(i,l){n.block.m(i,n.anchor=l),n.mount=()=>r.parentNode,n.anchor=r,M(i,r,l)},p(i,l){t=i,n.ctx=t,l&3&&e!==(e=t[5](t[20],t[3](`record-wrapper-sub-${t[18]}`),t[16],t[1]))&&K1(e,n)},d(i){i&&E(r),n.block.d(i),n.token=null,n=null}}}function S$(t){return{c:A,m:A,d:A}}function M$(t){return{c:A,m:A,d:A}}function T$(t){return{c:A,m:A,d:A}}function z$(t){return{c:A,m:A,p:A,d:A}}function _A(t){let e,r,n,i,l,o={ctx:t,current:null,token:null,hasCatch:!1,pending:z$,then:E$,catch:L$,value:20};return K1(l=t[2](t[16]),o),{c(){e=Be("div"),n=Ze(),i=U(),o.block.c(),k(e,"class","record-wrapper svelte-1njcwce"),k(e,"id",r="record-wrapper-sub-"+t[18])},m(a,s){M(a,e,s),M(a,n,s),M(a,i,s),o.block.m(a,o.anchor=s),o.mount=()=>i.parentNode,o.anchor=i},p(a,s){t=a,o.ctx=t,s&1&&l!==(l=t[2](t[16]))&&K1(l,o)||T8(o,t,s)},d(a){a&&(E(e),E(n),E(i)),o.block.d(a),o.token=null,o=null}}}function H$(t){return{c:A,m:A,p:A,d:A}}function P$(t){let e,r,n={ctx:t,current:null,token:null,hasCatch:!1,pending:B$,then:R$,catch:A$};return K1(e=t[5](t[20],t[3](`record-wrapper-sub-${t[18]}`),t[16],t[1]),n),{c(){n.block.c(),r=Ze()},m(i,l){n.block.m(i,n.anchor=l),n.mount=()=>r.parentNode,n.anchor=r,M(i,r,l)},p(i,l){t=i,n.ctx=t,l&3&&e!==(e=t[5](t[20],t[3](`record-wrapper-sub-${t[18]}`),t[16],t[1]))&&K1(e,n)},d(i){i&&E(r),n.block.d(i),n.token=null,n=null}}}function A$(t){return{c:A,m:A,d:A}}function R$(t){return{c:A,m:A,d:A}}function B$(t){return{c:A,m:A,d:A}}function O$(t){return{c:A,m:A,p:A,d:A}}function pA(t){let e,r,n,i,l,o={ctx:t,current:null,token:null,hasCatch:!1,pending:O$,then:P$,catch:H$,value:20};return K1(l=t[2](t[16]),o),{c(){e=Be("div"),n=Ze(),i=U(),o.block.c(),k(e,"class","record-wrapper-mobile svelte-1njcwce"),k(e,"id",r="record-wrapper-sub-"+t[18])},m(a,s){M(a,e,s),M(a,n,s),M(a,i,s),o.block.m(a,o.anchor=s),o.mount=()=>i.parentNode,o.anchor=i},p(a,s){t=a,o.ctx=t,s&1&&l!==(l=t[2](t[16]))&&K1(l,o)||T8(o,t,s)},d(a){a&&(E(e),E(n),E(i)),o.block.d(a),o.token=null,o=null}}}function V$(t){return{c:A,m:A,d:A}}function Z$(t){return{c:A,m:A,d:A}}function I$(t){return{c:A,m:A,d:A}}function CA(t){let e,r,n={ctx:t,current:null,token:null,hasCatch:!1,pending:I$,then:Z$,catch:V$};return K1(r=t[6](`record-wrapper-sub-${t[18]}`,t[16]),n),{c(){e=U(),n.block.c()},m(i,l){M(i,e,l),n.block.m(i,n.anchor=l),n.mount=()=>e.parentNode,n.anchor=e},p(i,l){t=i,n.ctx=t,l&1&&r!==(r=t[6](`record-wrapper-sub-${t[18]}`,t[16]))&&K1(r,n)},d(i){i&&E(e),n.block.d(i),n.token=null,n=null}}}function D$(t){let e,r,n,i,l,o;function a(h,g){return h[4]()?y$:k$}let u=a(t,-1)(t),c=p1(t[0]),f=[];for(let h=0;h<c.length;h+=1)f[h]=CA(dA(t,c,h));return{c(){e=Be("div"),r=Be("div"),n=Be("div"),n.innerHTML='<div class="markdown-preview-pusher" style="width: 1px; height: 0.1px; margin-bottom: 0px;"></div>',i=Ze(),u.c(),o=Ze();for(let h=0;h<f.length;h+=1)f[h].c();k(n,"class","markdown-preview-sizer markdown-preview-section"),k(r,"class","markdown-preview-view markdown-rendered node-insert-event is-readable-line-width allow-fold-headings show-indentation-guide allow-fold-lists show-properties"),k(r,"tabindex","-1"),Ll(r,"tab-size","4"),k(e,"class","markdown-reading-view"),Ll(e,"width","100%"),Ll(e,"height","100%")},m(h,g){M(h,e,g),V(e,r),V(r,n),V(r,i),u.m(r,null),V(r,o);for(let p=0;p<f.length;p+=1)f[p]&&f[p].m(r,null)},p(h,[g]){if(u.p(h,g),g&65){c=p1(h[0]);let p;for(p=0;p<c.length;p+=1){let w=dA(h,c,p);f[p]?f[p].p(w,g):(f[p]=CA(w),f[p].c(),f[p].m(r,null))}for(;p<f.length;p+=1)f[p].d(1);f.length=c.length}},i:A,o:A,d(h){h&&E(e),u.d(),V0(f,h)}}}function N$(t,e,r){let n=(()=>{let o=r.split("/");return o.pop(),o.join("/")})(),i=e;if(e.startsWith(".")){let o=r.split("/");o.pop();for(let a of e.split("/"))if(a==="..")o.pop();else{if(a===".")continue;o.push(a)}i=o.join("/")}let l=[];for(let o of t.getFiles())if(o.path.endsWith(i)){if(o.path===i)return o.path;l.push(o.path)}return l.sort((o,a)=>o.startsWith(n)&&!a.startsWith(n)?-1:a.startsWith(n)&&!o.startsWith(n)?1:o<=a?-1:1),l?l[0]:e}function F$(t,e,r){let{app:n}=e,{fileNames:i}=e,{container:l}=e,{plugin:o}=e;function a(P){return tu(this,void 0,void 0,function*(){return n.vault.adapter.read(P)})}let s=P=>{let Z=document.getElementById(P);return Z?(o.log("get the element"),Z):(o.log("fail over to get parent element"),l)},u=()=>(o.log("this is Mobile",xi.Platform.isMobile),xi.Platform.isMobile),c=P=>n.plugins.manifests.hasOwnProperty(P)&&n.plugins.enabledPlugins.has(P);var f;(function(P){P.Image="Image",P.Audio="Audio",P.Video="Video",P.PDF="PDF",P.Note="Note",P.Unknown="Unknown"})(f||(f={}));let h={[f.Image]:["png","jpg","jpeg","gif","bmp","svg"],[f.Audio]:["mp3","webm","wav","m4a","ogg","3gp","flac"],[f.Video]:["mp4","webm","ogv","mov","mkv"],[f.PDF]:["pdf"]},g={};Object.keys(h).forEach(P=>{g[P]=new RegExp([".+\\.(",h[P].join("|"),").*"].join(""),"i")});function p(P){let Z=P.getAttribute("src");if(!Z)return f.Unknown;for(let[y,W]of Object.entries(g))if(Z.match(W))return f[y];return f.Note}let w=(P,Z,y)=>{let W=N$(P,Z,y);return P.adapter.getResourcePath(W)},b=(P,Z)=>c("obsidian-advanced-uri")?["obsidian://advanced-uri?vault=",encodeURIComponent(P.getName()),"&filepath=",encodeURIComponent(Z)].join(""):["obsidian://open?vault=",encodeURIComponent(P.getName()),"&file=",encodeURIComponent(Z)].join(""),v=(P,Z,y,W)=>tu(void 0,void 0,void 0,function*(){let{contentStart:X}=(0,xi.getFrontMatterInfo)(P),x=P.slice(X);yield xi.MarkdownRenderer.render(n,x,Z,y,W),Z.querySelectorAll("span.internal-embed").forEach($=>{switch(p($)){case f.Image:let ce=createEl("img");ce.src=w(n.vault,$.getAttribute("src"),y),$.empty(),$.appendChild(ce);break;case f.Audio:let Te=createEl("audio");Te.controls=!0,Te.src=w(n.vault,$.getAttribute("src"),y),$.empty(),$.appendChild(Te);break;case f.Video:let Pe=createEl("video");Pe.controls=!0,Pe.src=w(n.vault,$.getAttribute("src"),y),$.empty(),$.appendChild(Pe);break;case f.PDF:if(!xi.Platform.isDesktop){o.log("Embedded PDFs are only supported on the desktop.");return}let pe=createEl("iframe");pe.src=w(n.vault,$.getAttribute("src"),y),pe.width="100%",pe.height="500px",$.empty(),$.appendChild(pe);break;case f.Note:o.log("Embedded notes are not perfectly supported.");let et=$.getAttribute("src"),we=createDiv();we.setAttribute("data-callout-metadata",""),we.setAttribute("data-callout-fold","-"),we.setAttribute("data-callout","abstract"),we.addClasses(["callout","is-collapsible","is-collapsed"]);let ye=we.createDiv();ye.addClass("callout-title");let Dt=ye.createDiv();Dt.addClass("callout-icon"),(0,xi.setIcon)(Dt,"loader");let Rt=ye.createDiv();Rt.addClass("callout-title-inner");let ke=createEl("a");ke.target="_blank",ke.rel="noopener",ke.addClass("internal-link"),ke.setText(et+" \u{1F4A8}"),ke.href=b(n.vault,et),Rt.appendChild(ke),$.empty(),$.appendChild(we);break;case f.Unknown:default:o.log("Could not determine embedding type for element:"),o.log($)}}),Z.querySelectorAll("a.internal-link").forEach($=>{if(!$.getAttribute("href"))return;let ee=$;ee.addEventListener("click",ce=>{ce.stopPropagation()}),!ee.href.startsWith("obsidian://")&&(ee.href=b(n.vault,ee.getAttribute("href")))})}),S=(P,Z)=>tu(void 0,void 0,void 0,function*(){var y;yield qu();let W=document.getElementById(P);if(W){o.log("get the element");let X=(y=Z.split("\\").pop())===null||y===void 0?void 0:y.split("/").pop();if(X){let x=b(n.vault,X);W.setAttribute("onclick",`location.href='${x}'`),W.setAttribute("style","cursor:pointer")}}else o.log("fail to find element with ",P)});return t.$$set=P=>{"app"in P&&r(7,n=P.app),"fileNames"in P&&r(0,i=P.fileNames),"container"in P&&r(8,l=P.container),"plugin"in P&&r(1,o=P.plugin)},[i,o,a,s,u,v,S,n,l]}var dp=class extends R{constructor(e){super(),O(this,e,F$,D$,B,{app:7,fileNames:0,container:8,plugin:1},w$)}},mp=dp;var D5="record-preview",Jf=class extends Fs.ItemView{constructor(e,r,n){r.log("startup new RecordList"),super(n),(0,Fs.addIcon)("PluginAST_PREVIEW",vn.PluginAST_PREVIEW),this.app=e,this.plugin=r,this.files=[]}getViewType(){return D5}getDisplayText(){return"Records Preview"}getIcon(){return"PluginAST_PREVIEW"}async onOpen(){let r=(await this.app.vault.adapter.list(this.plugin.settings.targetPath)).files.sort((o,a)=>{let s=this.app.vault.getAbstractFileByPath(o),u=this.app.vault.getAbstractFileByPath(a);return s instanceof Fs.TFile&&u instanceof Fs.TFile?s.stat.mtime-u.stat.mtime:o<a?-1:o>a?1:0}),n=r.filter((o,a,s)=>{let c=RegExp(/\[(.*)\]/,"i").exec(this.plugin.settings.fileFormat);if(c&&c.length>1){let f=o.substring(o.lastIndexOf("/")+1);return f.endsWith(".md")&&f.includes(c[1])}else return!1}),i=r.filter((o,a,s)=>o.endsWith(".md")&&!n.contains(o));this.files=n.reverse().concat(...i.reverse());let l=this.plugin.settings.previewLimits;l>this.files.length&&(l=this.files.length),this.component=new mp({target:this.contentEl,props:{app:this.app,plugin:this.plugin,fileNames:this.files.slice(0,l),container:this.containerEl}}),this.app.vault.on("modify",o=>{this.plugin.log(`update preview record for file[${o.path}] changed`),this.files.slice(0,l).contains(o.path)&&(this.component.$destroy(),this.component=new mp({target:this.contentEl,props:{app:this.app,plugin:this.plugin,fileNames:this.files.slice(0,l),container:this.containerEl}}))})}async onClose(){this.component.$destroy()}};var bA=require("obsidian"),ao=qt(n8());function ia(t){let e=/'’A-Za-z\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AD\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC/.source,r=/\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u4E00-\u9FD5/.source,n=/[\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u4E00-\u9FD5]{1}/.source,i=new RegExp([`(?:[0-9]+(?:(?:,|\\.)[0-9]+)*|[\\-${e}])+`,r,n].join("|"),"g");return(t.match(i)||[]).length}function gp(t){return t.length}function _p(t){let e=t.match(/\[\^\S+](?!:)/g),r=t.match(/\^\[[^^].+?]/g),n=0;return e&&(n+=e.length),r&&(n+=r.length),n}function pp(t){let e=t.match(/@[A-Za-z0-9-]+[,;\]](?!\()/gi);return e?[...new Set(e)].length:0}function Cp(t){return((t||"").match(/[^.!?\s][^.!?]*(?:[.!?](?!['"]?\s|$)[^.!?]*)*[.!?]?['"]?(?=\s|$)/gm)||[]).length}function bp(t,e){return parseFloat((ia(t)/e).toFixed(1))}var N5=class{constructor(e,r){this.vault=e.vault,this.workspace=e.workspace,this.plugin=r,this.today=(0,ao.default)().format("YYYY-MM-DD"),this.vaultStats={history:{},modifiedFiles:{}},this.debounceChange=(0,bA.debounce)(n=>this.change(n),50,!1),this.vault.on("rename",(n,i)=>{if(this.vaultStats.modifiedFiles.hasOwnProperty(i)){let l=this.vaultStats.modifiedFiles[i];delete this.vaultStats.modifiedFiles[i],this.vaultStats.modifiedFiles[n.path]=l}}),this.vault.on("delete",n=>{this.vaultStats.modifiedFiles.hasOwnProperty(n.path)&&delete this.vaultStats.modifiedFiles[n.path]}),this.vault.adapter.exists(this.plugin.settings.statsPath).then(async n=>{if(n){if(this.vaultStats=JSON.parse(await this.vault.adapter.read(this.plugin.settings.statsPath)),!this.vaultStats.hasOwnProperty("history")){let i={history:{},modifiedFiles:{}};await this.vault.adapter.write(this.plugin.settings.statsPath,JSON.stringify(i,null,2))}this.vaultStats=JSON.parse(await this.vault.adapter.read(this.plugin.settings.statsPath))}else{let i={history:{},modifiedFiles:{}};await this.vault.adapter.write(this.plugin.settings.statsPath,JSON.stringify(i,null,2)),this.vaultStats=JSON.parse(await this.vault.adapter.read(this.plugin.settings.statsPath))}await this.updateToday()})}async update(){this.vault.adapter.write(this.plugin.settings.statsPath,JSON.stringify(this.vaultStats,null,2))}async updateToday(){if(this.vaultStats.history.hasOwnProperty((0,ao.default)().format("YYYY-MM-DD"))){this.today=(0,ao.default)().format("YYYY-MM-DD");return}this.today=(0,ao.default)().format("YYYY-MM-DD");let e=1,r=0,n=Object.keys(this.vaultStats.history).length;if(n>0){for(;!this.vaultStats.history.hasOwnProperty((0,ao.default)().subtract(e,"days").format("YYYY-MM-DD"))&&e<=n;)e++;r=this.vaultStats.history[(0,ao.default)().subtract(e,"days").format("YYYY-MM-DD")].files}else r=0;let i=await this.calcTotalWords(),l=await this.calcTotalCharacters(),o=await this.calcTotalSentences(),a=await this.calcTotalFootnotes(),s=await this.calcTotalCitations(),u=await this.calcTotalPages(),c={words:0,characters:0,sentences:0,pages:0,files:r,footnotes:0,citations:0,totalWords:i,totalCharacters:l,totalSentences:o,totalFootnotes:a,totalCitations:s,totalPages:u};this.vaultStats.modifiedFiles={},this.vaultStats.history[this.today]=c,await this.update()}async change(e){var u;let r=(u=this.workspace.getActiveFile())==null?void 0:u.path,n=ia(e),i=gp(e),l=Cp(e),o=pp(e),a=_p(e),s=bp(e,300);if(this.vaultStats.history.hasOwnProperty(this.today)&&this.today===(0,ao.default)().format("YYYY-MM-DD")){let c=this.vaultStats.modifiedFiles;if(r===void 0)return;c.hasOwnProperty(r)?(this.vaultStats.history[this.today].totalWords+=n-c[r].words.current,this.vaultStats.history[this.today].totalCharacters+=i-c[r].characters.current,this.vaultStats.history[this.today].totalSentences+=l-c[r].sentences.current,this.vaultStats.history[this.today].totalFootnotes+=l-c[r].footnotes.current,this.vaultStats.history[this.today].totalCitations+=l-c[r].citations.current,this.vaultStats.history[this.today].totalPages+=s-c[r].pages.current,c[r].words.current=n,c[r].characters.current=i,c[r].sentences.current=l,c[r].footnotes.current=a,c[r].citations.current=o,c[r].pages.current=s):c[r]={words:{initial:n,current:n},characters:{initial:i,current:i},sentences:{initial:l,current:l},footnotes:{initial:a,current:a},citations:{initial:o,current:o},pages:{initial:s,current:s}};let f=Object.values(c).map(v=>Math.max(0,v.words.current-v.words.initial)).reduce((v,S)=>v+S,0),h=Object.values(c).map(v=>Math.max(0,v.characters.current-v.characters.initial)).reduce((v,S)=>v+S,0),g=Object.values(c).map(v=>Math.max(0,v.sentences.current-v.sentences.initial)).reduce((v,S)=>v+S,0),p=Object.values(c).map(v=>Math.max(0,v.footnotes.current-v.footnotes.initial)).reduce((v,S)=>v+S,0),w=Object.values(c).map(v=>Math.max(0,v.citations.current-v.citations.initial)).reduce((v,S)=>v+S,0),b=Object.values(c).map(v=>Math.max(0,v.pages.current-v.pages.initial)).reduce((v,S)=>v+S,0);this.vaultStats.history[this.today].words=f,this.vaultStats.history[this.today].characters=h,this.vaultStats.history[this.today].sentences=g,this.vaultStats.history[this.today].footnotes=p,this.vaultStats.history[this.today].citations=w,this.vaultStats.history[this.today].pages=b,this.vaultStats.history[this.today].files=this.getTotalFiles(),await this.update()}else this.updateToday()}async recalcTotals(){if(this.vaultStats)if(this.vaultStats.history.hasOwnProperty(this.today)&&this.today===(0,ao.default)().format("YYYY-MM-DD")){let e=this.vaultStats.history[this.today];e.totalWords=await this.calcTotalWords(),e.totalCharacters=await this.calcTotalCharacters(),e.totalSentences=await this.calcTotalSentences(),e.totalFootnotes=await this.calcTotalFootnotes(),e.totalCitations=await this.calcTotalCitations(),e.totalPages=await this.calcTotalPages(),this.update()}else this.updateToday()}async calcTotalWords(){let e=0,r=this.vault.getFiles();for(let n in r){let i=r[n];i.extension==="md"&&(e+=ia(await this.vault.cachedRead(i)))}return e}async calcTotalCharacters(){let e=0,r=this.vault.getFiles();for(let n in r){let i=r[n];i.extension==="md"&&(e+=gp(await this.vault.cachedRead(i)))}return e}async calcTotalSentences(){let e=0,r=this.vault.getFiles();for(let n in r){let i=r[n];i.extension==="md"&&(e+=Cp(await this.vault.cachedRead(i)))}return e}async calcTotalPages(){let e=0,r=this.vault.getFiles();for(let n in r){let i=r[n];i.extension==="md"&&(e+=bp(await this.vault.cachedRead(i),300))}return e}async calcTotalFootnotes(){let e=0,r=this.vault.getFiles();for(let n in r){let i=r[n];i.extension==="md"&&(e+=_p(await this.vault.cachedRead(i)))}return e}async calcTotalCitations(){let e=0,r=this.vault.getFiles();for(let n in r){let i=r[n];i.extension==="md"&&(e+=pp(await this.vault.cachedRead(i)))}return e}getDailyWords(){return this.vaultStats.history[this.today].words}getDailyCharacters(){return this.vaultStats.history[this.today].characters}getDailySentences(){return this.vaultStats.history[this.today].sentences}getDailyFootnotes(){return this.vaultStats.history[this.today].footnotes}getDailyCitations(){return this.vaultStats.history[this.today].citations}getDailyPages(){return this.vaultStats.history[this.today].pages}getTotalFiles(){return this.vault.getMarkdownFiles().length}async getTotalWords(){return this.vaultStats?this.vaultStats.history[this.today].totalWords:await this.calcTotalWords()}async getTotalCharacters(){return this.vaultStats?this.vaultStats.history[this.today].totalCharacters:await this.calcTotalCharacters()}async getTotalSentences(){return this.vaultStats?this.vaultStats.history[this.today].totalSentences:await this.calcTotalSentences()}async getTotalFootnotes(){return this.vaultStats?this.vaultStats.history[this.today].totalFootnotes:await this.calcTotalFootnotes()}async getTotalCitations(){return this.vaultStats?this.vaultStats.history[this.today].totalCitations:await this.calcTotalCitations()}async getTotalPages(){return this.vaultStats?this.vaultStats.history[this.today].totalPages:await this.calcTotalPages()}};var $i=require("@codemirror/state"),so=require("@codemirror/view"),vp=require("@codemirror/language");var ru=$i.StateField.define({create(t){return null},update(t){return t}}),wp=class{constructor(e){this.view=e}update(e){let r=e.transactions[0];if(!r)return;let n=e.view.state.field(ru),i=r.annotation($i.Transaction.userEvent)===void 0;if((r.isUserEvent("select")||i)&&r.newSelection.ranges[0].from!==r.newSelection.ranges[0].to){let l="",o=r.newSelection.main,a=r.newDoc.iterRange(o.from,o.to);for(;!a.done;)l=l+a.next().value}else if(r.isUserEvent("input")||r.isUserEvent("delete")||r.isUserEvent("move")||r.isUserEvent("undo")||r.isUserEvent("redo")||r.isUserEvent("select")){let l=r.newDoc.iter(),o="";for(;!l.done;)o=o+l.next().value;r.docChanged&&n&&n.statsManager&&n.statsManager.debounceChange(o)}}destroy(){}},vA=so.ViewPlugin.fromClass(wp),kp=class extends so.WidgetType{constructor(e){super(),this.data=e}eq(e){let{pos:r,self:n,total:i}=this.data;return r===e.data.pos&&n===e.data.self&&i===e.data.total}getDisplayText(){let{self:e,total:r}=this.data;return e&&e!==r?`${e} / ${r}`:r.toString()}toDOM(){return createSpan({cls:"bwc-section-count",text:this.getDisplayText()})}},yp=class{constructor(e){this.lineCounts=[];let r=e.state.field(ru);if(r&&!r.settings.displaySectionCounts){this.decorations=so.Decoration.none;return}r&&this.calculateLineCounts(e.state,r),this.decorations=this.mkDeco(e)}calculateLineCounts(e,r){let n=r.settings.countComments,i=e.doc.toString();if(n){let o=(a,s,u)=>{let c="";for(let f=s,h=s+a.length;f<h;f++)/[\r\n]/.test(u[f])&&(c+=u[f]);return c};i=i.replace(up,o).replace(cp,o)}let l=i.split(e.facet($i.EditorState.lineSeparator)||/\r\n?|\n/);for(let o=0,a=l.length;o<a;o++){let s=l[o];this.lineCounts.push(ia(s))}}update(e){let r=e.view.state.field(ru);if(!r)return;let{displaySectionCounts:n,countComments:i}=r.settings,l=!1;if(this.lineCounts.length&&!n){this.lineCounts=[],this.decorations=so.Decoration.none;return}else!this.lineCounts.length&&n&&(l=!0,r&&this.calculateLineCounts(e.startState,r));if(e.docChanged){let a=e.startState.doc,s=1/0,u=-1/0;if(e.changes.iterChanges((c,f,h,g,p)=>{let w=h,b=h+(f-c),v=w+p.length,S=a.lineAt(w),P=a.lineAt(b);a=a.replace(h,h+(f-c),p);let Z=a.lineAt(w),y=a.lineAt(v),W=[];for(let le=Z.number;le<=y.number;le++)W.push(ia(a.line(le).text));let X=S.number-1,x=P.number-S.number+1;s=Math.min(s,X),u=Math.max(u,X+(y.number-Z.number+1)),this.lineCounts.splice(X,x,...W)}),i){let c=(0,vp.syntaxTree)(e.state);for(let f=s;f<u;f++){let h=e.state.doc.line(f+1),g="",p=0,w=!1;c.iterate({enter(b){b.name&&/comment/.test(b.name)&&(w=!0,g+=h.text.substring(p,b.from-h.from),p=b.to-h.from)},from:h.from,to:h.to}),w&&(g+=h.text.substring(p),this.lineCounts[f]=ia(g))}}}(e.docChanged||e.viewportChanged||l)&&(this.decorations=this.mkDeco(e.view))}mkDeco(e){let r=e.state.field(ru),n=new $i.RangeSetBuilder;if(r&&!r.settings.displaySectionCounts)return n.finish();let i=(0,vp.syntaxTree)(e.state),l=h=>{var w;let g=i.resolve(h.from,1);if(/code-?block|math/.test((w=g==null?void 0:g.type)==null?void 0:w.name))return null;let p=h.text.match(/^(#+)[ \t]/);return p?p[1].length:null};if(!e.visibleRanges.length)return n.finish();let{from:o}=e.visibleRanges[0],a=e.state.doc,s=a.lineAt(o),u=a.lines,c=[],f=[];for(let h=s.number;h<=u;h++){let g;h===s.number?g=s:g=a.line(h);let p=l(g),w=f.last();if(p){if(!w||p>w.level)f.push({line:h,level:p,self:0,total:0,pos:g.to});else if(w.level===p){let b=f.pop();b&&c.push(b),f.push({line:h,level:p,self:0,total:0,pos:g.to})}else if(w.level>p)for(let b=f.length-1;b>=0;b--){let v=f[b];if(p<v.level){let S=f.pop();S&&c.push(S),b===0&&f.push({line:h,level:p,self:0,total:0,pos:g.to});continue}if(p===v.level){let S=f.pop();S&&c.push(S),f.push({line:h,level:p,self:0,total:0,pos:g.to});break}if(p>v.level){f.push({line:h,level:p,self:0,total:0,pos:g.to});break}}}else if(f.length){let b=this.lineCounts[h-1];for(let v of f)v===w&&(v.self+=b),v.total+=b}}f.length&&c.push(...f),c.sort((h,g)=>h.line-g.line);for(let h of c)n.add(h.pos,h.pos,so.Decoration.widget({side:1,widget:new kp(h)}));return n.finish()}},dge=$i.StateEffect.define(),wA=so.ViewPlugin.fromClass(yp,{decorations:t=>t.decorations});var yQe=require("obsidian");function j$(t){let e,r,n=[{width:t[0]},{height:t[0]},t[5],{role:t[1]},{"aria-label":t[3]},{viewBox:"0 0 15 15"},{fill:t[2]},{xmlns:"http://www.w3.org/2000/svg"}],i={};for(let l=0;l<n.length;l+=1)i=H(i,n[l]);return{c(){e=N("svg"),r=N("path"),k(r,"fill-rule","evenodd"),k(r,"clip-rule","evenodd"),k(r,"d","M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z"),k(r,"fill","currentColor"),J(e,i)},m(l,o){M(l,e,o),V(e,r)},p(l,o){J(e,i=I(n,[o&1&&{width:l[0]},o&1&&{height:l[0]},o&32&&l[5],o&2&&{role:l[1]},o&8&&{"aria-label":l[3]},{viewBox:"0 0 15 15"},o&4&&{fill:l[2]},{xmlns:"http://www.w3.org/2000/svg"}]))},d(l){l&&E(e)}}}function q$(t){let e,r,n,i,l=[{width:t[0]},{height:t[0]},t[5],{role:t[1]},{"aria-label":t[3]},{viewBox:"0 0 15 15"},{fill:t[2]},{xmlns:"http://www.w3.org/2000/svg"}],o={};for(let a=0;a<l.length;a+=1)o=H(o,l[a]);return{c(){e=N("svg"),r=N("path"),k(r,"fill-rule","evenodd"),k(r,"clip-rule","evenodd"),k(r,"d","M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z"),k(r,"fill","currentColor"),J(e,o)},m(a,s){M(a,e,s),V(e,r),n||(i=[F(e,"click",t[6]),F(e,"keydown",t[7]),F(e,"keyup",t[8]),F(e,"focus",t[9]),F(e,"blur",t[10]),F(e,"mouseenter",t[11]),F(e,"mouseleave",t[12]),F(e,"mouseover",t[13]),F(e,"mouseout",t[14])],n=!0)},p(a,s){J(e,o=I(l,[s&1&&{width:a[0]},s&1&&{height:a[0]},s&32&&a[5],s&2&&{role:a[1]},s&8&&{"aria-label":a[3]},{viewBox:"0 0 15 15"},s&4&&{fill:a[2]},{xmlns:"http://www.w3.org/2000/svg"}]))},d(a){a&&E(e),n=!1,G(i)}}}function W$(t){let e;function r(l,o){return l[4]?q$:j$}let n=r(t,-1),i=n(t);return{c(){i.c(),e=U()},m(l,o){i.m(l,o),M(l,e,o)},p(l,[o]){n===(n=r(l,o))&&i?i.p(l,o):(i.d(1),i=n(l),i&&(i.c(),i.m(e.parentNode,e)))},i:A,o:A,d(l){l&&E(e),i.d(l)}}}function U$(t,e,r){var Z;let n=["size","role","color","ariaLabel","withEvents"],i=D(e,n),l=(Z=K("iconCtx"))!=null?Z:{},{size:o=l.size||"24"}=e,{role:a=l.role||"img"}=e,{color:s=l.color||"currentColor"}=e,{ariaLabel:u="chevron down,"}=e,{withEvents:c=!1}=e;function f(y){q.call(this,t,y)}function h(y){q.call(this,t,y)}function g(y){q.call(this,t,y)}function p(y){q.call(this,t,y)}function w(y){q.call(this,t,y)}function b(y){q.call(this,t,y)}function v(y){q.call(this,t,y)}function S(y){q.call(this,t,y)}function P(y){q.call(this,t,y)}return t.$$set=y=>{e=H(H({},e),j(y)),r(5,i=D(e,n)),"size"in y&&r(0,o=y.size),"role"in y&&r(1,a=y.role),"color"in y&&r(2,s=y.color),"ariaLabel"in y&&r(3,u=y.ariaLabel),"withEvents"in y&&r(4,c=y.withEvents)},[o,a,s,u,c,i,f,h,g,p,w,b,v,S,P]}var Lp=class extends R{constructor(e){super(),O(this,e,U$,W$,B,{size:0,role:1,color:2,ariaLabel:3,withEvents:4})}},Kf=Lp;function Y$(t){let e,r,n=[{width:t[0]},{height:t[0]},t[5],{role:t[1]},{"aria-label":t[3]},{viewBox:"0 0 15 15"},{fill:t[2]},{xmlns:"http://www.w3.org/2000/svg"}],i={};for(let l=0;l<n.length;l+=1)i=H(i,n[l]);return{c(){e=N("svg"),r=N("path"),k(r,"fill-rule","evenodd"),k(r,"clip-rule","evenodd"),k(r,"d","M9.94969 7.49989C9.94969 8.85288 8.85288 9.94969 7.49989 9.94969C6.14691 9.94969 5.0501 8.85288 5.0501 7.49989C5.0501 6.14691 6.14691 5.0501 7.49989 5.0501C8.85288 5.0501 9.94969 6.14691 9.94969 7.49989ZM10.8632 8C10.6213 9.64055 9.20764 10.8997 7.49989 10.8997C5.79214 10.8997 4.37847 9.64055 4.13662 8H0.5C0.223858 8 0 7.77614 0 7.5C0 7.22386 0.223858 7 0.5 7H4.13659C4.37835 5.35935 5.79206 4.1001 7.49989 4.1001C9.20772 4.1001 10.6214 5.35935 10.8632 7H14.5C14.7761 7 15 7.22386 15 7.5C15 7.77614 14.7761 8 14.5 8H10.8632Z"),k(r,"fill","currentColor"),J(e,i)},m(l,o){M(l,e,o),V(e,r)},p(l,o){J(e,i=I(n,[o&1&&{width:l[0]},o&1&&{height:l[0]},o&32&&l[5],o&2&&{role:l[1]},o&8&&{"aria-label":l[3]},{viewBox:"0 0 15 15"},o&4&&{fill:l[2]},{xmlns:"http://www.w3.org/2000/svg"}]))},d(l){l&&E(e)}}}function G$(t){let e,r,n,i,l=[{width:t[0]},{height:t[0]},t[5],{role:t[1]},{"aria-label":t[3]},{viewBox:"0 0 15 15"},{fill:t[2]},{xmlns:"http://www.w3.org/2000/svg"}],o={};for(let a=0;a<l.length;a+=1)o=H(o,l[a]);return{c(){e=N("svg"),r=N("path"),k(r,"fill-rule","evenodd"),k(r,"clip-rule","evenodd"),k(r,"d","M9.94969 7.49989C9.94969 8.85288 8.85288 9.94969 7.49989 9.94969C6.14691 9.94969 5.0501 8.85288 5.0501 7.49989C5.0501 6.14691 6.14691 5.0501 7.49989 5.0501C8.85288 5.0501 9.94969 6.14691 9.94969 7.49989ZM10.8632 8C10.6213 9.64055 9.20764 10.8997 7.49989 10.8997C5.79214 10.8997 4.37847 9.64055 4.13662 8H0.5C0.223858 8 0 7.77614 0 7.5C0 7.22386 0.223858 7 0.5 7H4.13659C4.37835 5.35935 5.79206 4.1001 7.49989 4.1001C9.20772 4.1001 10.6214 5.35935 10.8632 7H14.5C14.7761 7 15 7.22386 15 7.5C15 7.77614 14.7761 8 14.5 8H10.8632Z"),k(r,"fill","currentColor"),J(e,o)},m(a,s){M(a,e,s),V(e,r),n||(i=[F(e,"click",t[6]),F(e,"keydown",t[7]),F(e,"keyup",t[8]),F(e,"focus",t[9]),F(e,"blur",t[10]),F(e,"mouseenter",t[11]),F(e,"mouseleave",t[12]),F(e,"mouseover",t[13]),F(e,"mouseout",t[14])],n=!0)},p(a,s){J(e,o=I(l,[s&1&&{width:a[0]},s&1&&{height:a[0]},s&32&&a[5],s&2&&{role:a[1]},s&8&&{"aria-label":a[3]},{viewBox:"0 0 15 15"},s&4&&{fill:a[2]},{xmlns:"http://www.w3.org/2000/svg"}]))},d(a){a&&E(e),n=!1,G(i)}}}function J$(t){let e;function r(l,o){return l[4]?G$:Y$}let n=r(t,-1),i=n(t);return{c(){i.c(),e=U()},m(l,o){i.m(l,o),M(l,e,o)},p(l,[o]){n===(n=r(l,o))&&i?i.p(l,o):(i.d(1),i=n(l),i&&(i.c(),i.m(e.parentNode,e)))},i:A,o:A,d(l){l&&E(e),i.d(l)}}}function K$(t,e,r){var Z;let n=["size","role","color","ariaLabel","withEvents"],i=D(e,n),l=(Z=K("iconCtx"))!=null?Z:{},{size:o=l.size||"24"}=e,{role:a=l.role||"img"}=e,{color:s=l.color||"currentColor"}=e,{ariaLabel:u="commit,"}=e,{withEvents:c=!1}=e;function f(y){q.call(this,t,y)}function h(y){q.call(this,t,y)}function g(y){q.call(this,t,y)}function p(y){q.call(this,t,y)}function w(y){q.call(this,t,y)}function b(y){q.call(this,t,y)}function v(y){q.call(this,t,y)}function S(y){q.call(this,t,y)}function P(y){q.call(this,t,y)}return t.$$set=y=>{e=H(H({},e),j(y)),r(5,i=D(e,n)),"size"in y&&r(0,o=y.size),"role"in y&&r(1,a=y.role),"color"in y&&r(2,s=y.color),"ariaLabel"in y&&r(3,u=y.ariaLabel),"withEvents"in y&&r(4,c=y.withEvents)},[o,a,s,u,c,i,f,h,g,p,w,b,v,S,P]}var Ep=class extends R{constructor(e){super(),O(this,e,K$,J$,B,{size:0,role:1,color:2,ariaLabel:3,withEvents:4})}},Sp=Ep;function X$(t){let e,r,n=[{width:t[0]},{height:t[0]},t[5],{role:t[1]},{"aria-label":t[3]},{viewBox:"0 0 15 15"},{fill:t[2]},{xmlns:"http://www.w3.org/2000/svg"}],i={};for(let l=0;l<n.length;l+=1)i=H(i,n[l]);return{c(){e=N("svg"),r=N("path"),k(r,"fill-rule","evenodd"),k(r,"clip-rule","evenodd"),k(r,"d","M7.5 11C4.80285 11 2.52952 9.62184 1.09622 7.50001C2.52952 5.37816 4.80285 4 7.5 4C10.1971 4 12.4705 5.37816 13.9038 7.50001C12.4705 9.62183 10.1971 11 7.5 11ZM7.5 3C4.30786 3 1.65639 4.70638 0.0760002 7.23501C-0.0253338 7.39715 -0.0253334 7.60288 0.0760014 7.76501C1.65639 10.2936 4.30786 12 7.5 12C10.6921 12 13.3436 10.2936 14.924 7.76501C15.0253 7.60288 15.0253 7.39715 14.924 7.23501C13.3436 4.70638 10.6921 3 7.5 3ZM7.5 9.5C8.60457 9.5 9.5 8.60457 9.5 7.5C9.5 6.39543 8.60457 5.5 7.5 5.5C6.39543 5.5 5.5 6.39543 5.5 7.5C5.5 8.60457 6.39543 9.5 7.5 9.5Z"),k(r,"fill","currentColor"),J(e,i)},m(l,o){M(l,e,o),V(e,r)},p(l,o){J(e,i=I(n,[o&1&&{width:l[0]},o&1&&{height:l[0]},o&32&&l[5],o&2&&{role:l[1]},o&8&&{"aria-label":l[3]},{viewBox:"0 0 15 15"},o&4&&{fill:l[2]},{xmlns:"http://www.w3.org/2000/svg"}]))},d(l){l&&E(e)}}}function Q$(t){let e,r,n,i,l=[{width:t[0]},{height:t[0]},t[5],{role:t[1]},{"aria-label":t[3]},{viewBox:"0 0 15 15"},{fill:t[2]},{xmlns:"http://www.w3.org/2000/svg"}],o={};for(let a=0;a<l.length;a+=1)o=H(o,l[a]);return{c(){e=N("svg"),r=N("path"),k(r,"fill-rule","evenodd"),k(r,"clip-rule","evenodd"),k(r,"d","M7.5 11C4.80285 11 2.52952 9.62184 1.09622 7.50001C2.52952 5.37816 4.80285 4 7.5 4C10.1971 4 12.4705 5.37816 13.9038 7.50001C12.4705 9.62183 10.1971 11 7.5 11ZM7.5 3C4.30786 3 1.65639 4.70638 0.0760002 7.23501C-0.0253338 7.39715 -0.0253334 7.60288 0.0760014 7.76501C1.65639 10.2936 4.30786 12 7.5 12C10.6921 12 13.3436 10.2936 14.924 7.76501C15.0253 7.60288 15.0253 7.39715 14.924 7.23501C13.3436 4.70638 10.6921 3 7.5 3ZM7.5 9.5C8.60457 9.5 9.5 8.60457 9.5 7.5C9.5 6.39543 8.60457 5.5 7.5 5.5C6.39543 5.5 5.5 6.39543 5.5 7.5C5.5 8.60457 6.39543 9.5 7.5 9.5Z"),k(r,"fill","currentColor"),J(e,o)},m(a,s){M(a,e,s),V(e,r),n||(i=[F(e,"click",t[6]),F(e,"keydown",t[7]),F(e,"keyup",t[8]),F(e,"focus",t[9]),F(e,"blur",t[10]),F(e,"mouseenter",t[11]),F(e,"mouseleave",t[12]),F(e,"mouseover",t[13]),F(e,"mouseout",t[14])],n=!0)},p(a,s){J(e,o=I(l,[s&1&&{width:a[0]},s&1&&{height:a[0]},s&32&&a[5],s&2&&{role:a[1]},s&8&&{"aria-label":a[3]},{viewBox:"0 0 15 15"},s&4&&{fill:a[2]},{xmlns:"http://www.w3.org/2000/svg"}]))},d(a){a&&E(e),n=!1,G(i)}}}function x$(t){let e;function r(l,o){return l[4]?Q$:X$}let n=r(t,-1),i=n(t);return{c(){i.c(),e=U()},m(l,o){i.m(l,o),M(l,e,o)},p(l,[o]){n===(n=r(l,o))&&i?i.p(l,o):(i.d(1),i=n(l),i&&(i.c(),i.m(e.parentNode,e)))},i:A,o:A,d(l){l&&E(e),i.d(l)}}}function $$(t,e,r){var Z;let n=["size","role","color","ariaLabel","withEvents"],i=D(e,n),l=(Z=K("iconCtx"))!=null?Z:{},{size:o=l.size||"24"}=e,{role:a=l.role||"img"}=e,{color:s=l.color||"currentColor"}=e,{ariaLabel:u="eye open,"}=e,{withEvents:c=!1}=e;function f(y){q.call(this,t,y)}function h(y){q.call(this,t,y)}function g(y){q.call(this,t,y)}function p(y){q.call(this,t,y)}function w(y){q.call(this,t,y)}function b(y){q.call(this,t,y)}function v(y){q.call(this,t,y)}function S(y){q.call(this,t,y)}function P(y){q.call(this,t,y)}return t.$$set=y=>{e=H(H({},e),j(y)),r(5,i=D(e,n)),"size"in y&&r(0,o=y.size),"role"in y&&r(1,a=y.role),"color"in y&&r(2,s=y.color),"ariaLabel"in y&&r(3,u=y.ariaLabel),"withEvents"in y&&r(4,c=y.withEvents)},[o,a,s,u,c,i,f,h,g,p,w,b,v,S,P]}var Mp=class extends R{constructor(e){super(),O(this,e,$$,x$,B,{size:0,role:1,color:2,ariaLabel:3,withEvents:4})}},Tp=Mp;function eee(t){let e,r,n=[{width:t[0]},{height:t[0]},t[5],{role:t[1]},{"aria-label":t[3]},{viewBox:"0 0 15 15"},{fill:t[2]},{xmlns:"http://www.w3.org/2000/svg"}],i={};for(let l=0;l<n.length;l+=1)i=H(i,n[l]);return{c(){e=N("svg"),r=N("path"),k(r,"fill-rule","evenodd"),k(r,"clip-rule","evenodd"),k(r,"d","M8.69667 0.0403541C8.90859 0.131038 9.03106 0.354857 8.99316 0.582235L8.0902 6.00001H12.5C12.6893 6.00001 12.8625 6.10701 12.9472 6.27641C13.0319 6.4458 13.0136 6.6485 12.8999 6.80001L6.89997 14.8C6.76167 14.9844 6.51521 15.0503 6.30328 14.9597C6.09135 14.869 5.96888 14.6452 6.00678 14.4178L6.90974 9H2.49999C2.31061 9 2.13748 8.893 2.05278 8.72361C1.96809 8.55422 1.98636 8.35151 2.09999 8.2L8.09997 0.200038C8.23828 0.0156255 8.48474 -0.0503301 8.69667 0.0403541ZM3.49999 8.00001H7.49997C7.64695 8.00001 7.78648 8.06467 7.88148 8.17682C7.97648 8.28896 8.01733 8.43723 7.99317 8.5822L7.33027 12.5596L11.5 7.00001H7.49997C7.353 7.00001 7.21347 6.93534 7.11846 6.8232C7.02346 6.71105 6.98261 6.56279 7.00678 6.41781L7.66968 2.44042L3.49999 8.00001Z"),k(r,"fill","currentColor"),J(e,i)},m(l,o){M(l,e,o),V(e,r)},p(l,o){J(e,i=I(n,[o&1&&{width:l[0]},o&1&&{height:l[0]},o&32&&l[5],o&2&&{role:l[1]},o&8&&{"aria-label":l[3]},{viewBox:"0 0 15 15"},o&4&&{fill:l[2]},{xmlns:"http://www.w3.org/2000/svg"}]))},d(l){l&&E(e)}}}function tee(t){let e,r,n,i,l=[{width:t[0]},{height:t[0]},t[5],{role:t[1]},{"aria-label":t[3]},{viewBox:"0 0 15 15"},{fill:t[2]},{xmlns:"http://www.w3.org/2000/svg"}],o={};for(let a=0;a<l.length;a+=1)o=H(o,l[a]);return{c(){e=N("svg"),r=N("path"),k(r,"fill-rule","evenodd"),k(r,"clip-rule","evenodd"),k(r,"d","M8.69667 0.0403541C8.90859 0.131038 9.03106 0.354857 8.99316 0.582235L8.0902 6.00001H12.5C12.6893 6.00001 12.8625 6.10701 12.9472 6.27641C13.0319 6.4458 13.0136 6.6485 12.8999 6.80001L6.89997 14.8C6.76167 14.9844 6.51521 15.0503 6.30328 14.9597C6.09135 14.869 5.96888 14.6452 6.00678 14.4178L6.90974 9H2.49999C2.31061 9 2.13748 8.893 2.05278 8.72361C1.96809 8.55422 1.98636 8.35151 2.09999 8.2L8.09997 0.200038C8.23828 0.0156255 8.48474 -0.0503301 8.69667 0.0403541ZM3.49999 8.00001H7.49997C7.64695 8.00001 7.78648 8.06467 7.88148 8.17682C7.97648 8.28896 8.01733 8.43723 7.99317 8.5822L7.33027 12.5596L11.5 7.00001H7.49997C7.353 7.00001 7.21347 6.93534 7.11846 6.8232C7.02346 6.71105 6.98261 6.56279 7.00678 6.41781L7.66968 2.44042L3.49999 8.00001Z"),k(r,"fill","currentColor"),J(e,o)},m(a,s){M(a,e,s),V(e,r),n||(i=[F(e,"click",t[6]),F(e,"keydown",t[7]),F(e,"keyup",t[8]),F(e,"focus",t[9]),F(e,"blur",t[10]),F(e,"mouseenter",t[11]),F(e,"mouseleave",t[12]),F(e,"mouseover",t[13]),F(e,"mouseout",t[14])],n=!0)},p(a,s){J(e,o=I(l,[s&1&&{width:a[0]},s&1&&{height:a[0]},s&32&&a[5],s&2&&{role:a[1]},s&8&&{"aria-label":a[3]},{viewBox:"0 0 15 15"},s&4&&{fill:a[2]},{xmlns:"http://www.w3.org/2000/svg"}]))},d(a){a&&E(e),n=!1,G(i)}}}function ree(t){let e;function r(l,o){return l[4]?tee:eee}let n=r(t,-1),i=n(t);return{c(){i.c(),e=U()},m(l,o){i.m(l,o),M(l,e,o)},p(l,[o]){n===(n=r(l,o))&&i?i.p(l,o):(i.d(1),i=n(l),i&&(i.c(),i.m(e.parentNode,e)))},i:A,o:A,d(l){l&&E(e),i.d(l)}}}function nee(t,e,r){var Z;let n=["size","role","color","ariaLabel","withEvents"],i=D(e,n),l=(Z=K("iconCtx"))!=null?Z:{},{size:o=l.size||"24"}=e,{role:a=l.role||"img"}=e,{color:s=l.color||"currentColor"}=e,{ariaLabel:u="lightning bolt,"}=e,{withEvents:c=!1}=e;function f(y){q.call(this,t,y)}function h(y){q.call(this,t,y)}function g(y){q.call(this,t,y)}function p(y){q.call(this,t,y)}function w(y){q.call(this,t,y)}function b(y){q.call(this,t,y)}function v(y){q.call(this,t,y)}function S(y){q.call(this,t,y)}function P(y){q.call(this,t,y)}return t.$$set=y=>{e=H(H({},e),j(y)),r(5,i=D(e,n)),"size"in y&&r(0,o=y.size),"role"in y&&r(1,a=y.role),"color"in y&&r(2,s=y.color),"ariaLabel"in y&&r(3,u=y.ariaLabel),"withEvents"in y&&r(4,c=y.withEvents)},[o,a,s,u,c,i,f,h,g,p,w,b,v,S,P]}var zp=class extends R{constructor(e){super(),O(this,e,nee,ree,B,{size:0,role:1,color:2,ariaLabel:3,withEvents:4})}},Hp=zp;function iee(t){let e,r,n=[{width:t[0]},{height:t[0]},t[5],{role:t[1]},{"aria-label":t[3]},{viewBox:"0 0 15 15"},{fill:t[2]},{xmlns:"http://www.w3.org/2000/svg"}],i={};for(let l=0;l<n.length;l+=1)i=H(i,n[l]);return{c(){e=N("svg"),r=N("path"),k(r,"fill-rule","evenodd"),k(r,"clip-rule","evenodd"),k(r,"d","M7.25925 3.16667L4.37036 5.33333V1L7.25925 3.16667ZM1 8.22222L3.88889 6.05555L1 3.88889V8.22222ZM1 14L3.88889 11.8333L1 9.66666V14ZM7.74072 8.22222L10.6296 6.05555L7.74072 3.88889V8.22222ZM14 3.16667L11.1111 5.33333V1L14 3.16667ZM11.1111 11.1111L14 8.94444L11.1111 6.77777V11.1111ZM3.88889 11.1111L1 8.94444L3.88889 6.77777V11.1111ZM4.37036 6.05555L7.25925 8.22222V3.88889L4.37036 6.05555ZM3.88889 5.33333L1 3.16667L3.88889 1V5.33333ZM7.74072 3.16667L10.6296 5.33333V1L7.74072 3.16667ZM14 8.22222L11.1111 6.05555L14 3.88889V8.22222ZM11.1111 11.8333L14 14V9.66666L11.1111 11.8333Z"),k(r,"fill","currentColor"),J(e,i)},m(l,o){M(l,e,o),V(e,r)},p(l,o){J(e,i=I(n,[o&1&&{width:l[0]},o&1&&{height:l[0]},o&32&&l[5],o&2&&{role:l[1]},o&8&&{"aria-label":l[3]},{viewBox:"0 0 15 15"},o&4&&{fill:l[2]},{xmlns:"http://www.w3.org/2000/svg"}]))},d(l){l&&E(e)}}}function lee(t){let e,r,n,i,l=[{width:t[0]},{height:t[0]},t[5],{role:t[1]},{"aria-label":t[3]},{viewBox:"0 0 15 15"},{fill:t[2]},{xmlns:"http://www.w3.org/2000/svg"}],o={};for(let a=0;a<l.length;a+=1)o=H(o,l[a]);return{c(){e=N("svg"),r=N("path"),k(r,"fill-rule","evenodd"),k(r,"clip-rule","evenodd"),k(r,"d","M7.25925 3.16667L4.37036 5.33333V1L7.25925 3.16667ZM1 8.22222L3.88889 6.05555L1 3.88889V8.22222ZM1 14L3.88889 11.8333L1 9.66666V14ZM7.74072 8.22222L10.6296 6.05555L7.74072 3.88889V8.22222ZM14 3.16667L11.1111 5.33333V1L14 3.16667ZM11.1111 11.1111L14 8.94444L11.1111 6.77777V11.1111ZM3.88889 11.1111L1 8.94444L3.88889 6.77777V11.1111ZM4.37036 6.05555L7.25925 8.22222V3.88889L4.37036 6.05555ZM3.88889 5.33333L1 3.16667L3.88889 1V5.33333ZM7.74072 3.16667L10.6296 5.33333V1L7.74072 3.16667ZM14 8.22222L11.1111 6.05555L14 3.88889V8.22222ZM11.1111 11.8333L14 14V9.66666L11.1111 11.8333Z"),k(r,"fill","currentColor"),J(e,o)},m(a,s){M(a,e,s),V(e,r),n||(i=[F(e,"click",t[6]),F(e,"keydown",t[7]),F(e,"keyup",t[8]),F(e,"focus",t[9]),F(e,"blur",t[10]),F(e,"mouseenter",t[11]),F(e,"mouseleave",t[12]),F(e,"mouseover",t[13]),F(e,"mouseout",t[14])],n=!0)},p(a,s){J(e,o=I(l,[s&1&&{width:a[0]},s&1&&{height:a[0]},s&32&&a[5],s&2&&{role:a[1]},s&8&&{"aria-label":a[3]},{viewBox:"0 0 15 15"},s&4&&{fill:a[2]},{xmlns:"http://www.w3.org/2000/svg"}]))},d(a){a&&E(e),n=!1,G(i)}}}function oee(t){let e;function r(l,o){return l[4]?lee:iee}let n=r(t,-1),i=n(t);return{c(){i.c(),e=U()},m(l,o){i.m(l,o),M(l,e,o)},p(l,[o]){n===(n=r(l,o))&&i?i.p(l,o):(i.d(1),i=n(l),i&&(i.c(),i.m(e.parentNode,e)))},i:A,o:A,d(l){l&&E(e),i.d(l)}}}function aee(t,e,r){var Z;let n=["size","role","color","ariaLabel","withEvents"],i=D(e,n),l=(Z=K("iconCtx"))!=null?Z:{},{size:o=l.size||"24"}=e,{role:a=l.role||"img"}=e,{color:s=l.color||"currentColor"}=e,{ariaLabel:u="modulz logo,"}=e,{withEvents:c=!1}=e;function f(y){q.call(this,t,y)}function h(y){q.call(this,t,y)}function g(y){q.call(this,t,y)}function p(y){q.call(this,t,y)}function w(y){q.call(this,t,y)}function b(y){q.call(this,t,y)}function v(y){q.call(this,t,y)}function S(y){q.call(this,t,y)}function P(y){q.call(this,t,y)}return t.$$set=y=>{e=H(H({},e),j(y)),r(5,i=D(e,n)),"size"in y&&r(0,o=y.size),"role"in y&&r(1,a=y.role),"color"in y&&r(2,s=y.color),"ariaLabel"in y&&r(3,u=y.ariaLabel),"withEvents"in y&&r(4,c=y.withEvents)},[o,a,s,u,c,i,f,h,g,p,w,b,v,S,P]}var Pp=class extends R{constructor(e){super(),O(this,e,aee,oee,B,{size:0,role:1,color:2,ariaLabel:3,withEvents:4})}},Ap=Pp;function see(t){let e,r,n=[{width:t[0]},{height:t[0]},t[5],{role:t[1]},{"aria-label":t[3]},{viewBox:"0 0 15 15"},{fill:t[2]},{xmlns:"http://www.w3.org/2000/svg"}],i={};for(let l=0;l<n.length;l+=1)i=H(i,n[l]);return{c(){e=N("svg"),r=N("path"),k(r,"fill-rule","evenodd"),k(r,"clip-rule","evenodd"),k(r,"d","M0.849976 1.74998C0.849976 1.25292 1.25292 0.849976 1.74998 0.849976H3.24998C3.74703 0.849976 4.14998 1.25292 4.14998 1.74998V2.04998H10.85V1.74998C10.85 1.25292 11.2529 0.849976 11.75 0.849976H13.25C13.747 0.849976 14.15 1.25292 14.15 1.74998V3.24998C14.15 3.74703 13.747 4.14998 13.25 4.14998H12.95V10.85H13.25C13.747 10.85 14.15 11.2529 14.15 11.75V13.25C14.15 13.747 13.747 14.15 13.25 14.15H11.75C11.2529 14.15 10.85 13.747 10.85 13.25V12.95H4.14998V13.25C4.14998 13.747 3.74703 14.15 3.24998 14.15H1.74998C1.25292 14.15 0.849976 13.747 0.849976 13.25V11.75C0.849976 11.2529 1.25292 10.85 1.74998 10.85H2.04998V4.14998H1.74998C1.25292 4.14998 0.849976 3.74703 0.849976 3.24998V1.74998ZM2.94998 4.14998V10.85H3.24998C3.74703 10.85 4.14998 11.2529 4.14998 11.75V12.05H10.85V11.75C10.85 11.2529 11.2529 10.85 11.75 10.85H12.05V4.14998H11.75C11.2529 4.14998 10.85 3.74703 10.85 3.24998V2.94998H4.14998V3.24998C4.14998 3.74703 3.74703 4.14998 3.24998 4.14998H2.94998ZM2.34998 1.74998H1.74998V2.34998V2.64998V3.24998H2.34998H2.64998H3.24998V2.64998V2.34998V1.74998H2.64998H2.34998ZM5.09998 5.99998C5.09998 5.50292 5.50292 5.09998 5.99998 5.09998H6.99998C7.49703 5.09998 7.89998 5.50292 7.89998 5.99998V6.99998C7.89998 7.03591 7.89787 7.07134 7.89378 7.10618C7.92861 7.10208 7.96405 7.09998 7.99998 7.09998H8.99998C9.49703 7.09998 9.89998 7.50292 9.89998 7.99998V8.99998C9.89998 9.49703 9.49703 9.89998 8.99998 9.89998H7.99998C7.50292 9.89998 7.09998 9.49703 7.09998 8.99998V7.99998C7.09998 7.96405 7.10208 7.92861 7.10618 7.89378C7.07134 7.89787 7.03591 7.89998 6.99998 7.89998H5.99998C5.50292 7.89998 5.09998 7.49703 5.09998 6.99998V5.99998ZM6.09998 5.99998H5.99998V6.09998V6.89998V6.99998H6.09998H6.89998H6.99998V6.89998V6.09998V5.99998H6.89998H6.09998ZM7.99998 7.99998H8.09998H8.89998H8.99998V8.09998V8.89998V8.99998H8.89998H8.09998H7.99998V8.89998V8.09998V7.99998ZM2.64998 11.75H2.34998H1.74998V12.35V12.65V13.25H2.34998H2.64998H3.24998V12.65V12.35V11.75H2.64998ZM11.75 1.74998H12.35H12.65H13.25V2.34998V2.64998V3.24998H12.65H12.35H11.75V2.64998V2.34998V1.74998ZM12.65 11.75H12.35H11.75V12.35V12.65V13.25H12.35H12.65H13.25V12.65V12.35V11.75H12.65Z"),k(r,"fill","currentColor"),J(e,i)},m(l,o){M(l,e,o),V(e,r)},p(l,o){J(e,i=I(n,[o&1&&{width:l[0]},o&1&&{height:l[0]},o&32&&l[5],o&2&&{role:l[1]},o&8&&{"aria-label":l[3]},{viewBox:"0 0 15 15"},o&4&&{fill:l[2]},{xmlns:"http://www.w3.org/2000/svg"}]))},d(l){l&&E(e)}}}function uee(t){let e,r,n,i,l=[{width:t[0]},{height:t[0]},t[5],{role:t[1]},{"aria-label":t[3]},{viewBox:"0 0 15 15"},{fill:t[2]},{xmlns:"http://www.w3.org/2000/svg"}],o={};for(let a=0;a<l.length;a+=1)o=H(o,l[a]);return{c(){e=N("svg"),r=N("path"),k(r,"fill-rule","evenodd"),k(r,"clip-rule","evenodd"),k(r,"d","M0.849976 1.74998C0.849976 1.25292 1.25292 0.849976 1.74998 0.849976H3.24998C3.74703 0.849976 4.14998 1.25292 4.14998 1.74998V2.04998H10.85V1.74998C10.85 1.25292 11.2529 0.849976 11.75 0.849976H13.25C13.747 0.849976 14.15 1.25292 14.15 1.74998V3.24998C14.15 3.74703 13.747 4.14998 13.25 4.14998H12.95V10.85H13.25C13.747 10.85 14.15 11.2529 14.15 11.75V13.25C14.15 13.747 13.747 14.15 13.25 14.15H11.75C11.2529 14.15 10.85 13.747 10.85 13.25V12.95H4.14998V13.25C4.14998 13.747 3.74703 14.15 3.24998 14.15H1.74998C1.25292 14.15 0.849976 13.747 0.849976 13.25V11.75C0.849976 11.2529 1.25292 10.85 1.74998 10.85H2.04998V4.14998H1.74998C1.25292 4.14998 0.849976 3.74703 0.849976 3.24998V1.74998ZM2.94998 4.14998V10.85H3.24998C3.74703 10.85 4.14998 11.2529 4.14998 11.75V12.05H10.85V11.75C10.85 11.2529 11.2529 10.85 11.75 10.85H12.05V4.14998H11.75C11.2529 4.14998 10.85 3.74703 10.85 3.24998V2.94998H4.14998V3.24998C4.14998 3.74703 3.74703 4.14998 3.24998 4.14998H2.94998ZM2.34998 1.74998H1.74998V2.34998V2.64998V3.24998H2.34998H2.64998H3.24998V2.64998V2.34998V1.74998H2.64998H2.34998ZM5.09998 5.99998C5.09998 5.50292 5.50292 5.09998 5.99998 5.09998H6.99998C7.49703 5.09998 7.89998 5.50292 7.89998 5.99998V6.99998C7.89998 7.03591 7.89787 7.07134 7.89378 7.10618C7.92861 7.10208 7.96405 7.09998 7.99998 7.09998H8.99998C9.49703 7.09998 9.89998 7.50292 9.89998 7.99998V8.99998C9.89998 9.49703 9.49703 9.89998 8.99998 9.89998H7.99998C7.50292 9.89998 7.09998 9.49703 7.09998 8.99998V7.99998C7.09998 7.96405 7.10208 7.92861 7.10618 7.89378C7.07134 7.89787 7.03591 7.89998 6.99998 7.89998H5.99998C5.50292 7.89998 5.09998 7.49703 5.09998 6.99998V5.99998ZM6.09998 5.99998H5.99998V6.09998V6.89998V6.99998H6.09998H6.89998H6.99998V6.89998V6.09998V5.99998H6.89998H6.09998ZM7.99998 7.99998H8.09998H8.89998H8.99998V8.09998V8.89998V8.99998H8.89998H8.09998H7.99998V8.89998V8.09998V7.99998ZM2.64998 11.75H2.34998H1.74998V12.35V12.65V13.25H2.34998H2.64998H3.24998V12.65V12.35V11.75H2.64998ZM11.75 1.74998H12.35H12.65H13.25V2.34998V2.64998V3.24998H12.65H12.35H11.75V2.64998V2.34998V1.74998ZM12.65 11.75H12.35H11.75V12.35V12.65V13.25H12.35H12.65H13.25V12.65V12.35V11.75H12.65Z"),k(r,"fill","currentColor"),J(e,o)},m(a,s){M(a,e,s),V(e,r),n||(i=[F(e,"click",t[6]),F(e,"keydown",t[7]),F(e,"keyup",t[8]),F(e,"focus",t[9]),F(e,"blur",t[10]),F(e,"mouseenter",t[11]),F(e,"mouseleave",t[12]),F(e,"mouseover",t[13]),F(e,"mouseout",t[14])],n=!0)},p(a,s){J(e,o=I(l,[s&1&&{width:a[0]},s&1&&{height:a[0]},s&32&&a[5],s&2&&{role:a[1]},s&8&&{"aria-label":a[3]},{viewBox:"0 0 15 15"},s&4&&{fill:a[2]},{xmlns:"http://www.w3.org/2000/svg"}]))},d(a){a&&E(e),n=!1,G(i)}}}function cee(t){let e;function r(l,o){return l[4]?uee:see}let n=r(t,-1),i=n(t);return{c(){i.c(),e=U()},m(l,o){i.m(l,o),M(l,e,o)},p(l,[o]){n===(n=r(l,o))&&i?i.p(l,o):(i.d(1),i=n(l),i&&(i.c(),i.m(e.parentNode,e)))},i:A,o:A,d(l){l&&E(e),i.d(l)}}}function fee(t,e,r){var Z;let n=["size","role","color","ariaLabel","withEvents"],i=D(e,n),l=(Z=K("iconCtx"))!=null?Z:{},{size:o=l.size||"24"}=e,{role:a=l.role||"img"}=e,{color:s=l.color||"currentColor"}=e,{ariaLabel:u="transform,"}=e,{withEvents:c=!1}=e;function f(y){q.call(this,t,y)}function h(y){q.call(this,t,y)}function g(y){q.call(this,t,y)}function p(y){q.call(this,t,y)}function w(y){q.call(this,t,y)}function b(y){q.call(this,t,y)}function v(y){q.call(this,t,y)}function S(y){q.call(this,t,y)}function P(y){q.call(this,t,y)}return t.$$set=y=>{e=H(H({},e),j(y)),r(5,i=D(e,n)),"size"in y&&r(0,o=y.size),"role"in y&&r(1,a=y.role),"color"in y&&r(2,s=y.color),"ariaLabel"in y&&r(3,u=y.ariaLabel),"withEvents"in y&&r(4,c=y.withEvents)},[o,a,s,u,c,i,f,h,g,p,w,b,v,S,P]}var Rp=class extends R{constructor(e){super(),O(this,e,fee,cee,B,{size:0,role:1,color:2,ariaLabel:3,withEvents:4})}},Bp=Rp;var Op=(t,{speed:e=1.2,easing:r})=>{if(!(t.childNodes.length===1&&t.childNodes[0].nodeType===Node.TEXT_NODE))throw new Error("This transition only works on elements with a single text node child");let i=t.textContent,l=i.length/(e*.01);return{easing:r,duration:l,tick:o=>{let a=~~(i.length*o);t.textContent=i.slice(0,a)}}};var uQe=require("obsidian");function hee(t){let e,r;return e=new C1({props:{color:"blue",size:"xs",variant:"bars",style:"float:left"}}),{c(){_e(e.$$.fragment)},m(n,i){me(e,n,i),r=!0},p:A,i(n){r||(te(e.$$.fragment,n),r=!0)},o(n){ne(e.$$.fragment,n),r=!1},d(n){ge(e,n)}}}function dee(t){let e,r,n,i,l,o,a,s,u,c;return r=new fd({props:{$$slots:{default:[hee]},$$scope:{ctx:t}}}),l=new r9({props:{height:8,radius:"xl"}}),a=new r9({props:{height:8,radius:"xl",override:{marginTop:"8px"}}}),u=new r9({props:{height:8,width:"70%",radius:"xl",override:{marginTop:"8px"}}}),{c(){e=Be("div"),_e(r.$$.fragment),n=Be("br"),i=Ze(),_e(l.$$.fragment),o=Ze(),_e(a.$$.fragment),s=Ze(),_e(u.$$.fragment),k(e,"id","ai-robot-paper-loading")},m(f,h){M(f,e,h),me(r,e,null),V(e,n),V(e,i),me(l,e,null),V(e,o),me(a,e,null),V(e,s),me(u,e,null),c=!0},p(f,[h]){let g={};h&1&&(g.$$scope={dirty:h,ctx:f}),r.$set(g)},i(f){c||(te(r.$$.fragment,f),te(l.$$.fragment,f),te(a.$$.fragment,f),te(u.$$.fragment,f),c=!0)},o(f){ne(r.$$.fragment,f),ne(l.$$.fragment,f),ne(a.$$.fragment,f),ne(u.$$.fragment,f),c=!1},d(f){f&&E(e),ge(r),ge(l),ge(a),ge(u)}}}var Vp=class extends R{constructor(e){super(),O(this,e,null,dee,B,{})}},kA=Vp;function mee(t){let e;return{c(){e=ht(t[1])},m(r,n){M(r,e,n)},p(r,n){n&2&&yr(e,r[1])},d(r){r&&E(e)}}}function gee(t){let e;return{c(){e=ht("1 second ago")},m(r,n){M(r,e,n)},d(r){r&&E(e)}}}function _ee(t){let e,r,n,i;return e=new Ar({props:{color:"dimmed",size:"sm",$$slots:{default:[mee]},$$scope:{ctx:t}}}),n=new Ar({props:{size:"xs",$$slots:{default:[gee]},$$scope:{ctx:t}}}),{c(){_e(e.$$.fragment),r=Ze(),_e(n.$$.fragment)},m(l,o){me(e,l,o),M(l,r,o),me(n,l,o),i=!0},p(l,o){let a={};o&6&&(a.$$scope={dirty:o,ctx:l}),e.$set(a);let s={};o&4&&(s.$$scope={dirty:o,ctx:l}),n.$set(s)},i(l){i||(te(e.$$.fragment,l),te(n.$$.fragment,l),i=!0)},o(l){ne(e.$$.fragment,l),ne(n.$$.fragment,l),i=!1},d(l){l&&E(r),ge(e,l),ge(n,l)}}}function pee(t){let e;return{c(){e=ht(t[0])},m(r,n){M(r,e,n)},p(r,n){n&1&&yr(e,r[0])},d(r){r&&E(e)}}}function Cee(t){let e;return{c(){e=ht("7 seconds ago")},m(r,n){M(r,e,n)},d(r){r&&E(e)}}}function bee(t){let e,r,n,i;return e=new Ar({props:{color:"dimmed",size:"sm",$$slots:{default:[pee]},$$scope:{ctx:t}}}),n=new Ar({props:{size:"xs",$$slots:{default:[Cee]},$$scope:{ctx:t}}}),{c(){_e(e.$$.fragment),r=Ze(),_e(n.$$.fragment)},m(l,o){me(e,l,o),M(l,r,o),me(n,l,o),i=!0},p(l,o){let a={};o&5&&(a.$$scope={dirty:o,ctx:l}),e.$set(a);let s={};o&4&&(s.$$scope={dirty:o,ctx:l}),n.$set(s)},i(l){i||(te(e.$$.fragment,l),te(n.$$.fragment,l),i=!0)},o(l){ne(e.$$.fragment,l),ne(n.$$.fragment,l),i=!1},d(l){l&&E(r),ge(e,l),ge(n,l)}}}function vee(t){let e;return{c(){e=ht("Check you Obsidian note")},m(r,n){M(r,e,n)},d(r){r&&E(e)}}}function wee(t){let e;return{c(){e=ht("37 seconds ago")},m(r,n){M(r,e,n)},d(r){r&&E(e)}}}function kee(t){let e,r,n,i;return e=new Ar({props:{color:"dimmed",size:"sm",$$slots:{default:[vee]},$$scope:{ctx:t}}}),n=new Ar({props:{size:"xs",$$slots:{default:[wee]},$$scope:{ctx:t}}}),{c(){_e(e.$$.fragment),r=Ze(),_e(n.$$.fragment)},m(l,o){me(e,l,o),M(l,r,o),me(n,l,o),i=!0},p(l,o){let a={};o&4&&(a.$$scope={dirty:o,ctx:l}),e.$set(a);let s={};o&4&&(s.$$scope={dirty:o,ctx:l}),n.$set(s)},i(l){i||(te(e.$$.fragment,l),te(n.$$.fragment,l),i=!0)},o(l){ne(e.$$.fragment,l),ne(n.$$.fragment,l),i=!1},d(l){l&&E(r),ge(e,l),ge(n,l)}}}function yee(t){let e,r;return e=new Tp({props:{size:16}}),{c(){_e(e.$$.fragment)},m(n,i){me(e,n,i),r=!0},p:A,i(n){r||(te(e.$$.fragment,n),r=!0)},o(n){ne(e.$$.fragment,n),r=!1},d(n){ge(e,n)}}}function Lee(t){let e,r;return e=new t9({props:{radius:"xl",color:"green",$$slots:{default:[yee]},$$scope:{ctx:t}}}),{c(){_e(e.$$.fragment)},m(n,i){me(e,n,i),r=!0},p(n,i){let l={};i&4&&(l.$$scope={dirty:i,ctx:n}),e.$set(l)},i(n){r||(te(e.$$.fragment,n),r=!0)},o(n){ne(e.$$.fragment,n),r=!1},d(n){ge(e,n)}}}function Eee(t){let e,r,n,i,l,o;return e=new W0.Item({props:{bullet:Hp,title:"\u901A\u4E49\u5343\u95EE\u521D\u59CB\u5316",$$slots:{default:[_ee]},$$scope:{ctx:t}}}),n=new W0.Item({props:{bullet:Sp,title:"Qwen-max\u63A8\u7406\u8FC7\u7A0B",$$slots:{default:[bee]},$$scope:{ctx:t}}}),l=new W0.Item({props:{title:"ReAct\u4EFB\u52A1\u68C0\u67E5",$$slots:{bullet:[Lee],default:[kee]},$$scope:{ctx:t}}}),{c(){_e(e.$$.fragment),r=Ze(),_e(n.$$.fragment),i=Ze(),_e(l.$$.fragment)},m(a,s){me(e,a,s),M(a,r,s),me(n,a,s),M(a,i,s),me(l,a,s),o=!0},p(a,s){let u={};s&6&&(u.$$scope={dirty:s,ctx:a}),e.$set(u);let c={};s&5&&(c.$$scope={dirty:s,ctx:a}),n.$set(c);let f={};s&4&&(f.$$scope={dirty:s,ctx:a}),l.$set(f)},i(a){o||(te(e.$$.fragment,a),te(n.$$.fragment,a),te(l.$$.fragment,a),o=!0)},o(a){ne(e.$$.fragment,a),ne(n.$$.fragment,a),ne(l.$$.fragment,a),o=!1},d(a){a&&(E(r),E(i)),ge(e,a),ge(n,a),ge(l,a)}}}function See(t){let e,r;return e=new W0({props:{active:2,bulletSize:24,lineWidth:2,$$slots:{default:[Eee]},$$scope:{ctx:t}}}),{c(){_e(e.$$.fragment)},m(n,i){me(e,n,i),r=!0},p(n,[i]){let l={};i&7&&(l.$$scope={dirty:i,ctx:n}),e.$set(l)},i(n){r||(te(e.$$.fragment,n),r=!0)},o(n){ne(e.$$.fragment,n),r=!1},d(n){ge(e,n)}}}function Mee(t,e,r){let{aiContent:n}=e,{aiRobot:i}=e;return t.$$set=l=>{"aiContent"in l&&r(0,n=l.aiContent),"aiRobot"in l&&r(1,i=l.aiRobot)},[n,i]}var Zp=class extends R{constructor(e){super(),O(this,e,Mee,See,B,{aiContent:0,aiRobot:1})}},yA=Zp;function Tee(t){let e,r;return e=new Ap({props:{id:"modulz-log-icon",color:"rgb(134 239 172)"}}),{c(){_e(e.$$.fragment)},m(n,i){me(e,n,i),r=!0},p:A,i(n){r||(te(e.$$.fragment,n),r=!0)},o(n){ne(e.$$.fragment,n),r=!1},d(n){ge(e,n)}}}function zee(t){let e,r;return e=new t9({props:{size:"xl",variant:"gradient",gradient:{from:"red",deg:100},$$slots:{default:[Tee]},$$scope:{ctx:t}}}),{c(){_e(e.$$.fragment)},m(n,i){me(e,n,i),r=!0},p(n,[i]){let l={};i&1&&(l.$$scope={dirty:i,ctx:n}),e.$set(l)},i(n){r||(te(e.$$.fragment,n),r=!0)},o(n){ne(e.$$.fragment,n),r=!1},d(n){ge(e,n)}}}var Ip=class extends R{constructor(e){super(),O(this,e,null,zee,B,{})}},LA=Ip;function Hee(t){Ti(t,"svelte-ao4o2s","#floating-ai-inner.svelte-ao4o2s{display:block;height:100%;width:100%;background-color:rgba(130, 132, 132, 0.2);padding:5px 5px 5px 5px}#ai-robot-selected-item.svelte-ao4o2s{margin:2px 2px 2px 2px}")}function Pee(t){let e,r,n;var i=Kf;function l(o,a){return{props:{slot:"rightSection"}}}return i&&(e=Lr(i,l(t))),{c(){e&&_e(e.$$.fragment),r=U()},m(o,a){e&&me(e,o,a),M(o,r,a),n=!0},p(o,a){if(i!==(i=Kf)){if(e){Qe();let s=e;ne(s.$$.fragment,1,0,()=>{ge(s,1)}),xe()}i?(e=Lr(i,l(o,a)),_e(e.$$.fragment),te(e.$$.fragment,1),me(e,r.parentNode,r)):e=null}},i(o){n||(e&&te(e.$$.fragment,o),n=!0)},o(o){e&&ne(e.$$.fragment,o),n=!1},d(o){o&&E(r),e&&ge(e,o)}}}function Aee(t){let e;return{c(){e=ht("execute")},m(r,n){M(r,e,n)},d(r){r&&E(e)}}}function Ree(t){let e;return{c(){e=ht("cancel")},m(r,n){M(r,e,n)},d(r){r&&E(e)}}}function Bee(t){let e,r,n,i;return e=new uc({props:{ripple:!0,variant:"gradient",gradient:{from:"teal",to:"green",deg:105},$$slots:{default:[Aee]},$$scope:{ctx:t}}}),e.$on("click",t[4]),n=new uc({props:{ripple:!0,variant:"gradient",gradient:{from:"orange",to:"red",deg:85},$$slots:{default:[Ree]},$$scope:{ctx:t}}}),n.$on("click",t[5]),{c(){_e(e.$$.fragment),r=Ze(),_e(n.$$.fragment)},m(l,o){me(e,l,o),M(l,r,o),me(n,l,o),i=!0},p(l,o){let a={};o&16384&&(a.$$scope={dirty:o,ctx:l}),e.$set(a);let s={};o&16384&&(s.$$scope={dirty:o,ctx:l}),n.$set(s)},i(l){i||(te(e.$$.fragment,l),te(n.$$.fragment,l),i=!0)},o(l){ne(e.$$.fragment,l),ne(n.$$.fragment,l),i=!1},d(l){l&&E(r),ge(e,l),ge(n,l)}}}function Oee(t){let e,r,n,i,l,o,a,s,u,c;function f(g){t[12](g)}let h={data:t[2],placeholder:"Pick one",label:"\u9009\u62E9\u4F60\u7684\u52A9\u624B",icon:LA,size:"md",$$slots:{rightSection:[Pee]},$$scope:{ctx:t}};return t[0]!==void 0&&(h.value=t[0]),e=new Ld({props:h}),ze.push(()=>$e(e,"value",f)),u=new dc({props:{justify:"space-around",$$slots:{default:[Bee]},$$scope:{ctx:t}}}),{c(){_e(e.$$.fragment),n=Ze(),i=Be("div"),l=ht("selected "),o=ht(t[0]),s=Ze(),_e(u.$$.fragment),k(i,"id","ai-robot-selected-item"),k(i,"class","svelte-ao4o2s")},m(g,p){me(e,g,p),M(g,n,p),M(g,i,p),V(i,l),V(i,o),M(g,s,p),me(u,g,p),c=!0},p(g,p){let w={};p&16384&&(w.$$scope={dirty:p,ctx:g}),!r&&p&1&&(r=!0,w.value=g[0],tt(()=>r=!1)),e.$set(w),(!c||p&1)&&yr(o,g[0]);let b={};p&16384&&(b.$$scope={dirty:p,ctx:g}),u.$set(b)},i(g){c||(te(e.$$.fragment,g),a&&a.end(1),te(u.$$.fragment,g),c=!0)},o(g){ne(e.$$.fragment,g),g&&(a=QC(i,Op,{})),ne(u.$$.fragment,g),c=!1},d(g){g&&(E(n),E(i),E(s)),ge(e,g),g&&a&&a.end(),ge(u,g)}}}function Vee(t){let e,r,n,i,l,o,a,s,u,c;return n=new e9({props:{style:"float: right;"}}),n.$on("click",t[5]),l=new dc({props:{justify:"space-between",direction:"column",$$slots:{default:[Oee]},$$scope:{ctx:t}}}),a=new pd({props:{size:"sm"}}),u=new ud({props:{id:"ai-robot-paper",shadow:"md",withBorder:!0}}),{c(){e=Be("div"),r=Be("div"),_e(n.$$.fragment),i=Ze(),_e(l.$$.fragment),o=Ze(),_e(a.$$.fragment),s=Ze(),_e(u.$$.fragment),k(e,"id","floating-ai-inner"),k(e,"class","svelte-ao4o2s")},m(f,h){M(f,e,h),V(e,r),me(n,r,null),V(e,i),me(l,e,null),V(e,o),me(a,e,null),V(e,s),me(u,e,null),c=!0},p(f,h){let g={};h&16385&&(g.$$scope={dirty:h,ctx:f}),l.$set(g)},i(f){c||(te(n.$$.fragment,f),te(l.$$.fragment,f),te(a.$$.fragment,f),te(u.$$.fragment,f),c=!0)},o(f){ne(n.$$.fragment,f),ne(l.$$.fragment,f),ne(a.$$.fragment,f),ne(u.$$.fragment,f),c=!1},d(f){f&&E(e),ge(n),ge(l),ge(a),ge(u)}}}function Zee(t){let e,r,n={id:"ai-button-container",themeObserver:t[3],$$slots:{default:[Vee]},$$scope:{ctx:t}};return e=new xu({props:n}),t[13](e),{c(){_e(e.$$.fragment)},m(i,l){me(e,i,l),r=!0},p(i,[l]){let o={};l&16385&&(o.$$scope={dirty:l,ctx:i}),e.$set(o)},i(i){r||(te(e.$$.fragment,i),r=!0)},o(i){ne(e.$$.fragment,i),r=!1},d(i){t[13](null),ge(e,i)}}}function Iee(t,e,r){let{parentRef:n}=e,{plugin:i}=e,{editor:l}=e,{view:o}=e,{app:a}=e,{selectedQuery:s}=e,u=[{label:"\u81EA\u52A8backlink\u7BA1\u7406",value:"AssitantRobotBacklink"},{label:"\u81EA\u52A8\u6807\u7B7E\u7BA1\u7406",value:"AssistantRobot"},{label:"\u5F85\u5B9A...",value:"What is another personal fact that an attacker could easily find with Google?",disabled:!0}],c,f=document.body.hasClass("theme-dark")?"dark":"light",h,g=()=>tu(void 0,void 0,void 0,function*(){if(c==="AssistantRobot"){let v=new F4(i,l,o,a,s),S=document.getElementById("ai-robot-paper"),P;if(S)P=new kA({target:S});else return;let Z=yield v.assitantTags();P.$destroy(),new yA({target:S,props:{aiContent:Z,aiRobot:c}}),setTimeout(()=>{a.commands.executeCommandById("personal-assistant:local-graph")},5e3)}else return void 0}),p=()=>{h.$destroy(),n.$destroy()};function w(v){c=v,r(0,c)}function b(v){ze[v?"unshift":"push"](()=>{h=v,r(1,h)})}return t.$$set=v=>{"parentRef"in v&&r(6,n=v.parentRef),"plugin"in v&&r(7,i=v.plugin),"editor"in v&&r(8,l=v.editor),"view"in v&&r(9,o=v.view),"app"in v&&r(10,a=v.app),"selectedQuery"in v&&r(11,s=v.selectedQuery)},[c,h,u,f,g,p,n,i,l,o,a,s,w,b]}var Dp=class extends R{constructor(e){super(),O(this,e,Iee,Zee,B,{parentRef:6,plugin:7,editor:8,view:9,app:10,selectedQuery:11},Hee)}},EA=Dp;function Dee(t){let e,r;return e=new Bp({props:{class:"personal-assistant-ai-breathing",size:40}}),{c(){_e(e.$$.fragment)},m(n,i){me(e,n,i),r=!0},p:A,i(n){r||(te(e.$$.fragment,n),r=!0)},o(n){ne(e.$$.fragment,n),r=!1},d(n){ge(e,n)}}}function Nee(t){let e,r,n,i,l,o;return r=new $u({props:{color:"blue",id:"floating-ai-robot-button",size:48,override:{"border-radius":"16px"},$$slots:{default:[Dee]},$$scope:{ctx:t}}}),r.$on("click",t[8]),{c(){e=Be("div"),_e(r.$$.fragment),k(e,"id","floating-ai"),Ll(e,"height","200px"),Ll(e,"width","360px")},m(a,s){M(a,e,s),me(r,e,null),i=!0,l||(o=Ut(n=jee.call(null,e)),l=!0)},p(a,s){let u={};s&1024&&(u.$$scope={dirty:s,ctx:a}),r.$set(u)},i(a){i||(te(r.$$.fragment,a),i=!0)},o(a){ne(r.$$.fragment,a),i=!1},d(a){a&&E(e),ge(r),l=!1,o()}}}function Fee(t){let e,r,n={themeObserver:t[1],$$slots:{default:[Nee]},$$scope:{ctx:t}};return e=new xu({props:n}),t[9](e),{c(){_e(e.$$.fragment)},m(i,l){me(e,i,l),r=!0},p(i,[l]){let o={};l&1024&&(o.$$scope={dirty:l,ctx:i}),e.$set(o)},i(i){r||(te(e.$$.fragment,i),r=!0)},o(i){ne(e.$$.fragment,i),r=!1},d(i){t[9](null),ge(e,i)}}}function jee(t){let e=!1,r=window.innerWidth/6,n=window.innerHeight/6;t.style.position="absolute",t.style.top=`${n}px`,t.style.left=`${r}px`,t.style.cursor="move",t.style.userSelect="none",t.addEventListener("mousedown",()=>{e=!0}),window.addEventListener("mousemove",i=>{e&&(r+=i.movementX,n+=i.movementY,t.style.top=`${n}px`,t.style.left=`${r}px`)}),window.addEventListener("mouseup",()=>{e=!1})}function qee(t,e,r){let{plugin:n}=e,{editor:i}=e,{view:l}=e,{app:o}=e,{selectedQuery:a}=e,s,u=document.body.hasClass("theme-dark")?"dark":"light";function c(){let g,p=document.getElementById("floating-ai");if(p?g=p:g=globalThis.document.getElementsByClassName("app-container")[0],document.getElementById("ai-button-container"))return;new EA({target:g,props:{parentRef:s,plugin:n,view:l,editor:i,app:o,selectedQuery:a}});let b=document.getElementById("floating-ai-robot-button");b&&(b.style.display="none")}let f=()=>c();function h(g){ze[g?"unshift":"push"](()=>{s=g,r(0,s)})}return t.$$set=g=>{"plugin"in g&&r(3,n=g.plugin),"editor"in g&&r(4,i=g.editor),"view"in g&&r(5,l=g.view),"app"in g&&r(6,o=g.app),"selectedQuery"in g&&r(7,a=g.selectedQuery)},[s,u,c,n,i,l,o,a,f,h]}var Np=class extends R{constructor(e){super(),O(this,e,qee,Fee,B,{plugin:3,editor:4,view:5,app:6,selectedQuery:7})}},SA=Np;var Wee=(t,...e)=>{t&&console.log(...e)},Xf=class extends or.Plugin{constructor(){super(...arguments);this.localGraph=new Df(this.app,this);this.settingTab=new Zf(this.app,this);this.updateMetadata=r=>{if(r instanceof or.TFile&&r.extension==="md"){let n=r.path;for(let l of this.settings.metadataExcludePath)if(l!==""&&r.path.startsWith(l)){this.log(`filtered ${r.path} in ${l}`),n="";break}let i=this.app.metadataCache.getCache(n);i&&i.frontmatter&&this.app.fileManager.processFrontMatter(r,l=>{for(let o of Object.getOwnPropertyNames(l))for(let a of this.settings.metadatas)if(o===a.key){this.log(l[o]);let s;switch(a.t){case"moment":s=(0,Fp.default)(new Date(r.stat.mtime)).format(a.value);break;case"string":s=a.value;break;default:s=a.value;break}l[o]=s}setTimeout(()=>{this.updateDebouncer.cancel()},100)})}}}async onload(){await this.loadSettings(),this.settings.debug&&(new or.Notice("starting obsidian assistant"),BP(this)),new MutationObserver(l=>{l.forEach(o=>{o.addedNodes.forEach(a=>{a instanceof HTMLElement&&document.querySelectorAll(".popover.hover-popover.hover-editor").forEach(s=>{this.log("observing..."),this.localGraph.resize()})})})}).observe(document.body,{attributes:!0,childList:!0}),(0,or.addIcon)("PluginAST",vn.PluginAST),this.addRibbonIcon("PluginAST","Obsidian Assistant",l=>{new d5(this.app).open()}).addClass("plugin-manager-ribbon-class");let i=this.addStatusBarItem();i.addClass("personal-assistant-statusbar"),i.setAttribute("id","personal-assistant-statusbar"),(0,or.addIcon)("PluginAST_STATUSBAR",vn.PluginAST_STATUSBAR),(0,or.setIcon)(i,"PluginAST_STATUSBAR"),i.onClickEvent(l=>{this.app.setting.open(),this.app.setting.openTabById("personal-assistant")}),this.app.workspace.onLayoutReady(async()=>{this.calloutManager=await Kp(this),this.registerView(D5,l=>new Jf(this.app,this,l)),this.registerView(Ns,l=>new Of(this.app,this,l))}),this.statsManager=new N5(this.app,this),this.addCommand({id:"startup-recording",name:"Open specific note to record",callback:async()=>{let l=(0,Fp.default)().format(this.settings.fileFormat),o=this.settings.targetPath;this.log(o,l),await this.createNewNote(o,l)}}),this.addCommand({id:"local-graph",name:"hover local graph",callback:async()=>{await this.localGraph.startup()}}),this.addCommand({id:"switch-on-or-off-plugin",name:"switch on/off plugin according to its status",callback:()=>{let l=new d5(this.app);l.setPlaceholder("Type plugin name to find it"),l.open()}}),this.addCommand({id:"batch-switch-on-or-off-plugins",name:"Batch switch on/off plugins according to their status",callback:()=>{new W4(this.app).open()}}),this.addCommand({id:"set-local-graph-view-colors",name:"Set graph view colors",callback:async()=>{await this.localGraph.updateGraphColors()}}),this.addCommand({id:"update-plugins",name:"Update plugins with one command",callback:async()=>{await new Nf(this.app,this).update()}}),this.addCommand({id:"update-themes",name:"Update themes with one command",callback:async()=>{await(await jf.init(this.app,this)).update()}}),this.addCommand({id:"update-metadata",name:"Update metadata with one command",callback:async()=>{if(this.settings.enableMetadataUpdating)if(this.settings.isEnabledMetadataUpdating){let l=document.getElementById("personal-assistant-statusbar");l==null||l.removeClass("personal-assistant-statusbar-breathing"),this.updateDebouncer=(0,or.debounce)(o=>{},100,!0),this.settings.isEnabledMetadataUpdating=!1}else{this.updateDebouncer=(0,or.debounce)(this.updateMetadata,100,!0);let l=document.getElementById("personal-assistant-statusbar");l==null||l.addClass("personal-assistant-statusbar-breathing"),this.registerEvent(this.app.workspace.on("file-open",o=>{this.updateDebouncer(o)})),this.settings.isEnabledMetadataUpdating=!0}else new or.Notice("update metadata command is not enabled in setting tab")}}),this.addCommand({id:"list-callouts",name:"List callout for quickly insert",callback:()=>{new Wf(this.app,this).open()}}),this.addCommand({id:"preview-records",name:"Preview records that are created by `startup-recording` command",callback:async()=>{this.activateView()}}),this.addCommand({id:"show-statistics",name:"Show statistics",callback:async()=>{await this.activeStatView()}}),this.addCommand({id:"ai-assistant-helper",name:"AI Helper",editorCallback:async(l,o)=>{let a=l.getSelection(),s=l.getValue();this.log(`You have selected: ${a}`),this.log(`You have value: ${s}`),o instanceof or.MarkdownView&&(this.log("invoking LLM"),await new N4(this,l,o).generate())}}),this.addCommand({id:"ai-assistant-featured-images",name:"AI Featured Images",editorCallback:async(l,o)=>{let a=l.getSelection(),s=l.getValue();this.log(`You have selected: ${a}`),this.log(`You have value: ${s}`),o instanceof or.MarkdownView&&(this.log("invoking LLM"),await new j4(this.app,this,l,o).generate())}}),this.addCommand({id:"ai-assistant-floating",name:"AI Auto Robot",editorCallback:async(l,o)=>{if(document.getElementById("floating-ai")&&this.aiFloatingHelper)this.aiFloatingHelper.$destroy(),this.aiFloatingHelper=void 0;else{let s=l.getSelection();o instanceof or.MarkdownView&&(this.aiFloatingHelper=new SA({target:globalThis.document.getElementsByClassName("app-container")[0],props:{plugin:this,editor:l,view:o,app:this.app,selectedQuery:s}}))}}}),this.registerEditorExtension([ru.init(()=>this),vA,wA]),this.registerEvent(this.app.workspace.on("active-leaf-change",async l=>{this.statsManager&&await this.statsManager.recalcTotals()})),this.registerEvent(this.app.vault.on("delete",async()=>{this.statsManager&&await this.statsManager.recalcTotals()})),this.addSettingTab(this.settingTab)}onunload(){}async loadSettings(){this.settings=Object.assign({},AP,await this.loadData()),this.log("logging settings...",this.settings)}async saveSettings(){await this.saveData(this.settings)}log(...r){Wee(this.settings.debug,...r)}async createDirectory(r){let{vault:n}=this.app,i=n.getRoot().path,l=this.join(i,r);n.getAbstractFileByPath(l)==null&&await n.createFolder(l)}async createNewNote(r,n){let{vault:i}=this.app,l=i.getRoot().path,o=this.join(l,r),a=this.join(o,`${n}.md`);try{if(this.app.vault.getAbstractFileByPath(a)instanceof or.TFile){let c=i.getMarkdownFiles();for(let f of c)if(f.path===a){await this.app.workspace.getLeaf("tab").openFile(f);return}throw new Error(`${a} already exists but fail to open`)}o!==""&&(this.log("creating directory path: ",o),await this.createDirectory(o)),this.log("creating file: ",a);let s=await i.create(a,"");await this.app.workspace.getLeaf("tab").openFile(s)}catch(s){new or.Notice(s.toString())}}join(...r){let n=r.map(i=>String(i).trim()).filter(i=>i!=null);return(0,or.normalizePath)(n.join("/"))}async activateView(){this.app.workspace.detachLeavesOfType(D5);let r=this.app.workspace.getLeaf("tab");await r.setViewState({type:D5,active:!0}),await this.app.workspace.revealLeaf(r)}async activeStatView(){this.app.workspace.detachLeavesOfType(Ns);let r=this.app.workspace.getLeaf("tab");await r.setViewState({type:Ns,active:!0}),await this.app.workspace.revealLeaf(r)}};var Uee=Xf;
/*! Bundled license information:

moment/moment.js:
  (*! moment.js *)
  (*! version : 2.29.4 *)
  (*! authors : Tim Wood, Iskren Chernev, Moment.js contributors *)
  (*! license : MIT *)
  (*! momentjs.com *)

web-streams-polyfill/dist/ponyfill.es2018.js:
  (**
   * @license
   * web-streams-polyfill v3.3.3
   * Copyright 2024 Mattias Buelens, Diwank Singh Tomer and other contributors.
   * This code is released under the MIT license.
   * SPDX-License-Identifier: MIT
   *)

fetch-blob/index.js:
  (*! fetch-blob. MIT License. Jimmy Wärting <https://jimmy.warting.se/opensource> *)

formdata-polyfill/esm.min.js:
  (*! formdata-polyfill. MIT License. Jimmy Wärting <https://jimmy.warting.se/opensource> *)

node-domexception/index.js:
  (*! node-domexception. MIT License. Jimmy Wärting <https://jimmy.warting.se/opensource> *)

@langchain/core/dist/utils/fast-json-patch/src/helpers.js:
  (*!
   * https://github.com/Starcounter-Jack/JSON-Patch
   * (c) 2017-2022 Joachim Wester
   * MIT licensed
   *)

@langchain/core/dist/utils/fast-json-patch/src/duplex.js:
  (*!
   * https://github.com/Starcounter-Jack/JSON-Patch
   * (c) 2013-2021 Joachim Wester
   * MIT license
   *)

@langchain/core/dist/utils/js-sha1/hash.js:
  (*
   * [js-sha1]{@link https://github.com/emn178/js-sha1}
   *
   * @version 0.6.0
   * @author Chen, Yi-Cyuan [emn178@gmail.com]
   * @copyright Chen, Yi-Cyuan 2014-2017
   * @license MIT
   *)

vanilla-picker/dist/vanilla-picker.mjs:
  (*!
   * vanilla-picker v2.12.3
   * https://vanilla-picker.js.org
   *
   * Copyright 2017-2024 Andreas Borgen (https://github.com/Sphinxxxx), Adam Brooks (https://github.com/dissimulate)
   * Released under the ISC license.
   *)

@kurkle/color/dist/color.esm.js:
  (*!
   * @kurkle/color v0.3.4
   * https://github.com/kurkle/color#readme
   * (c) 2024 Jukka Kurkela
   * Released under the MIT License
   *)

chart.js/dist/chunks/helpers.segment.js:
  (*!
   * Chart.js v4.4.7
   * https://www.chartjs.org
   * (c) 2024 Chart.js Contributors
   * Released under the MIT License
   *)

chart.js/dist/chart.js:
  (*!
   * Chart.js v4.4.7
   * https://www.chartjs.org
   * (c) 2024 Chart.js Contributors
   * Released under the MIT License
   *)
*/
